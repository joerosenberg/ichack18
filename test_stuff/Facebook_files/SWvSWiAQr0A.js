if (self.CavalryLogger) { CavalryLogger.start_js(["Glf2y"]); }

__d("InstreamAdsBlockListCategoryMaps",[],(function a(b,c,d,e,f,g){f.exports={CategoryTypeToNameMap:{0:"CATEGORY_ARTS",1:"CATEGORY_AUTOS_AND_VEHICLES",2:"CATEGORY_AUTOS",3:"CATEGORY_BOATS",4:"CATEGORY_MOTORCYCLES",5:"CATEGORY_BEAUTY_AND_FASHION",6:"CATEGORY_FASHION",7:"CATEGORY_PERSONAL_CARE",8:"CATEGORY_BOOKS_AND_LITERATURE",9:"CATEGORY_BUSINESS",10:"CATEGORY_SERVICES",11:"CATEGORY_INDUSTRIAL",12:"CATEGORY_SMALL_BUSINESS_DEPRECATED",13:"CATEGORY_COMPUTERS",14:"CATEGORY_DATING",15:"CATEGORY_EDUCATION",16:"CATEGORY_COMPUTERS_AND_ELECTRONICS",17:"CATEGORY_AUDIO_AND_VIDEO_EQUIPMENT",18:"CATEGORY_CAMERA_PHOTO",19:"CATEGORY_GAME_SYSTEMS_DEPRECATED",20:"CATEGORY_PORTABLE_ELECTRONICS",21:"CATEGORY_VIDEO_EQUIPMENT_DEPRECATED",22:"CATEGORY_ARTS_AND_ENTERTAINMENT",23:"CATEGORY_MOVIE",24:"CATEGORY_TELEVISION",25:"CATEGORY_MUSIC",26:"CATEGORY_RADIO",27:"CATEGORY_PERFORMING_ARTS",28:"CATEGORY_EVENT_LISTINGS",29:"CATEGORY_FINANCE",30:"CATEGORY_BANKING",31:"CATEGORY_CREDIT_CARD",32:"CATEGORY_LOANS",33:"CATEGORY_INSURANCE",34:"CATEGORY_INVESTING",35:"CATEGORY_FOOD",36:"CATEGORY_BEVERAGES",37:"CATEGORY_ALCOHOL",38:"CATEGORY_CUISINE",39:"CATEGORY_RESTAURANTS",40:"CATEGORY_GAMBLING",41:"CATEGORY_GAMES",42:"CATEGORY_HEALTH_AND_FITNESS",43:"CATEGORY_DRUGS_AND_SUPPLEMENTS",44:"CATEGORY_REPRODUCTIVE_HEALTH",45:"CATEGORY_FITNESS",46:"CATEGORY_HOBBIES_AND_LEISURE",47:"CATEGORY_SPECIAL_OCCASIONS",48:"CATEGORY_HOME_AND_GARDEN",49:"CATEGORY_INTERNET_TELECOM",50:"CATEGORY_JOBS",51:"CATEGORY_LAW_GOVERNMENT_POLITICS",52:"CATEGORY_NEWS",53:"CATEGORY_PARENTING",54:"CATEGORY_CHILDCARE",55:"CATEGORY_PREGNANCY",56:"CATEGORY_RELIGION_AND_SPIRITUAL",57:"CATEGORY_SOCIAL_ISSUES_AND_ADVOCACY",58:"CATEGORY_PETS_AND_ANIMAL_CARE",59:"CATEGORY_REAL_ESTATE",60:"CATEGORY_SHOPPING",61:"CATEGORY_APPAREL",62:"CATEGORY_JEWELRY_AND_ACCESSORIES",63:"CATEGORY_ACCESSORIES_DEPRECATED",64:"CATEGORY_FOOTWEAR",65:"CATEGORY_ENTERTAINMENT_MEDIA_DEPRECATED",66:"CATEGORY_LUXURY_GOODS_DEPRECATED",67:"CATEGORY_TOYS",68:"CATEGORY_SPORTS",69:"CATEGORY_TRAVEL",70:"CATEGORY_HOTELS",71:"CATEGORY_AIR_TRAVEL",72:"CATEGORY_BUS_RAIL",73:"CATEGORY_CAR_RENTAL_TAXI",74:"CATEGORY_CRUISES",75:"CATEGORY_SPECIALTY_TRAVEL_DEPRECATED",76:"CATEGORY_DESTINATION_SERVICES",77:"CATEGORY_OTHER",78:"CATEGORY_APPLICATIONS_AND_SOFTWARE",79:"CATEGORY_PHONE",80:"CATEGORY_PAYMENT_PROCESSORS",81:"CATEGORY_DIGITAL_GAMES",82:"CATEGORY_NON_DIGITAL_GAMES",83:"CATEGORY_REAL_ESTATE_HOME",84:"CATEGORY_REAL_ESTATE_RENTAL",85:"CATEGORY_GIFT_CARDS_AND_DISCOUNTS",86:"CATEGORY_LAST"},CategoryParentToChildMap:{1:[2,3,4],5:[6,7],9:[10,11],16:[17,18,13,79,20],22:[0,23,24,25,26,27,28],29:[30,31,32,33,34,80],35:[36,37,38,39],42:[43,44,45],53:[54,55],60:[61,62,64,67,85],69:[70,71,72,73,74,76],41:[81,82],59:[83,84],8:[],14:[],15:[],40:[],46:[],47:[],48:[],49:[],50:[],51:[],52:[],56:[],57:[],58:[],68:[],77:[],78:[]},CategoryChildToParentMap:{2:1,3:1,4:1,6:5,7:5,10:9,11:9,17:16,18:16,13:16,79:16,20:16,0:22,23:22,24:22,25:22,26:22,27:22,28:22,30:29,31:29,32:29,33:29,34:29,80:29,36:35,37:35,38:35,39:35,43:42,44:42,45:42,54:53,55:53,61:60,62:60,64:60,67:60,70:69,71:69,72:69,73:69,74:69,76:69,81:41,82:41,83:59,84:59,85:60},NotCategorized:77}}),null);
__d("VideoBroadcastType",[],(function a(b,c,d,e,f,g){f.exports={VALUE_TO_NAME:["REGULAR","AMBIENT"]}}),null);
__d("VideoFeedType",[],(function a(b,c,d,e,f,g){f.exports={NOT_HIGHLIGHTED:{name:"NOT_HIGHLIGHTED",index:0},HIGHLIGHTED:{name:"HIGHLIGHTED",index:1}}}),null);
__d("InstreamAdsBlockListCategory$FbtEnum",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({CATEGORY_ARTS:"Arts",CATEGORY_AUTOS_AND_VEHICLES:"Autos & Vehicles",CATEGORY_AUTOS:"Autos",CATEGORY_BOATS:"Boats",CATEGORY_MOTORCYCLES:"Motorcycles",CATEGORY_BEAUTY_AND_FASHION:"Beauty & Fashion",CATEGORY_FASHION:"Fashion",CATEGORY_PERSONAL_CARE:"Personal Care",CATEGORY_BOOKS_AND_LITERATURE:"Books & Literature",CATEGORY_BUSINESS:"Business",CATEGORY_SERVICES:"Services",CATEGORY_INDUSTRIAL:"Industrial",CATEGORY_SMALL_BUSINESS_DEPRECATED:"Small Business",CATEGORY_COMPUTERS:"Computers",CATEGORY_DATING:"Dating",CATEGORY_EDUCATION:"Education",CATEGORY_COMPUTERS_AND_ELECTRONICS:"Computers & Electronics",CATEGORY_AUDIO_AND_VIDEO_EQUIPMENT:"Audio & Video Equipment",CATEGORY_CAMERA_PHOTO:"Camera Photo",CATEGORY_GAME_SYSTEMS_DEPRECATED:"Game Systems",CATEGORY_PORTABLE_ELECTRONICS:"Portable Electronics",CATEGORY_VIDEO_EQUIPMENT_DEPRECATED:"Video Equipment",CATEGORY_ARTS_AND_ENTERTAINMENT:"Art & Entertainment",CATEGORY_MOVIE:"Movie",CATEGORY_TELEVISION:"Television",CATEGORY_MUSIC:"Music",CATEGORY_RADIO:"Radio",CATEGORY_PERFORMING_ARTS:"Performing Arts",CATEGORY_EVENT_LISTINGS:"Event Listings",CATEGORY_FINANCE:"Finance",CATEGORY_BANKING:"Banking",CATEGORY_CREDIT_CARD:"Credit Card",CATEGORY_LOANS:"Loans",CATEGORY_INSURANCE:"Insurance",CATEGORY_INVESTING:"Investing",CATEGORY_FOOD:"Food",CATEGORY_BEVERAGES:"Beverages",CATEGORY_ALCOHOL:"Alcohol",CATEGORY_CUISINE:"Cuisine",CATEGORY_RESTAURANTS:"Restaurants",CATEGORY_GAMBLING:"Gambling",CATEGORY_GAMES:"Games",CATEGORY_HEALTH_AND_FITNESS:"Health & Fitness",CATEGORY_DRUGS_AND_SUPPLEMENTS:"Drugs & Supplements",CATEGORY_REPRODUCTIVE_HEALTH:"Reproductive Health",CATEGORY_FITNESS:"Fitness",CATEGORY_HOBBIES_AND_LEISURE:"Hobbies & Leisure",CATEGORY_SPECIAL_OCCASIONS:"Special Occasions",CATEGORY_HOME_AND_GARDEN:"Home & Garden",CATEGORY_INTERNET_TELECOM:"Internet Telecom",CATEGORY_JOBS:"Jobs",CATEGORY_LAW_GOVERNMENT_POLITICS:"Law Government Politics",CATEGORY_NEWS:"News",CATEGORY_PARENTING:"Parenting",CATEGORY_CHILDCARE:"Childcare",CATEGORY_PREGNANCY:"Pregnancy",CATEGORY_RELIGION_AND_SPIRITUAL:"Religion & Spiritual",CATEGORY_SOCIAL_ISSUES_AND_ADVOCACY:"Social Issues & Advocacy",CATEGORY_PETS_AND_ANIMAL_CARE:"Pets & Animal Care",CATEGORY_REAL_ESTATE:"Real Estate",CATEGORY_SHOPPING:"Shopping",CATEGORY_APPAREL:"Apparel",CATEGORY_JEWELRY_AND_ACCESSORIES:"Jewelry & Accessories",CATEGORY_ACCESSORIES_DEPRECATED:"Accessories",CATEGORY_FOOTWEAR:"Footwear",CATEGORY_ENTERTAINMENT_MEDIA_DEPRECATED:"Entertainment Media",CATEGORY_LUXURY_GOODS_DEPRECATED:"Luxury Goods",CATEGORY_TOYS:"Toys",CATEGORY_SPORTS:"Sports",CATEGORY_TRAVEL:"Travel",CATEGORY_HOTELS:"Hotels",CATEGORY_AIR_TRAVEL:"Air Travel",CATEGORY_BUS_RAIL:"Bus Rail",CATEGORY_CAR_RENTAL_TAXI:"Car Rental Taxi",CATEGORY_CRUISES:"Cruises",CATEGORY_SPECIALTY_TRAVEL_DEPRECATED:"Specialty Travel",CATEGORY_DESTINATION_SERVICES:"Destination Services",CATEGORY_OTHER:"Not Categorized",CATEGORY_APPLICATIONS_AND_SOFTWARE:"Applications & Software",CATEGORY_PHONE:"Phone",CATEGORY_PAYMENT_PROCESSORS:"Payment Processors",CATEGORY_DIGITAL_GAMES:"Digital Games",CATEGORY_NON_DIGITAL_GAMES:"Non-Digital Games",CATEGORY_REAL_ESTATE_HOME:"Real Estate Home",CATEGORY_REAL_ESTATE_RENTAL:"Real Estate Rental",CATEGORY_GIFT_CARDS_AND_DISCOUNTS:"Gift Cards & Discounts",CATEGORY_LAST:"Last"});f.exports=h}),null);
__d("SponsorTagsOptInActionTypes",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({SHOW:"sponsorTagsOptIn/show",NEXT:"sponsorTagsOptIn/next",ACCEPT:"sponsorTagsOptIn/accept",CANCEL:"sponsorTagsOptIn/cancel",QUERY_STATUS:"sponsorTagsOptIn/query_status",QUERY_OPT_IN:"sponsorTagsOptIn/query_opt_in",HANDLE_STATUS:"sponsorTagsOptIn/handle_status",HANDLE_OPT_IN:"sponsorTagsOptIn/handle_opt_in"});f.exports=h}),null);
__d("SponsorTagsOptInDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationReactDispatcher"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:true})}),null);
__d("SponsorTagsOptInOptions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({QUERY_STATUS:"query_status",OPT_IN:"opt_in",OPT_OUT:"opt_out"})}),null);
__d("XSponsorTagsOptInController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/branded_content/optin/",{profile_id:{type:"Int"},option:{type:"String"}})}),null);
__d("SponsorTagsOptInDataManager",["AsyncRequest","SponsorTagsOptInActionTypes","SponsorTagsOptInDispatcher","SponsorTagsOptInOptions","XSponsorTagsOptInController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={queryStatus:function i(j){var k=c("XSponsorTagsOptInController").getURIBuilder().setString("option",c("SponsorTagsOptInOptions").QUERY_STATUS);if(j)k.setInt("profile_id",j);new(c("AsyncRequest"))().setMethod("POST").setReadOnly(false).setURI(k.getURI()).setHandler(this._handleStatusSuccess).setErrorHandler(this._handleStatusError).send()},_handleStatusSuccess:function i(j){var k=j.getPayload();c("SponsorTagsOptInDispatcher").dispatch({type:c("SponsorTagsOptInActionTypes").HANDLE_STATUS,payload:k})},_handleStatusError:function i(j){},queryOptIn:function i(j){var k=c("XSponsorTagsOptInController").getURIBuilder().setString("option",c("SponsorTagsOptInOptions").OPT_IN);if(j)k.setInt("profile_id",j);new(c("AsyncRequest"))().setMethod("POST").setReadOnly(false).setURI(k.getURI()).setHandler(this._handleOptInSuccess).setErrorHandler(this._handleOptInError).send()},_handleOptInSuccess:function i(j){var k=j.getPayload();c("SponsorTagsOptInDispatcher").dispatch({type:c("SponsorTagsOptInActionTypes").HANDLE_OPT_IN,payload:k})},_handleOptInError:function i(j){}};f.exports=h}),null);
__d("SponsorTagsOptInStepHowItWorks.react",["ix","cx","fbt","Image.react","React","Text.react","XUIButton.react","XUICloseButton.react","XUIDialogBody.react","XUIDialogFooter.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").Component;k=babelHelpers.inherits(n,m);l=k&&k.prototype;n.prototype.render=function(){var o=[{imageSrc:h("134446"),textTitle:j._("Find and tag business partners"),textContent:j._("If your post features another brand or product then search forthe business partner's Page and tag them. A \"Paid\" label will appear on these posts.")},{imageSrc:h("134453"),textTitle:j._("Amplify your posts"),textContent:j._("A notification will be sent the Pages tagged. These partners can then view the post's metrics as well as boost the post.")},{imageSrc:h("134914"),textTitle:j._("Track performance"),textContent:j._("You can both see how much budget is spent and the CPM metrics.")}],p=o.map(function(q,r){return c("React").createElement("div",{className:"_y1a",key:r},c("React").createElement("div",{className:"_y1c"},c("React").createElement(c("Image.react"),{src:q.imageSrc})),c("React").createElement("div",{className:"_y1g"},c("React").createElement(c("Text.react"),{className:"_y1h"},q.textTitle),c("React").createElement(c("Text.react"),{className:"_y1j"},q.textContent)))});return c("React").createElement("div",null,c("React").createElement("div",{className:"_8s2"},c("React").createElement(c("XUICloseButton.react"),{label:j._("Close"),className:"layerCancel _51-t"})),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",{className:"_424x"},c("React").createElement(c("Text.react"),{className:"_y1l"},j._("How it works")),p)),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{use:"confirm",onClick:this.props.onClickNext,label:j._("Continue"),className:"_y1m"})))};function n(){k.apply(this,arguments)}f.exports=n}),null);
__d("SponsorTagsOptInStepIntro.react",["cx","fbt","ix","Image.react","React","Text.react","XUIButton.react","XUICloseButton.react","XUIDialogBody.react","XUIDialogFooter.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("React").Component,n=j("26925");k=babelHelpers.inherits(o,m);l=k&&k.prototype;o.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_8s2"},c("React").createElement(c("XUICloseButton.react"),{label:i._("Close"),className:"layerCancel _51-t"})),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",{className:"_424x"},c("React").createElement(c("Image.react"),{src:n}),c("React").createElement(c("Text.react"),{className:"_424z"},i._("Tagging Business Partners")),c("React").createElement(c("Text.react"),{className:"_4250"},i._("Tell meaningful stories with the businesses you partner with. Tag your business partners when you're posting branded content.")))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{use:"confirm",onClick:this.props.onClickNext,label:i._("How it works"),className:"_4252"})))};function o(){k.apply(this,arguments)}f.exports=o}),null);
__d("SponsorTagsOptInTCContent",["cx","Link.react","React"],(function a(b,c,d,e,f,g,h){var i=c("React").createElement("div",{className:"_47o7"},c("React").createElement("p",null,c("React").createElement("b",null,"Facebook Branded Content Policies")),c("React").createElement("p",null,"Our Branded Content Policies apply to Verified Pages and Verified Profiles (with the blue badge) on Facebook. Branded content may only be posted by Verified Pages and Verified Profiles. Branded content is defined as content originating from a Page or Profile that features third party products, brands, or sponsors that differ from the Profile or Page. When posting permitted branded content integrations, Verified Profiles and Verified Pages must use the Branded Content tool to tag the featured third party product, brand, or sponsor."),c("React").createElement("ol",null,c("React").createElement("li",null,"Don't include pre, mid or post-roll ads in videos."),c("React").createElement("li",null,"Don't include banner ads in videos or images."),c("React").createElement("li",null,"Don't include third party products, brands or sponsors within your Profile or Page's cover photo or profile picture."),c("React").createElement("li",null,"Don't include title cards within a video's first three seconds. Interstitial ad cards outside of a video's first three seconds, such as mid cards or end cards, must not persist for longer than five consecutive seconds and must be tagged appropriately using the Branded Content tool."),c("React").createElement("li",null,"Don't include graphical overlays, logos or watermarks within a video's first three seconds. Graphical overlays, logos or watermarks included outside of a video's first three seconds must be tagged appropriately using the Branded Content tool. Ad elements and logos included in videos by virtue of being recorded during the subject matter's filming, such as stadium signage in sports related content, do not need to be tagged."),c("React").createElement("li",null,"Graphical overlays, logos or watermarks included on image content must be tagged appropriately using the Branded Content tool."),c("React").createElement("li",null,"Promotions, such as sweepstakes or giveaways, must be tagged appropriately using the Branded Content tool and must comply with section III. E. of the"," ",c("React").createElement(c("Link.react"),{href:"https://www.facebook.com/page_guidelines.php",target:"_blank"},"Facebook Pages Terms"),"."),c("React").createElement("li",null,"Third party images or videos promoting brands, products or sponsors that are unassociated with your Profile or Page, such as full-length third party video commercials, must be tagged appropriately using the Branded Content tool."),c("React").createElement("li",null,"Product placement in images or videos must be tagged appropriately using the Branded Content tool."),c("React").createElement("li",null,"Profile and Page posts clearly disclosed as being sponsored or provided by a third party, such as self-disclosure within a post's text, must be tagged appropriately using the Branded Content tool."),c("React").createElement("li",null,"You must comply with all applicable laws and regulations, including by ensuring that you provide all necessary disclosures to people using Facebook, such as any disclosures needed to indicate the commercial nature of content posted by you.")));f.exports=i}),null);
__d("SponsorTagsOptInStepTerms.react",["cx","fbt","React","ScrollableArea.react","SponsorTagsOptInTCContent","Text.react","XUIButton.react","XUICloseButton.react","XUIDialogBody.react","XUIDialogFooter.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("React").Component;j=babelHelpers.inherits(m,l);k=j&&j.prototype;m.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_8s2"},c("React").createElement(c("XUICloseButton.react"),{label:i._("Close"),className:"layerCancel _51-t"})),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",{className:"_5vvo"},c("React").createElement(c("Text.react"),{className:"_y1l"},i._("Business Partner Tags Terms & Conditions")),c("React").createElement(c("ScrollableArea.react"),{maxHeight:280,fade:false},c("SponsorTagsOptInTCContent")))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{use:"default",onClick:this.props.onClickCancel,label:i._("Cancel"),className:"_82v"}),c("React").createElement(c("XUIButton.react"),{use:"confirm",onClick:this.props.onClickAccept,label:i._("Accept"),className:"_82v"})))};function m(){j.apply(this,arguments)}f.exports=m}),null);
__d("SponsorTagsOptInDialog.react",["cx","LayerFadeOnHide","React","SponsorTagsOptInStepHowItWorks.react","SponsorTagsOptInStepIntro.react","SponsorTagsOptInStepTerms.react","XUIDialog.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;l.prototype.render=function(){if(!this.props.isShown)return null;var m=[c("React").createElement(c("SponsorTagsOptInStepIntro.react"),{onClickNext:this.props.onClickNext}),c("React").createElement(c("SponsorTagsOptInStepHowItWorks.react"),{onClickNext:this.props.onClickNext}),c("React").createElement(c("SponsorTagsOptInStepTerms.react"),{onClickAccept:this.props.onClickAccept,onClickCancel:this.props.onClickCancel})],n=m[this.props.step];return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},fixedTopPosition:120,hideOnEscape:false,layerHideOnBlur:false,onToggle:this.$SponsorTagsOptInDialog1.bind(this),shown:true,width:550,className:"_2um5"},n)};l.prototype.$SponsorTagsOptInDialog1=function(m){if(!m)this.props.onClickCancel()};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("SponsorTagsOptInStore",["FluxReduceStore","immutable","SponsorTagsOptInActionTypes","SponsorTagsOptInDataManager","SponsorTagsOptInDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={step:0,profileID:0,isShown:false,isOptedIn:null};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("SponsorTagsOptInActionTypes").NEXT:return o.set("step",o.step+1);case c("SponsorTagsOptInActionTypes").SHOW:return o.set("isShown",true).set("step",0);case c("SponsorTagsOptInActionTypes").CANCEL:return o.set("isShown",false).set("step",0);case c("SponsorTagsOptInActionTypes").ACCEPT:c("SponsorTagsOptInDataManager").queryOptIn(o.profileID);return o.set("isShown",false);case c("SponsorTagsOptInActionTypes").QUERY_STATUS:c("SponsorTagsOptInDataManager").queryStatus(p.profileID);return o.set("profileID",p.profileID);case c("SponsorTagsOptInActionTypes").QUERY_OPT_IN:c("SponsorTagsOptInDataManager").queryOptIn(o.profileID);return o;case c("SponsorTagsOptInActionTypes").HANDLE_STATUS:return o.set("isOptedIn",p.payload.isOptedIn);case c("SponsorTagsOptInActionTypes").HANDLE_OPT_IN:return o.set("isOptedIn",p.payload.isOptedIn);default:return o}};function n(){j.apply(this,arguments)}f.exports=new n(c("SponsorTagsOptInDispatcher"))}),null);
__d("SponsorTagsOptInDialogContainer.react",["FluxContainer","React","SponsorTagsOptInActionTypes","SponsorTagsOptInDialog.react","SponsorTagsOptInDispatcher","SponsorTagsOptInStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.getStores=function(){return[c("SponsorTagsOptInStore")]};k.calculateState=function(){return{isShown:c("SponsorTagsOptInStore").getState().isShown,step:c("SponsorTagsOptInStore").getState().step}};function k(){i.constructor.call(this);this.state={isShown:false,step:0}}k.prototype.render=function(){return c("React").createElement(c("SponsorTagsOptInDialog.react"),babelHelpers["extends"]({},this.state,{onClickNext:this.$SponsorTagsOptInDialogContainer1.bind(this),onClickAccept:this.$SponsorTagsOptInDialogContainer2.bind(this),onClickCancel:this.$SponsorTagsOptInDialogContainer3.bind(this)}))};k.prototype.$SponsorTagsOptInDialogContainer3=function(){c("SponsorTagsOptInDispatcher").dispatch({type:c("SponsorTagsOptInActionTypes").CANCEL})};k.prototype.$SponsorTagsOptInDialogContainer2=function(){c("SponsorTagsOptInDispatcher").dispatch({type:c("SponsorTagsOptInActionTypes").ACCEPT})};k.prototype.$SponsorTagsOptInDialogContainer1=function(){c("SponsorTagsOptInDispatcher").dispatch({type:c("SponsorTagsOptInActionTypes").NEXT})};f.exports=c("FluxContainer").create(k)}),null);
__d("FBDraggableBar.react",["cx","invariant","DOMDimensions","React","ReactDOM","Rect","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(m){__p&&__p();k.constructor.call(this,m);this.$FBDraggableBar6=function(n){if(n)n.init(this)}.bind(this);this.onGrab=function(n,o){this.$FBDraggableBar1=n;this.$FBDraggableBar2=o;var p=c("DOMDimensions").getElementDimensions(this.$FBDraggableBar2),q=p.width,r=p.height;this.setState({elementWidth:q,elementHeight:r});this.onDrag()}.bind(this);this.onDrag=function(){var n=new(c("Rect"))(this.$FBDraggableBar2),o=(n.l+n.r)/2,p=this.$FBDraggableBar7(o);this.setState({toIndex:p})}.bind(this);this.onDrop=function(){var n=this.$FBDraggableBar1;n!==undefined&&n!==null||i(0);var o=this.state.toIndex;o!==undefined&&o!==null||i(0);this.$FBDraggableBar8();this.props.onReorder&&this.props.onReorder(n,o);this.$FBDraggableBar4()}.bind(this);this.onCancelDrag=function(){this.$FBDraggableBar8()}.bind(this);this.state={toIndex:null,elementWidth:null,elementHeight:null}}l.prototype.$FBDraggableBar4=function(){var m=c("ReactDOM").findDOMNode(this);!!m||i(0);var n=m.childNodes,o=[];for(var p=0;p<n.length;p++){var q=n[p];q instanceof Element||i(0);o.push(new(c("Rect"))(q))}this.$FBDraggableBar3=o};l.prototype.$FBDraggableBar5=function(){__p&&__p();var m=c("ReactDOM").findDOMNode(this);m instanceof Element||i(0);var n=m.childNodes,o=0;for(var p=0;p<n.length;p++){var q=n[p];q instanceof Element||i(0);var r=new(c("Rect"))(q);o+=r.r-r.l}m.clientWidth>=o||i(0)};l.prototype.componentDidMount=function(){this.$FBDraggableBar5();this.$FBDraggableBar4()};l.prototype.render=function(){var m=c("React").Children.map(this.props.children,function(q,r){var s={ref:this.$FBDraggableBar6,index:r};return c("React").cloneElement(q,s)}.bind(this)),n=this.state.toIndex;if(n!==null&&n!==undefined){var o=c("React").createElement("div",{className:"_63ax",key:"placeholder",style:{width:this.state.elementWidth,height:this.state.elementHeight}}),p=n<=this.$FBDraggableBar1?n:n+1;m.splice(p,0,o)}return c("React").createElement("span",{className:c("joinClasses")(this.props.className,"_42l3")},m)};l.prototype.$FBDraggableBar7=function(m){for(var n=0;n<this.$FBDraggableBar3.length;n++){var o=this.$FBDraggableBar3[n];if(o.l<=m&&m<o.r)return n}return this.$FBDraggableBar3.length};l.prototype.$FBDraggableBar8=function(){delete this.$FBDraggableBar1;delete this.$FBDraggableBar2;this.setState({elementWidth:null,elementHeight:null,toIndex:null})};f.exports=l}),null);
__d("FBDraggableItem.react",["cx","invariant","Draggable","Event","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","Keys","React","ReactDOM","Rect","getScrollPosition","getViewportDimensions","nullthrows"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=10,m=250;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){__p&&__p();var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={dragging:false},this.$FBDraggableItem6=function(t){if(!t)return;var u=c("ReactDOM").findDOMNode(t);u instanceof Element||i(0);var v=c("ReactDOM").findDOMNode(this);v instanceof Element||i(0);this.$FBDraggableItem3=u;this.$FBDraggableItem4=v}.bind(this),this.init=function(t){this.$FBDraggableItem1=t}.bind(this),this.$FBDraggableItem9=function(){__p&&__p();if(this.state.dragging)return;var t=this.props,u=t.onGrab,v=t.index;if(u)if(v||v===0)u(v);else u();this.$FBDraggableItem5=c("Event").listen(document,"keydown",function(w){if(w.keyCode===c("Keys").ESC){this.$FBDraggableItem12();w.preventDefault()}}.bind(this));this.setState({dragging:true});this.$FBDraggableItem1.onGrab(c("nullthrows")(this.props.index),this.$FBDraggableItem4)}.bind(this),this.$FBDraggableItem10=function(){var t=this.$FBDraggableItem4.parentNode;if(!(t instanceof Element))return;var u=new(c("Rect"))(t),v=c("getViewportDimensions")(),w=c("getScrollPosition")(window),x=Math.max(v.width,l),y=new(c("Rect"))(w.y,Math.min(x,u.r+m),v.height+w.y,Math.max(0,u.l-m));this.$FBDraggableItem2&&this.$FBDraggableItem2.setBoundingBox(y);this.$FBDraggableItem1.onDrag()}.bind(this),this.$FBDraggableItem11=function(){this.$FBDraggableItem13();this.$FBDraggableItem1.onDrop()}.bind(this),p}n.prototype.$FBDraggableItem7=function(){"use strict";var o=c("React").Children.map(this.props.children,function(p){return p});o.length>0&&o.length<=2||i(0);return o};n.prototype.componentDidMount=function(){"use strict";this.$FBDraggableItem7();this.$FBDraggableItem8(true)};n.prototype.componentWillUnmount=function(){"use strict";this.$FBDraggableItem8(false)};n.prototype.render=function(){"use strict";var o=this.$FBDraggableItem7(),p=o.length!=2?null:c("React").createElement(c("FBOverlayElement.react"),{className:"_13uq",horizontal:"right",vertical:"top"},c("React").createElement("div",null,o[1]));return c("React").createElement(c("FBOverlayContainer.react"),{className:"_2rh6"+(this.state.dragging?" _2rjy":"")},c("React").createElement(c("FBOverlayBase.react"),null,o[0]),c("React").createElement(c("FBOverlayElement.react"),{horizontal:"left",ref:this.$FBDraggableItem6,vertical:"fit"},c("React").createElement("div",{className:"_2rjz"})),p)};n.prototype.$FBDraggableItem8=function(o){"use strict";__p&&__p();var p=this.$FBDraggableItem2;if(o&&!p)this.$FBDraggableItem2=new(c("Draggable"))(this.$FBDraggableItem4).setNamespace("FBDraggableItem").setUseAbsolute(true).setGrabHandler(this.$FBDraggableItem9).setDragHandler(this.$FBDraggableItem10).setDropHandler(this.$FBDraggableItem11).addHandle(this.$FBDraggableItem3);else if(!o&&p){if(p.active)this.$FBDraggableItem12();p.destroy();this.$FBDraggableItem2=null}};n.prototype.$FBDraggableItem12=function(){"use strict";this.$FBDraggableItem2&&this.$FBDraggableItem2.killDrag();this.$FBDraggableItem13();this.$FBDraggableItem1.onCancelDrag()};n.prototype.$FBDraggableItem13=function(){"use strict";this.$FBDraggableItem2&&this.$FBDraggableItem2.resetPosition();this.setState({dragging:false});this.$FBDraggableItem5&&this.$FBDraggableItem5.remove();delete this.$FBDraggableItem5};f.exports=n}),null);
__d("VideoComposerDialogUIEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CONFIRMATION_DIALOG_CLOSE:"confirmation_dialog_close",DIALOG_OPENED:"dialog_opened",DIALOG_REQUESTED:"dialog_requested",EXIT_COMPOSER_ATTEMPT:"exit_composer_attempt",EXIT_COMPOSER_CANCEL:"exit_composer_cancel",EXIT_COMPOSER_CONFIRM:"exit_composer_confirm",FILE_REPLACED:"file_replaced",METADATA_LOAD_FAILED:"metadata_load_failed",METADATA_LOAD_SUCCESS:"metadata_load_success",NAVIGATED_FROM_PAGE:"navigated_from_page",POST_BACKDATE_ATTEMPT:"post_backdate_attempt",POST_DRAFT_ATTEMPT:"post_draft_attempt",POST_FAILURE:"post_failure",POST_PUBLISH_ATTEMPT:"post_publish_attempt",POST_SCHEDULE_ATTEMPT:"post_schedule_attempt",POST_SUCCESS:"post_success",RIGHTS_DIALOG_SHOWN:"rights_dialog_shown",RIGHTS_DIALOG_CONFIRM:"rights_dialog_confirm",TAB_SWITCHED:"tab_switched",UPLOAD_FAILURE:"upload_failure",UPLOAD_FINISHED:"upload_finished",USER_PLAYED_VIDEO_PREVIEW:"user_played_video_preview"})}),null);
__d("VideoComposerDialogUITypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:VideoComposerDialogUILoggerConfig",this.$VideoComposerDialogUITypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:VideoComposerDialogUILoggerConfig",this.$VideoComposerDialogUITypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$VideoComposerDialogUITypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$VideoComposerDialogUITypedLogger1)};h.prototype.updateData=function(j){this.$VideoComposerDialogUITypedLogger1=babelHelpers["extends"]({},this.$VideoComposerDialogUITypedLogger1,j);return this};h.prototype.setActorID=function(j){this.$VideoComposerDialogUITypedLogger1.actor_id=j;return this};h.prototype.setComposerDialogVersion=function(j){this.$VideoComposerDialogUITypedLogger1.composer_dialog_version=j;return this};h.prototype.setComposerEntryPoint=function(j){this.$VideoComposerDialogUITypedLogger1.composer_entry_point=j;return this};h.prototype.setCurrentTab=function(j){this.$VideoComposerDialogUITypedLogger1.current_tab=j;return this};h.prototype.setErrorMessage=function(j){this.$VideoComposerDialogUITypedLogger1.error_message=j;return this};h.prototype.setEvent=function(j){this.$VideoComposerDialogUITypedLogger1.event=j;return this};h.prototype.setHasBeenReset=function(j){this.$VideoComposerDialogUITypedLogger1.has_been_reset=j;return this};h.prototype.setNextTab=function(j){this.$VideoComposerDialogUITypedLogger1.next_tab=j;return this};h.prototype.setSessionID=function(j){this.$VideoComposerDialogUITypedLogger1.session_id=j;return this};h.prototype.setVC=function(j){this.$VideoComposerDialogUITypedLogger1.vc=j;return this};var i={actor_id:true,composer_dialog_version:true,composer_entry_point:true,current_tab:true,error_message:true,event:true,has_been_reset:true,next_tab:true,session_id:true,vc:true};f.exports=h}),null);
__d("VideoComposerDialogVersion",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({V1:"V1",V2:"V2"})}),null);
__d("XComposerXVideoUploadDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/composerx/video/dialog/",{target_id:{type:"FBID",required:true},source_id:{type:"String",required:true},entry_point:{type:"Enum",required:true,enumType:1},is_reference_video:{type:"Bool",defaultValue:false}})}),null);
__d("ComposerXVideoUploadDialogController",["ActorURI","Arbiter","AsyncDialog","AsyncRequest","Bootloader","ComposerEntryPointRef","ComposerXVideoUploadDialog.react","DOM","React","ReactDOM","ReactObjectiveFirstPagesComposerGlobalFlags","VideoComposerDialogUIEvent","VideoComposerDialogUITypedLogger","VideoComposerDialogVersion","XComposerXVideoUploadDialogController"],(function a(b,c,d,e,f,g){__p&&__p();var h={};function i(o){return h[o]}function j(o){h[o.getID()]=o}function k(o){delete h[o]}function l(o){return o in h}var m=c("ComposerEntryPointRef").TIMELINE;function n(o,p,q,r,s,t,u,v,w,x){"use strict";__p&&__p();this.$ComposerXVideoUploadDialogController1=o;this.$ComposerXVideoUploadDialogController2=p;this.$ComposerXVideoUploadDialogController3=q;this.$ComposerXVideoUploadDialogController4=r;this.$ComposerXVideoUploadDialogController5=s;this.$ComposerXVideoUploadDialogController6=t;this.$ComposerXVideoUploadDialogController7=u;this.$ComposerXVideoUploadDialogController8=v;this.$ComposerXVideoUploadDialogController9=w;this.$ComposerXVideoUploadDialogController10=x;this.$ComposerXVideoUploadDialogController11=n.$ComposerXVideoUploadDialogController12(this.$ComposerXVideoUploadDialogController1,this.$ComposerXVideoUploadDialogController4,this.$ComposerXVideoUploadDialogController8);this.$ComposerXVideoUploadDialogController13=false;this.$ComposerXVideoUploadDialogController14=c("DOM").create("span");c("DOM").appendContent(document.body,this.$ComposerXVideoUploadDialogController14);this.$ComposerXVideoUploadDialogController15()}n.prototype.getID=function(){"use strict";return this.$ComposerXVideoUploadDialogController11};n.prototype.setFileInput=function(o){"use strict";this.$ComposerXVideoUploadDialogController2=o};n.prototype.getFileInput=function(){"use strict";return this.$ComposerXVideoUploadDialogController2};n.prototype.setDroppedFiles=function(o){"use strict";this.$ComposerXVideoUploadDialogController3=o};n.prototype.getDroppedFiles=function(){"use strict";return this.$ComposerXVideoUploadDialogController3};n.prototype.$ComposerXVideoUploadDialogController16=function(o){"use strict";this.$ComposerXVideoUploadDialogController17=o;if(this.$ComposerXVideoUploadDialogController18)this.show()};n.prototype.$ComposerXVideoUploadDialogController19=function(){"use strict";if(c("ReactObjectiveFirstPagesComposerGlobalFlags").getIsObjectiveFirstPagesComposer())c("Bootloader").loadModules(["PagesPublishingLoggingActions","PagesPublishingFunnelLoggingAdditionalPostTypes"],function(o,p){o.setPostType(p.VIDEO)},"ComposerXVideoUploadDialogController")};n.prototype.$ComposerXVideoUploadDialogController15=function(){"use strict";var o=c("XComposerXVideoUploadDialogController").getURIBuilder().setFBID("target_id",this.$ComposerXVideoUploadDialogController1).setString("source_id",this.$ComposerXVideoUploadDialogController11).setEnum("entry_point",this.$ComposerXVideoUploadDialogController4).setBool("is_reference_video",this.$ComposerXVideoUploadDialogController9).getURI();o=c("ActorURI").create(o,this.$ComposerXVideoUploadDialogController1);c("AsyncDialog").send(new(c("AsyncRequest"))(o).setAbortHandler(function(){this.$ComposerXVideoUploadDialogController2.clear();k(this.$ComposerXVideoUploadDialogController11)}.bind(this)))};n.prototype.$ComposerXVideoUploadDialogController20=function(){"use strict";this.$ComposerXVideoUploadDialogController19();c("ReactDOM").render(c("React").createElement(c("ComposerXVideoUploadDialog.react"),{canShowOptimisticPost:this.$ComposerXVideoUploadDialogController7,composer:this.$ComposerXVideoUploadDialogController17,composerID:this.$ComposerXVideoUploadDialogController11,composerEntryPointRef:this.$ComposerXVideoUploadDialogController4,isProfileVideo:this.$ComposerXVideoUploadDialogController4==="profile_video",isReferenceVideo:this.$ComposerXVideoUploadDialogController9,showDialogCancelButton:this.$ComposerXVideoUploadDialogController5,showProcessingDialog:this.$ComposerXVideoUploadDialogController6,isPageTrailer:this.$ComposerXVideoUploadDialogController4===c("ComposerEntryPointRef").PAGE_TRAILER,onCancel:this.$ComposerXVideoUploadDialogController21.bind(this),onDone:this.$ComposerXVideoUploadDialogController22.bind(this)}),this.$ComposerXVideoUploadDialogController14);this.$ComposerXVideoUploadDialogController13=true};n.prototype.show=function(){"use strict";__p&&__p();if(this.$ComposerXVideoUploadDialogController17){this.$ComposerXVideoUploadDialogController18=false;if(this.$ComposerXVideoUploadDialogController2)c("Arbiter").inform("ComposerXFilesStore/filesAdded/"+this.$ComposerXVideoUploadDialogController11+"/videoupload",{fileInput:this.$ComposerXVideoUploadDialogController2},c("Arbiter").BEHAVIOR_PERSISTENT);else if(this.$ComposerXVideoUploadDialogController3)c("Arbiter").inform("ComposerXFilesStore/filesDropped/"+this.$ComposerXVideoUploadDialogController11+"/videoupload",{files:this.$ComposerXVideoUploadDialogController3},c("Arbiter").BEHAVIOR_PERSISTENT);this.$ComposerXVideoUploadDialogController20()}else this.$ComposerXVideoUploadDialogController18=true};n.prototype.$ComposerXVideoUploadDialogController21=function(){"use strict";c("Arbiter").inform("videoUpload/cancel",{composerID:this.$ComposerXVideoUploadDialogController11});this.hide()};n.prototype.$ComposerXVideoUploadDialogController22=function(o){"use strict";c("Arbiter").inform("videoUpload/"+this.$ComposerXVideoUploadDialogController11+"/done");c("Arbiter").inform("Pages/composeFinished",{composerID:this.$ComposerXVideoUploadDialogController11});this.hide()};n.prototype.hide=function(){"use strict";c("ReactDOM").unmountComponentAtNode(this.$ComposerXVideoUploadDialogController14);this.$ComposerXVideoUploadDialogController13=false};n.getComposerInstance=function(o){"use strict";return i(o)};n.$ComposerXVideoUploadDialogController12=function(o,p,q){"use strict";if(q)return q;else return p+"_"+o};n.clearInstances=function(){"use strict";h={}};n.showDialog=function(o){"use strict";__p&&__p();o.composerEntryPointRef=o.composerEntryPointRef||m;var p=n.$ComposerXVideoUploadDialogController12(o.targetID,o.composerEntryPointRef,o.originalComposerID);if(!o.fileInput&&!o.files)return;if(!l(p))j(new n(o.targetID,o.fileInput||null,o.files||null,o.composerEntryPointRef,o.showDialogCancelButton||false,o.showProcessingDialog||false,o.canShowOptimisticPost||false,o.originalComposerID||"",o.isReferenceVideoUpload||false));else{new(c("VideoComposerDialogUITypedLogger"))().setEvent(c("VideoComposerDialogUIEvent").DIALOG_REQUESTED).setActorID(o.targetID).setComposerDialogVersion(c("VideoComposerDialogVersion").V1).setComposerEntryPoint(o.composerEntryPointRef).log();if(o.fileInput)i(p).setFileInput(o.fileInput);else if(o.files)i(p).setDroppedFiles(o.files)}i(p).show()};n.setVideoComposer=function(o,p){"use strict";if(h[o])h[o].$ComposerXVideoUploadDialogController16(p)};f.exports=n}),null);
__d("ExpirationType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NONE:0,DELETE:1,HIDE:2,ONLY_ME:3})}),null);
__d("VideoScheduleAnnouncementPostSection.react",["cx","fbt","React","XUICheckboxInput.react","Image.react","InputLabel.react","Layout.react","EditorState","MentionsInputUtility","getMentionsInputDecorator","getMentionsTextForContentState","VideoEditMentionsTextArea.react","WebAsyncSearchSource"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("Layout.react").Column,m=c("Layout.react").FillColumn;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(o){k.constructor.call(this,o);this.onMessageChange=function(p){var q=c("getMentionsTextForContentState")(p.getCurrentContent());this.setState({messageEditorState:p});this.props.onChange(this.state.announcementToggle,q)}.bind(this);this.state={announcementToggle:true,messageEditorState:this.$VideoScheduleAnnouncementPostSection1(o.message)}}n.prototype.$VideoScheduleAnnouncementPostSection1=function(o){if(o)return c("MentionsInputUtility").createFromTextWithMentions(o,c("getMentionsInputDecorator")());return c("EditorState").createEmpty(c("getMentionsInputDecorator")())};n.prototype.render=function(){var o=c("React").createElement(c("XUICheckboxInput.react"),{checked:this.state.announcementToggle,onChange:function(){this.props.onChange(!this.state.announcementToggle);this.setState({announcementToggle:!this.state.announcementToggle})}.bind(this)});return c("React").createElement("div",{className:"_3-8-"},c("React").createElement(c("InputLabel.react"),{label:i._("Announcement post")},o),this.$VideoScheduleAnnouncementPostSection2())};n.prototype.$VideoScheduleAnnouncementPostSection2=function(){if(!this.state.announcementToggle)return null;return c("React").createElement("div",{className:"_3-8x _t0j"},c("React").createElement(c("Layout.react"),{className:"_2rgz"},c("React").createElement(l,{className:"_2rg-"},c("React").createElement(c("Image.react"),{src:this.props.profilePic})),c("React").createElement(m,null,c("React").createElement(c("VideoEditMentionsTextArea.react"),{className:"_2rg_",placeholder:i._("Say something about this upcoming video..."),searchSource:this.props.mentionsSource,editorState:this.state.messageEditorState,onChange:this.onMessageChange,textWithMentions:this.props.message}))))};f.exports=n}),null);
__d("PostScheduleAndPostEndDialog.react",["ix","cx","fbt","DatePickerRestraints","ExpirationType","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","React","ReactLayeredComponentMixin_DEPRECATED","XUIAmbientNUX.react","XUICheckboxInput.react","XUIDateTimePicker.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIGrayText.react","XUINotice.react","XUIText.react","InputLabel.react","Image.react","Layout.react","VideoScheduleAnnouncementPostSection.react","VideoScheduleAnnouncementPostPreview.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k=c("Layout.react").Column,l=c("Layout.react").FillColumn,m=c("React").PropTypes,n=60*1e3,o=60*n,p=24*60*60*1e3,q=30,r=6*q*p,s=11,t=450,u=857,v=325,w=c("React").createClass({displayName:"PostScheduleAndPostEndDialog",mixins:[c("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{initialPublishDate:m.instanceOf(Date),initialPostEndDate:m.instanceOf(Date),isReschedule:m.bool,timezoneStr:m.string.isRequired,onSubmit:m.func.isRequired,defaultScheduledTimeDelta:m.number,showPostEndDate:m.bool,showExpire:m.bool,showExpireNux:m.bool,onNuxAcked:m.func,submitLabel:m.string,canCreateAnnouncementPost:m.bool,announcementPostConfig:m.object,composerID:m.string},getDefaultProps:function x(){return{defaultScheduledTimeDelta:s*n}},getInitialState:function x(){return{shown:false,publishDate:this.props.initialPublishDate?this.props.initialPublishDate:new Date(Date.now()+this.props.defaultScheduledTimeDelta),postEndDate:this.props.initialPostEndDate?this.props.initialPostEndDate:new Date(Date.now()+o),scheduleToggle:true,postEndToggle:false,expireDate:new Date(Date.now()+o),expireToggle:false,expirationType:c("ExpirationType").HIDE,showNux:false,announcementToggle:this.props.canCreateAnnouncementPost,announcementTitle:this.props.announcementPostConfig?this.props.announcementPostConfig.defaultMessage:""}},show:function x(){var y=this.getInitialState();y.showNux=this.props.showExpireNux;y.shown=true;this.setState(y)},_onNuxClose:function x(){this.setState({showNux:false});this.props.onNuxAcked&&this.props.onNuxAcked()},renderLayers:function x(){var y=this.props.isReschedule?j._("Reschedule Post"):j._("Schedule Post"),z=this.props.submitLabel?this.props.submitLabel:this.state.scheduleToggle?this.props.isReschedule?j._("Reschedule"):j._("Schedule"):j._("Publish"),A=null;if(this.state.showNux&&this.refs.expirationToggle)A=c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:this._getContextRef,onCloseButtonClick:this._onNuxClose,position:"left",shown:true},j._("You can now choose when your post will be unpublished."));var B=this._renderInvalidTimeNotice();return c("React").createElement("div",null,c("React").createElement(c("XUIDialog.react"),{shown:this.state.shown,width:this.props.canCreateAnnouncementPost?u:t,fixedTopPosition:v,className:"_yjl"},c("React").createElement(c("XUIDialogTitle.react"),null,y),c("React").createElement(c("XUIDialogBody.react"),{className:"_hg8"},this._renderBody(B)),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogCancelButton.react"),{className:"_3-90"}),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",label:z,onClick:this._onSubmitClick,disabled:B!==null,use:"confirm"}))),A)},_renderBody:function x(y){if(this.props.canCreateAnnouncementPost)return c("React").createElement(c("Layout.react"),null,c("React").createElement(k,null,this._renderScheduledForm(y)),c("React").createElement(l,null,this._renderAnnouncementPostPreview()));return this._renderScheduledForm(y)},_renderAnnouncementPostPreview:function x(){return c("React").createElement("div",{className:"_yjn"},c("React").createElement("div",null,c("React").createElement(c("Image.react"),{src:h("126073")}),c("React").createElement(c("XUIGrayText.react"),{size:"meta1",weight:"bold",className:"_yko"},j._("Announcement preview"))),c("React").createElement(c("VideoScheduleAnnouncementPostPreview.react"),{config:this.props.announcementPostConfig||{},showPreview:this.state.announcementToggle,title:this.state.announcementTitle,scheduledTime:this.state.publishDate.getTime(),composerID:this.props.composerID}))},_renderScheduledForm:function x(y){var z=c("React").createElement(c("XUICheckboxInput.react"),{ref:"postEndToggle",checked:this.state.postEndToggle,onChange:function(){return this.setState({postEndToggle:!this.state.postEndToggle})}.bind(this)});return c("React").createElement("div",{className:"_ykp"},c("React").createElement("div",{className:"_t0h"},c("React").createElement(c("XUIText.react"),{size:"header4",weight:"bold"},j._("Publishing schedule"))),c("React").createElement(c("InputLabel.react"),{label:j._("Publication")},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.state.scheduleToggle,onChange:function(){return this.setState({scheduleToggle:!this.state.scheduleToggle})}.bind(this)})),c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",display:"block",className:"_t0j"},j._("Select a date and time in the future for when you want your post to be published.")),this._renderSchedule(),this._renderAnnouncementPostSection(),this._renderExpireSection(),c("React").createElement("div",{className:"_t0k"},c("React").createElement(c("XUIText.react"),{size:"header4",weight:"bold"},j._("Distribution schedule"))),c("React").createElement(c("InputLabel.react"),{label:j._("Stop News Feed Distribution")},z),c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",display:"block",className:"_t0j"},j._("Select a date and time in the future for when you want your post to stop being shown in News Feed. The post will still be visible, but News Feed distribution will end.")),this._renderPostEndDate(),y)},_isPublishTimeValid:function x(){if(!this.state.scheduleToggle)return true;var y=this.state.publishDate.getTime(),z=Date.now()+10*n,A=Date.now()+r;return y>z&&y<A},_isPostEndOrExpireTimeValid:function x(y){var z=this.state.publishDate.getTime(),A=Date.now()+10*n,B=Date.now()+r;if(this.state.scheduleToggle)A=z+10*n;return y>=A&&y<=B},_renderSchedule:function x(){if(!this.state.scheduleToggle)return null;return c("React").createElement("div",null,c("React").createElement(c("XUIDateTimePicker.react"),{allowEmpty:false,dateRestraints:[c("DatePickerRestraints").enforceDateIsNoEarlierThan(new Date(Date.now()-p)),c("DatePickerRestraints").enforceDateIsNoLaterThan(new Date(Date.now()+r))],className:"_3-8x _t0j",date:this.state.publishDate,onChange:function(y){return this.setState({publishDate:y})}.bind(this),timezone:this.props.timezoneStr}))},_renderAnnouncementPostSection:function x(){if(!this.props.canCreateAnnouncementPost||!this.state.scheduleToggle)return null;var y=this.props.announcementPostConfig||{};return c("React").createElement(c("VideoScheduleAnnouncementPostSection.react"),{message:this.state.announcementTitle,mentionsSource:y.mentionsSource,profilePic:y.profilePic,onChange:this._onAnnouncementChange})},_onAnnouncementChange:function x(y,z){if(z!==undefined)this.setState({announcementTitle:z,announcementToggle:y});else this.setState({announcementToggle:y})},_renderExpireSection:function x(){if(!this.props.showExpire)return null;var y=c("React").createElement(c("XUICheckboxInput.react"),{ref:"expirationToggle",checked:this.state.expireToggle,onChange:function(){return this.setState({expireToggle:!this.state.expireToggle,showNux:false})}.bind(this)});return c("React").createElement("div",{className:"_3-8-"},c("React").createElement(c("InputLabel.react"),{label:j._("Expiry")},y),c("React").createElement("div",null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",display:"block",className:"_t0j"},j._("When a post expires, it will no longer be visible to the public. Page admins can still view unpublished posts and their Insights."))),this._renderExpire())},_renderExpire:function x(){if(!this.state.expireToggle)return null;return c("React").createElement("div",{className:"_3-8x _t0j"},c("React").createElement(c("XUIDateTimePicker.react"),{allowEmpty:false,dateRestraints:[c("DatePickerRestraints").enforceDateIsNoEarlierThan(new Date(Date.now()-p)),c("DatePickerRestraints").enforceDateIsNoLaterThan(new Date(Date.now()+r))],date:this.state.expireDate,onChange:function(y){return this.setState({expireDate:y})}.bind(this),timezone:this.props.timezoneStr}),c("React").createElement(c("InputLabel_DEPRECATED.react"),{className:"_3-8x"},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.state.expirationType===c("ExpirationType").DELETE,onChange:this._handleExpirationTypeChanged}),c("React").createElement(c("InputLabelLabel_DEPRECATED.react"),null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",weight:"normal"},j._("Delete the post. Permanently remove the post and its insights at the scheduled time.")))))},_renderPostEndDate:function x(){if(!this.state.postEndToggle)return null;return c("React").createElement("div",{className:"_3-8x _t0j"},c("React").createElement(c("XUIDateTimePicker.react"),{allowEmpty:false,dateRestraints:[c("DatePickerRestraints").enforceDateIsNoEarlierThan(new Date(Date.now()-p)),c("DatePickerRestraints").enforceDateIsNoLaterThan(new Date(Date.now()+r))],date:this.state.postEndDate,onChange:function(y){return this.setState({postEndDate:y})}.bind(this),timezone:this.props.timezoneStr}))},_renderInvalidTimeNotice:function x(){__p&&__p();var y=this._isPublishTimeValid(),z=!this.state.postEndToggle||this._isPostEndOrExpireTimeValid(this.state.postEndDate.getTime()),A=!this.state.expireToggle||this._isPostEndOrExpireTimeValid(this.state.expireDate.getTime()),B=y&&z&&A;if(B)return null;var C=null;if(!y)C=j._("Scheduled posts need to be shared between 10 minutes and 6 months from when you create them.");else if(!z&&this.state.scheduleToggle)C=j._("News Feed distribution can only end between 10 minutes from when a post is published and 6 months from now.");else if(!z)C=j._("News Feed distribution can only end between 10 minutes and 6 months from when you create a post.");else if(!A&&this.state.scheduleToggle)C=j._("Posts need to expire between 10 minutes from when they are published and 6 months from now.");else if(!A)C=j._("Posts need to expire between 10 minutes and 6 months from when you create them.");return c("React").createElement(c("XUINotice.react"),{use:"warn",className:"_3-8y"},C)},render:function x(){return c("React").createElement("div",null)},_handleExpirationTypeChanged:function x(event){var y=event.target.checked?c("ExpirationType").DELETE:c("ExpirationType").HIDE;this.setState({expirationType:y})},_onSubmitClick:function x(){__p&&__p();var y=null,z=null,A=null,B=null,C=null;if(this.state.scheduleToggle){y=this.state.publishDate;if(this.props.canCreateAnnouncementPost&&this.state.announcementToggle)C=this.state.announcementTitle}if(this.state.postEndToggle)z=this.state.postEndDate;if(this.state.expireToggle){A=this.state.expireDate;B=this.state.expirationType}this.props.onSubmit(y,z,A,B,C);this.setState({shown:false})},_getContextRef:function x(){return this.refs.expirationToggle}});f.exports=w}),null);
__d("ModernScheduledVideoAnnouncementSubscribeMutation.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"input",type:"ScheduledVideoAnnouncementSubscribeData!",defaultValue:null}],j=[{kind:"LinkedField",alias:null,name:"scheduled_video_announcement_subscribe",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"ScheduledVideoAnnouncementSubscribeData!"}],concreteType:"ScheduledVideoAnnouncementSubscribeResponsePayload",plural:false,selections:[{kind:"ScalarField",alias:null,name:"subscribed",args:null,storageKey:null}]}];return{kind:"Request",operationKind:"mutation",name:"ModernScheduledVideoAnnouncementSubscribeMutation",id:"1625878820778072",text:null,metadata:{},fragment:{kind:"Fragment",name:"ModernScheduledVideoAnnouncementSubscribeMutation",type:"Mutation",metadata:null,argumentDefinitions:i,selections:j},operation:{kind:"Operation",name:"ModernScheduledVideoAnnouncementSubscribeMutation",argumentDefinitions:i,selections:j}}}();f.exports=h}),null);
__d("ModernScheduledVideoAnnouncementSubscribeMutation",["RelayModern","ModernScheduledVideoAnnouncementSubscribeMutation.graphql"],(function a(b,c,d,e,f,g){"use strict";var h=c("RelayModern").commitMutation,i=c("RelayModern").graphql,j=function j(){return c("ModernScheduledVideoAnnouncementSubscribeMutation.graphql")};function k(l,m,n){return h(l,{mutation:j,variables:{input:{actor_id:m.actorID,video_announcement_id:m.announcementID,subscribe:m.subscribe}},onCompleted:n&&n.onCompleted,onError:n&&n.onError})}f.exports={commit:k}}),null);
__d("ScheduledVideoAnnouncementAttachment.react",["ix","cx","fbt","CssBackgroundImage.react","Image.react","React","ModernScheduledVideoAnnouncementSubscribeMutation","VideoLink.react","RelayFBEnvironment","XUIButton.react","CurrentUser","fbglyph","formatDate","idx"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n){"use strict";__p&&__p();l.constructor.call(this,n);this.$ScheduledVideoAnnouncementAttachment1=function(){var o=this.props.announcementID;if(!o)return;c("ModernScheduledVideoAnnouncementSubscribeMutation").commit(c("RelayFBEnvironment"),{actorID:c("CurrentUser").getAccountID(),announcementID:o,subscribe:!this.state.isSubscribed},{onCompleted:function(p){var q,r=((q=p)!=null?(q=q.scheduled_video_announcement_subscribe)!=null?q.subscribed:q:q)||false;this.setState({buttonDisabled:false,isSubscribed:r})}.bind(this)})}.bind(this);this.$ScheduledVideoAnnouncementAttachment2=function(){if(this.props.videoLinkData)return;this.setState({buttonDisabled:true},this.$ScheduledVideoAnnouncementAttachment1)}.bind(this);this.state={buttonDisabled:false,isSubscribed:n.isSubscribed}}m.prototype.$ScheduledVideoAnnouncementAttachment3=function(){"use strict";__p&&__p();var n=Boolean(this.props.videoLinkData),o=this.state.isSubscribed,p=null,q=null;if(n)p=j._("Watch Now");else if(o){p=j._("Reminder Set");q=c("React").createElement(c("Image.react"),{src:h("114568")})}else p=j._("Remind Me");var r=c("React").createElement(c("XUIButton.react"),{className:"_23za"+(o?" _23zc":"")+(n?" _23zd":""),disabled:this.state.buttonDisabled,image:q,label:p,onClick:this.$ScheduledVideoAnnouncementAttachment2});if(n)return c("React").createElement(c("VideoLink.react"),this.props.videoLinkData,r);else return r};m.prototype.$ScheduledVideoAnnouncementAttachment4=function(){"use strict";if(this.props.videoLinkData)return j._("Now released");return c("formatDate")(this.props.scheduledTime,"g:ia M j")};m.prototype.$ScheduledVideoAnnouncementAttachment5=function(){"use strict";return c("React").createElement("div",null,c("React").createElement("div",{className:"_23zh"},c("React").createElement(c("Image.react"),{className:"_23zj",src:this.props.showmarkURI}),c("React").createElement("div",{className:"_23zk"},this.$ScheduledVideoAnnouncementAttachment4()),c("React").createElement("div",{className:"_23zl"},this.props.title)),c("React").createElement("div",{className:"_23zm"},this.$ScheduledVideoAnnouncementAttachment3()))};m.prototype.render=function(){"use strict";return c("React").createElement(c("CssBackgroundImage.react"),{className:"_23zn"+(this.props.isPreview?" _3q2v":""),imageURI:this.props.backgroundImageURI},c("React").createElement("div",{className:"_23zo"},c("React").createElement("div",{className:"_23zp"},this.$ScheduledVideoAnnouncementAttachment5())))};f.exports=m}),null);
__d("VideoScheduleAnnouncementPostPreview.react",["cx","fbt","React","XUIText.react","XUIGrayText.react","StoryProfile.react","ComposerVideoUploadStore","ScheduledVideoAnnouncementAttachment.react","CenteredContainer.react","PrivacyConst"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){if(!this.props.showPreview)return c("React").createElement(c("CenteredContainer.react"),{className:"_3xz4",fullHeight:true,vertical:true},c("React").createElement(c("XUIGrayText.react"),{size:"meta1"},i._("Select Announcement post in order to see a preview")));var m=this.props.config,n=m.profilePic,o=m.profileURL,p=m.profileName,q=this.props.composerID,r=c("ComposerVideoUploadStore").getTitle(q),s=c("ComposerVideoUploadStore").getThumbnail(q);return c("React").createElement("div",{className:"_3xz5"},c("React").createElement(c("StoryProfile.react"),{profilePicture:n,profileURL:o,username:p,uploadTime:i._("Just now"),description:i._("scheduled a new video"),privacySetting:c("PrivacyConst").BaseValue.EVERYONE}),c("React").createElement(c("XUIText.react"),{className:"_3-8o",display:"block"},this.props.title),c("React").createElement(c("ScheduledVideoAnnouncementAttachment.react"),{isSubscribed:false,scheduledTime:this.props.scheduledTime/1e3,title:r,backgroundImageURI:s.getURL(),isPreview:true}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogTab",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BASIC:"basic",DISTRIBUTION:"distribution",CAPTIONS:"captions",AD_BREAKS:"ad_breaks",RIGHTS:"rights",TRACKING:"tracking",THUMBNAILS:"thumbnails",SPHERICAL_DIRECTOR:"spherical_director",OLD_ADBREAKS:"old_ad-breaks-tab",OLD_ATTRIBUTIONS:"old_attributions-tab",OLD_BASIC:"old_basic-tab",OLD_DESTINATION:"old_destination-tab",OLD_ADVANCED:"old_advanced-tab",OLD_CAPTIONS:"old_captions-tab",OLD_SPHERICAL:"old_spherical-controls-tab",OLD_PERMISSIONS:"old_permissions-tab",OLD_RIGHTS:"old_rights-tab",OLD_WHITELIST:"old_whitelist-tab",OLD_SUMMARY:"old_summary-tab"})}),null);
__d("VideoComposerDialogBodySection.react",["cx","React","VideoComposerDialogTab","VideoComposerDialogTabs"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=c("VideoComposerDialogTabs").get(this.props.selectedTab).bodyContainer;return c("React").createElement("div",{className:"_65jy"+(this.props.selectedTab!==c("VideoComposerDialogTab").SPHERICAL_DIRECTOR?" _158t":"")},c("React").createElement("div",{className:"_3_7b"+(this.props.selectedTab===c("VideoComposerDialogTab").SPHERICAL_DIRECTOR?" _1ktk":"")+(this.props.selectedTab===c("VideoComposerDialogTab").BASIC||this.props.selectedTab===c("VideoComposerDialogTab").SPHERICAL_DIRECTOR?" _65ub":"")+(this.props.selectedTab===c("VideoComposerDialogTab").SPHERICAL_DIRECTOR?" _nqq":"")+(this.props.selectedTab===c("VideoComposerDialogTab").BASIC||this.props.selectedTab===c("VideoComposerDialogTab").SPHERICAL_DIRECTOR?" _1ktm":"")},c("React").createElement(l,null)))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({BACKDATE_CONFIRM:"",BOOTLOAD_PARAMETERS:"",CLOSE_CONFIRM_DIALOG:"",EDIT_TABS_LOADED:"",EXIT_DIALOG:"",EXIT_DIALOG_ATTEMPT:"",FILE_ADDED:"",INITIALIZE_COMPOSER:"",INITIALIZE_CROSSPOST_COMPOSER:"",INITIALIZE_EDIT_COMPOSER:"",INIT_VIDEO_UPLOADER:"",LOAD_VIDEO_DATA_FOR_ID:"",NAVIGATED_FROM_PAGE:"",METADATA_LOADED_FROM_HTML_PLAYER:"",METADATA_LOADED_FROM_VIDEO_UPLOADER:"",POST_FAILED:"",POST_FINISHED:"",PUBLISH_POST:"",RESET_COMPOSER:"",SELECT_TAB:"",UPDATE_TITLE:"",UPLOAD_FAILED:"",UPLOAD_FINISHED:"",UPLOAD_PROGRESSED:"",VIDEO_TYPE_CHANGED:"",CLOSE_PUBLISH_CONFIRM_DIALOG:"",SAVE_EDITED_VIDEO:"",SAVE_EDITED_VIDEO_FAILURE:"",SAVE_EDITED_VIDEO_SUCCESS:"",SCHEDULE_CONFIRM:"",SAVE_AS_DRAFT_ATTEMPT:"",SAVE_AS_DRAFT_ABORT:"",SAVE_AS_DRAFT_CONFIRM:"",CANCEL_UPLOAD:"",CONFIRM_RIGHTS:"",BOOTLOAD_DEFAULT_TAB_PARAMETERS:"",BOOTLOAD_CROSSPOST_DEFAULT_TAB:"",BOOTLOAD_DEFAULT_EDIT_PARAMS:"",BOOTLOAD_CROSSPOST_THUMBNAILS:"",UPDATE_CONTENT_TAGS:"",UPDATE_DESCRIPTION_EDITOR_STATE:"",UPDATE_VIDEO_PREVIEW_CONTROLLER:"",USER_PLAYED_VIDEO_PREVIEW:"",AGREE_VIDEO_RIGHTS:"",BOOTLOAD_AD_BREAK_PARAMETERS:"",DELETE_AD_BREAK:"",FETCH_AD_BREAK_EDIT_PARAMETERS:"",INSERT_AD_BREAK:"",SET_CURRENT_AD_BREAK:"",SET_CURRENT_PREVIEW_INDEX:"",SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED:"",SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED:"",SET_IS_BRANDED_CONTENT_VIDEO:"",START_PAGE_ONBOARDING:"",UPDATE_AD_BREAK_STATUS:"",UPDATE_HOLDOUT_TEST_STATUS:"",UPDATE_THUMBNAIL_URL:"",UPDATE_VPC:"",ADD_CAPTION_ENTRY:"",REMOVE_CAPTION_ENTRY:"",EDIT_CAPTION_ENTRY:"",SET_PREVIEW_ENTRY:"",SET_EDITOR_LANGUAGE:"",SET_EDITOR_LOCALE:"",SET_DEFAULT_CAPTION_LOCALE:"",SET_CAPTIONS:"",SET_NEXT_ENTRY:"",PLAY_PREVIEW_ENTRY:"",CONFIRM_CLOSE_DIALOG:"",CANCEL_CLOSE_DIALOG:"",SHOW_EXIT_DIALOG:"",START_SAVE_CAPTION_CHANGESET:"",FINISH_SAVE_CAPTION_CHANGESET:"",INITIALIZE_EDITOR_LANGUAGE:"",RESET_CAPTION_EDITOR:"",RESET_PLAYER:"",SET_CURRENT_PLAY_POSITION:"",SET_VPC:"",SET_DURATION:"",SET_PLAYER_STATE:"",SHOW_CAPTION_EDITOR:"",HIDE_CAPTION_EDITOR:"",INITIALIZE_CAPTION_LANDING_SCREEN:"",GENERATE:"",CANCEL_GENERATE:"",CREATE:"",EDIT_CAPTIONS_DRAFT:"",DELETE_CAPTIONS_DRAFT:"",START_SRT_UPLOAD:"",FINISH_SRT_UPLOAD:"",GENERATE_COMPLETE:"",CREATE_COMPLETE:"",SELECT_SPOKEN_LANGUAGE:"",SELECT_SPOKEN_LOCALE:"",FINISHED_FETCH_DRAFTS:"",GENERATE_PROGRESS_UPDATE:"",UPDATE_CAPTION_FILES:"",UPDATE_ERROR_STATE:"",SET_AUTO_GENERATED_CAPTIONS:"",RESET_CAPTIONS_LANDING_TAB:"",RETRY_AUTO_GENERATION:"",RESUME_AUTO_GENERATION:"",RESET_AUTO_GENERATING_LOCALE:"",TRY_RESUME_AUTO_GENERATION:"",INITIALIZE_ALL_CAPTION_FILES:"",BOOTLOAD_PARAMETERS_CAPTIONS_TAB:"",CHANGE_PUBLISHED_STATE:"",PENDING_TO_PUBLISHED:"",CAPTION_LANDING_SCREEN_OPEN_EVENT:"",OLD_COMPOSER_CAPTION_TAB_OPEN_EVENT:"",RESET_OPEN_LANDING_SCREEN_STATE:"",BOOTLOAD_DISTRIBUTION_TAB:"",TOGGLE_NEWS_FEED:"",TOGGLE_EMBEDDING:"",TOGGLE_SECRET_VIDEO:"",CROSSPOST_PAGES_FETCHED:"",TOGGLE_CROSSPOST_PAGE:"",TOGGLE_GRAPHIC_WARNING:"",TOGGLE_BLOCK_SOCIAL:"",CROSSPOST_LINK_CLICKED:"",REFRESH_CROSSPOST_PAGES:"",BOOTLOAD_RIGHTS_PARAMETERS:"",UPDATE_ATTRIBUTION:"",UPDATE_CATEGORY:"",UPDATE_CATEGORY_REQUIRED_ERROR:"",UPDATE_FB_WHITELISTED_USERS:"",UPDATE_IG_WHITELISTED_USERS:"",UPDATE_MONITORING_TYPE:"",UPDATE_OWNERSHIP_COUNTRIES:"",UPDATE_SHOULD_DETECT_MATCHES:"",UPDATE_MATCH_RULE:"",BOOTLOAD_SPHERICAL_CONTEXT_CONFIG:"",BOOTLOAD_SPHERICAL_DIRECTOR_EDIT_PARAMETERS:"",BOOTLOAD_SPHERICAL_DIRECTOR_UPLOAD_PARAMETERS:"",PARSE_SPHERICAL_METADATA:"",TOGGLE_SPHERICAL:"",GENERATED_THUMBNAILS:"",SELECT_SECTION:"",TOGGLE_SELECTED_GENERATED_THUMBNAIL:"",UPDATE_CUSTOM_THUMBNAIL:"",UPDATE_SCRUBBED_THUMBNAIL:"",UPDATE_SELECTED_THUMBNAIL:"",UPDATE_CUSTOM_LABELS:"",UPDATE_UNIVERSAL_ID:""});f.exports=h}),null);
__d("VideoComposerDialogDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("ExplicitRegistrationReactDispatcher"))({strict:true})}),null);
__d("VideoComposerDialogActions",["VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","VideoUploadProgressBar"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(Q,R,S,T){var U={type:c("VideoComposerDialogActionTypes").BACKDATE_CONFIRM,year:Q,month:R,day:S,hideFromNewsFeed:T};c("VideoComposerDialogDispatcher").dispatch(U)},i=function i(Q){var R={type:c("VideoComposerDialogActionTypes").BOOTLOAD_PARAMETERS,data:Q};c("VideoComposerDialogDispatcher").dispatch(R)},j=function j(){var Q={type:c("VideoComposerDialogActionTypes").CLOSE_CONFIRM_DIALOG};c("VideoComposerDialogDispatcher").dispatch(Q)},k=function k(){var Q={type:c("VideoComposerDialogActionTypes").CLOSE_PUBLISH_CONFIRM_DIALOG};c("VideoComposerDialogDispatcher").dispatch(Q)},l=function l(){var Q={type:c("VideoComposerDialogActionTypes").EDIT_TABS_LOADED};c("VideoComposerDialogDispatcher").dispatch(Q)},m=function m(){var Q={type:c("VideoComposerDialogActionTypes").EXIT_DIALOG};c("VideoComposerDialogDispatcher").dispatch(Q)},n=function n(){var Q={type:c("VideoComposerDialogActionTypes").EXIT_DIALOG_ATTEMPT};c("VideoComposerDialogDispatcher").dispatch(Q)},o=function o(Q,R){var S={type:c("VideoComposerDialogActionTypes").FILE_ADDED,file:Q,fileInput:R};c("VideoComposerDialogDispatcher").dispatch(S)},p=function p(Q){var R={type:c("VideoComposerDialogActionTypes").METADATA_LOADED_FROM_HTML_PLAYER,videoPlayer:Q};c("VideoComposerDialogDispatcher").dispatch(R)},q=function q(Q){var R={type:c("VideoComposerDialogActionTypes").METADATA_LOADED_FROM_VIDEO_UPLOADER,data:Q};c("VideoComposerDialogDispatcher").dispatch(R)},r=function r(Q,R,S,T,U,V,W){var X={type:c("VideoComposerDialogActionTypes").INITIALIZE_COMPOSER,actorID:Q,targetID:R,oneClickPublish:S,composerEntryPointRef:T,composerID:U,fileInput:V,file:W};c("VideoComposerDialogDispatcher").dispatch(X)},s=function s(Q){var R={type:c("VideoComposerDialogActionTypes").INITIALIZE_EDIT_COMPOSER,editParams:Q};c("VideoComposerDialogDispatcher").dispatch(R)},t=function t(Q){var R={type:c("VideoComposerDialogActionTypes").INITIALIZE_CROSSPOST_COMPOSER,params:Q};c("VideoComposerDialogDispatcher").dispatch(R)},u=function u(Q){var R={type:c("VideoComposerDialogActionTypes").INIT_VIDEO_UPLOADER,videoUploader:Q};c("VideoComposerDialogDispatcher").dispatch(R)},v=function v(Q){var R={type:c("VideoComposerDialogActionTypes").LOAD_VIDEO_DATA_FOR_ID,videoData:Q};c("VideoComposerDialogDispatcher").dispatch(R)},w=function w(){var Q={type:c("VideoComposerDialogActionTypes").NAVIGATED_FROM_PAGE};c("VideoComposerDialogDispatcher").dispatch(Q)},x=function x(event,Q){var R={type:c("VideoComposerDialogActionTypes").POST_FAILED,errorData:Q};c("VideoComposerDialogDispatcher").dispatch(R)},y=function y(event,Q){var R={type:c("VideoComposerDialogActionTypes").POST_FINISHED,data:Q};c("VideoComposerDialogDispatcher").dispatch(R)},z=function z(){var Q={type:c("VideoComposerDialogActionTypes").PUBLISH_POST};c("VideoComposerDialogDispatcher").dispatch(Q)},A=function A(){var Q={type:c("VideoComposerDialogActionTypes").RESET_COMPOSER};c("VideoComposerDialogDispatcher").dispatch(Q)},B=function B(){var Q={type:c("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_ABORT};c("VideoComposerDialogDispatcher").dispatch(Q)},C=function C(){var Q={type:c("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_ATTEMPT};c("VideoComposerDialogDispatcher").dispatch(Q)},D=function D(){var Q={type:c("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_CONFIRM};c("VideoComposerDialogDispatcher").dispatch(Q)},E=function E(){var Q={type:c("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO};c("VideoComposerDialogDispatcher").dispatch(Q)},F=function F(){var Q={type:c("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO_FAILURE};c("VideoComposerDialogDispatcher").dispatch(Q)},G=function G(){var Q={type:c("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO_SUCCESS};c("VideoComposerDialogDispatcher").dispatch(Q)},H=function H(){var Q={type:c("VideoComposerDialogActionTypes").CANCEL_UPLOAD};c("VideoComposerDialogDispatcher").dispatch(Q)},I=function I(Q,R,S,T,U){var V={type:c("VideoComposerDialogActionTypes").SCHEDULE_CONFIRM,scheduleDate:Q,postEndDate:R,expireDate:S,expirationType:T,announcementPostTitle:U};c("VideoComposerDialogDispatcher").dispatch(V)},J=function J(Q){var R={type:c("VideoComposerDialogActionTypes").SELECT_TAB,tab:Q};c("VideoComposerDialogDispatcher").dispatch(R)},K=function K(Q){var R={type:c("VideoComposerDialogActionTypes").UPDATE_TITLE,title:Q};c("VideoComposerDialogDispatcher").dispatch(R)},L=function L(event,Q){var R={type:c("VideoComposerDialogActionTypes").UPLOAD_FAILED,errorData:Q};c("VideoComposerDialogDispatcher").dispatch(R)},M=function M(){var Q={type:c("VideoComposerDialogActionTypes").UPLOAD_FINISHED};c("VideoComposerDialogDispatcher").dispatch(Q)},N=function N(event,Q){var R=c("VideoUploadProgressBar").computeProgress(Q.start_offset,Q.sent_bytes,Q.file_size,0,0),S={type:c("VideoComposerDialogActionTypes").UPLOAD_PROGRESSED,progress:Math.round(10*R)/10};c("VideoComposerDialogDispatcher").dispatch(S)},O=function O(){var Q={type:c("VideoComposerDialogActionTypes").CONFIRM_RIGHTS};c("VideoComposerDialogDispatcher").dispatch(Q)},P=function P(Q){var R={type:c("VideoComposerDialogActionTypes").VIDEO_TYPE_CHANGED,videoType:Q};c("VideoComposerDialogDispatcher").dispatch(R)};f.exports={backdateConfirm:h,bootloadParameters:i,cancelUpload:H,closeConfirmDialog:j,closePublishConfirmDialog:k,confirmRights:O,editTabsLoaded:l,exitDialog:m,exitDialogAttempt:n,fileAdded:o,initializeComposer:r,initializeCrosspostComposer:t,initializeEditComposer:s,initVideoUploader:u,loadVideoDataForID:v,navigatedFromPage:w,metadataLoadedFromHTMLPlayer:p,metadataLoadedFromVideoUploader:q,postFailed:x,postFinished:y,publishPost:z,resetComposer:A,saveAsDraftAbort:B,saveAsDraftAttempt:C,saveAsDraftConfirm:D,saveEditedVideo:E,saveEditedVideoFailure:F,saveEditedVideoSuccess:G,scheduleConfirm:I,selectTab:J,updateTitle:K,uploadFailed:L,uploadFinished:M,uploadProgressed:N,videoTypeChanged:P}}),null);
__d("VideoComposerDialogFooterEditActions.react",["cx","fbt","FlexLayout.react","React","Tooltip","VideoComposerDialogActions","XUIButton.react","XUISpinner.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.$VideoComposerDialogFooterEditActions1=function(){c("VideoComposerDialogActions").saveEditedVideo()};l.prototype.render=function(){var m=this.props.isMissingTitle||this.props.isSaving||!this.props.tabsLoaded,n=this.props.isMissingTitle?i._("To save your video, give it a title"):null;return c("React").createElement(c("FlexLayout.react"),{direction:"horizontal"},c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({},c("Tooltip").propsFor(n,"above"),{className:"_3fao _3-93",onClick:this.$VideoComposerDialogFooterEditActions1,size:"xlarge",use:"confirm",label:i._("Save"),labelIsHidden:this.props.isSaving,disabled:m,image:this.props.isSaving?c("React").createElement(c("XUISpinner.react"),{background:"dark"}):null})))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogMode",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({VIDEO_CROSSPOST:"video_crosspost",VIDEO_EDIT:"video_edit",VIDEO_UPLOAD:"video_upload"})}),null);
__d("VideoComposerDialogFooterSection.react",["cx","LeftRight.react","React","VideoComposerDialogFooterEditActions.react","VideoComposerDialogFooterUploadActions.react","VideoComposerDialogMode"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=null;switch(this.props.dialogMode){case c("VideoComposerDialogMode").VIDEO_UPLOAD:case c("VideoComposerDialogMode").VIDEO_CROSSPOST:l=c("React").createElement(c("VideoComposerDialogFooterUploadActions.react"),{boostedPostButtonConfig:this.props.boostedPostButtonConfig,bootloaded:this.props.bootloaded,composerID:this.props.composerID,disablePublish:this.props.disablePublish,isMissingTitle:this.props.isMissingTitle,isSavingAsDraft:this.props.isSavingAsDraft,isPublishing:this.props.isPublishing,isSchedulingOrBackdating:this.props.isSchedulingOrBackdating,oneClickPublish:this.props.oneClickPublish,saveAsDraftDialogShown:this.props.saveAsDraftDialogShown,showRightsConfirmationDialog:this.props.showRightsConfirmationDialog,minBackdateTime:this.props.minBackdateTime});break;case c("VideoComposerDialogMode").VIDEO_EDIT:l=c("React").createElement(c("VideoComposerDialogFooterEditActions.react"),{isMissingTitle:this.props.isMissingTitle,isSaving:this.props.isEditSaving,tabsLoaded:this.props.editTabsLoaded});break}return c("React").createElement("div",{className:"_4egq"},c("React").createElement(c("LeftRight.react"),{className:"_2pi5"},c("React").createElement("div",null),l))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("PostBackdateDialog.react",["cx","fbt","Arbiter","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","React","ReactLayeredComponentMixin_DEPRECATED","XUICheckboxInput.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIDialogButton.react","XUIGrayText.react","XUIProgressiveDatepicker.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=c("React").PropTypes,k=250,l=c("React").createClass({displayName:"PostBackdateDialog",mixins:[c("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{minTime:j.number.isRequired,maxTime:j.number.isRequired,onSubmit:j.func.isRequired},getInitialState:function m(){return{shown:false,hideFromNewsFeed:false,year:null,month:null,day:null}},render:function m(){return c("React").createElement("div",null)},renderLayers:function m(){return c("React").createElement(c("XUIDialog.react"),{width:343,shown:this.state.shown},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Backdate Post")),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",{className:"_5pk"},c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",display:"block"},i._("Backdate your post so that it appears in the past on your Page Timeline. Backdated posts are published immediately.")),c("React").createElement("div",{className:"_3-8x"},c("React").createElement(c("XUIProgressiveDatepicker.react"),{className:"_3-8x",maxTime:this.props.maxTime,menuMaxHeight:k,minTime:this.props.minTime,minTimeUnit:"day",onDateChange:this._onDateChange})),c("React").createElement(c("InputLabel_DEPRECATED.react"),{className:"_3-8x"},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.state.hideFromNewsFeed,onChange:this._hideFromNewsFeedChanged}),c("React").createElement(c("InputLabelLabel_DEPRECATED.react"),null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",weight:"normal"},i._("Hide from News Feed")))))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:i._("Cancel"),onClick:this._onCancelClick}),c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",disabled:!this.state.year||!this.state.month||!this.state.day,label:i._("Backdate"),onClick:this._onSubmitClick,use:"confirm"})))},show:function m(){this.setState({shown:true})},_onCancelClick:function m(){c("Arbiter").inform("PAB/defaultToPost")},_onSubmitClick:function m(){this.props.onSubmit(this.state.year,this.state.month,this.state.day,this.state.hideFromNewsFeed);this.setState({shown:false})},_onDateChange:function m(n){this.setState({year:n.year,month:n.month,day:n.day})},_hideFromNewsFeedChanged:function m(event){this.setState({hideFromNewsFeed:event.target.checked})}});f.exports=l}),null);
__d("VideoComposerDialogSaveAsDraftPrompt.react",["cx","fbt","React","VideoComposerDialogActions","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{isStrictlyControlled:true,onHide:c("VideoComposerDialogActions").saveAsDraftAbort,shown:this.props.shown,width:680},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Save as draft")),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",{className:"_31yu"},i._("Save video post as draft and close")),c("React").createElement("div",{className:"_31yv"},i._("Save your video post as a draft. Your video will finish processing and can be found in Publishing tools > Video library or your Page's timeline tools."))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{size:"xlarge",onClick:c("VideoComposerDialogActions").saveAsDraftAbort,label:i._("Cancel")}),c("React").createElement(c("XUIButton.react"),{size:"xlarge",use:"confirm",onClick:c("VideoComposerDialogActions").saveAsDraftConfirm,label:i._("Save as Draft")})))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogFooterUploadActions.react",["cx","fbt","invariant","AutoScheduleUtils","DOM","FlexLayout.react","PopoverMenu.react","PostBackdateDialog.react","PostScheduleAndPostEndDialog.react","React","ReactComposerVideoCopyrightDialog.react","ReactDOM","ReactXUIMenu","Tooltip","VideoComposerDialogActions","ReactComposerBoostedPostLazyButton.react","VideoComposerDialogSaveAsDraftPrompt.react","XUIButton.react","XUIButtonGroup.react","XUIPopoverButton.react","XUISelector.react","XUISpinner.react","LiftTimeUtils"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ReactXUIMenu").Item,n=c("XUISelector.react").Option,o=c("LiftTimeUtils").MS_IN_SEC;k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(){__p&&__p();var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.$VideoComposerDialogFooterUploadActions2=function(){if(this.props.showRightsConfirmationDialog)c("VideoComposerDialogActions").cancelUpload()}.bind(this),this.$VideoComposerDialogFooterUploadActions5=function(){var v=c("ReactDOM").render(c("React").createElement(c("PostBackdateDialog.react"),{maxTime:Date.now()/o,minTime:this.props.minBackdateTime,onSubmit:c("VideoComposerDialogActions").backdateConfirm}),c("DOM").create("div"));v instanceof c("PostBackdateDialog.react")||j(0);v.show()}.bind(this),this.$VideoComposerDialogFooterUploadActions7=function(v){switch(v.value){case"schedule":this.$VideoComposerDialogFooterUploadActions1();break;case"backdate":this.$VideoComposerDialogFooterUploadActions5();break}}.bind(this),r}p.prototype.$VideoComposerDialogFooterUploadActions1=function(){var q=c("ReactDOM").render(c("React").createElement(c("PostScheduleAndPostEndDialog.react"),{timezoneStr:c("AutoScheduleUtils").getTimezoneString(),showExpire:true,onSubmit:c("VideoComposerDialogActions").scheduleConfirm}),c("DOM").create("div"));q instanceof c("PostScheduleAndPostEndDialog.react")||j(0);q.show()};p.prototype.$VideoComposerDialogFooterUploadActions3=function(){c("VideoComposerDialogActions").confirmRights()};p.prototype.$VideoComposerDialogFooterUploadActions4=function(){c("VideoComposerDialogActions").publishPost()};p.prototype.$VideoComposerDialogFooterUploadActions6=function(){c("VideoComposerDialogActions").saveAsDraftAttempt()};p.prototype.render=function(){var q=this.props.isPublishing||this.props.isSchedulingOrBackdating,r=this.props.disablePublish||this.props.isMissingTitle||this.props.isSavingAsDraft||q||!this.props.bootloaded,s=this.props.isMissingTitle?i._("To publish your video, give it a title"):null,t=this.props.isMissingTitle?i._("To save as draft, give it a title"):null,u=c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({},c("Tooltip").propsFor(t,"above"),{className:"_2cpj _3-9a",image:this.props.isSavingAsDraft?c("React").createElement(c("XUISpinner.react"),null):null,size:"xlarge",label:i._("Save as Draft"),labelIsHidden:this.props.isSavingAsDraft,onClick:this.$VideoComposerDialogFooterUploadActions6,disabled:r})),v=i._("Schedule"),w=i._("Backdate"),x=void 0;if(this.props.oneClickPublish)x=c("React").createElement(c("XUIButtonGroup.react"),{className:"_3-93 _3-9a"},c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({size:"xlarge",use:"confirm",className:"_4z7a",disabled:r,onClick:this.$VideoComposerDialogFooterUploadActions4},c("Tooltip").propsFor(s,"above"),{label:i._("Publish"),labelIsHidden:this.props.isPublishing,image:this.props.isPublishing?c("React").createElement(c("XUISpinner.react"),{background:"dark"}):null})),c("React").createElement(c("XUISelector.react"),{value:"default",position:"above",alignh:"right",size:"xlarge",className:"_1nt7"+(this.props.isSchedulingOrBackdating?" _4z7b":""),disabled:r,customButton:this.$VideoComposerDialogFooterUploadActions8(r,this.props.isSchedulingOrBackdating),onChange:this.$VideoComposerDialogFooterUploadActions7},c("React").createElement(n,{value:"default",disabled:true}),c("React").createElement(n,{size:"xlarge",value:"schedule"},v),c("React").createElement(n,{size:"xlarge",value:"backdate"},w)));else{var y=c("React").createElement(c("ReactXUIMenu"),{className:"_1qnj"},c("React").createElement(m,{onclick:this.$VideoComposerDialogFooterUploadActions4},i._("Publish Now")),c("React").createElement(m,{onclick:this.$VideoComposerDialogFooterUploadActions1},v),c("React").createElement(m,{onclick:this.$VideoComposerDialogFooterUploadActions5},w));x=c("React").createElement(c("PopoverMenu.react"),{className:"_3-93 _3-9a",alignh:"right",position:"above",alignv:"baseline",menu:y,disabled:r},c("React").createElement(c("XUIPopoverButton.react"),babelHelpers["extends"]({},c("Tooltip").propsFor(s,"above"),{className:"_2cqv",haschevron:!q,image:q?c("React").createElement(c("XUISpinner.react"),{background:"dark"}):null,use:"confirm",size:"xlarge",label:i._("Publish"),labelIsHidden:q,disabled:r})))}return c("React").createElement("div",null,c("React").createElement(c("FlexLayout.react"),{direction:"horizontal"},this.props.boostedPostButtonConfig?c("React").createElement(c("ReactComposerBoostedPostLazyButton.react"),babelHelpers["extends"]({},this.props.boostedPostButtonConfig,{size:"xlarge",reactComposerID:this.props.composerID})):null,u,x),c("React").createElement(c("VideoComposerDialogSaveAsDraftPrompt.react"),{shown:this.props.saveAsDraftDialogShown}),c("React").createElement(c("ReactComposerVideoCopyrightDialog.react"),{shown:this.props.showRightsConfirmationDialog&&q,onCancel:this.$VideoComposerDialogFooterUploadActions2,onConfirm:this.$VideoComposerDialogFooterUploadActions3}))};p.prototype.$VideoComposerDialogFooterUploadActions8=function(q,r){return c("React").createElement(c("XUIPopoverButton.react"),{size:"xlarge",use:"confirm",label:"menu",className:"_4z7l",labelIsHidden:true,disabled:q,haschevron:!r,image:r?c("React").createElement(c("XUISpinner.react"),{background:"dark"}):null})};f.exports=p}),null);
__d("VideoComposerDialogLeftSection.react",["cx","React","VideoComposerDialogBodySectionContainer.react","VideoComposerDialogFooterSectionContainer.react","VideoComposerDialogTitleSectionContainer.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_2gly"},c("React").createElement(c("VideoComposerDialogTitleSectionContainer.react"),null),c("React").createElement(c("VideoComposerDialogBodySectionContainer.react"),null),c("React").createElement(c("VideoComposerDialogFooterSectionContainer.react"),null))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogRightSection.react",["cx","React","VideoComposerDialogTabSectionContainer.react","VideoComposerDialogVideoTypeSectionContainer.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_kwk"},c("React").createElement(c("VideoComposerDialogVideoTypeSectionContainer.react"),null),c("React").createElement(c("VideoComposerDialogTabSectionContainer.react"),null))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogAdjustHeightBehavior",["csx","DOM","Event","Style","SubscriptionsHandler","Vector","throttle"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=800,j=720,k=660,l=80;function m(n){"use strict";__p&&__p();this.$VideoComposerDialogAdjustHeightBehavior4=function(){var o=c("Vector").getViewportDimensions().y,p=void 0;if(o>=i+l)p=i;else if(o>=j+l)p=j;else p=k;c("Style").set(this.$VideoComposerDialogAdjustHeightBehavior3,"height",p+"px");this.$VideoComposerDialogAdjustHeightBehavior2.updatePosition()}.bind(this);this.$VideoComposerDialogAdjustHeightBehavior2=n}m.prototype.enable=function(){"use strict";this.$VideoComposerDialogAdjustHeightBehavior1=new(c("SubscriptionsHandler"))();this.$VideoComposerDialogAdjustHeightBehavior1.addSubscriptions(this.$VideoComposerDialogAdjustHeightBehavior2.subscribe("beforeshow",this.$VideoComposerDialogAdjustHeightBehavior4),c("Event").listen(window,"resize",c("throttle")(this.$VideoComposerDialogAdjustHeightBehavior4)));this.$VideoComposerDialogAdjustHeightBehavior3=c("DOM").find(this.$VideoComposerDialogAdjustHeightBehavior2.getRoot(),"._2rjf")};m.prototype.disable=function(){"use strict";this.$VideoComposerDialogAdjustHeightBehavior1&&this.$VideoComposerDialogAdjustHeightBehavior1.release();this.$VideoComposerDialogAdjustHeightBehavior1=null};f.exports=m}),null);
__d("VideoComposerDialogConstants",[],(function a(b,c,d,e,f,g){"use strict";var h={SIXTEEN_NINE:16/9,DIALOG_WIDTH:980,GENERATED_THUMBNAILS:10,PLAYER_HEIGHT:360,PLAYER_WIDTH:640,THUMBNAIL_HEIGHT:100,THUMBNAIL_WIDTH:178};f.exports=h}),null);
__d("VideoComposerDialogRoot.react",["ix","cx","fbt","FBConfirmDialog.react","FlexLayout.react","Image.react","Link.react","React","VideoComposerDialogActions","VideoComposerDialogAdjustHeightBehavior","VideoComposerDialogConstants","VideoComposerDialogLeftSection.react","VideoComposerDialogRightSection.react","XUIDialog.react","XUIDialogBody.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.$VideoComposerDialogRoot1=function(n){if(!n)c("VideoComposerDialogActions").closeConfirmDialog()};m.prototype.render=function(){var n=c("React").createElement(c("XUIDialogBody.react"),{className:"_2rjf"},c("React").createElement(c("FlexLayout.react"),{justify:"all",align:"stretch",className:"_2rjg"},c("React").createElement(c("VideoComposerDialogLeftSection.react"),null),c("React").createElement(c("VideoComposerDialogRightSection.react"),null)));return c("React").createElement(c("XUIDialog.react"),{className:"_2rjm",label:"placeholder",labelIsHidden:true,layerHideOnBlur:false,behaviors:{VideoComposerDialogAdjustHeightBehavior:c("VideoComposerDialogAdjustHeightBehavior")},shown:this.props.shown,width:c("VideoComposerDialogConstants").DIALOG_WIDTH},n,c("React").createElement(c("Link.react"),{href:"#",onClick:this.props.onCloseButtonClick,className:"_2rjv"},c("React").createElement(c("Image.react"),{alt:j._("Close"),src:h("125923")})),c("React").createElement(c("FBConfirmDialog.react"),{className:"_2rjw",title:j._("Exit session"),content:j._("Are you sure you want to leave?"),onConfirm:c("VideoComposerDialogActions").exitDialog,onCancel:c("VideoComposerDialogActions").closeConfirmDialog,onToggle:this.$VideoComposerDialogRoot1,shown:this.props.showExitConfirmDialog}))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("VideoComposerDialogTabSection.react",["cx","React","ScrollableArea.react","VideoComposerDialogTabUtils"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_1k_f"},c("VideoComposerDialogTabUtils").getTabContainers(this.props.displayedTabs))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogPublishConfirmDialog.react",["cx","fbt","ix","FlexLayout.react","Image.react","LeftRight.react","List.react","React","VideoComposerDialogActions","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","formatDate","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){__p&&__p();var n=[],o=void 0;if(this.props.isDraft){o=j("429286");n.push(c("React").createElement("div",{className:"_kve"},c("React").createElement("div",{className:"_kvf _3-95"},i._("Your video post has been saved successfully!")),c("React").createElement("div",null,i._("It can be found in Publishing tools > Video library or your Page's timeline tools"))))}else if(this.props.scheduleDate){o=j("429287");n.push(c("React").createElement("div",{className:"_kve"},i._("Video post scheduled date:"),c("React").createElement("div",{className:"_kvf"},i._("{schedule date}",[i.param("schedule date",this.$VideoComposerDialogPublishConfirmDialog1(this.props.scheduleDate))]))))}else{o=j("425005");n.push(c("React").createElement("div",{className:"_kve"},c("React").createElement("div",{className:"_kvf _3-95"},i._("Your video post is processing")),c("React").createElement("div",null,i._("When finished, your video will be posted and you will be notified."))))}if(this.props.expireDate)n.push(c("React").createElement("div",{className:"_kve"},i._("Video post expiry date:"),c("React").createElement("div",{className:"_kvf"},i._("{expire date}",[i.param("expire date",this.$VideoComposerDialogPublishConfirmDialog1(this.props.expireDate))]))));if(this.props.postEndDate)n.push(c("React").createElement("div",{className:"_kve"},i._("News Feed distribution stop date:"),c("React").createElement("div",{className:"_kvf"},i._("{post end date}",[i.param("post end date",this.$VideoComposerDialogPublishConfirmDialog1(this.props.postEndDate))]))));return c("React").createElement(c("XUIDialog.react"),{isStrictlyControlled:true,label:"confirm dialog",shown:this.props.shown,width:680},c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",null),c("React").createElement(c("Image.react"),{style:{cursor:"pointer"},src:j("363596"),onClick:c("VideoComposerDialogActions").closePublishConfirmDialog})),c("React").createElement(c("FlexLayout.react"),{direction:"vertical",align:"center"},c("React").createElement(c("Image.react"),{src:o,className:"_kvb"}),c("React").createElement(c("List.react"),{className:"_kvc"},n.map(function(p,q){return c("React").createElement("li",{key:q},p)})))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIButton.react"),{size:"xlarge",use:"confirm",onClick:c("VideoComposerDialogActions").closePublishConfirmDialog,label:i._("Continue")})))};m.prototype.$VideoComposerDialogPublishConfirmDialog1=function(n){if(!n)return"";return c("formatDate")(n,"F jS Y \\a\\t g:ia",{skipPatternLocalization:true})};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("VideoComposerDialogWrapper.react",["React","VideoComposerDialogPublishConfirmDialog.react","VideoComposerDialogRootContainer.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){var k=this.props.dialogShown?c("React").createElement(c("VideoComposerDialogRootContainer.react"),null):null;return c("React").createElement("div",null,k,c("React").createElement(c("VideoComposerDialogPublishConfirmDialog.react"),babelHelpers["extends"]({shown:this.props.publishConfirmDialogShown},this.props.publishConfirmDialogData)))};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("VideoComposerDialogCaptionEditorConstants",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h={SMALLEST_UNIT:.09,TOP:50,START_TIME_OFFSET_IN_MS:100,DURATION_TIME_IN_MS:1e3,DIALOG_WIDTH:970,MIN_HEIGHT:645,MAX_HEIGHT:645,LEFT_PANE_WIDTH:670,RIGHT_PANE_WIDTH:300,INITIAL_SPOKEN_LOCALE:"xx_XX",EMPTY_LOCALE:"",NO_LANGUAGE_SELECTED:"Select Language",AUTO_GENERATED:"AUTO_GENERATION",SPEECH_NON_SPEECH:"SPEECH_NON_SPEECH",SRT_UPLOAD:"SRT_UPLOAD",MANUAL:"MANUAL",AUTO_GENERATION:"AUTO_GENERATION",AUTO_GENERATE_RETRY_TEXT:"Error auto-generating captions. Retrying.",AUTO_GENERATABLE_HEAD_LOCALES:c("immutable").Set(["en_US","es_LA"]),GENERAL_LOCALES_TO_HEAD:c("immutable").Map({en_XX:"en_US",es_XX:"es_LA",fr_XX:"fr_FR",ja_XX:"ja_JP",nl_XX:"nl_NL",pt_XX:"pt_BR",tl_XX:"tl_PH"}),HEAD_TO_GENERAL_LOCALES:c("immutable").Map({en_US:"en_XX",es_LA:"es_XX",fr_FR:"fr_XX",ja_JP:"ja_XX",nl_NL:"nl_XX",pt_BR:"pt_XX",tl_PH:"tl_XX"}),NO_PAYLOAD:"NO_PAYLOAD",GENERATION_PILL_WIDTH:368,MAX_FAKE_POLL_ITERATIONS:6e3,POLL_FAKE_FREQUENCY_GENERATE_MS:1e3,DEFAULT_PROCESSING_SPEED:2,GENERATION_RETRY_THRESHOLD:{PCT:175,TIME_S:75},BUTTON_UNIFORM:{use:{"default":{normal:{background:"transparent"},tall:{background:"transparent"}}},padding:{normal:{onlyIcon:"0px"},tall:{onlyIcon:"0px"}},height:{normal:16,tall:20}},VIDEO_DURATION_PADDING:1e4,EMPTY_CAPTION_TEXT:" ",SEGMENT_LENGTH:76,RESUME_PLAYBACK_AFTER:1e3,AUTO_GEN_PROGRESS_RATE_FACTOR:.5};f.exports=h}),null);
__d("VideoComposerDialogCaptionEditorDialog.react",["cx","React","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorPlayerSection.react","VideoComposerDialogCaptionEditorRightSectionContainer.react","XUIDialog.react","XUIDialogBody.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=c("React").createElement(c("XUIDialogBody.react"),{className:"_2gd1"},c("React").createElement(c("VideoComposerDialogCaptionEditorPlayerSection.react"),{video_id:this.props.video_id}),c("React").createElement(c("VideoComposerDialogCaptionEditorRightSectionContainer.react"),{caption:this.props.caption}));return c("React").createElement(c("XUIDialog.react"),{className:"_2gd2",label:"captionEditor",labelIsHidden:true,layerHideOnBlur:false,shown:this.props.show_caption_editor,width:c("VideoComposerDialogCaptionEditorConstants").DIALOG_WIDTH},l)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogCaptionEditorEditCaptionsContainerRelayQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"caption_id",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"caption_id",type:"ID!"}],k={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",operationKind:"query",name:"VideoComposerDialogCaptionEditorEditCaptionsContainerRelayQuery",id:"1860721543945586",text:null,metadata:{},fragment:{kind:"Fragment",name:"VideoComposerDialogCaptionEditorEditCaptionsContainerRelayQuery",type:"Query",metadata:null,argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"FragmentSpread",name:"VideoComposerDialogCaptionEditorCaptionsListGenerator_node",args:null}]}]},operation:{kind:"Operation",name:"VideoComposerDialogCaptionEditorEditCaptionsContainerRelayQuery",argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},k,{kind:"InlineFragment",type:"VideoSubtitle",selections:[{kind:"ScalarField",alias:null,name:"locale",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"process_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"review_expire_time",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"video_id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"captions",storageKey:'captions(first:3000,orderby:["chronological"])',args:[{kind:"Literal",name:"first",value:3e3,type:"Int"},{kind:"Literal",name:"orderby",value:["chronological"],type:"[VideoSubtitleCaptionsOrdering]"}],concreteType:"VideoSubtitleCaptionsConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"VideoSubtitleCaptionsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"VideoSubtitleCaption",plural:false,selections:[k,{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"start_time_in_ms",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"duration_in_ms",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"confidence",args:null,storageKey:null}]}]}]}]}]}]}}}();f.exports=h}),null);
__d("VideoComposerDialogCaptionEditorLoadingShimmer.react",["cssVar","cx","FBLoadShimmer.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("span",{className:"_176x"},c("React").createElement(c("FBLoadShimmer.react"),{style:{backgroundColor:"#e9ebee"},className:"_3-96",height:14,width:45}),c("React").createElement(c("FBLoadShimmer.react"),{style:{backgroundColor:"#e9ebee"},className:"_3-94",height:14,width:260}),c("React").createElement(c("FBLoadShimmer.react"),{style:{backgroundColor:"#e9ebee"},className:"_3-96",height:14,width:106}),c("React").createElement(c("FBLoadShimmer.react"),{style:{backgroundColor:"#e9ebee"},height:14,width:45}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogCaptionEditorListLoading.react",["cx","React","VideoComposerDialogCaptionEditorLoadingShimmer.react","XUINotice.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.$VideoComposerDialogCaptionEditorListLoading1=function(l){var m=[];for(var n=0;n<l;n++)m.push(c("React").createElement(c("VideoComposerDialogCaptionEditorLoadingShimmer.react"),{key:n}));return m};k.prototype.render=function(){var l=this.props.showShimmer?this.$VideoComposerDialogCaptionEditorListLoading1(4):null;return c("React").createElement("span",null,c("React").createElement("span",{className:"_176x"},c("React").createElement(c("XUINotice.react"),{use:"notify"},c("React").createElement("span",{className:"_177r"},this.props.header),c("React").createElement("span",{className:"_178h"},this.props.description))),l)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogCaptionEditorEditCaptions.react",["fbt","React","RelayFBEnvironment","RelayModern","VideoComposerDialogCaptionEditorCaptionsListGenerator.react","VideoComposerDialogCaptionEditorListLoading.react","VideoComposerDialogCaptionEditorEditCaptionsContainerRelayQuery.graphql"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l=c("RelayModern").QueryRenderer,m=c("RelayModern").graphql;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.render=function(){return c("React").createElement(l,{cacheConfig:{force:true},environment:c("RelayFBEnvironment"),query:i||(i=function i(){return c("VideoComposerDialogCaptionEditorEditCaptionsContainerRelayQuery.graphql")}),variables:{caption_id:this.props.caption.id},render:function(o){var p=o.error,q=o.props;if(p)return c("React").createElement("div",null,h._("Loading failed"));else if(q)return c("React").createElement(c("VideoComposerDialogCaptionEditorCaptionsListGenerator.react"),{node:q.node,id:this.props.caption.id});return c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogCaptionEditorListLoading.react"),{header:this.props.loadingStateHeader,description:this.props.loadingStateDescription,showShimmer:true}))}.bind(this)})};function n(){j.apply(this,arguments)}f.exports=n}),null);
__d("VideoComposerDialogCaptionEditorPlayerSection.react",["cx","React","VideoComposerDialogCaptionEditorFooterContainer.react","VideoComposerDialogCaptionEditorPlayerSectionBodyContainer.react","VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer.react","VideoComposerDialogCaptionEditorSubtitlesDragAreaContainer.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("span",{className:"_647w"},c("React").createElement("div",{className:"_647x"},c("React").createElement(c("VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer.react"),null),c("React").createElement(c("VideoComposerDialogCaptionEditorPlayerSectionBodyContainer.react"),this.props),c("React").createElement(c("VideoComposerDialogCaptionEditorSubtitlesDragAreaContainer.react"),null)),c("React").createElement("span",null,c("React").createElement(c("VideoComposerDialogCaptionEditorFooterContainer.react"),null)))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogCaptionEditorRightSection.react",["cx","fbt","React","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorLanguageSearchContainer.react","VideoComposerDialogCaptionEditorEditCaptions.react","VideoComposerDialogCaptionEditorListLoading.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.$VideoComposerDialogCaptionEditorRightSection1=function(m){if(m)return{header:i._("Creating Time Segments"),description:i._("You can write and edit your captions after we've finished creating the time segments."),showShimmer:m};else return{header:i._("Select a Language"),description:i._("Select a language for your captions to proceed."),showShimmer:m}};l.prototype.render=function(){var m=this.props.language!==c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED&&this.props.language!==c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE,n=this.$VideoComposerDialogCaptionEditorRightSection1(m),o=this.props.caption&&this.props.caption.id&&m?c("React").createElement(c("VideoComposerDialogCaptionEditorEditCaptions.react"),{caption:this.props.caption,loadingStateHeader:n.header,loadingStateDescription:n.description}):c("React").createElement(c("VideoComposerDialogCaptionEditorListLoading.react"),n);return c("React").createElement("div",{className:"_1qsh"},c("React").createElement(c("VideoComposerDialogCaptionEditorLanguageSearchContainer.react"),null),o)};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogCaptionLandingAddSubtitleButtons.react",["ix","cx","fbt","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorUtils","React","FileInput.react","SUIBusinessTheme","SUIButton.react","SUIGlyphIcon.react","asset","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$VideoComposerDialogCaptionLandingAddSubtitleButtons2=function(event){var s=event.target;if(s.value){this.props.onUpload(s);this.refs.captionFileInput.getFileInput().clear()}}.bind(this),o}m.prototype.render=function(){var n=this.$VideoComposerDialogCaptionLandingAddSubtitleButtons1();return c("React").createElement("div",{style:{display:"flex"},className:this.props.disableSection?"_2sq3":""},n,c("React").createElement("span",{className:"_4qg7"},c("React").createElement(c("FileInput.react"),{accept:".srt",ref:"captionFileInput",multiple:true,onChange:this.$VideoComposerDialogCaptionLandingAddSubtitleButtons2,onClick:this.props.onUploadClick},c("React").createElement(c("SUIButton.react"),{icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("407716"),srcDisabled:h("126934")}),use:"default",label:j._("Upload"),theme:c("SUIBusinessTheme"),href:{url:"#"}}))))};m.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtons3=function(){return c("VideoComposerDialogCaptionEditorUtils").isAutoGenerateable(this.props.spokenLocale)};m.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtons1=function(){var n=this.props.shouldShowGenerate,o=this.props.enableFeatures?c("React").createElement("span",{className:"_2q5p"},c("React").createElement("span",{className:(n?"_4qg7":"")+(!n?" _4qg8":"")},c("React").createElement(c("SUIButton.react"),{icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("123226"),srcDisabled:h("126430")}),label:j._("Auto-generate"),disabled:!this.$VideoComposerDialogCaptionLandingAddSubtitleButtons3(),theme:c("SUIBusinessTheme"),onClick:this.props.onGenerate,width:144}),this.$VideoComposerDialogCaptionLandingAddSubtitleButtons4()),c("React").createElement("span",{className:"_4qg7"},c("React").createElement(c("SUIButton.react"),{icon:c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("123350"),srcDisabled:h("126554")}),label:j._("Write"),theme:c("SUIBusinessTheme"),onClick:this.props.onCreate}))):null;return o};m.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtons4=function(){if(this.props.spokenLanguage==c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED)return null;if(this.$VideoComposerDialogCaptionLandingAddSubtitleButtons3())return null;return c("React").createElement("div",null,c("React").createElement("div",{className:"_4omu"},c("React").createElement(c("SUIGlyphIcon.react"),{srcDefault:h("132174")})),c("React").createElement("div",{className:"_4om_"},j._("Auto-generate unavailable for this language")))};f.exports=m}),null);
__d("VideoComposerDialogCaptionLandingAddSubtitleSection.react",["cx","React","VideoComposerDialogCaptionLandingAddSubtitleDescriptionContainer.react","VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("span",{className:"_2a8-"},c("React").createElement(c("VideoComposerDialogCaptionLandingAddSubtitleDescriptionContainer.react"),null),c("React").createElement(c("VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer.react"),{shouldShowGenerate:this.props.shouldShowGenerate}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogCaptionLandingSection.react",["cx","fbt","React","immutable","XUINotice.react","XUIText.react","VideoComposerDialogCaptionLandingAddSubtitleSection.react","VideoComposerDialogLandingScreenDraftSection.react","VideoComposerDialogLandingScreenSpokenLanguageContainer.react","VideoComposerDialogLandingScreenDefaultLanguageContainer.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=this.props.shouldShowDrafts||this.props.isAutoGenerating,n=this.props.enableFeatures?c("React").createElement("span",{className:this.props.isVideoUploaded===false?"_41jb":""},c("React").createElement("span",{className:"_4s3o"},c("React").createElement(c("VideoComposerDialogLandingScreenSpokenLanguageContainer.react"),null)),c("React").createElement("span",{className:"_4s3o"},c("React").createElement(c("VideoComposerDialogLandingScreenDefaultLanguageContainer.react"),null))):null;return c("React").createElement("div",null,this.$VideoComposerDialogCaptionLandingSection1(),this.$VideoComposerDialogCaptionLandingSection2(),n,c("React").createElement("span",{className:this.props.isVideoUploaded===false&&this.props.enableFeatures?"_41jb":""},c("React").createElement("span",{className:(m?"_4s3o":"")+(!m?" _4s3p":"")},c("React").createElement(c("VideoComposerDialogLandingScreenDraftSection.react"),null)),c("React").createElement("span",null,c("React").createElement(c("VideoComposerDialogCaptionLandingAddSubtitleSection.react"),{shouldShowGenerate:!(this.props.hasAutoGenerated||this.props.isAutoGenerating||!this.props.enableFeatures)}))))};l.prototype.$VideoComposerDialogCaptionLandingSection1=function(){return this.props.isVideoUploaded===false&&this.props.enableFeatures?c("React").createElement(c("XUINotice.react"),{className:"_3-95",use:"notify"},c("React").createElement(c("XUIText.react"),{display:"block",size:"body2",weight:"bold"},i._("Your Video is Still Uploading")),c("React").createElement(c("XUIText.react"),{display:"block",size:"meta1"},i._("You can add captions after the video upload is complete."))):null};l.prototype.$VideoComposerDialogCaptionLandingSection2=function(){return this.props.errors.size>0?c("React").createElement(c("XUINotice.react"),{className:"_3-95",use:"warn"},this.$VideoComposerDialogCaptionLandingSection3()):null};l.prototype.$VideoComposerDialogCaptionLandingSection3=function(){var m=[];for(var n=0;n<this.props.errors.size;n++)m.push(this.$VideoComposerDialogCaptionLandingSection4(n,this.props.errors.get(n)));return m};l.prototype.$VideoComposerDialogCaptionLandingSection4=function(m,n){return c("React").createElement("div",{key:m},n)};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogLandingScreenDraftSection.react",["cx","fbt","React","VideoComposerDialogLandingScreenDraftListContainer.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=i._("Manage captions"),n=i._("Captions that are set to be published will appear on your video once the post has been saved.");return c("React").createElement("div",{className:"_2a8-"},c("React").createElement("span",{className:"_1lt4"},c("React").createElement("span",{className:"_1lt5"},m),c("React").createElement("span",{className:"_1lt6"},n)),c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogLandingScreenDraftListContainer.react"),null)))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogCaptionEditorScrubBarTimeRuler.react",["cssVar","cx","React","VideoComposerDialogCaptionEditorUtils"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.shouldComponentUpdate=function(m){return this.props.scale!==m.scale||this.props.duration!==m.duration};l.prototype.render=function(){__p&&__p();var m=c("VideoComposerDialogCaptionEditorUtils").getWidth(this.props.duration,this.props.scale),n=[],o=0,p=5,q=null,r="0%";for(var s=0;s<=this.props.duration;s+=200){o=c("VideoComposerDialogCaptionEditorUtils").getWidth(s,this.props.scale);if(s%1e3===0){if(s===0)r="0%";else r="50%";p=10;q=c("React").createElement("div",{className:"_647t"},c("React").createElement("div",{style:{right:r,position:"relative"}},c("VideoComposerDialogCaptionEditorUtils").getTimeStamp(s)))}else{p=5;q=null}n.push(c("React").createElement("div",{className:"_647u",key:s,style:{left:o,height:p}},q))}return c("React").createElement("div",{className:"_647v",style:{width:m}},n)};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("Resizer.react",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l)}k.prototype.componentDidMount=function(){window.addEventListener("mousemove",this.onMouseMove.bind(this),false);window.addEventListener("mouseup",this.onMouseUp.bind(this),false)};k.prototype.componentWillUnmount=function(){window.removeEventListener("mousemove",this.onMouseMove.bind(this),false);window.removeEventListener("mouseup",this.onMouseUp.bind(this),false)};k.prototype.onMouseDown=function(l){this.props.updateStateResizing(this.props.id,true,l.clientX)};k.prototype.onMouseMove=function(l){if(this.props.isResizing)this.props.funcResizing(this.props.id,l.clientX,l.clientY)};k.prototype.onMouseUp=function(l){if(this.props.isResizing)this.props.updateStateResizing(this.props.id,false,l.clientX)};k.prototype.shouldComponentUpdate=function(l){return this.props!=l};k.prototype.render=function(){var l={width:this.props.resizerWidth,height:this.props.resizerHeight};return c("React").createElement("span",{ref:this.props.className,className:(this.props.className==="videoCaptionsScrubBar/left"&&this.props.isSelected?"_2tfo":"")+(this.props.className==="videoCaptionsScrubBar/left"&&!this.props.isSelected?" _34tz":"")+(this.props.className==="videoCaptionsScrubBar/right"&&this.props.isSelected?" _2tfp":"")+(this.props.className==="videoCaptionsScrubBar/right"&&!this.props.isSelected?" _34t_":""),isSelected:this.props.isSelected,style:l,onMouseDown:this.onMouseDown.bind(this),onMouseUp:this.onMouseUp.bind(this)})};f.exports=k}),null);
__d("DraggableResizableText.react",["cx","React","Resizer.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l)}k.prototype.onMouseDown=function(l){var m=document.elementFromPoint(l.clientX,l.clientY);if(m.className!=="_2tfo"&&m.className!==" _2tfp"&&!this.props.isRisizingLeft&&!this.props.isResizingRight)this.props.updateStateDragging(this.props.id,true)};k.prototype.onMouseUp=function(l){this.props.updateStateDragging(this.props.id,false)};k.prototype.onDragStart=function(l){if(this.props.isDragging&&!this.props.isResizingLeft&&!this.props.isResizingRight){l.dataTransfer.setData("application/json",JSON.stringify({id:this.props.id,x:l.clientX,y:l.clientY}));l.dataTransfer.effectAllowed="move"}};k.prototype.onDragEnd=function(l){this.props.updateStateDragging(this.props.id,false)};k.prototype.shouldComponentUpdate=function(l){return JSON.stringify(this.props)!=JSON.stringify(l)};k.prototype.render=function(){var l={left:this.props.left,width:this.props.width};return c("React").createElement("div",{ref:"node",draggable:this.props.isDragging,id:"item_"+this.props.id,className:(this.props.isSelected?"_2tfq":"")+(this.props.isDragging?" _2tfu":"")+(!this.props.isSelected?" _2tfv":""),style:l,onMouseDown:this.onMouseDown.bind(this),onMouseUp:this.onMouseUp.bind(this),onDragStart:this.onDragStart.bind(this),onDragEnd:this.onDragEnd.bind(this)},c("React").createElement(c("Resizer.react"),{ref:"resizerLeft",id:this.props.id,isResizing:this.props.isResizingLeft,isSelected:this.props.isSelected,resizerWidth:0,resizerHeight:"inherit",updateStateResizing:this.props.updateStateResizingLeft,className:"videoCaptionsScrubBar/left",funcResizing:this.props.funcResizingLeft}),c("React").createElement("span",{className:(this.props.isSelected?"_2tfx":"")+(!this.props.isSelected?" _2tfy":"")}),c("React").createElement("span",{className:(this.props.isSelected?"_2tfz":"")+(!this.props.isSelected?" _2tf-":"")},this.props.text),c("React").createElement(c("Resizer.react"),{ref:"resizerRight",id:this.props.id,isResizing:this.props.isResizingRight,isSelected:this.props.isSelected,resizerWidth:0,resizerHeight:"inherit",updateStateResizing:this.props.updateStateResizingRight,className:"videoCaptionsScrubBar/right",funcResizing:this.props.funcResizingRight}))};f.exports=k}),null);
__d("VideoComposerDialogCaptionEditorActions",["VideoComposerDialogDispatcher","immutable","VideoComposerDialogActionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(x,y){var z={type:c("VideoComposerDialogActionTypes").ADD_CAPTION_ENTRY,caption:y,idx:x};c("VideoComposerDialogDispatcher").dispatch(z)},i=function i(x){var y={type:c("VideoComposerDialogActionTypes").REMOVE_CAPTION_ENTRY,idx:x};c("VideoComposerDialogDispatcher").dispatch(y)},j=function j(x,y){var z={type:c("VideoComposerDialogActionTypes").EDIT_CAPTION_ENTRY,caption:y,idx:x};c("VideoComposerDialogDispatcher").dispatch(z)},k=function k(x){var y={type:c("VideoComposerDialogActionTypes").SET_PREVIEW_ENTRY,idx:x};c("VideoComposerDialogDispatcher").dispatch(y)},l=function l(x){var y={type:c("VideoComposerDialogActionTypes").PLAY_PREVIEW_ENTRY,idx:x};c("VideoComposerDialogDispatcher").dispatch(y)},m=function m(x){var y={type:c("VideoComposerDialogActionTypes").SET_NEXT_ENTRY,idx:x};c("VideoComposerDialogDispatcher").dispatch(y)},n=function n(){var x={type:c("VideoComposerDialogActionTypes").CONFIRM_CLOSE_DIALOG};c("VideoComposerDialogDispatcher").dispatch(x)},o=function o(){var x={type:c("VideoComposerDialogActionTypes").CANCEL_CLOSE_DIALOG};c("VideoComposerDialogDispatcher").dispatch(x)},p=function p(x,y,z,A,B,C){var D={type:c("VideoComposerDialogActionTypes").SET_CAPTIONS,captions:x,captionID:y,captionLocale:z,videoID:A,appID:B,placement:C};c("VideoComposerDialogDispatcher").dispatch(D)},q=function q(x){var y={type:c("VideoComposerDialogActionTypes").SET_EDITOR_LANGUAGE,language:x};c("VideoComposerDialogDispatcher").dispatch(y)},r=function r(x){var y={type:c("VideoComposerDialogActionTypes").SET_EDITOR_LOCALE,locale:x};c("VideoComposerDialogDispatcher").dispatch(y)},s=function s(){var x={type:c("VideoComposerDialogActionTypes").INITIALIZE_EDITOR_LANGUAGE};c("VideoComposerDialogDispatcher").dispatch(x)},t=function t(){var x={type:c("VideoComposerDialogActionTypes").SHOW_EXIT_DIALOG};c("VideoComposerDialogDispatcher").dispatch(x)},u=function u(){var x={type:c("VideoComposerDialogActionTypes").START_SAVE_CAPTION_CHANGESET};c("VideoComposerDialogDispatcher").dispatch(x)},v=function v(x){var y={type:c("VideoComposerDialogActionTypes").FINISH_SAVE_CAPTION_CHANGESET,error:x};c("VideoComposerDialogDispatcher").dispatch(y)},w=function w(){var x={type:c("VideoComposerDialogActionTypes").RESET_CAPTION_EDITOR};c("VideoComposerDialogDispatcher").dispatch(x)};f.exports={addCaptionEntry:h,removeCaptionEntry:i,editingCaptionEntry:j,setPreviewEntry:k,selectLanguage:q,selectLocale:r,setCaptions:p,setNextEntry:m,playPreviewEntry:l,confirmCloseDialog:n,cancelCloseDialog:o,showExitDialog:t,startSaveCaptionChangeset:u,finishSaveCaptionChangeset:v,setLanguage:s,resetCaptionEditor:w}}),null);
__d("VideoComposerDialogCaptionEditorSubtitlesDragArea.react",["cx","DraggableResizableText.react","React","VideoComposerDialogCaptionEditorActions","VideoComposerDialogCaptionEditorPlayheadContainer.react","VideoComposerDialogCaptionEditorScrubBarTimeRuler.react","immutable","VideoComposerDialogCaptionEditorConstants"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;"use strict";i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){__p&&__p();j.constructor.call(this,l);this.state={list:this.props.list.map(function(m,n){return{isDragging:false,isResizingLeft:false,isResizingRight:false,initialLeft:0,top:c("VideoComposerDialogCaptionEditorConstants").TOP,left:this.props.list.get(n).node.left,width:this.props.list.get(n).node.width}}.bind(this))};this.onDrop=function(m){__p&&__p();var n=JSON.parse(m.dataTransfer.getData("application/json")),o=this.state.list,p=o.get(n.id),q=m.clientX-n.x;p.isDragging=false;if(this.checkForOverlap(n.id,p.left+q,p.width))return;p.left+=q;var r=JSON.parse(JSON.stringify(this.props.list.get(n.id)));r.node.left=p.left;r.node.start_time_in_ms=p.left/c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT;c("VideoComposerDialogCaptionEditorActions").editingCaptionEntry(n.id,r);m.preventDefault()}.bind(this);this.updateStateDragging=function(m,n){var o=this.state.list,p=o.get(m);p.isDragging=n;var q={list:o};this.setState(q);if(n===false)c("VideoComposerDialogCaptionEditorActions").playPreviewEntry(m)}.bind(this);this.updateStateResizingLeft=function(m,n,o){__p&&__p();var p=this.state.list,q=p.get(m);q.isResizingLeft=n;q.initialLeft=o;var r={list:p};this.setState(r);if(n===false){var s=JSON.parse(JSON.stringify(this.props.list.get(m)));s.node.left=q.left;s.node.width=q.width;s.node.start_time_in_ms=q.left/c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT;s.node.duration_in_ms=q.width/c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT;c("VideoComposerDialogCaptionEditorActions").editingCaptionEntry(m,s);c("VideoComposerDialogCaptionEditorActions").playPreviewEntry(m)}}.bind(this);this.updateStateResizingRight=function(m,n,o){__p&&__p();var p=this.state.list,q=p.get(m);q.isResizingRight=n;q.initialLeft=o-q.width;var r={list:p};this.setState(r);if(n===false){var s=JSON.parse(JSON.stringify(this.props.list.get(m)));s.node.left=q.left;s.node.width=q.width;s.node.start_time_in_ms=q.left/c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT;s.node.duration_in_ms=q.width/c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT;c("VideoComposerDialogCaptionEditorActions").editingCaptionEntry(m,s);c("VideoComposerDialogCaptionEditorActions").playPreviewEntry(m)}}.bind(this);this.funcResizingLeft=function(m,n,o){var p=this.state.list,q=p.get(m),r=q.initialLeft-n,s=q.left-r;if(this.checkForOverlap(m,s,q.width))return;q.width+=r;q.initialLeft=n;q.left=s;var t={list:p};this.setState(t)}.bind(this);this.funcResizingRight=function(m,n,o){var p=this.state.list,q=p.get(m),r=n-(q.initialLeft+q.width);if(this.checkForOverlap(m,q.left,q.width+r))return;q.width+=r;var s={list:p};this.setState(s)}.bind(this)}k.prototype.componentWillReceiveProps=function(l){__p&&__p();if(this.props!=l){var m=JSON.stringify(this.props.list),n=JSON.stringify(l.list),o={list:c("immutable").List()};if(m!==n){if(this.state.list.size!==0&&l.list.size===this.state.list.size){var p=this.state.list;p=p.set(l.captionSelected,{isDragging:false,isResizingLeft:false,isResizingRight:false,initialLeft:0,top:c("VideoComposerDialogCaptionEditorConstants").TOP,left:l.list.get(l.captionSelected).node.left,width:l.list.get(l.captionSelected).node.width,height:25});o={list:p}}else o={list:l.list.map(function(q,r){return{isDragging:false,isResizingLeft:false,isResizingRight:false,initialLeft:0,top:c("VideoComposerDialogCaptionEditorConstants").TOP,left:q.node.left,width:q.node.width,height:25}})};this.setState(o)}}};k.prototype.shouldComponentUpdate=function(l,m){return this.props!=l||this.state!=m};k.prototype.checkForOverlap=function(l,m,n){var o=this.state.list,p=false,q=false;if(l>0)p=o.get(l-1).left+o.get(l-1).width>m;if(l+1<o.size)q=o.get(l+1).left<n+m;return p||q};k.prototype.onDragOver=function(l){l.dataTransfer.dropEffect="move";l.preventDefault();return false};k.prototype.render=function(){var l=[],m=c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT*this.props.duration;l=this.props.list.map(function(n,o){return c("React").createElement(c("DraggableResizableText.react"),{isSelected:o===this.props.captionSelected,ref:"node_"+o,text:n.node.text,key:o,id:o,top:this.state.list.get(o).top,left:this.state.list.get(o).left,width:this.state.list.get(o).width,isDragging:this.state.list.get(o).isDragging,isResizingLeft:this.state.list.get(o).isResizingLeft,isResizingRight:this.state.list.get(o).isResizingRight,updateStateDragging:this.updateStateDragging,updateStateResizingLeft:this.updateStateResizingLeft,updateStateResizingRight:this.updateStateResizingRight,funcResizingLeft:this.funcResizingLeft,funcResizingRight:this.funcResizingRight})}.bind(this));return c("React").createElement("div",{className:"_1coi",onDragOver:this.onDragOver,onDrop:this.onDrop},c("React").createElement(c("VideoComposerDialogCaptionEditorScrubBarTimeRuler.react"),{duration:this.props.duration,scale:1}),c("React").createElement("div",{className:"_1coj",style:{width:m}},c("React").createElement(c("VideoComposerDialogCaptionEditorPlayheadContainer.react"),null),l))};f.exports=k}),null);
__d("ComposerVideoUploadSphericalConstants",[],(function a(b,c,d,e,f,g){var h=Object.freeze({CROSSPOST_DIALOG_V1:"CROSSPOST_DIALOG_V1",EDIT_DIALOG_V1:"EDIT_DIALOG_V1",PAGE_COMPOSER_V1:"PAGE_COMPOSER_V1",PAGE_COMPOSER_V2:"PAGE_COMPOSER_V2",STANDALONE:"STANDALONE"});f.exports={COMPONENT_SOURCE:h}}),null);
__d("VideoComposerDialogRadioButton.react",["cx","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={hovered:false},this.$VideoComposerDialogRadioButton1=function(){this.setState({hovered:true})}.bind(this),this.$VideoComposerDialogRadioButton2=function(){this.setState({hovered:false})}.bind(this),m}k.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")("_2wzp"+(this.props.checked?" _2e9y":""),this.props.className),onClick:this.props.onSelect,onMouseEnter:this.$VideoComposerDialogRadioButton1,onMouseLeave:this.$VideoComposerDialogRadioButton2,role:"presentation"},c("React").createElement("div",{className:"_2e9z"+(this.state.hovered&&!this.props.checked?" _2e9-":"")+(this.props.checked?" _2e9y":"")}),c("React").createElement("div",{className:"_2wzq"},this.props.label))};f.exports=k}),null);
__d("VideoComposerDialogSphericalDirectorInfo.react",["cx","fbt","React","SphericalVideoExperiments"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={title:i._("Set guide points"),subText:i._("Direct your audience's attention to the parts that you want them to see")},k={title:i._("Overlay text and images"),subText:i._("Add more detail to each frame of your video")},l={title:i._("Overlay text"),subText:i._("Add more detail to each frame of your video")},m={title:i._("Overlay images"),subText:i._("Add more detail to each frame of your video")},n={title:i._("Preview your video"),subText:i._("Your final 360 video with pan to the guide points that you've set")};function o(q){return c("React").createElement("div",{className:"_1wfj"},c("React").createElement("div",{className:"_1wfn"},q.num,". ",q.titleText),c("React").createElement("div",{className:"_1wfo"},q.subText))}function p(){__p&&__p();var q=[];q.push(j);if(c("SphericalVideoExperiments").enableTextHotspots&&c("SphericalVideoExperiments").enableImageHotspots)q.push(k);else if(c("SphericalVideoExperiments").enableTextHotspots)q.push(l);else if(c("SphericalVideoExperiments").enableImageHotspots)q.push(m);q.push(n);var r=q.map(function(s,t){return c("React").createElement(o,{key:t,num:t+1,titleText:s.title,subText:s.subText})});return c("React").createElement("div",{className:"_1mtr"},c("React").createElement("div",{className:"_2fb1"}),c("React").createElement("div",{className:"_1mts"},c("React").createElement("div",{className:"_1wfp"},i._("Get started")),r))}f.exports=p}),null);
__d("VideoComposerDialogSphericalDirectorSection.react",["cx","fbt","ComposerVideoUploadSphericalConstants","ComposerVideoUploadSphericalControlsTabContainer.react","FlexLayout.react","React","ReactComposerContextProviderMixin","VideoComposerDialogMode","VideoComposerDialogRadioButton.react","VideoComposerDialogSphericalDirectorInfo.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").createClass({displayName:"SphericalControlsContainerWrapper",mixins:[c("ReactComposerContextProviderMixin")],render:function n(){return c("React").createElement("div",null,c("React").createElement(c("ComposerVideoUploadSphericalControlsTabContainer.react"),{componentSource:c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.PAGE_COMPOSER_V2,shown:true,showOmnistabSection:this.props.showOmnistabSection,startVisible:true,targetID:this.props.contextConfig.targetID,videoFile:this.props.videoFile,videoID:this.props.videoID}))}});j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){var n=i._("360\u00b0 mode"),o=this.props.dialogMode===c("VideoComposerDialogMode").VIDEO_UPLOAD,p=!!this.props.contextConfig&&(this.props.dialogMode===c("VideoComposerDialogMode").VIDEO_UPLOAD?!!this.props.videoFile:!!this.props.videoID),q=p&&this.props.spherical;return c("React").createElement("div",null,c("React").createElement("div",{className:"_1xl9"}),c("React").createElement(c("FlexLayout.react"),{className:"_30d3",align:"start",justify:"all"},c("React").createElement("div",{className:"_21bg"},c("React").createElement("div",{className:"_30d5"},i._("360 Director tools")),!q&&c("React").createElement("div",{className:"_21bh"},i._("During playback, the viewer has control of the viewing direction such as a panorama."))),o&&c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:this.props.spherical,className:"_30d6",label:n,onSelect:function(){return this.props.ontoggleSpherical(!this.props.spherical)}.bind(this)})),q?c("React").createElement(l,{contextConfig:this.props.contextConfig,showOmnistabSection:this.props.showOmnistabSection,videoFile:this.props.dialogMode===c("VideoComposerDialogMode").VIDEO_UPLOAD?this.props.videoFile:null,videoID:this.props.dialogMode===c("VideoComposerDialogMode").VIDEO_EDIT?this.props.videoID:null}):c("React").createElement(c("VideoComposerDialogSphericalDirectorInfo.react"),null))};function m(){j.apply(this,arguments)}f.exports=m}),null);
__d("AdBreakStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ENABLED:"enabled",DELETED:"deleted",DISABLED:"disabled"})}),null);
__d("PagesSettingsInstreamAdsBlockListDataTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({INIT:null,DELETE_BLOCK_LISTS:null,DID_DELETE_BLOCK_LISTS:null,DELETE_BLOCK_LISTS_FAILURE:null,LOAD_ALL:null,RECEIVE_DATA:null,SELECT_BLOCK_LIST:null,APPLY_BLOCK_LIST:null,UNAPPLY_BLOCK_LIST:null,ASYNC_REQUEST_ERROR:null,EXPORT_SINGLE_BLOCK_LIST:null,EXPORT_ALL_BLOCK_LISTS:null,IMPORT_BLOCK_LISTS:null,DID_IMPORT_BLOCK_LISTS:null,IMPORT_DID_FAIL:null}),i=c("keyMirror")({INIT_CONTENT:null,LOAD_CATEGORIES:null,UPDATE_NAME:null,UPDATE_PAGE_LEVEL_CHECKBOX:null,ADD_CATEGORY_TO_UI:null,REMOVE_CATEGORY_FROM_UI:null,ADD_PAGE_TO_UI:null,REMOVE_PAGE_FROM_UI:null,LOAD_CONTENT:null,RECEIVE_CONTENT_DATA:null,UPDATE_BLOCK_LIST_CONTENT:null,DID_UPDATE_BLOCK_LIST_CONTENT:null,ASYNC_REQUEST_ERROR:null,ADD_TARGET_PAGE_TO_UI:null,REMOVE_TARGET_PAGE_FROM_UI:null});f.exports={BlockListActionTypes:h,BlockListContentActionTypes:i}}),null);
__d("PagesSettingsInstreamAdsBlockListDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("ExplicitRegistrationReactDispatcher"))({strict:true})}),null);
__d("PagesSettingsInstreamAdsBlockListContentActions",["PagesSettingsInstreamAdsBlockListDispatcher","PagesSettingsInstreamAdsBlockListDataTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("PagesSettingsInstreamAdsBlockListDataTypes").BlockListContentActionTypes,i={setPageID:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.INIT_CONTENT,currentPageId:k})},setBusinessID:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.INIT_CONTENT,currentBusinessId:k})},loadCategories:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.LOAD_CATEGORIES,enableSubcategories:k})},updateName:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.UPDATE_NAME,name:k})},updatePageLevelCheckbox:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.UPDATE_PAGE_LEVEL_CHECKBOX,checked:k})},addCategoryToUI:function j(k,l){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.ADD_CATEGORY_TO_UI,categoryId:k,categoryName:l})},removeCategoryFromUI:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.REMOVE_CATEGORY_FROM_UI,categoryId:k})},addPageToUI:function j(k,l){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.ADD_PAGE_TO_UI,pageId:k,pageTitle:l})},removePageFromUI:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.REMOVE_PAGE_FROM_UI,pageId:k})},addTargetPageToUI:function j(k,l){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.ADD_TARGET_PAGE_TO_UI,pageId:k,pageTitle:l})},removeTargetPageFromUI:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.REMOVE_TARGET_PAGE_FROM_UI,pageId:k})},receiveContentData:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.RECEIVE_CONTENT_DATA,data:k})},createOrUpdateBlockListContent:function j(){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.UPDATE_BLOCK_LIST_CONTENT})},didUpdateBlockListContent:function j(){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.DID_UPDATE_BLOCK_LIST_CONTENT})},asyncRequestError:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.ASYNC_REQUEST_ERROR,response:k})}};f.exports=i}),null);
__d("PagesSettingsInstreamAdsBlockListActions",["PagesSettingsInstreamAdsBlockListContentActions","PagesSettingsInstreamAdsBlockListDataTypes","PagesSettingsInstreamAdsBlockListDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("PagesSettingsInstreamAdsBlockListDataTypes").BlockListActionTypes,i={initializeBlockLists:function j(k,l){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.INIT,currentPageId:k,targetIsVideoAssetIds:l});c("PagesSettingsInstreamAdsBlockListContentActions").setPageID(k);i.loadAllData()},initializeBlockListsOnBusinessLevel:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.INIT,currentBusinessId:k});c("PagesSettingsInstreamAdsBlockListContentActions").setBusinessID(k);i.loadAllData()},deleteBlockLists:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.DELETE_BLOCK_LISTS,blockListIds:k})},didDeleteBlockLists:function j(){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.DID_DELETE_BLOCK_LISTS})},deleteBlockListsFailure:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.DELETE_BLOCK_LISTS_FAILURE,blockListIds:k})},loadAllData:function j(){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.LOAD_ALL})},receiveData:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.RECEIVE_DATA,data:k})},selectBlockList:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.SELECT_BLOCK_LIST,blockList:k})},applyBlockList:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.APPLY_BLOCK_LIST,blockListId:k})},unapplyBlockList:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.UNAPPLY_BLOCK_LIST,blockListId:k})},asyncRequestError:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.ASYNC_REQUEST_ERROR,response:k})},exportSingleBlockList:function j(k){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.EXPORT_SINGLE_BLOCK_LIST,blockListId:k})},exportAllBlockLists:function j(){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.EXPORT_ALL_BLOCK_LISTS})},importBlockLists:function j(k,l){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.IMPORT_BLOCK_LISTS,replaceBlockLists:k,fileInput:l})},didImportBlockLists:function j(){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.DID_IMPORT_BLOCK_LISTS})},importDidFail:function j(){c("PagesSettingsInstreamAdsBlockListDispatcher").dispatch({type:h.IMPORT_DID_FAIL})}};f.exports=i}),null);
__d("XPagesSettingsInstreamAdsBlockListContentQueryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/admin/people_and_other_pages/block_list/content/",{block_list_id:{type:"FBID",required:true}})}),null);
__d("XPagesSettingsInstreamAdsBlockListMutationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/admin/people_and_other_pages/block_list/mutation/",{page_id:{type:"FBID"},blocked_page_ids:{type:"FBIDSet",defaultValue:[]},blocked_categories:{type:"IntSet",defaultValue:[]},block_list_name:{type:"String",required:true},is_active:{type:"Bool",defaultValue:false},is_profile_level:{type:"Bool",defaultValue:false},block_list_id:{type:"FBID"},business_id:{type:"FBID"},target_pages:{type:"FBIDSet",defaultValue:[]}})}),null);
__d("PagesSettingsInstreamAdsBlockListContentRequestHandler",["PagesSettingsInstreamAdsBlockListContentActions","AsyncRequest","XPagesSettingsInstreamAdsBlockListContentQueryController","XPagesSettingsInstreamAdsBlockListMutationController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={requestBlockListContentData:function i(j){var k=c("XPagesSettingsInstreamAdsBlockListContentQueryController").getURIBuilder().setFBID("block_list_id",j).getURI();new(c("AsyncRequest"))(k).setHandler(function(l){return c("PagesSettingsInstreamAdsBlockListContentActions").receiveContentData(l.payload.data)}).setErrorHandler(function(l){return c("PagesSettingsInstreamAdsBlockListContentActions").asyncRequestError(l)}).send()},createOrUpdateBlockListContent:function i(j,k,l,m,n,o,p,q,r){var s=c("XPagesSettingsInstreamAdsBlockListMutationController").getURIBuilder().setFBID("page_id",j).setFBIDSet("blocked_page_ids",k).setIntSet("blocked_categories",l).setString("block_list_name",m).setBool("is_active",n).setBool("is_profile_level",o).setFBID("block_list_id",p).setFBID("business_id",q).setFBIDSet("target_pages",r).getURI();new(c("AsyncRequest"))(s).setHandler(function(t){return c("PagesSettingsInstreamAdsBlockListContentActions").didUpdateBlockListContent()}).setErrorHandler(function(t){return c("PagesSettingsInstreamAdsBlockListContentActions").asyncRequestError(t)}).send()}};f.exports=h}),null);
__d("PagesSettingsInstreamAdsBlockListContentStoreState",["fbt","immutable"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k={allCategories:[],allContentLoaded:false,blockedCategories:[],blockedPages:[],blockListId:null,blockListName:String(h._("Default")),businessId:null,enableSubcategories:false,errorInfo:null,isBusinessLevel:false,isPageLevel:true,pageId:null,requestSent:false,targetPages:[],updatedBlockListContent:false};i=babelHelpers.inherits(l,c("immutable").Record(k));j=i&&i.prototype;function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("PagesSettingsInstreamAdsBlockListContentStore",["fbt","invariant","FluxReduceStore","InstreamAdsBlockListCategory$FbtEnum","InstreamAdsBlockListCategoryMaps","PagesSettingsInstreamAdsBlockListContentRequestHandler","PagesSettingsInstreamAdsBlockListContentStoreState","PagesSettingsInstreamAdsBlockListDataTypes","PagesSettingsInstreamAdsBlockListDispatcher","PagesSettingsInstreamAdsBlockListStore"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("InstreamAdsBlockListCategoryMaps").CategoryParentToChildMap,m=c("InstreamAdsBlockListCategoryMaps").CategoryTypeToNameMap,n=c("InstreamAdsBlockListCategoryMaps").CategoryChildToParentMap,o=c("InstreamAdsBlockListCategoryMaps").NotCategorized,p=c("PagesSettingsInstreamAdsBlockListDataTypes").BlockListActionTypes,q=c("PagesSettingsInstreamAdsBlockListDataTypes").BlockListContentActionTypes;j=babelHelpers.inherits(r,c("FluxReduceStore"));k=j&&j.prototype;function r(s){k.constructor.call(this,s)}r.prototype.getInitialState=function(){return new(c("PagesSettingsInstreamAdsBlockListContentStoreState"))()};r.prototype.reduce=function(s,t){__p&&__p();switch(t.type){case q.INIT_CONTENT:return this.$PagesSettingsInstreamAdsBlockListContentStore1(s,t);case q.LOAD_CATEGORIES:return this.$PagesSettingsInstreamAdsBlockListContentStore2(s,t);case q.UPDATE_NAME:return this.$PagesSettingsInstreamAdsBlockListContentStore3(s,t);case q.UPDATE_PAGE_LEVEL_CHECKBOX:return this.$PagesSettingsInstreamAdsBlockListContentStore4(s,t);case q.RECEIVE_CONTENT_DATA:return this.$PagesSettingsInstreamAdsBlockListContentStore5(s,t);case q.ADD_PAGE_TO_UI:return this.$PagesSettingsInstreamAdsBlockListContentStore6(s,t);case q.REMOVE_PAGE_FROM_UI:return this.$PagesSettingsInstreamAdsBlockListContentStore7(s,t);case q.ADD_CATEGORY_TO_UI:return this.$PagesSettingsInstreamAdsBlockListContentStore8(s,t);case q.REMOVE_CATEGORY_FROM_UI:return this.$PagesSettingsInstreamAdsBlockListContentStore9(s,t);case q.ADD_TARGET_PAGE_TO_UI:return this.$PagesSettingsInstreamAdsBlockListContentStore10(s,t);case q.REMOVE_TARGET_PAGE_FROM_UI:return this.$PagesSettingsInstreamAdsBlockListContentStore11(s,t);case q.UPDATE_BLOCK_LIST_CONTENT:return this.$PagesSettingsInstreamAdsBlockListContentStore12(s,t);case q.DID_UPDATE_BLOCK_LIST_CONTENT:return this.$PagesSettingsInstreamAdsBlockListContentStore13(s,t);case q.ASYNC_REQUEST_ERROR:return this.$PagesSettingsInstreamAdsBlockListContentStore14(s,t);case p.SELECT_BLOCK_LIST:c("PagesSettingsInstreamAdsBlockListDispatcher").waitFor([c("PagesSettingsInstreamAdsBlockListStore").getDispatchToken()]);return this.$PagesSettingsInstreamAdsBlockListContentStore15(s,t)}return s};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore1=function(s,t){s=this.getInitialState();s=s.set("pageId",t.currentPageId);s=s.set("businessId",t.currentBusinessId);return s};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore2=function(s,t){s=s.set("enableSubcategories",t.enableSubcategories);s=s.set("allCategories",this.$PagesSettingsInstreamAdsBlockListContentStore16(t.enableSubcategories));return s};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore17=function(s){var t=this.getInitialState();t=t.set("pageId",s.pageId);t=t.set("businessId",s.businessId);t=t.set("enableSubcategories",s.enableSubcategories);t=t.set("allCategories",s.allCategories);return t};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore3=function(s,t){return s.set("blockListName",t.name)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore4=function(s,t){return s.set("isPageLevel",t.checked)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore15=function(s,t){var u=t.blockList?t.blockList.id:null,v=this.$PagesSettingsInstreamAdsBlockListContentStore17(s);v=v.set("blockListId",u);if(v.blockListId){v=v.set("requestSent",true);v=v.set("allContentLoaded",false);c("PagesSettingsInstreamAdsBlockListContentRequestHandler").requestBlockListContentData(v.blockListId)}else v=v.set("allContentLoaded",true);return v};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore5=function(s,t){__p&&__p();if(!t.data)return s;Array.isArray(t.data.blockedPages)||i(0);s=s.set("requestSent",false);s=s.set("allContentLoaded",true);s=s.set("blockedPages",Array.from(t.data.blockedPages));s=s.set("blockedCategories",Array.from(t.data.blockedCategories.map(function(u){return this.$PagesSettingsInstreamAdsBlockListContentStore18(u.toString())}.bind(this))));s=s.set("targetPages",Array.from(t.data.targetPages));s=s.set("blockListName",t.data.blockListName);s=s.set("isPageLevel",t.data.isPageLevel);s=s.set("isBusinessLevel",t.data.isBusinessLevel);return s};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore7=function(s,t){var u=Array.from(s.blockedPages).filter(function(v){return v.id!==t.pageId});return s.set("blockedPages",u)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore6=function(s,t){var u=Array.from(s.blockedPages),v=u.find(function(w){return w.id==t.pageId});if(!v)u.push({id:t.pageId,title:t.pageTitle});return s.set("blockedPages",u)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore9=function(s,t){var u=this.$PagesSettingsInstreamAdsBlockListContentStore19(t.categoryId),v=Array.from(s.blockedCategories).filter(function(w){if(!u)return w.id!==t.categoryId&&w.id!==this.$PagesSettingsInstreamAdsBlockListContentStore20(t.categoryId);else return w.id!==t.categoryId&&!u.includes(w.id)}.bind(this));return s.set("blockedCategories",v)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore8=function(s,t){__p&&__p();var u=Array.from(s.blockedCategories),v=this.$PagesSettingsInstreamAdsBlockListContentStore19(t.categoryId),w=u.find(function(x){return x.id==t.categoryId});if(!w&&v){u.push(this.$PagesSettingsInstreamAdsBlockListContentStore18(t.categoryId));v.map(function(x){return u.push(this.$PagesSettingsInstreamAdsBlockListContentStore18(x))}.bind(this))}else if(!w)u.push({id:t.categoryId,name:t.categoryName});return s.set("blockedCategories",u)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore11=function(s,t){var u=Array.from(s.targetPages).filter(function(v){return v.id!==t.pageId});return s.set("targetPages",u)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore10=function(s,t){var u=Array.from(s.targetPages),v=u.find(function(w){return w.id==t.pageId});if(!v)u.push({id:t.pageId,title:t.pageTitle});return s.set("targetPages",u)};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore12=function(s,t){if(!s.blockListName)return s.set("errorInfo",h._("Failed to update block list. Block list name is required."));s=s.set("requestSent",true);s=s.set("errorInfo",null);c("PagesSettingsInstreamAdsBlockListContentRequestHandler").createOrUpdateBlockListContent(s.pageId,s.blockedPages.map(function(u){return u.id}),s.blockedCategories.map(function(u){return Number(u.id)}),s.blockListName,true,s.isPageLevel,s.blockListId,s.businessId,s.targetPages.map(function(u){return u.id}));return s};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore13=function(s,t){s=s.set("requestSent",false);s=s.set("updatedBlockListContent",true);return s};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore14=function(s,t){s=s.set("requestSent",false);s=s.set("errorInfo",t.response.errorDescription);return s};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore16=function(s){__p&&__p();var t=[];Object.keys(l).sort(function(u,v){if(u===v)return 0;if(parseInt(u,10)===o)return 1;if(parseInt(v,10)===o)return-1;return this.$PagesSettingsInstreamAdsBlockListContentStore18(u).name.toString()<this.$PagesSettingsInstreamAdsBlockListContentStore18(v).name.toString()?-1:1}.bind(this)).map(function(u){t.push(this.$PagesSettingsInstreamAdsBlockListContentStore18(u));if(s)t=t.concat(l[u].map(function(v){return this.$PagesSettingsInstreamAdsBlockListContentStore18(v.toString())}.bind(this)).sort(function(v,w){if(v===w)return 0;return v.name.toString()<w.name.toString()?-1:1}))}.bind(this));return t};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore20=function(s){return n[s]?n[s].toString():null};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore19=function(s){return l[s]?l[s].map(function(t){return t.toString()}):null};r.prototype.$PagesSettingsInstreamAdsBlockListContentStore18=function(s){return{id:s,name:h._({"CATEGORY_ACCESSORIES_DEPRECATED":"Accessories","CATEGORY_AIR_TRAVEL":"Air travel","CATEGORY_ALCOHOL":"Alcohol","CATEGORY_APPAREL":"Clothing","CATEGORY_APPLICATIONS_AND_SOFTWARE":"Applications & Software","CATEGORY_ARTS":"Arts","CATEGORY_ARTS_AND_ENTERTAINMENT":"Art & Entertainment","CATEGORY_AUDIO_AND_VIDEO_EQUIPMENT":"Audio & Video Equipment","CATEGORY_AUTOS":"Cars","CATEGORY_AUTOS_AND_VEHICLES":"Cars & vehicles","CATEGORY_BANKING":"Banking","CATEGORY_BEAUTY_AND_FASHION":"Beauty & Fashion","CATEGORY_BEVERAGES":"Drinks","CATEGORY_BOATS":"Boats","CATEGORY_BOOKS_AND_LITERATURE":"Books & literature","CATEGORY_BUSINESS":"Business","CATEGORY_BUS_RAIL":"Bus & rail","CATEGORY_CAMERA_PHOTO":"Camera photo","CATEGORY_CAR_RENTAL_TAXI":"Car rental & taxis","CATEGORY_CHILDCARE":"Childcare","CATEGORY_COMPUTERS":"Computers","CATEGORY_COMPUTERS_AND_ELECTRONICS":"Computers & Electronics","CATEGORY_CREDIT_CARD":"Credit\/debit card","CATEGORY_CRUISES":"Cruises","CATEGORY_CUISINE":"Cuisine","CATEGORY_DATING":"Dating","CATEGORY_DESTINATION_SERVICES":"Destination Services","CATEGORY_DIGITAL_GAMES":"Digital Games","CATEGORY_DRUGS_AND_SUPPLEMENTS":"Drugs & Supplements","CATEGORY_EDUCATION":"Education","CATEGORY_ENTERTAINMENT_MEDIA_DEPRECATED":"Entertainment & media","CATEGORY_EVENT_LISTINGS":"Event listings","CATEGORY_FASHION":"Fashion","CATEGORY_FINANCE":"Finance","CATEGORY_FITNESS":"Fitness","CATEGORY_FOOD":"Food","CATEGORY_FOOTWEAR":"Footwear","CATEGORY_GAMBLING":"Gambling","CATEGORY_GAMES":"Games","CATEGORY_GAME_SYSTEMS_DEPRECATED":"Game systems","CATEGORY_GIFT_CARDS_AND_DISCOUNTS":"Gift Cards & Discounts","CATEGORY_HEALTH_AND_FITNESS":"Health & Fitness","CATEGORY_HOBBIES_AND_LEISURE":"Hobbies & Leisure","CATEGORY_HOME_AND_GARDEN":"Home & garden","CATEGORY_HOTELS":"Hotels","CATEGORY_INDUSTRIAL":"Industrial","CATEGORY_INSURANCE":"Insurance","CATEGORY_INTERNET_TELECOM":"Internet telecommunications","CATEGORY_INVESTING":"Investing","CATEGORY_JEWELRY_AND_ACCESSORIES":"Jewelry & Accessories","CATEGORY_JOBS":"Jobs","CATEGORY_LAST":"Last","CATEGORY_LAW_GOVERNMENT_POLITICS":"Law, government & politics","CATEGORY_LOANS":"Loans","CATEGORY_LUXURY_GOODS_DEPRECATED":"Luxury goods","CATEGORY_MOTORCYCLES":"Motorbikes","CATEGORY_MOVIE":"Film","CATEGORY_MUSIC":"Music","CATEGORY_NEWS":"News","CATEGORY_NON_DIGITAL_GAMES":"Non-Digital Games","CATEGORY_OTHER":"Not categorised","CATEGORY_PARENTING":"Parenting","CATEGORY_PAYMENT_PROCESSORS":"Payment Processors","CATEGORY_PERFORMING_ARTS":"Performing arts","CATEGORY_PERSONAL_CARE":"Personal care","CATEGORY_PETS_AND_ANIMAL_CARE":"Pets & Animal Care","CATEGORY_PHONE":"Phone","CATEGORY_PORTABLE_ELECTRONICS":"Portable electronics","CATEGORY_PREGNANCY":"Pregnancy","CATEGORY_RADIO":"Radio","CATEGORY_REAL_ESTATE":"Property","CATEGORY_REAL_ESTATE_HOME":"Real Estate Home","CATEGORY_REAL_ESTATE_RENTAL":"Real Estate Rental","CATEGORY_RELIGION_AND_SPIRITUAL":"Religion & Spiritual","CATEGORY_REPRODUCTIVE_HEALTH":"Reproductive health","CATEGORY_RESTAURANTS":"Restaurants","CATEGORY_SERVICES":"Services","CATEGORY_SHOPPING":"Shopping","CATEGORY_SMALL_BUSINESS_DEPRECATED":"Small business","CATEGORY_SOCIAL_ISSUES_AND_ADVOCACY":"Social Issues & Advocacy","CATEGORY_SPECIALTY_TRAVEL_DEPRECATED":"Specialist travel","CATEGORY_SPECIAL_OCCASIONS":"Special occasions","CATEGORY_SPORTS":"Sport","CATEGORY_TELEVISION":"Television","CATEGORY_TOYS":"Toys","CATEGORY_TRAVEL":"Travel","CATEGORY_VIDEO_EQUIPMENT_DEPRECATED":"Video equipment"},[h["enum"](m[s],c("InstreamAdsBlockListCategory$FbtEnum"))])}};r.prototype.getAllCategories=function(){return this.getState().allCategories};f.exports=new r(c("PagesSettingsInstreamAdsBlockListDispatcher"))}),null);
__d("InstreamAdsBlockListState",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({APPLIED:"APPLIED",PARTIALLY_APPLIED:"PARTIALLY_APPLIED",NOT_APPLIED:"NOT_APPLIED"})}),null);
__d("XPagesSettingsInstreamAdsBlockListDeletionController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/admin/people_and_other_pages/block_list_deletion/",{page_id:{type:"FBID"},block_list_ids:{type:"FBIDVector",required:true},business_id:{type:"FBID"}})}),null);
__d("XPagesSettingsInstreamAdsBlockListExportCSVController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/admin/people_and_other_pages/block_list/export_csv/",{page_id:{type:"FBID",required:true},block_list_id:{type:"FBID"}})}),null);
__d("XPagesSettingsInstreamAdsBlockListImportCSVController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/admin/people_and_other_pages/block_list/import_csv/",{profile_id:{type:"FBID",required:true},replace_block_lists:{type:"Bool",defaultValue:false}})}),null);
__d("XPagesSettingsInstreamAdsBlockListQueryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/admin/people_and_other_pages/block_list/",{page_id:{type:"FBID"},is_video_asset_ids:{type:"FBIDVector"},business_id:{type:"FBID"}})}),null);
__d("PagesSettingsInstreamAdsBlockListRequestHandler",["PagesSettingsInstreamAdsBlockListActions","AsyncRequest","FileInputUploader","goURI","XPagesSettingsInstreamAdsBlockListDeletionController","XPagesSettingsInstreamAdsBlockListExportCSVController","XPagesSettingsInstreamAdsBlockListImportCSVController","XPagesSettingsInstreamAdsBlockListQueryController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={requestBlockListData:function i(j,k,l){var m=c("XPagesSettingsInstreamAdsBlockListQueryController").getURIBuilder().setFBID("page_id",j).setFBIDVector("is_video_asset_ids",k).setFBID("business_id",l).getURI();new(c("AsyncRequest"))(m).setHandler(function(n){return c("PagesSettingsInstreamAdsBlockListActions").receiveData(n.payload)}).setErrorHandler(function(n){return c("PagesSettingsInstreamAdsBlockListActions").asyncRequestError(n)}).send()},deleteBlockLists:function i(j,k,l){var m=c("XPagesSettingsInstreamAdsBlockListDeletionController").getURIBuilder().setFBID("page_id",j).setFBIDVector("block_list_ids",k).setFBID("business_id",l).getURI();new(c("AsyncRequest"))(m).setHandler(function(n){return c("PagesSettingsInstreamAdsBlockListActions").didDeleteBlockLists()}).setErrorHandler(function(n){return c("PagesSettingsInstreamAdsBlockListActions").deleteBlockListsFailure(k)}).send()},exportBlockLists:function i(j,k){var l=c("XPagesSettingsInstreamAdsBlockListExportCSVController").getURIBuilder().setFBID("page_id",j).setFBID("block_list_id",k).getURI();c("goURI")(l,true,true)},importBlockLists:function i(j,k,l){var m=c("XPagesSettingsInstreamAdsBlockListImportCSVController").getURIBuilder().setFBID("profile_id",j).setBool("replace_block_lists",k).getURI(),n=new(c("FileInputUploader"))(l);n.setURI(m);n.subscribe("success",function(o,p){if(p.response.payload.is_succeeded)c("PagesSettingsInstreamAdsBlockListActions").didImportBlockLists();else c("PagesSettingsInstreamAdsBlockListActions").importDidFail()});n.send()}};f.exports=h}),null);
__d("PagesSettingsInstreamAdsBlockListStoreState",["immutable","Map"],(function a(b,c,d,e,f,g){"use strict";var h,i,j={allBlockListsLoaded:false,blockLists:[],blockListStates:new(c("Map"))(),businessId:null,didImportBlockLists:false,editable:false,enableSubcategories:false,initialBlockListStates:new(c("Map"))(),pageId:null,requestSent:false,selectedBlockList:null,showLowFillRateWarning:false,targetIsVideoAssetIds:[]};h=babelHelpers.inherits(k,c("immutable").Record(j));i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("PagesSettingsInstreamAdsBlockListStore",["fbt","invariant","PagesSettingsInstreamAdsBlockListActions","PagesSettingsInstreamAdsBlockListDataTypes","PagesSettingsInstreamAdsBlockListContentStore","InstreamAdsBlockListState","PagesSettingsInstreamAdsBlockListStoreState","FluxReduceStore","Map","PagesSettingsInstreamAdsBlockListDispatcher","PagesSettingsInstreamAdsBlockListRequestHandler","React","SimpleXUIDialog","XUIDialogButton.react","XUIDialogCancelButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("PagesSettingsInstreamAdsBlockListDataTypes").BlockListActionTypes,m=c("PagesSettingsInstreamAdsBlockListDataTypes").BlockListContentActionTypes;j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;function n(o){k.constructor.call(this,o)}n.prototype.getInitialState=function(){return new(c("PagesSettingsInstreamAdsBlockListStoreState"))()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case l.INIT:return this.$PagesSettingsInstreamAdsBlockListStore1(o,p);case l.APPLY_BLOCK_LIST:return this.$PagesSettingsInstreamAdsBlockListStore2(o,p);case l.UNAPPLY_BLOCK_LIST:return this.$PagesSettingsInstreamAdsBlockListStore3(o,p);case l.DELETE_BLOCK_LISTS:return this.$PagesSettingsInstreamAdsBlockListStore4(o,p);case l.DID_DELETE_BLOCK_LISTS:return this.$PagesSettingsInstreamAdsBlockListStore5(o,p);case l.DELETE_BLOCK_LISTS_FAILURE:return this.$PagesSettingsInstreamAdsBlockListStore6(o,p);case l.LOAD_ALL:return this.$PagesSettingsInstreamAdsBlockListStore5(o,p);case l.RECEIVE_DATA:return this.$PagesSettingsInstreamAdsBlockListStore7(o,p);case l.ASYNC_REQUEST_ERROR:return this.$PagesSettingsInstreamAdsBlockListStore8(o,p);case l.SELECT_BLOCK_LIST:return this.$PagesSettingsInstreamAdsBlockListStore9(o,p);case l.EXPORT_SINGLE_BLOCK_LIST:return this.$PagesSettingsInstreamAdsBlockListStore10(o,p);case l.EXPORT_ALL_BLOCK_LISTS:return this.$PagesSettingsInstreamAdsBlockListStore10(o,p);case l.IMPORT_BLOCK_LISTS:return this.$PagesSettingsInstreamAdsBlockListStore11(o,p);case l.DID_IMPORT_BLOCK_LISTS:return this.$PagesSettingsInstreamAdsBlockListStore12(o,p);case l.IMPORT_DID_FAIL:return this.$PagesSettingsInstreamAdsBlockListStore13(o,p);case m.DID_UPDATE_BLOCK_LIST_CONTENT:c("PagesSettingsInstreamAdsBlockListDispatcher").waitFor([c("PagesSettingsInstreamAdsBlockListContentStore").getDispatchToken()]);return this.$PagesSettingsInstreamAdsBlockListStore5(o,p)}return o};n.prototype.$PagesSettingsInstreamAdsBlockListStore1=function(o,p){o=this.getInitialState();o=o.set("pageId",p.currentPageId);o=o.set("businessId",p.currentBusinessId);var q=p.targetIsVideoAssetIds?Array.from(p.targetIsVideoAssetIds):[];o=o.set("targetIsVideoAssetIds",q);return o};n.prototype.$PagesSettingsInstreamAdsBlockListStore5=function(o,p){o=o.set("didImportBlockLists",false);o=o.set("allBlockListsLoaded",false);o=o.set("requestSent",true);c("PagesSettingsInstreamAdsBlockListRequestHandler").requestBlockListData(o.pageId,o.targetIsVideoAssetIds,o.businessId);return o};n.prototype.$PagesSettingsInstreamAdsBlockListStore7=function(o,p){__p&&__p();if(!p.data.blockLists)return this.$PagesSettingsInstreamAdsBlockListStore8(o,p);Array.isArray(p.data.blockLists)||i(0);var q=[],r=o.blockListStates,s=new(c("Map"))();p.data.blockLists.forEach(function(t){q.push(t);var o=r.has(t.id)?r.get(t.id):t.state;if(o)s.set(t.id,o)});o=o.set("allBlockListsLoaded",true);o=o.set("requestSent",false);o=o.set("blockLists",q);o=o.set("initialBlockListStates",new(c("Map"))(s));o=o.set("showLowFillRateWarning",p.data.showLowFillRateWarning);o=o.set("enableSubcategories",p.data.enableSubcategories);o=o.set("blockListStates",s);o=o.set("editable",p.data.editable);return o};n.prototype.$PagesSettingsInstreamAdsBlockListStore4=function(o,p){o=o.set("requestSent",true);c("PagesSettingsInstreamAdsBlockListRequestHandler").deleteBlockLists(o.pageId,p.blockListIds,o.businessId);return o};n.prototype.$PagesSettingsInstreamAdsBlockListStore2=function(o,p){var q=new(c("Map"))(o.blockListStates.set(p.blockListId,c("InstreamAdsBlockListState").APPLIED));return o.set("blockListStates",q)};n.prototype.$PagesSettingsInstreamAdsBlockListStore3=function(o,p){var q=new(c("Map"))(o.blockListStates.set(p.blockListId,c("InstreamAdsBlockListState").NOT_APPLIED));return o.set("blockListStates",q)};n.prototype.$PagesSettingsInstreamAdsBlockListStore10=function(o,p){c("PagesSettingsInstreamAdsBlockListRequestHandler").exportBlockLists(o.pageId,p.blockListId);return o};n.prototype.$PagesSettingsInstreamAdsBlockListStore11=function(o,p){o=o.set("requestSent",true);c("PagesSettingsInstreamAdsBlockListRequestHandler").importBlockLists(o.pageId,p.replaceBlockLists,p.fileInput);return o};n.prototype.$PagesSettingsInstreamAdsBlockListStore12=function(o,p){o=this.$PagesSettingsInstreamAdsBlockListStore5(o,p);return o.set("didImportBlockLists",true)};n.prototype.$PagesSettingsInstreamAdsBlockListStore13=function(o,p){o=o.set("didImportBlockLists",false);c("SimpleXUIDialog").show(h._("There was an issue with importing the CSV file. You can only import existing block lists that were exported from a Facebook Page. CSV files that were edited are not supported."),h._("Block list not imported"));return this.$PagesSettingsInstreamAdsBlockListStore5(o,p)};n.prototype.$PagesSettingsInstreamAdsBlockListStore9=function(o,p){return o.set("selectedBlockList",p.blockList)};n.prototype.$PagesSettingsInstreamAdsBlockListStore6=function(o,p){this.$PagesSettingsInstreamAdsBlockListStore14(h._("There was an issue with deleting one or more of your block lists."),h._("Try deleting again?"),function(){return c("PagesSettingsInstreamAdsBlockListActions").deleteBlockLists(p.blockListIds)});return o.set("requestSent",false)};n.prototype.$PagesSettingsInstreamAdsBlockListStore8=function(o,p){this.$PagesSettingsInstreamAdsBlockListStore14(h._("There was an issue with loading your block lists."),h._("Block lists not loading"),function(){return c("PagesSettingsInstreamAdsBlockListActions").loadAllData()});return o.set("requestSent",false)};n.prototype.$PagesSettingsInstreamAdsBlockListStore14=function(o,p,q){var r=c("React").createElement("div",null,c("React").createElement(c("XUIDialogCancelButton.react"),null),c("React").createElement(c("XUIDialogButton.react"),{label:h._("Try Again"),action:"cancel",use:"confirm",onClick:q}));c("SimpleXUIDialog").showEx(o,p,r)};n.prototype.getComposerBlockListIdsToApply=function(){if(!this.getState().allBlockListsLoaded)return null;var o=this.getState().blockListStates,p=Array.from(o.keys()).filter(function(q){return o.get(q)===c("InstreamAdsBlockListState").APPLIED});return p};n.prototype.getBlockListIdsToAdd=function(){var o=this.getState().blockListStates;return Array.from(o.keys()).filter(function(p){return o.get(p)===c("InstreamAdsBlockListState").APPLIED})};n.prototype.getBlockListIdsToRemove=function(){var o=this.getState().blockListStates;return Array.from(o.keys()).filter(function(p){return o.get(p)===c("InstreamAdsBlockListState").NOT_APPLIED})};n.prototype.getBlockListStatesHasChanged=function(){var o=this.getState().blockListStates,p=this.getState().initialBlockListStates;return!Array.from(o.keys()).every(function(q){return p.get(q)===o.get(q)})};n.prototype.getTargetVideoAssets=function(){return this.getState().targetIsVideoAssetIds};f.exports=new n(c("PagesSettingsInstreamAdsBlockListDispatcher"))}),null);
__d("VideoComposerDialogAdBreakActions",["VideoComposerDialogDispatcher","VideoComposerDialogActionTypes","VideoPlayerController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(){var w={type:c("VideoComposerDialogActionTypes").AGREE_VIDEO_RIGHTS};c("VideoComposerDialogDispatcher").dispatch(w)},i=function i(w){var x={type:c("VideoComposerDialogActionTypes").BOOTLOAD_AD_BREAK_PARAMETERS,data:w};c("VideoComposerDialogDispatcher").dispatch(x)},j=function j(w){var x={type:c("VideoComposerDialogActionTypes").DELETE_AD_BREAK,adBreakIndex:w};c("VideoComposerDialogDispatcher").dispatch(x)},k=function k(w){var x={type:c("VideoComposerDialogActionTypes").FETCH_AD_BREAK_EDIT_PARAMETERS,data:w};c("VideoComposerDialogDispatcher").dispatch(x)},l=function l(){var w={type:c("VideoComposerDialogActionTypes").INSERT_AD_BREAK};c("VideoComposerDialogDispatcher").dispatch(w)},m=function m(w){var x={type:c("VideoComposerDialogActionTypes").SET_CURRENT_AD_BREAK,adBreakTimeOffset:w};c("VideoComposerDialogDispatcher").dispatch(x)},n=function n(w){var x={type:c("VideoComposerDialogActionTypes").SET_CURRENT_PREVIEW_INDEX,currentPreviewIndex:w};c("VideoComposerDialogDispatcher").dispatch(x)},o=function o(w){var x={type:c("VideoComposerDialogActionTypes").SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED,isAdBreakAutoAdjustmentEnabled:w};c("VideoComposerDialogDispatcher").dispatch(x)},p=function p(w){var x={type:c("VideoComposerDialogActionTypes").SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED,isAdBreakAutoInsertionEnabled:w};c("VideoComposerDialogDispatcher").dispatch(x)},q=function q(w){var x={type:c("VideoComposerDialogActionTypes").SET_IS_BRANDED_CONTENT_VIDEO,isBrandedContentVideo:w};c("VideoComposerDialogDispatcher").dispatch(x)},r=function r(w){var x={type:c("VideoComposerDialogActionTypes").START_PAGE_ONBOARDING,pageID:w};c("VideoComposerDialogDispatcher").dispatch(x)},s=function s(w){var x={type:c("VideoComposerDialogActionTypes").UPDATE_AD_BREAK_STATUS,adBreaksDisabled:w};c("VideoComposerDialogDispatcher").dispatch(x)},t=function t(w){var x={type:c("VideoComposerDialogActionTypes").UPDATE_HOLDOUT_TEST_STATUS,enabled:w};c("VideoComposerDialogDispatcher").dispatch(x)},u=function u(w,x){var y={type:c("VideoComposerDialogActionTypes").UPDATE_THUMBNAIL_URL,adBreakTimeOffset:w,thumbnailURL:x};c("VideoComposerDialogDispatcher").dispatch(y)},v=function v(w){var x={type:c("VideoComposerDialogActionTypes").UPDATE_VPC,vpc:w};c("VideoComposerDialogDispatcher").dispatch(x)};f.exports={agreeVideoRights:h,bootloadParameters:i,deleteAdBreak:j,fetchEditParameters:k,insertAdBreak:l,setCurrentAdBreak:m,setCurrentPreviewIndex:n,setIsAdBreakAutoAdjustmentEnabled:o,setIsAdBreakAutoInsertionEnabled:p,setIsBrandedContentVideo:q,startPageOnboarding:r,updateAdBreakStatus:s,updateHoldoutTestStatus:t,updateThumbnailURL:u,updateVPC:v}}),null);
__d("XVideoComposerDialogBootloadAdBreaksTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/bootload_ad_breaks/",{target_id:{type:"FBID",required:true}})}),null);
__d("XVideoComposerDialogEditAdBreaksTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/edit/ad_breaks/",{target_id:{type:"FBID",required:true},video_id:{type:"FBID",required:true}})}),null);
__d("VideoComposerDialogAdBreakUtils",["Promise","ActorURI","AdBreakPageOnboardingConstants","AdBreakPageOnboardingType","AdBreakPageOnboardingTypedLogger","AsyncRequest","AsyncResponse","VideoComposerDialogAdBreakActions","XAdBreakPageOnboardingController","XVideoComposerDialogBootloadAdBreaksTabController","XVideoComposerDialogEditAdBreaksTabController","goURI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(k){var l=c("XVideoComposerDialogBootloadAdBreaksTabController").getURIBuilder().setFBID("target_id",k).getURI(),m=c("ActorURI").create(l,k);new(c("AsyncRequest"))(m).setHandler(function(n){c("VideoComposerDialogAdBreakActions").bootloadParameters(n.payload)}).send()},i=function i(k){var l=c("XVideoComposerDialogEditAdBreaksTabController").getURIBuilder().setFBID("target_id",k.actorID).setFBID("video_id",k.videoID).getURI(),m=c("ActorURI").create(l,k.actorID);return new(c("Promise"))(function(n,o){new(c("AsyncRequest"))(m).setHandler(function(p){n(p)}).send()}).then(function(n){c("VideoComposerDialogAdBreakActions").fetchEditParameters(n.payload)})},j=function j(k){new(c("AdBreakPageOnboardingTypedLogger"))().setPageID(k).setAdBreakPageOnboardingEventType(c("AdBreakPageOnboardingType").COMPOSER_ENTRY_POINT).log();var l=c("XAdBreakPageOnboardingController").getURIBuilder().setFBID("creator_id",k).setEnum("entrypoint",c("AdBreakPageOnboardingConstants").FROM_COMPOSER).getURI();c("goURI")(l,true)};f.exports={beginBootloadingAdBreaksTab:h,fetchEditParameters:i,startPageOnboarding:j}}),null);
__d("VideoComposerDialogAdBreakStore",["Promise","AdBreakStatus","PagesSettingsInstreamAdsBlockListStore","DateConsts","VideoComposerDialogDispatcher","FluxReduceStore","immutable","PagesSettingsInstreamAdsBlockListActions","VideoComposerDialogActionTypes","VideoComposerDialogAdBreakActions","VideoComposerDialogAdBreakUtils","VideoPlayerController","flattenPHPQueryData","generateVideoThumbnails"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l=1e3,m=44,n=60,o=78,p={adBreaksDisabled:false,currentAdBreakTimeOffset:0,currentPreviewIndex:null,hasGapRule:true,holdoutTestEnabled:false,holdoutTestPublicMetadata:{isEligibleCreator:false,isExpired:false,isNuxVisible:false,isStarted:false},holdoutTestRevenueLossThresholdInCents:1e4,insertedAdBreaks:c("immutable").List(),isAdBreakAutoAdjustmentEnabled:true,isAdBreakAutoInsertionEnabled:true,isAdBreakInsertionRedesignV1:false,isAdBreakInsertionRedesignV2:false,isAdBreaksTabVisible:false,isBrandedContentVideo:false,isDemonetized:false,isPageOnboardingVisible:false,serverSideDisabledReasons:c("immutable").List(),videoRightsAgreed:false,vpc:null};h=babelHelpers.inherits(q,c("immutable").Record(p));i=h&&h.prototype;function q(){h.apply(this,arguments)}j=babelHelpers.inherits(r,c("FluxReduceStore"));k=j&&j.prototype;r.prototype.getInitialState=function(){return new q()};r.prototype.reduce=function(s,t){__p&&__p();switch(t.type){case c("VideoComposerDialogActionTypes").FILE_ADDED:return this.$VideoComposerDialogAdBreakStore1(s);case c("VideoComposerDialogActionTypes").RESET_COMPOSER:return this.$VideoComposerDialogAdBreakStore2();case c("VideoComposerDialogActionTypes").AGREE_VIDEO_RIGHTS:return this.$VideoComposerDialogAdBreakStore3(s);case c("VideoComposerDialogActionTypes").BOOTLOAD_AD_BREAK_PARAMETERS:return this.$VideoComposerDialogAdBreakStore4(s,t.data);case c("VideoComposerDialogActionTypes").DELETE_AD_BREAK:return this.$VideoComposerDialogAdBreakStore5(s,t.adBreakIndex);case c("VideoComposerDialogActionTypes").FETCH_AD_BREAK_EDIT_PARAMETERS:return this.$VideoComposerDialogAdBreakStore6(s,t.data);case c("VideoComposerDialogActionTypes").INSERT_AD_BREAK:return this.$VideoComposerDialogAdBreakStore7(s);case c("VideoComposerDialogActionTypes").SET_CURRENT_AD_BREAK:return this.$VideoComposerDialogAdBreakStore8(s,t.adBreakTimeOffset);case c("VideoComposerDialogActionTypes").SET_CURRENT_PREVIEW_INDEX:return this.$VideoComposerDialogAdBreakStore9(s,t.currentPreviewIndex);case c("VideoComposerDialogActionTypes").SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED:return this.$VideoComposerDialogAdBreakStore10(s,t.isAdBreakAutoAdjustmentEnabled);case c("VideoComposerDialogActionTypes").SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED:return this.$VideoComposerDialogAdBreakStore11(s,t.isAdBreakAutoInsertionEnabled);case c("VideoComposerDialogActionTypes").SET_IS_BRANDED_CONTENT_VIDEO:return this.$VideoComposerDialogAdBreakStore12(s,t.isBrandedContentVideo);case c("VideoComposerDialogActionTypes").START_PAGE_ONBOARDING:return this.$VideoComposerDialogAdBreakStore13(s,t.pageID);case c("VideoComposerDialogActionTypes").UPDATE_AD_BREAK_STATUS:return this.$VideoComposerDialogAdBreakStore14(s,t.adBreaksDisabled);case c("VideoComposerDialogActionTypes").UPDATE_HOLDOUT_TEST_STATUS:return this.$VideoComposerDialogAdBreakStore15(s,t.enabled);case c("VideoComposerDialogActionTypes").UPDATE_THUMBNAIL_URL:return this.$VideoComposerDialogAdBreakStore16(s,t.adBreakTimeOffset,t.thumbnailURL);case c("VideoComposerDialogActionTypes").UPDATE_VPC:return this.$VideoComposerDialogAdBreakStore17(s,t.vpc);default:return s}};r.prototype.getPostData=function(){__p&&__p();var s=this.getState(),t=s.adBreaksDisabled||s.isBrandedContentVideo,u=s.insertedAdBreaks.map(function(y){return{time_offset:y.timeOffset*c("DateConsts").MS_PER_SEC,status:t?c("AdBreakStatus").DISABLED:c("AdBreakStatus").ENABLED}}).toArray(),v=c("PagesSettingsInstreamAdsBlockListStore").getComposerBlockListIdsToApply(),w=s.holdoutTestEnabled&&!t&&u.length>0,x={};x.ad_breaks=u;x.ad_breaks_experiment_revenue_loss_threshold=s.holdoutTestRevenueLossThresholdInCents;x.enable_ad_breaks_experiment=w;if(v){x.ad_breaks_block_lists=v;x.has_ad_breaks_block_lists=true}x.should_auto_adjust_manual_ad_breaks=s.isAdBreakInsertionRedesignV1||s.isAdBreakInsertionRedesignV2?s.isAdBreakAutoAdjustmentEnabled:false;x.should_auto_insert_ad_breaks=s.isAdBreakInsertionRedesignV2?s.isAdBreakAutoInsertionEnabled:false;return c("Promise").resolve(x)};r.prototype.getEditRequestDataToSend=function(){var s=this.getPostData();return s.then(function(t){return c("flattenPHPQueryData")(t)})};r.prototype.$VideoComposerDialogAdBreakStore1=function(s){return s.merge({adBreaksDisabled:p.adBreaksDisabled,currentAdBreakTimeOffset:p.currentAdBreakTimeOffset,currentPreviewIndex:p.currentPreviewIndex,insertedAdBreaks:p.insertedAdBreaks,videoRightsAgreed:p.videoRightsAgreed,vpc:p.vpc})};r.prototype.$VideoComposerDialogAdBreakStore2=function(){return this.getInitialState()};r.prototype.$VideoComposerDialogAdBreakStore3=function(s){s=s.set("videoRightsAgreed",true);return s};r.prototype.$VideoComposerDialogAdBreakStore4=function(s,t){__p&&__p();var u=arguments.length<=2||arguments[2]===undefined?null:arguments[2];c("PagesSettingsInstreamAdsBlockListActions").initializeBlockLists(t.pageID,u?[u]:null);s=s.set("holdoutTestPublicMetadata",t.holdoutTestPublicMetadata);s=s.set("serverSideDisabledReasons",c("immutable").List(t.serverSideDisabledReasons));s=s.set("hasGapRule",t.hasGapRule);s=s.set("isAdBreakInsertionRedesignV1",t.isAdBreakInsertionRedesignV1);s=s.set("isAdBreakInsertionRedesignV2",t.isAdBreakInsertionRedesignV2);s=s.set("isAdBreaksTabVisible",t.isAdBreaksTabVisible);s=s.set("isPageOnboardingVisible",t.isPageOnboardingVisible);return s};r.prototype.$VideoComposerDialogAdBreakStore5=function(s,t){s=s.set("insertedAdBreaks",s.insertedAdBreaks.splice(t,1));return s};r.prototype.$VideoComposerDialogAdBreakStore6=function(s,t){s=this.$VideoComposerDialogAdBreakStore4(s,t,t.videoAssetID);s=s.set("insertedAdBreaks",c("immutable").List(t.insertedAdBreaks));s=s.set("isAdBreakAutoAdjustmentEnabled",t.isAdBreakAutoAdjustmentEnabled);s=s.set("isAdBreakAutoInsertionEnabled",t.isAdBreakAutoInsertionEnabled);s=s.set("isDemonetized",t.isDemonetized);s=s.set("adBreaksDisabled",s.insertedAdBreaks.filter(function(u){return u.status===c("AdBreakStatus").DISABLED}).count()>0);s=s.set("videoRightsAgreed",s.insertedAdBreaks.count()>0);return s};r.prototype.$VideoComposerDialogAdBreakStore7=function(s){if(s.insertedAdBreaks.findIndex(function(t){return t.timeOffset===s.currentAdBreakTimeOffset})>=0)return s;s=s.set("insertedAdBreaks",s.insertedAdBreaks.push({status:s.adBreaksDisabled?c("AdBreakStatus").DISABLED:c("AdBreakStatus").ENABLED,thumbnailURL:null,timeOffset:s.currentAdBreakTimeOffset}).sort(function(t,u){return t.timeOffset-u.timeOffset}));this.$VideoComposerDialogAdBreakStore18(s);return s};r.prototype.$VideoComposerDialogAdBreakStore8=function(s,t){var u=Math.round(t*l)/l;s=s.set("currentAdBreakTimeOffset",u);return s};r.prototype.$VideoComposerDialogAdBreakStore9=function(s,t){s=s.set("currentPreviewIndex",t);return s};r.prototype.$VideoComposerDialogAdBreakStore10=function(s,t){s=s.set("isAdBreakAutoAdjustmentEnabled",t);return s};r.prototype.$VideoComposerDialogAdBreakStore11=function(s,t){s=s.set("isAdBreakAutoInsertionEnabled",t);return s};r.prototype.$VideoComposerDialogAdBreakStore12=function(s,t){s=s.set("isBrandedContentVideo",t);return s};r.prototype.$VideoComposerDialogAdBreakStore13=function(s,t){c("VideoComposerDialogAdBreakUtils").startPageOnboarding(t);return s};r.prototype.$VideoComposerDialogAdBreakStore14=function(s,t){s=s.set("adBreaksDisabled",t);s=s.set("insertedAdBreaks",s.insertedAdBreaks.map(function(u){u.status=t?c("AdBreakStatus").DISABLED:c("AdBreakStatus").ENABLED;return u}));return s};r.prototype.$VideoComposerDialogAdBreakStore15=function(s,t){s=s.set("holdoutTestEnabled",t);return s};r.prototype.$VideoComposerDialogAdBreakStore16=function(s,t,u){var v=s.insertedAdBreaks.findIndex(function(w){return w.timeOffset===t});if(v<0)return s;return s.updateIn(["insertedAdBreaks",v],function(w){return babelHelpers["extends"]({},w,{thumbnailURL:u})})};r.prototype.$VideoComposerDialogAdBreakStore17=function(s,t){s=s.set("vpc",t);this.$VideoComposerDialogAdBreakStore18(s);return s};r.prototype.$VideoComposerDialogAdBreakStore18=function(s){__p&&__p();var t,u=s.vpc,v=s.insertedAdBreaks;if(u&&u.getVideoNodeNullable()){var w=function w(x){var y=v.get(x);if(y.thumbnailURL!==null)return"continue";c("generateVideoThumbnails")(u.getVideoNode(),s.isAdBreakInsertionRedesignV2?o:n,s.isAdBreakInsertionRedesignV2?m:n,1,"cover",y.timeOffset).done(function(z){c("VideoComposerDialogAdBreakActions").updateThumbnailURL(y.timeOffset,z.thumbnails[0].getURL())})};for(var x=0;x<v.count();x++){var t=w(x);if(t==="continue")continue}}};function r(){j.apply(this,arguments)}f.exports=new r(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogAdBreaksTabConfig",["ix","fbt","Promise","VideoComposerDialogAdBreakContainer.react","VideoComposerDialogAdBreaksTabContainer.react","VideoComposerDialogTab","VideoComposerDialogAdBreakStore","VideoComposerDialogAdBreakUtils","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={key:c("VideoComposerDialogTab").AD_BREAKS,glyphSelected:h("401205"),glyphUnselected:h("401215"),title:i._("Ad Breaks"),defaultDescription:null,tabContainer:c("VideoComposerDialogAdBreaksTabContainer.react"),bodyContainer:c("VideoComposerDialogAdBreakContainer.react"),getCrosspostRequestDataToSend:function k(){return c("Promise").resolve()},getEditRequestDataToSend:function k(){return c("VideoComposerDialogAdBreakStore").getEditRequestDataToSend()},getPostData:function k(){return c("VideoComposerDialogAdBreakStore").getPostData()},fetchCrosspostData:function k(l){return c("Promise").resolve()},fetchEditPostData:function k(l){return c("VideoComposerDialogAdBreakUtils").fetchEditParameters(l)}};f.exports=j}),null);
__d("VideoComposerDialogBasicActions",["VideoComposerDialogActionTypes","VideoComposerDialogDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(o){var p={type:c("VideoComposerDialogActionTypes").BOOTLOAD_DEFAULT_EDIT_PARAMS,data:o};c("VideoComposerDialogDispatcher").dispatch(p)},i=function i(o){var p={type:c("VideoComposerDialogActionTypes").BOOTLOAD_DEFAULT_TAB_PARAMETERS,data:o};c("VideoComposerDialogDispatcher").dispatch(p)},j=function j(o){var p={type:c("VideoComposerDialogActionTypes").BOOTLOAD_CROSSPOST_DEFAULT_TAB,data:o};c("VideoComposerDialogDispatcher").dispatch(p)},k=function k(o){var p={type:c("VideoComposerDialogActionTypes").UPDATE_CONTENT_TAGS,tags:o};c("VideoComposerDialogDispatcher").dispatch(p)},l=function l(o){var p={type:c("VideoComposerDialogActionTypes").UPDATE_DESCRIPTION_EDITOR_STATE,editorState:o};c("VideoComposerDialogDispatcher").dispatch(p)},m=function m(o){var p={type:c("VideoComposerDialogActionTypes").UPDATE_VIDEO_PREVIEW_CONTROLLER,videoPreviewController:o};c("VideoComposerDialogDispatcher").dispatch(p)},n=function n(){var o={type:c("VideoComposerDialogActionTypes").USER_PLAYED_VIDEO_PREVIEW};c("VideoComposerDialogDispatcher").dispatch(o)};f.exports={bootloadDefaultEditParameters:h,bootloadDefaultTabParameters:i,bootloadCrosspostDefaultTabParameters:j,updateContentTags:k,updateDescriptionEditorState:l,updateVideoPreviewController:m,userPlayedVideoPreview:n}}),null);
__d("VideoComposerDialogSphericalDirectorActions",["VideoComposerDialogDispatcher","VideoComposerDialogActionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(l){var m={type:c("VideoComposerDialogActionTypes").BOOTLOAD_SPHERICAL_DIRECTOR_EDIT_PARAMETERS,data:l};c("VideoComposerDialogDispatcher").dispatch(m)},i=function i(l){var m={type:c("VideoComposerDialogActionTypes").BOOTLOAD_SPHERICAL_DIRECTOR_UPLOAD_PARAMETERS,data:l};c("VideoComposerDialogDispatcher").dispatch(m)},j=function j(l){var m={type:c("VideoComposerDialogActionTypes").BOOTLOAD_SPHERICAL_CONTEXT_CONFIG,data:l};c("VideoComposerDialogDispatcher").dispatch(m)},k=function k(l){var m={type:c("VideoComposerDialogActionTypes").TOGGLE_SPHERICAL,data:l};c("VideoComposerDialogDispatcher").dispatch(m)};f.exports={bootloadEditParameters:h,bootloadUploadParameters:i,bootloadSphericalContextConfig:j,toggleSpherical:k}}),null);
__d("XVideoComposerDialogBootloadDefaultTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/bootload_default/",{target_id:{type:"FBID",required:true}})}),null);
__d("XVideoComposerDialogCrosspostBootloadDefaultController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/crosspost/bootload_default/",{video_asset_id:{type:"FBID",required:true}})}),null);
__d("XVideoComposerDialogEditDefaultTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/edit/default/",{video_id:{type:"FBID",required:true}})}),null);
__d("VideoComposerDialogBasicUtils",["fbt","Promise","ActorURI","AnyTokenSearchSource","AsyncRequest","CompositeSearchSource","EditorState","InterestTaxonomyTypeaheadAppType","MentionsInputUtility","SearchableEntry","VideoComposerDialogBasicActions","VideoComposerDialogSphericalDirectorActions","WebAsyncSearchSource","XInterestTaxonomyTypeaheadDataSourceController","XVideoComposerDialogBootloadDefaultTabController","XVideoComposerDialogCrosspostBootloadDefaultController","XVideoComposerDialogEditDefaultTabController","getMentionsInputDecorator"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function i(p){var q=c("XVideoComposerDialogBootloadDefaultTabController").getURIBuilder().setFBID("target_id",p).getURI(),r=c("ActorURI").create(q,p);new(c("AsyncRequest"))(r).send()},j=function j(p,q){var r=c("XVideoComposerDialogCrosspostBootloadDefaultController").getURIBuilder().setFBID("video_asset_id",q).getURI(),s=c("ActorURI").create(r,p);return new(c("AsyncRequest"))(s).exec()},k=function k(p){var q=c("XVideoComposerDialogEditDefaultTabController").getURIBuilder().setFBID("video_id",p.videoID).getURI(),r=c("ActorURI").create(q,p.actorID);return new(c("Promise"))(function(s,t){new(c("AsyncRequest"))(r).setHandler(function(u){s(u)}).send()})},l=function l(p){if(p.length<=0)return[];return p.filter(function(q){return!q.getAuxiliaryData().isFreeForm}).map(function(q){return q.getUniqueID()})},m=function m(){var p=c("XInterestTaxonomyTypeaheadDataSourceController").getURIBuilder().setEnum("app",c("InterestTaxonomyTypeaheadAppType").VIDEO_CREATION).getURI();return new(c("CompositeSearchSource"))([new(c("WebAsyncSearchSource"))({queryRequests:[{uri:p}]}),new(c("AnyTokenSearchSource"))(function(q){var r=h._("Add a new tag \"{free form tag}\"",[h.param("free form tag",q)]);return new(c("SearchableEntry"))({uniqueID:q,title:r,auxiliaryData:{isFreeForm:true}})})])},n=function n(p){var q=c("MentionsInputUtility").createFromTextWithMentions(p,c("getMentionsInputDecorator")());c("EditorState").moveFocusToEnd(q);return q},o=function o(p){if(p.length<=0)return[];return p.filter(function(q){return q.getAuxiliaryData().isFreeForm}).map(function(q){return q.getUniqueID()})};f.exports={beginBootloadingDefaultTab:i,beginBootloadingCrosspostDefaultTab:j,bootloadDefaultTab:function p(q){c("VideoComposerDialogBasicActions").bootloadDefaultTabParameters(q);c("VideoComposerDialogSphericalDirectorActions").bootloadSphericalContextConfig(q.composerConfig.contextConfig)},bootloadCrosspostDefaultTab:function p(q){c("VideoComposerDialogBasicActions").bootloadCrosspostDefaultTabParameters(q)},bootloadDefaultEditParams:function p(q){c("VideoComposerDialogBasicActions").bootloadDefaultEditParameters(q)},fetchDefaultEditParams:k,getContentTagEntryIDs:l,getContentTagSearchSource:m,getEditorStateForText:n,getFreeFormContentTags:o}}),null);
__d("VideoComposerDialogBasicStore",["invariant","Promise","AdsCallToActionTypes","EditorState","FluxReduceStore","immutable","ReactComposerPostDataUtils","ReactComposerTaggerStore","ReactComposerTaggerType","StaticSearchSource","VideoComposerDialogActionTypes","VideoComposerDialogBasicUtils","VideoComposerDialogDispatcher","dotAccess","getMentionsInputDecorator","getMentionsTextForContentState"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l,m={bootloaded:false,composerConfig:null,contentTags:[],descriptionEditorState:c("EditorState").createEmpty(c("getMentionsInputDecorator")()),mentionsSearchSource:new(c("StaticSearchSource"))([]),taggerSearchSource:new(c("StaticSearchSource"))([]),videoPreviewController:null};i=babelHelpers.inherits(n,c("immutable").Record(m));j=i&&i.prototype;function n(){i.apply(this,arguments)}k=babelHelpers.inherits(o,c("FluxReduceStore"));l=k&&k.prototype;o.prototype.getInitialState=function(){return new n()};o.prototype.reduce=function(p,q){__p&&__p();switch(q.type){case c("VideoComposerDialogActionTypes").BOOTLOAD_DEFAULT_TAB_PARAMETERS:p=this.$VideoComposerDialogBasicStore1(p,q.data);return p;case c("VideoComposerDialogActionTypes").BOOTLOAD_CROSSPOST_DEFAULT_TAB:p=this.$VideoComposerDialogBasicStore1(p,q.data);p=p.set("descriptionEditorState",c("VideoComposerDialogBasicUtils").getEditorStateForText(q.data.description));p=p.set("contentTags",q.data.contentTags);return p;case c("VideoComposerDialogActionTypes").BOOTLOAD_DEFAULT_EDIT_PARAMS:p=this.$VideoComposerDialogBasicStore1(p,q.data);p=p.set("contentTags",q.data.contentTags);p=p.set("descriptionEditorState",c("VideoComposerDialogBasicUtils").getEditorStateForText(q.data.description));return p;case c("VideoComposerDialogActionTypes").UPDATE_CONTENT_TAGS:p=p.set("contentTags",q.tags);return p;case c("VideoComposerDialogActionTypes").UPDATE_DESCRIPTION_EDITOR_STATE:p=p.set("descriptionEditorState",q.editorState);return p;case c("VideoComposerDialogActionTypes").UPDATE_VIDEO_PREVIEW_CONTROLLER:p=p.set("videoPreviewController",q.videoPreviewController);return p;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:p=this.getInitialState();return p;default:return p}};o.prototype.$VideoComposerDialogBasicStore1=function(p,q){p=p.set("composerConfig",q.composerConfig);p=p.set("mentionsSearchSource",q.mentionsSearchSource);p=p.set("taggerSearchSource",q.taggerSearchSource);p=p.set("bootloaded",true);return p};o.prototype.getPostData=function(){var p=this.getState(),q=p.bootloaded,r=p.composerConfig,s=p.contentTags,t=p.descriptionEditorState;q&&r||h(0);var u=c("getMentionsTextForContentState")(t.getCurrentContent()),v=r.taggersConfig,w=v.get(c("ReactComposerTaggerType").TARGETING),x=w?c("dotAccess")(w,"feedTargetingGK"):false,y=c("ReactComposerPostDataUtils").getPostData({composerID:r.contextConfig.composerID,targetID:parseInt(r.contextConfig.targetID,10),composerConfig:{contextInfo:{}},useHints:x}),z=c("ReactComposerTaggerStore").hasMessagingCTA(r.contextConfig.composerID)?c("AdsCallToActionTypes").TYPES.MESSAGE_PAGE.name:null;return c("Promise").resolve({action_type_id:y.action_type_id,composertags_place:y.composertags_place,composertags_place_name:y.composertags_place_name,composertags_product_items:y.composertags_product_items,composertags_sponsor:y.composertags_sponsors,composertags_with:y.composertags_with,content_tags:c("VideoComposerDialogBasicUtils").getContentTagEntryIDs(s),cta_type:z,direct_share_status:y.direct_share_status,feed_targeted_data:y.feed_targeted_data,free_form_tags:c("VideoComposerDialogBasicUtils").getFreeFormContentTags(s),icon_id:y.icon_id,object_id:y.object_id,object_str:y.object_str,sponsor_relationship:y.sponsor_relationship,targeted_privacy_data:y.targeted_privacy_data,xhpc_message:u})};function o(){k.apply(this,arguments)}f.exports=new o(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogBasicTabConfig",["ix","fbt","Promise","React","SimpleNUXMessageTypes","VideoComposerDialogBasicContainer.react","VideoComposerDialogBasicStore","VideoComposerDialogBasicTabContainer.react","VideoComposerDialogBasicUtils","VideoComposerDialogTab","XUIText.react","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={key:c("VideoComposerDialogTab").BASIC,glyphSelected:h("401220"),glyphUnselected:h("401227"),title:i._("Video details"),defaultDescription:i._("Add details to your video and create your video post."),tabContainer:c("VideoComposerDialogBasicTabContainer.react"),bodyContainer:c("VideoComposerDialogBasicContainer.react"),getCrosspostRequestDataToSend:function k(){return c("Promise").resolve()},getEditRequestDataToSend:function k(){return c("Promise").resolve()},getPostData:function k(){return c("VideoComposerDialogBasicStore").getPostData()},fetchCrosspostData:function k(l){return c("VideoComposerDialogBasicUtils").beginBootloadingCrosspostDefaultTab(l.actorID,l.videoAssetID)},fetchEditPostData:function k(l){return c("VideoComposerDialogBasicUtils").fetchDefaultEditParams(l)},nuxMessage:c("SimpleNUXMessageTypes").VIDEO_COMPOSER_V2_INTRO,nuxWidth:290,renderNuxMessage:function k(){return c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{display:"block",size:"header4"},i._("Welcome to the new Video Uploader")),c("React").createElement(c("XUIText.react"),{size:"meta1"},i._("Access all of the tools you need to upload your video in one place.")))}};f.exports=j}),null);
__d("VideoComposerDialogCaptionsTabConfig",["ix","fbt","Promise","VideoComposerDialogCaptionEditorMasterContainer.react","VideoComposerDialogCaptionsTabContainer.react","VideoComposerDialogTab","VideoComposerDialogCaptionsStore","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={key:c("VideoComposerDialogTab").CAPTIONS,glyphSelected:h("401199"),glyphUnselected:h("401202"),title:i._("Subtitles and captions (CC)"),defaultDescription:i._("Add subtitles to your video in multiple languages. You can upload existing files, transcribe or auto-generate subtitles."),tabContainer:c("VideoComposerDialogCaptionsTabContainer.react"),bodyContainer:c("VideoComposerDialogCaptionEditorMasterContainer.react"),getCrosspostRequestDataToSend:function k(){return c("Promise").resolve()},getEditRequestDataToSend:function k(){return c("Promise").resolve()},getPostData:function k(){return c("VideoComposerDialogCaptionsStore").getPostData()},fetchCrosspostData:function k(l){return c("Promise").resolve()},fetchEditPostData:function k(l){return c("Promise").resolve()}};f.exports=j}),null);
__d("VideoComposerDialogDistributionTabConfig",["ix","fbt","Promise","VideoComposerDialogDistributionContainer.react","VideoComposerDialogDistributionStore","VideoComposerDialogDistributionTabContainer.react","VideoComposerDialogTab","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={key:c("VideoComposerDialogTab").DISTRIBUTION,glyphSelected:h("416637"),glyphUnselected:h("416644"),title:i._("Distribution"),defaultDescription:i._("Choose where your video will appear and who can watch or crosspost it."),tabContainer:c("VideoComposerDialogDistributionTabContainer.react"),bodyContainer:c("VideoComposerDialogDistributionContainer.react"),getCrosspostRequestDataToSend:function k(){return c("Promise").resolve()},getEditRequestDataToSend:function k(){return c("Promise").resolve()},getPostData:function k(){return c("VideoComposerDialogDistributionStore").getPostData()},fetchCrosspostData:function k(l){return c("Promise").resolve()},fetchEditPostData:function k(l){return c("Promise").resolve()}};f.exports=j}),null);
__d("VideoComposerDialogRightsTabConfig",["ix","fbt","Promise","VideoComposerDialogTab","VideoComposerDialogRightsContainer.react","VideoComposerDialogRightsStore","VideoComposerDialogRightsTabContainer.react","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={key:c("VideoComposerDialogTab").RIGHTS,glyphSelected:h("426191"),glyphUnselected:h("426199"),title:i._("Rights management"),defaultDescription:i._("This video is not being monitored for rights and matching uploads."),tabContainer:c("VideoComposerDialogRightsTabContainer.react"),bodyContainer:c("VideoComposerDialogRightsContainer.react"),getCrosspostRequestDataToSend:function k(){return c("Promise").resolve()},getEditRequestDataToSend:function k(){return c("Promise").resolve()},getPostData:function k(){return c("VideoComposerDialogRightsStore").getPostData()},fetchCrosspostData:function k(l){return c("Promise").resolve()},fetchEditPostData:function k(l){return c("Promise").resolve()}};f.exports=j}),null);
__d("ComposerVideoUploadSphericalActionType",[],(function a(b,c,d,e,f,g){f.exports={RESET_VIDEO_PLAYER_CONTROLLER:"RESET_VIDEO_PLAYER_CONTROLLER",SET_VIDEO_PLAYER_CONTROLLER:"SET_VIDEO_PLAYER_CONTROLLER",SET_VIDEO_UNAVAILABLE:"SET_VIDEO_UNAVAILABLE",UPDATE_ACTIVE_GUIDE_KEYFRAME:"UPDATE_ACTIVE_GUIDE_KEYFRAME",UPDATE_ADD_GUIDE_KEYFRAME:"UPDATE_ADD_GUIDE_KEYFRAME",UPDATE_SAVE_GUIDE_KEYFRAME:"UPDATE_SAVE_GUIDE_KEYFRAME",UPDATE_REMOVE_GUIDE_KEYFRAME:"UPDATE_REMOVE_GUIDE_KEYFRAME",UPDATE_DELETE_SELECTED_GUIDE_KEYFRAMES:"UPDATE_DELETE_SELECTED_GUIDE_KEYFRAMES",UPDATE_CLEAR_GUIDE_KEYFRAMES:"UPDATE_CLEAR_GUIDE_KEYFRAMES",UPDATE_CURRENT_VIEWPORT:"UPDATE_CURRENT_VIEWPORT",UPDATE_ENABLE_OMNISTAB:"UPDATE_ENABLE_OMNISTAB",UPDATE_ERROR_MESSAGE_INFO:"UPDATE_ERROR_MESSAGE_INFO",UPDATE_FOV:"UPDATE_FOV",UPDATE_GUIDE_ENABLED:"UPDATE_GUIDE_ENABLED",UPDATE_GUIDE_VISIBILITY:"UPDATE_GUIDE_VISIBILITY",UPDATE_GUIDE_KEYFRAMES:"UPDATE_GUIDE_KEYFRAMES",UPDATE_SUGGESTED_GUIDE_KEYFRAMES:"UPDATE_SUGGESTED_GUIDE_KEYFRAMES",UPDATE_TOGGLE_GUIDE_KEYFRAME_FOR_DELETION:"UPDATE_TOGGLE_GUIDE_KEYFRAME_FOR_DELETION",UPDATE_IS_EDITING_POINT_OF_INTEREST:"UPDATE_IS_EDITING_POINT_OF_INTEREST",UPDATE_SECTION_STATUS:"UPDATE_SECTION_STATUS",UPDATE_TAB_VISIBILITY:"UPDATE_TAB_VISIBILITY",UPDATE_ORIGINAL_SPHERICAL_METADATA:"UPDATE_ORIGINAL_SPHERICAL_METADATA",UPDATE_PROJECTION:"UPDATE_PROJECTION",UPDATE_STEREO_MODE:"UPDATE_STEREO_MODE",UPDATE_HAS_SPATIAL_AUDIO:"UPDATE_HAS_SPATIAL_AUDIO",UPDATE_ADD_HOTSPOT:"UPDATE_ADD_HOTSPOT",UPDATE_DELETE_HOTSPOT:"UPDATE_DELETE_HOTSPOT",UPDATE_HOTSPOTS:"UPDATE_HOTSPOTS"}}),null);
__d("ComposerVideoUploadSphericalAction",["ComposerVideoUploadSphericalActionType","ReactComposerDispatcher","ComposerVideoUploadSphericalStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ComposerVideoUploadSphericalStore");h.prototype.updateCurrentViewport=function(i,j,k){"use strict";var l={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_CURRENT_VIEWPORT,pitch:j,yaw:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.updateFOV=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_FOV,fov:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateGuideEnabled=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_GUIDE_ENABLED,guideEnabled:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateGuideVisibility=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_GUIDE_VISIBILITY,guideVisible:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateEnableOmnistab=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_ENABLE_OMNISTAB,enableOmnistab:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateGuideKeyframes=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_GUIDE_KEYFRAMES,guideKeyframes:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateSuggestedGuideKeyframes=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_SUGGESTED_GUIDE_KEYFRAMES,suggestedGuideKeyframes:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateAddGuideKeyframe=function(i,j,k){"use strict";var l={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_ADD_GUIDE_KEYFRAME,guideKeyframe:j,enableComposerRedesign:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.updateSaveGuideKeyframe=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_SAVE_GUIDE_KEYFRAME,guideKeyframe:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateRemoveGuideKeyframe=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_REMOVE_GUIDE_KEYFRAME,timestamp:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateClearGuideKeyframes=function(i){"use strict";var j={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_CLEAR_GUIDE_KEYFRAMES};c("ReactComposerDispatcher").dispatch(j)};h.prototype.updateTabVisibility=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_TAB_VISIBILITY,visible:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setVideoPlayerController=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").SET_VIDEO_PLAYER_CONTROLLER,controller:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setVideoUnavailable=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").SET_VIDEO_UNAVAILABLE,unavailable:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.resetVideoPlayerController=function(i){"use strict";var j={composerID:i,type:c("ComposerVideoUploadSphericalActionType").RESET_VIDEO_PLAYER_CONTROLLER};c("ReactComposerDispatcher").dispatch(j)};h.prototype.updateSectionStatus=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_SECTION_STATUS,sectionName:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateActiveGuideKeyframe=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_ACTIVE_GUIDE_KEYFRAME,timestamp:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateIsEditingPointOfInterest=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_IS_EDITING_POINT_OF_INTEREST,value:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateErrorMessage=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_ERROR_MESSAGE_INFO,error:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateToggleGuideKeyframeForDeletion=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_TOGGLE_GUIDE_KEYFRAME_FOR_DELETION,timestamp:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateDeleteSelectedGuideKeyframes=function(i){"use strict";var j={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_DELETE_SELECTED_GUIDE_KEYFRAMES};c("ReactComposerDispatcher").dispatch(j)};h.prototype.updateOriginalSphericalMetadata=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_ORIGINAL_SPHERICAL_METADATA,originalSphericalMetadata:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateProjection=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_PROJECTION,projection:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateStereoMode=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_STEREO_MODE,stereoMode:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateHasSpatialAudio=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_HAS_SPATIAL_AUDIO,hasSpatialAudio:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateAddHotspot=function(i,j,k){"use strict";var l={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_ADD_HOTSPOT,hotspotData:j,shouldIncrementId:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.updateDeleteHotspot=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_DELETE_HOTSPOT,hotspotId:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateHotspots=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadSphericalActionType").UPDATE_HOTSPOTS,hotspots:j};c("ReactComposerDispatcher").dispatch(k)};function h(){"use strict"}f.exports=new h()}),null);
__d("SphericalVideoGuideAnimationConfig",[],(function a(b,c,d,e,f,g){var h=Object.freeze({MIN_INTERVAL_MS:2e3,MS_PER_SECOND:1e3});f.exports=h}),null);
__d("ComposerVideoUploadSphericalGuideKeyframeData",["immutable","SphericalVideoGuideAnimationConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("SphericalVideoGuideAnimationConfig").MIN_INTERVAL_MS,k={fieldOfViewDegrees:60,isSelected:false,isSelectedForDeletion:false,pitch:0,thumbnailURI:"",timestamp:0,yaw:0};h=babelHelpers.inherits(l,c("immutable").Record(k));i=h&&h.prototype;l.getFromLegacyParams=function(m){return new l({timestamp:m[0],pitch:m[1],yaw:m[2]})};l.prototype.compare=function(m){return this.get("timestamp")-m.get("timestamp")};l.prototype.getLegacyParams=function(){return[this.timestamp,this.pitch,this.yaw]};l.prototype.isTooCloseTo=function(m){var n=Math.abs(this.get("timestamp")-m.get("timestamp"));return n<j};function l(){h.apply(this,arguments)}f.exports=l}),null);
__d("ComposerVideoUploadSphericalGuideUtils",["fbt","SimpleXUIDialog","SphericalVideoGuideAnimationConfig"],(function a(b,c,d,e,f,g,h){var i=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND,j=c("SphericalVideoGuideAnimationConfig").MIN_INTERVAL_MS,k=h._("Points of interest need to be at least {seconds} seconds apart.",[h.param("seconds",j/i+1)]),l=h._("Guide points need to be at least {seconds} seconds apart.",[h.param("seconds",j/i+1)]),m=h._("Not enough time between points"),n=h._("Not enough time between guide points"),o={getAddPointMessage:function p(q){return q?l:k},getAddPointTitle:function p(q){return q?n:m},showAddPointDialog:function p(q,r){c("SimpleXUIDialog").show(this.getAddPointMessage(r),this.getAddPointTitle(r),q);return}};f.exports=o}),null);
__d("FBHotspotMetadata",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({hotspots:[]});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("VideoProjection",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FLAT:"flat",EQUIRECTANGULAR:"equirectangular",CUBEMAP:"cubemap",UNPADDED_CUBEMAP:"unpadded_cubemap",UNPADDED_CUBESTRIP:"unpadded_cubestrip",OFFSET_CUBEMAP:"offset_cubemap",ROTATED_CUBEMAP:"rotated_cubemap",PYRAMID:"pyramid",STRETCHED_CUBEMAP:"stretched_cubemap",BARREL:"barrel",SINGLE_FISH_EYE:"single_fish_eye",CDS_BARREL:"cds_barrel",EQUIANGULAR_CUBEMAP:"equiangular_cubemap"})}),null);
__d("ComposerVideoUploadSphericalStore",["fbt","ComposerVideoUploadSphericalActionType","ComposerVideoUploadSphericalAction","ReactComposerStoreBase","FBHotspotMetadata","ComposerVideoUploadSphericalGuideKeyframeData","ComposerVideoUploadSphericalGuideUtils","immutable","VideoProjection","VideoStereoFormat","SphericalVideoGuideAnimationConfig"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("immutable").Set,l=c("immutable").List,m=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND,n=c("SphericalVideoGuideAnimationConfig").MIN_INTERVAL_MS;i=babelHelpers.inherits(o,c("ReactComposerStoreBase"));j=i&&i.prototype;function o(){"use strict";__p&&__p();var p=void 0;j.constructor.call(this,function(){return{guideEnabled:false,guideVisibility:true,guideKeyframes:l([c("ComposerVideoUploadSphericalGuideKeyframeData").getFromLegacyParams([0,0,0])]),suggestedGuideKeyframes:l([c("ComposerVideoUploadSphericalGuideKeyframeData").getFromLegacyParams([0,0,0])]),hotspots:new(c("FBHotspotMetadata"))({hotspots:[]}),nextHotspotId:0,fov:60,projection:c("VideoProjection").EQUIRECTANGULAR,stereoMode:c("VideoStereoFormat").MONO,hasSpatialAudio:false,currentViewport:{yaw:0,pitch:0},enableOmnistab:false,visible:false,controller:null,unavailable:false,expandedSections:k(),isEditingPointOfInterest:false,originalSphericalMetadata:{},errorInfo:null}},function(q){__p&&__p();switch(q.type){case c("ComposerVideoUploadSphericalActionType").UPDATE_CURRENT_VIEWPORT:p&&p.$ComposerVideoUploadSphericalStore1(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_FOV:p&&p.$ComposerVideoUploadSphericalStore2(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_GUIDE_ENABLED:p&&p.$ComposerVideoUploadSphericalStore3(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_GUIDE_VISIBILITY:p&&p.$ComposerVideoUploadSphericalStore4(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_GUIDE_KEYFRAMES:p&&p.$ComposerVideoUploadSphericalStore5(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_SUGGESTED_GUIDE_KEYFRAMES:p&&p.$ComposerVideoUploadSphericalStore6(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_ADD_GUIDE_KEYFRAME:p&&p.$ComposerVideoUploadSphericalStore7(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_SAVE_GUIDE_KEYFRAME:p&&p.$ComposerVideoUploadSphericalStore8(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_REMOVE_GUIDE_KEYFRAME:p&&p.$ComposerVideoUploadSphericalStore9(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_DELETE_SELECTED_GUIDE_KEYFRAMES:p&&p.$ComposerVideoUploadSphericalStore10(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_CLEAR_GUIDE_KEYFRAMES:p&&p.$ComposerVideoUploadSphericalStore11(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_ENABLE_OMNISTAB:p&&p.$ComposerVideoUploadSphericalStore12(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_TAB_VISIBILITY:p&&p.$ComposerVideoUploadSphericalStore13(q);break;case c("ComposerVideoUploadSphericalActionType").SET_VIDEO_PLAYER_CONTROLLER:p&&p.$ComposerVideoUploadSphericalStore14(q);break;case c("ComposerVideoUploadSphericalActionType").SET_VIDEO_UNAVAILABLE:p&&p.$ComposerVideoUploadSphericalStore15(q);break;case c("ComposerVideoUploadSphericalActionType").RESET_VIDEO_PLAYER_CONTROLLER:p&&p.$ComposerVideoUploadSphericalStore16(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_SECTION_STATUS:p&&p.$ComposerVideoUploadSphericalStore17(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_ACTIVE_GUIDE_KEYFRAME:p&&p.$ComposerVideoUploadSphericalStore18(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_TOGGLE_GUIDE_KEYFRAME_FOR_DELETION:p&&p.$ComposerVideoUploadSphericalStore19(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_IS_EDITING_POINT_OF_INTEREST:p&&p.$ComposerVideoUploadSphericalStore20(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_ERROR_MESSAGE_INFO:p&&p.$ComposerVideoUploadSphericalStore21(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_ORIGINAL_SPHERICAL_METADATA:p&&p.$ComposerVideoUploadSphericalStore22(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_PROJECTION:p&&p.$ComposerVideoUploadSphericalStore23(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_STEREO_MODE:p&&p.$ComposerVideoUploadSphericalStore24(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_HAS_SPATIAL_AUDIO:p&&p.$ComposerVideoUploadSphericalStore25(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_ADD_HOTSPOT:p&&p.$ComposerVideoUploadSphericalStore26(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_DELETE_HOTSPOT:p&&p.$ComposerVideoUploadSphericalStore27(q);break;case c("ComposerVideoUploadSphericalActionType").UPDATE_HOTSPOTS:p&&p.$ComposerVideoUploadSphericalStore28(q)}});p=this}o.prototype.getErrorMessageInfo=function(p){"use strict";return this.getComposerData(p).errorInfo};o.prototype.getCurrentViewport=function(p){"use strict";return this.getComposerData(p).currentViewport};o.prototype.getFOV=function(p){"use strict";return this.getComposerData(p).fov};o.prototype.getIsEditingPointOfInterest=function(p){"use strict";return this.getComposerData(p).isEditingPointOfInterest};o.prototype.getGuideEnabled=function(p){"use strict";return this.getComposerData(p).guideEnabled};o.prototype.getGuideVisibility=function(p){"use strict";return this.getComposerData(p).guideVisible};o.prototype.getEnableOmnistab=function(p){"use strict";return this.getComposerData(p).enableOmnistab};o.prototype.getGuideKeyframesLegacy=function(p){"use strict";return this.getComposerData(p).guideKeyframes.map(function(q){return q.getLegacyParams()}).toJS()};o.prototype.getActiveGuideKeyframe=function(p){"use strict";__p&&__p();var q=this.getGuideKeyframes(p);for(var r=q,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u;if(v.isSelected)return v}return null};o.prototype.getGuideKeyframes=function(p){"use strict";return this.getComposerData(p).guideKeyframes};o.prototype.getSuggestedGuideKeyframes=function(p){"use strict";return this.getComposerData(p).suggestedGuideKeyframes};o.prototype.getSphericalHotspots=function(p){"use strict";return this.getComposerData(p).hotspots};o.prototype.getNextHotspotId=function(p){"use strict";return this.getComposerData(p).nextHotspotId};o.prototype.getTabVisibility=function(p){"use strict";return this.getComposerData(p).visible};o.prototype.getVideoPlayerController=function(p){"use strict";return this.getComposerData(p).controller};o.prototype.getVideoUnavailable=function(p){"use strict";return this.getComposerData(p).unavailable};o.prototype.getExpandedSections=function(p){"use strict";return this.getComposerData(p).expandedSections};o.prototype.getOriginalSphericalMetadata=function(p){"use strict";return this.getComposerData(p).originalSphericalMetadata};o.prototype.getProjection=function(p){"use strict";return this.getComposerData(p).projection};o.prototype.getStereoMode=function(p){"use strict";return this.getComposerData(p).stereoMode};o.prototype.getHasSpatialAudio=function(p){"use strict";return this.getComposerData(p).hasSpatialAudio};o.prototype.$ComposerVideoUploadSphericalStore1=function(p){"use strict";var q=this.getComposerData(p.composerID);q.currentViewport.pitch=p.pitch;q.currentViewport.yaw=p.yaw;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore2=function(p){"use strict";var q=this.getComposerData(p.composerID);q.fov=p.fov;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore3=function(p){"use strict";var q=this.getComposerData(p.composerID);q.guideEnabled=p.guideEnabled;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore4=function(p){"use strict";var q=this.getComposerData(p.composerID);q.guideVisible=p.guideVisible;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore12=function(p){"use strict";var q=this.getComposerData(p.composerID);q.enableOmnistab=p.enableOmnistab;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore5=function(p){"use strict";var q=this.getComposerData(p.composerID);q.guideKeyframes=p.guideKeyframes;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore6=function(p){"use strict";var q=this.getComposerData(p.composerID);q.suggestedGuideKeyframes=p.suggestedGuideKeyframes;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore11=function(p){"use strict";var q=this.getComposerData(p.composerID);q.guideKeyframes=l([]);this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore9=function(p){"use strict";var q=this.getComposerData(p.composerID),r=q.guideKeyframes,s=r.findIndex(function(t){return t.timestamp===p.timestamp});if(r.get(s).isSelected)q.isEditingPointOfInterest=false;r=r.splice(s,1);q.guideKeyframes=r;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore7=function(p){"use strict";__p&&__p();var q=this.getComposerData(p.composerID),r=q.guideKeyframes,s=p.guideKeyframe;r=r.map(function(v){return v.set("isSelected",false)});var t=r.findIndex(function(v,w){return v.compare(s)>0});if(t<0)t=r.size;if(this.$ComposerVideoUploadSphericalStore29(r,s,t)){var u=r.splice(t,0,s);q.guideKeyframes=u;q.isEditingPointOfInterest=true}else q.errorInfo={text:c("ComposerVideoUploadSphericalGuideUtils").getAddPointMessage(p.enableComposerRedesign),title:c("ComposerVideoUploadSphericalGuideUtils").getAddPointTitle(p.enableComposerRedesign),callback:function v(){},confirmOnly:true};this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore8=function(p){"use strict";var q=this.getComposerData(p.composerID),r=q.guideKeyframes,s=p.guideKeyframe;r=r.map(function(t){return t.compare(s)===0?s:t});q.guideKeyframes=r;q.isEditingPointOfInterest=false;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore29=function(p,q,r){"use strict";var s=r<p.size?!p.get(r).isTooCloseTo(q):true,t=r>0?!p.get(r-1).isTooCloseTo(q):true;return s&&t};o.prototype.$ComposerVideoUploadSphericalStore13=function(p){"use strict";var q=this.getComposerData(p.composerID);q.visible=p.visible;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore14=function(p){"use strict";var q=this.getComposerData(p.composerID);q.controller=p.controller;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore15=function(p){"use strict";var q=this.getComposerData(p.composerID);q.unavailable=p.unavailable;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore16=function(p){"use strict";var q=this.getComposerData(p.composerID);if(q.controller){q.controller.destroy();q.controller=null}q.unavailable=false};o.prototype.$ComposerVideoUploadSphericalStore17=function(p){"use strict";var q=this.getComposerData(p.composerID);if(q.expandedSections.has(p.sectionName))q.expandedSections=q.expandedSections.remove(p.sectionName);else q.expandedSections=q.expandedSections.add(p.sectionName);this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore18=function(p){"use strict";var q=p.composerID,r=p.timestamp,s=this.getComposerData(q),t=s.guideKeyframes;t=t.map(function(u){return u.set("isSelected",u.timestamp===r)});s.guideKeyframes=t;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore19=function(p){"use strict";var q=p.composerID,r=p.timestamp,s=this.getComposerData(q),t=s.guideKeyframes;t=t.map(function(u){if(u.timestamp===r)return u.set("isSelectedForDeletion",!u.isSelectedForDeletion);else return u});s.guideKeyframes=t;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore20=function(p){"use strict";var q=p.composerID,r=p.value,s=this.getComposerData(q);s.isEditingPointOfInterest=r;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore21=function(p){"use strict";var q=p.composerID,r=p.error,s=this.getComposerData(q);s.errorInfo=r;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore10=function(p){"use strict";var q=p.composerID,r=this.getComposerData(q),s=r.guideKeyframes;s=s.filter(function(t){if(t.isSelected&&t.isSelectedForDeletion)r.isEditingPointOfInterest=false;return!t.isSelectedForDeletion});r.guideKeyframes=s;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore22=function(p){"use strict";var q=this.getComposerData(p.composerID);q.originalSphericalMetadata=p.originalSphericalMetadata;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore23=function(p){"use strict";var q=this.getComposerData(p.composerID);q.projection=p.projection;if(q.projection!==c("VideoProjection").EQUIRECTANGULAR)q.stereoMode=c("VideoStereoFormat").MONO;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore24=function(p){"use strict";var q=this.getComposerData(p.composerID);q.stereoMode=p.stereoMode;if(q.stereoMode!==c("VideoStereoFormat").MONO)q.enableOmnistab=false;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore25=function(p){"use strict";var q=this.getComposerData(p.composerID);q.hasSpatialAudio=p.hasSpatialAudio;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore26=function(p){"use strict";var q=this.getComposerData(p.composerID);q.hotspots=q.hotspots.set("hotspots",q.hotspots.hotspots.concat([p.hotspotData]));if(p.shouldIncrementId)q.nextHotspotId+=1;this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore27=function(p){"use strict";var q=this.getComposerData(p.composerID),r=q.hotspots.hotspots.findIndex(function(s){return s.content.id===p.hotspotId});if(r!==-1)q.hotspots.hotspots.splice(r,1);this.emitChange(p.composerID)};o.prototype.$ComposerVideoUploadSphericalStore28=function(p){"use strict";var q=this.getComposerData(p.composerID),r=-1;p.hotspots.hotspots.forEach(function(s){return r=Math.max(r,s.content.id)});r++;q.nextHotspotId=r;q.hotspots=p.hotspots;this.emitChange(p.composerID)};o.prototype.clearComposerData=function(p){"use strict";var q=this.getComposerData(p);if(q.controller)q.controller.destroy();j.clearComposerData.call(this,p)};o.prototype.getPostData=function(p){"use strict";var q=this.getComposerData(p),r=this.getGuideKeyframesLegacy(p),s=r[0][1],t=r[0][2];r.shift();var u={initialHeading:Math.round(t),initialPitch:Math.round(s),fov:Math.round(q.fov),guide_enabled:r.length>0,guide_keyframes:r,enable_omnistab:q.enableOmnistab,projection:q.projection,stereoMode:q.stereoMode,hotspots:q.hotspots.hotspots.length>0?q.hotspots:null,hasSpatialAudio:q.hasSpatialAudio};return u};f.exports=new o()}),null);
__d("ComposerVideoUploadSphericalMetadataUtils",["ComposerVideoUploadSphericalAction","FBHotspotMetadata","ComposerVideoUploadSphericalGuideKeyframeData","immutable","ComposerVideoUploadSphericalStore"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("immutable").List,i=40,j=90,k={initWithEditParams:function l(m,n,o,p,q,r,s,t,u,v){__p&&__p();c("ComposerVideoUploadSphericalStore").clearComposerData(m);c("ComposerVideoUploadSphericalAction").updateEnableOmnistab(m,v);c("ComposerVideoUploadSphericalAction").updateFOV(m,p);c("ComposerVideoUploadSphericalAction").updateCurrentViewport(m,o,n);c("ComposerVideoUploadSphericalAction").updateGuideEnabled(m,q);c("ComposerVideoUploadSphericalAction").updateProjection(m,s);c("ComposerVideoUploadSphericalAction").updateStereoMode(m,t);c("ComposerVideoUploadSphericalAction").updateHasSpatialAudio(m,u);var w=[[0,o,n]].concat(r).map(function(x){return c("ComposerVideoUploadSphericalGuideKeyframeData").getFromLegacyParams(x)});c("ComposerVideoUploadSphericalAction").updateGuideKeyframes(m,h(w))},initWithOriginalSphericalMetadata:function l(m,n){__p&&__p();if(n.stereoMode)c("ComposerVideoUploadSphericalAction").updateStereoMode(m,n.stereoMode);if(n.projectionType)c("ComposerVideoUploadSphericalAction").updateProjection(m,n.projectionType);if(n.fbSpatialAudioMetadata||n.ytSpatialAudioMetadata)c("ComposerVideoUploadSphericalAction").updateHasSpatialAudio(m,true);if(n.initialFOV&&n.initialFOV>=i&&n.initialFOV<=j)c("ComposerVideoUploadSphericalAction").updateFOV(m,n.initialFOV);var o=n.initialPitch&&Number.isFinite(n.initialPitch)?n.initialPitch:0,p=n.initialYaw&&Number.isFinite(n.initialYaw)?n.initialYaw:0;c("ComposerVideoUploadSphericalAction").updateCurrentViewport(m,o,p);var q=new(c("ComposerVideoUploadSphericalGuideKeyframeData"))({timestamp:0,yaw:Math.round(p),pitch:Math.round(o),thumbnailURI:null,isSelected:true});c("ComposerVideoUploadSphericalAction").updateSaveGuideKeyframe(m,q);var r=void 0;if(n.guideData){var s=n.guideData.keyframes.map(function(t){return new(c("ComposerVideoUploadSphericalGuideKeyframeData"))({timestamp:t.timestamp,yaw:t.yaw,pitch:t.pitch,thumbnailURI:null,isSelected:false})});r=h([q].concat(s));c("ComposerVideoUploadSphericalAction").updateGuideKeyframes(m,r)}else r=h([q]);if(n.fbHotspotMetadata)c("ComposerVideoUploadSphericalAction").updateHotspots(m,n.fbHotspotMetadata);else c("ComposerVideoUploadSphericalAction").updateHotspots(m,new(c("FBHotspotMetadata"))({hotspots:[]}));c("ComposerVideoUploadSphericalAction").updateOriginalSphericalMetadata(m,n)}};f.exports=k}),null);
__d("ISOVideoBoxConstants",[],(function a(b,c,d,e,f,g){"use strict";var h={BOX_BASE_SIZE:8,GSPHERICAL_UUID:[255,204,130,99,248,85,74,147,136,20,88,122,2,82,31,221],FBSPHERICAL_UUID:[174,36,178,77,60,143,79,24,138,123,224,9,193,56,53,193]};f.exports=h}),null);
__d("ISOVideoBoxFieldDefinition",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({NUMBER:10,FIELD:11,REMAINING_SPACE:12}),i=Object.freeze({NUMBER:100,STRING:101,ARRAY_OF_NUMBERS:102,ARRAY_OF_STRINGS:103,ARRAY_BUFFER:104}),j=Object.freeze({INT_8_SIZE:1,INT_16_SIZE:2,ATOM_LENGTH_BYTES:4,ATOM_NAME_BYTES:4,INT_32_SIZE:4});f.exports=Object.freeze({ISOVideoBoxFieldType:i,ISOVideoBoxFieldSize:j,ISOVideoBoxFieldLength:h})}),null);
__d("ISOVideoBoxUtils",["ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,i={readString:function j(k,l,m){var n=[];for(var o=0;o<m;o++)n.push(String.fromCharCode(k.getUint8(l+o)));return n.join("")},readNumber:function j(k,l,m){switch(m){case h.INT_8_SIZE:return k.getUint8(l);case h.INT_16_SIZE:return k.getUint16(l);case h.ATOM_LENGTH_BYTES:case h.ATOM_NAME_BYTES:case h.INT_32_SIZE:return k.getUint32(l);default:throw new Error("Unexpected field size: "+m)}},writeString:function j(k,l,m){for(var n=0;n<m.length;n++){var o=m.charCodeAt(n);k.setUint8(l+n,o)}},writeNumber:function j(k,l,m,n){switch(m){case h.INT_8_SIZE:return k.setUint8(l,n);case h.INT_16_SIZE:return k.setUint16(l,n);case h.ATOM_LENGTH_BYTES:case h.ATOM_NAME_BYTES:case h.INT_32_SIZE:return k.setUint32(l,n);default:throw new Error("Unexpected field size: "+m)}},writeArrayBuffer:function j(k,l,m){var n=new DataView(m);for(var o=0;o<m.byteLength;o++)k.setUint8(l+o,n.getUint8(o))}};f.exports=i}),null);
__d("ISOVideoBox",["Promise","ISOVideoBoxFieldDefinition","Int64","ISOVideoBoxConstants","ISOVideoBoxUtils","fileSlice"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,i=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType;function j(k){__p&&__p();this.__size=k.size||c("ISOVideoBoxConstants").BOX_BASE_SIZE;this.__boxtype=k.boxtype;this.__extraFields=k.extraFields;if(k.isLargeSize)this.__isLargeSize=true;else this.__isLargeSize=false;this.__parent=null;this.__children=[];this.__size=k.size||this.getFieldsSize();if(k.source)this.__source=k.source}j.getExtraFieldDefinitions=function(){return[]};j.prototype.getBoxtype=function(){return this.__boxtype};j.prototype.getSize=function(){return this.__size};j.prototype.getExtraFields=function(){return this.__extraFields};j.prototype.getChildren=function(){return this.__children};j.prototype.getParent=function(){return this.__parent};j.prototype.getSource=function(){return this.__source};j.prototype.getBuffer=function(k){__p&&__p();return new(c("Promise"))(function(l,m){__p&&__p();var n,o=this,p=this.getExtraFields()[k];if(!p){m(k+" was not found in box fields");return}if(p.type==="buffer"){l(p.buffer);return}if(p.type==="info"){if(!this.__source){m("buffer was requested but source is missing from box");return}var q=p.startOffset,r=q+p.length;if(this.__source instanceof File)(function(){var s=new FileReader();s.onload=function(event){var t=s.result;l(t)};s.onerror=function(t){m(t)};s.readAsArrayBuffer(c("fileSlice").call(o.__source,q,r))})();else l(this.__source.slice(q,r));return}m(k+" is not a buffer type")}.bind(this))};j.prototype.getFieldsSize=function(){__p&&__p();var k=2*h.INT_32_SIZE;if(this.__isLargeSize)k+=2*h.INT_32_SIZE;var l=this.constructor.getExtraFieldDefinitions();l.forEach(function(m){__p&&__p();var n=void 0;switch(m.type){case i.NUMBER:k+=m.size;break;case i.STRING:n=m.requiredValue!==undefined?m.requiredValue:this.__extraFields[m.name];if(!(typeof n==="string"))throw new Error("Field "+m.name+" is not a string");k+=n.length;break;case i.ARRAY_OF_NUMBERS:case i.ARRAY_OF_STRINGS:n=m.requiredValue!==undefined?m.requiredValue:this.__extraFields[m.name];if(!Array.isArray(n))throw new Error("Field "+m.name+" is not an array");k+=n.length*m.size;break;case i.ARRAY_BUFFER:n=this.__extraFields[m.name];if(n instanceof ArrayBuffer)k+=n.byteLength;else if(typeof n.startOffset==="number"&&typeof n.length==="number")k+=n.length;else throw new Error("Field '"+m.name+"' is not an ArrayBuffer or an ArrayBuffer reference");break;default:throw new Error("Unexpected field type: "+m.type)}}.bind(this));return k};j.prototype.$ISOVideoBox1=function(k){this.__size+=k;if(this.__parent)this.__parent.$ISOVideoBox1(k)};j.prototype.addChild=function(k){var l=arguments.length<=1||arguments[1]===undefined?true:arguments[1],m=k.getSize();k.$ISOVideoBox2(this);this.__children.push(k);if(l)this.$ISOVideoBox1(m)};j.prototype.$ISOVideoBox2=function(k){this.__parent=k};j.prototype.removeChild=function(k){__p&&__p();var l=arguments.length<=1||arguments[1]===undefined?0:arguments[1];for(var m=0;m<this.__children.length;m++)if(this.__children[m].getBoxtype()===k)if(l===0){var n=this.__children[m].getSize();this.__children.splice(m,1);this.$ISOVideoBox1(-n);return true}else l-=1;return false};j.prototype.$ISOVideoBox3=function(k){for(var l=0;l<this.__children.length;l++)if(this.__children[l]===k){var m=this.__children[l].getSize();this.__children.splice(l,1);this.$ISOVideoBox1(-m);return}};j.prototype.remove=function(){if(!this.__parent)return;this.__parent.$ISOVideoBox3(this)};j.prototype.setSource=function(k){this.__source=k};j.prototype.boxToArrayBuffer=function(k,l,m){this.__boxToArrayBufferImpl(k,l,m)};j.prototype.__boxToArrayBufferImpl=function(k,l,m){__p&&__p();this.__headerToArrayBuffer(k,l,m);for(var n=this.__children,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;r.__boxToArrayBufferImpl(k,l,m)}};j.prototype.__headerToArrayBuffer=function(k,l,m){__p&&__p();if(this.__isLargeSize)k.setUint32(l.getOffset(),1);else k.setUint32(l.getOffset(),this.__size);l.incrementOffset(h.INT_32_SIZE);c("ISOVideoBoxUtils").writeString(k,l.getOffset(),this.__boxtype);l.incrementOffset(h.INT_32_SIZE);if(this.__isLargeSize){var n=c("Int64").fromNumber(this.__size);k.setUint32(l.getOffset(),n.getHighBits());k.setUint32(l.getOffset()+h.INT_32_SIZE,n.getLowBitsUnsigned());l.incrementOffset(h.INT_32_SIZE*2)}this.__extraHeaderToArrayBuffer(k,l,m)};j.prototype.__extraHeaderToArrayBuffer=function(k,l,m){__p&&__p();this.constructor.getExtraFieldDefinitions().forEach(function(n){__p&&__p();var o=this.__extraFields[n.name];switch(n.type){case i.NUMBER:o=n.requiredValue!==undefined?n.requiredValue:o;if(typeof o!=="number")throw new Error("Field '"+n.name+"' is not a number");c("ISOVideoBoxUtils").writeNumber(k,l.getOffset(),n.size,o);l.incrementOffset(n.size);break;case i.STRING:o=n.requiredValue!==undefined?n.requiredValue:o;if(typeof o!=="string")throw new Error("Field '"+n.name+"' is not a string");c("ISOVideoBoxUtils").writeString(k,l.getOffset(),o);l.incrementOffset(o.length);break;case i.ARRAY_OF_NUMBERS:o=n.requiredValue!==undefined?n.requiredValue:o;if(!Array.isArray(o))throw new Error("Field '"+n.name+"' is not an array");var p=n.size;o.forEach(function(v){if(typeof v!=="number")throw new Error("An array entry of '"+n.name+"' is not a number");c("ISOVideoBoxUtils").writeNumber(k,l.getOffset(),p,v);l.incrementOffset(p)});break;case i.ARRAY_OF_STRINGS:o=n.requiredValue!==undefined?n.requiredValue:o;if(!Array.isArray(o))throw new Error("Field '"+n.name+"' is not an array");var q=n.size;o.forEach(function(v){if(typeof v!=="string")throw new Error("An array entry of '"+n.name+"' is not a number");c("ISOVideoBoxUtils").writeString(k,l.getOffset(),v);l.incrementOffset(q)});break;case i.ARRAY_BUFFER:if(o instanceof ArrayBuffer){c("ISOVideoBoxUtils").writeArrayBuffer(k,l.getOffset(),o);l.incrementOffset(o.byteLength)}else if(typeof o.startOffset==="number"&&typeof o.length==="number"){var r=o,s=r.startOffset,t=r.length;if(!m)throw new Error("Original file buffer is not provided");for(var u=0;u<t;u++){k.setUint8(l.getOffset(),m.getUint8(s+u));l.incrementOffset(h.INT_8_SIZE)}}else throw new Error("Field '"+n.name+"' is not an ArrayBuffer or an ArrayBuffer reference");break;default:throw new Error("Unexpected field type: "+n.type)}}.bind(this))};j.prototype.toSimpleObject=function(k){__p&&__p();var l,m=this;if(k)(function(){var t=k;Object.keys(m.__extraFields).forEach(function(u){var v=this.__extraFields[u];if(v instanceof ArrayBuffer)t.push(v)}.bind(m))})();var n=[];for(var o=this.__children,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;n.push(s.toSimpleObject(k))}return{children:n,size:this.__size,isLargeSize:this.__isLargeSize,boxtype:this.__boxtype,extraFields:this.__extraFields}};f.exports=j}),null);
__d("FullBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(m,c("ISOVideoBox"));i=h&&h.prototype;m.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"version",type:k.NUMBER,size:j.INT_8_SIZE},{name:"flags",type:k.ARRAY_OF_NUMBERS,size:j.INT_8_SIZE,length:{type:l.NUMBER,value:3}}])};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("HDLRBox",["FullBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(m,c("FullBox"));i=h&&h.prototype;m.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"pre_defined",type:k.NUMBER,size:j.INT_32_SIZE,requiredValue:0},{name:"handler_type",type:k.STRING,length:{type:l.NUMBER,value:j.INT_32_SIZE}},{name:"reserved",type:k.ARRAY_OF_NUMBERS,size:j.INT_32_SIZE,length:{type:l.NUMBER,value:3},requiredValue:[0,0,0]},{name:"name",type:k.STRING,length:{type:l.REMAINING_SPACE}}])};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("ISOVideoBoxPath",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.$ISOVideoBoxPath1=[]}h.prototype.addPath=function(i,j){this.$ISOVideoBoxPath1.push({boxtype:i,index:j||0});return this};h.prototype.addWildCardPath=function(){this.$ISOVideoBoxPath1.push({boxtype:"",index:0});return this};h.prototype.clearPath=function(){this.$ISOVideoBoxPath1=[]};h.prototype.getPath=function(){return this.$ISOVideoBoxPath1};f.exports=h}),null);
__d("FTYPBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(m,c("ISOVideoBox"));i=h&&h.prototype;m.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"major_brand",type:k.STRING,length:{type:l.NUMBER,value:j.INT_32_SIZE}},{name:"minor_version",type:k.NUMBER,size:j.INT_32_SIZE},{name:"compatible_brands",type:k.ARRAY_OF_STRINGS,size:j.INT_32_SIZE,length:{type:l.REMAINING_SPACE}}])};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("SA3DBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(m,c("ISOVideoBox"));i=h&&h.prototype;m.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"version",type:k.NUMBER,size:j.INT_8_SIZE},{name:"ambisonic_type",type:k.NUMBER,size:j.INT_8_SIZE},{name:"ambisonic_order",type:k.NUMBER,size:j.INT_32_SIZE},{name:"ambisonic_channel_ordering",type:k.NUMBER,size:j.INT_8_SIZE},{name:"ambisonic_normalization",type:k.NUMBER,size:j.INT_8_SIZE},{name:"num_channels",type:k.NUMBER,size:j.INT_32_SIZE},{name:"channel_map",type:k.ARRAY_OF_NUMBERS,size:j.INT_32_SIZE,length:{type:l.FIELD,definition:{name:"num_channels",type:k.NUMBER,size:j.INT_32_SIZE}}}])};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("SSDBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(m,c("ISOVideoBox"));i=h&&h.prototype;m.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"reserved",type:k.ARRAY_OF_NUMBERS,size:j.INT_8_SIZE,length:{type:l.NUMBER,value:6},requiredValue:[0,0,0,0,0,0]},{name:"drefIndex",type:k.NUMBER,size:j.INT_16_SIZE},{name:"qtAudioEncodingVersion",type:k.NUMBER,size:j.INT_16_SIZE},{name:"qtAudioEncodingRevision",type:k.NUMBER,size:j.INT_16_SIZE},{name:"qtAudioEncodingVendor",type:k.STRING,length:{type:l.NUMBER,value:j.INT_32_SIZE}},{name:"channelCount",type:k.NUMBER,size:j.INT_16_SIZE},{name:"sampleSize",type:k.NUMBER,size:j.INT_16_SIZE},{name:"qtAudioCompressionID",type:k.NUMBER,size:j.INT_16_SIZE},{name:"qtAudioPacketSize",type:k.NUMBER,size:j.INT_16_SIZE,requiredValue:0},{name:"sampleRate",type:k.NUMBER,size:j.INT_16_SIZE},{name:"sampleRateLowerBits",type:k.NUMBER,size:j.INT_16_SIZE,requiredValue:0}])};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("STCOBox",["FullBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(m,c("FullBox"));i=h&&h.prototype;m.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"entry_count",type:k.NUMBER,size:j.INT_32_SIZE},{name:"chunk_offsets",type:k.ARRAY_OF_NUMBERS,length:{type:l.FIELD,definition:{name:"entry_count",type:k.NUMBER,size:j.INT_32_SIZE}},size:j.INT_32_SIZE}])};m.prototype.updateChunkOffsets=function(n){var o=this.__extraFields.chunk_offsets;for(var p=0,q=o.length;p<q;p++)o[p]+=n};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("STSDBox",["FullBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType;h=babelHelpers.inherits(l,c("FullBox"));i=h&&h.prototype;l.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"num_descriptions",type:k.NUMBER,size:j.INT_32_SIZE}])};function l(){h.apply(this,arguments)}f.exports=l}),null);
__d("TKHDBox",["FullBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength,m=4,n=8,o=2,p=36;h=babelHelpers.inherits(q,c("FullBox"));i=h&&h.prototype;q.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"creation_time",type:k.NUMBER,size:j.INT_32_SIZE},{name:"modification_time",type:k.NUMBER,size:j.INT_32_SIZE},{name:"track_id",type:k.NUMBER,size:j.INT_32_SIZE},{name:"reserved_1",type:k.ARRAY_BUFFER,length:{type:l.NUMBER,value:m}},{name:"duration",type:k.NUMBER,size:j.INT_32_SIZE},{name:"reserved_2",type:k.ARRAY_BUFFER,length:{type:l.NUMBER,value:n}},{name:"layer",type:k.NUMBER,size:j.INT_16_SIZE},{name:"alternate_group",type:k.NUMBER,size:j.INT_16_SIZE},{name:"volume",type:k.NUMBER,size:j.INT_16_SIZE},{name:"reserved_3",type:k.ARRAY_BUFFER,length:{type:l.NUMBER,value:o}},{name:"matrix_structure",type:k.ARRAY_BUFFER,length:{type:l.NUMBER,value:p}},{name:"track_width",type:k.NUMBER,size:j.INT_32_SIZE},{name:"track_height",type:k.NUMBER,size:j.INT_32_SIZE}])};function q(){h.apply(this,arguments)}f.exports=q}),null);
__d("UUIDBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,l=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(m,c("ISOVideoBox"));i=h&&h.prototype;m.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"usertype",type:k.ARRAY_OF_NUMBERS,size:j.INT_8_SIZE,length:{type:l.NUMBER,value:16}},{name:"data",type:k.ARRAY_BUFFER,length:{type:l.REMAINING_SPACE}}])};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("UnformedBox",["ISOVideoBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(l,c("ISOVideoBox"));i=h&&h.prototype;l.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"unformed_data",type:j.ARRAY_BUFFER,length:{type:k.REMAINING_SPACE}}])};function l(){h.apply(this,arguments)}f.exports=l}),null);
__d("XMLBox",["FullBox","ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength;h=babelHelpers.inherits(l,c("FullBox"));i=h&&h.prototype;l.getExtraFieldDefinitions=function(){return h.getExtraFieldDefinitions.call(this).concat([{name:"xml_string",type:j.STRING,length:{type:k.REMAINING_SPACE}}])};function l(){h.apply(this,arguments)}f.exports=l}),null);
__d("ISOVideoBoxTypeMap",["FTYPBox","FullBox","HDLRBox","ISOVideoBox","SA3DBox","SSDBox","STCOBox","STSDBox","TKHDBox","UnformedBox","UUIDBox","XMLBox"],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({mdia:c("ISOVideoBox"),minf:c("ISOVideoBox"),moov:c("ISOVideoBox"),stbl:c("ISOVideoBox"),trak:c("ISOVideoBox"),meta:c("FullBox"),ftyp:c("FTYPBox"),hdlr:c("HDLRBox"),stco:c("STCOBox"),uuid:c("UUIDBox"),"xml ":c("XMLBox"),stsd:c("STSDBox"),mp4a:c("SSDBox"),SA3D:c("SA3DBox"),tkhd:c("TKHDBox")}),i={getBoxType:function j(k){return h[k]||c("UnformedBox")}};f.exports=i}),null);
__d("ISOVideoReader",["ISOVideoBoxFieldDefinition"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize;function i(j){var k=arguments.length<=1||arguments[1]===undefined?0:arguments[1];this.$ISOVideoReader1=j;this.$ISOVideoReader2=k}i.prototype.outOfBounds=function(j){return this.$ISOVideoReader2+j>this.$ISOVideoReader1.byteLength};i.prototype.getOffset=function(){return this.$ISOVideoReader2};i.prototype.incrementOffset=function(j){this.$ISOVideoReader2+=j};i.prototype.$ISOVideoReader3=function(j){switch(j){case h.INT_8_SIZE:return this.$ISOVideoReader1.getUint8(this.$ISOVideoReader2);case h.INT_16_SIZE:return this.$ISOVideoReader1.getUint16(this.$ISOVideoReader2);case h.ATOM_LENGTH_BYTES:case h.ATOM_NAME_BYTES:case h.INT_32_SIZE:return this.$ISOVideoReader1.getUint32(this.$ISOVideoReader2);default:throw new Error("Unexpected field size: "+j)}};i.prototype.readNumber=function(j){var k=this.$ISOVideoReader3(j);this.incrementOffset(j);return k};i.prototype.readString=function(j){var k=[];for(var l=this.$ISOVideoReader2;l<this.$ISOVideoReader2+j;l++)k.push(String.fromCharCode(this.$ISOVideoReader1.getUint8(l)));this.incrementOffset(j);return k.join("")};i.prototype.readNumberArray=function(j,k){var l=[];for(var m=0;m<k;m++){l.push(this.$ISOVideoReader3(j));this.incrementOffset(j)}return l};i.prototype.readStringArray=function(j,k){var l=[];for(var m=0;m<k;m++){var n=[];for(var o=this.$ISOVideoReader2;o<this.$ISOVideoReader2+j;o++)n.push(String.fromCharCode(this.$ISOVideoReader1.getUint8(o)));l.push(n.join(""));this.incrementOffset(j)}return l};i.prototype.readArrayBuffer=function(j){var k=new ArrayBuffer(j),l=new DataView(k);for(var m=0;m<j;m++)l.setUint8(m,this.$ISOVideoReader1.getUint8(this.$ISOVideoReader2+m));this.incrementOffset(j);return k};f.exports=i}),null);
__d("ISOVideoBoxParser",["invariant","regeneratorRuntime","Promise","fileSlice","Int64","ISOVideoBoxFieldDefinition","ISOVideoBox","ISOVideoBoxTypeMap","ISOVideoFile","ISOVideoReader"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldSize,j=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldType,k=c("ISOVideoBoxFieldDefinition").ISOVideoBoxFieldLength,l=5242880;function m(n){__p&&__p();var o=arguments.length<=1||arguments[1]===undefined?true:arguments[1];this.$ISOVideoBoxParser5=n;this.$ISOVideoBoxParser2=o;this.$ISOVideoBoxParser9=[];this.$ISOVideoBoxParser10=[];this.$ISOVideoBoxParser12();if(n instanceof File){this.$ISOVideoBoxParser7=0;this.$ISOVideoBoxParser8=Math.min(n.size,l);this.$ISOVideoBoxParser6=n.size;this.$ISOVideoBoxParser3=n}else{this.$ISOVideoBoxParser7=0;this.$ISOVideoBoxParser8=n.byteLength;this.$ISOVideoBoxParser6=n.byteLength;this.$ISOVideoBoxParser4=n}}m.prototype.parse=function n(){__p&&__p();return c("regeneratorRuntime").async(function o(p){__p&&__p();while(1)switch(p.prev=p.next){case 0:if(!(this.$ISOVideoBoxParser5 instanceof File)){p.next=5;break}p.next=3;return c("regeneratorRuntime").awrap(this.$ISOVideoBoxParser13());case 3:p.next=6;break;case 5:this.$ISOVideoBoxParser14();case 6:return p.abrupt("return",new(c("ISOVideoFile"))(this.$ISOVideoBoxParser9,this.$ISOVideoBoxParser5));case 7:case"end":return p.stop()}},null,this)};m.prototype.$ISOVideoBoxParser13=function n(){__p&&__p();return c("regeneratorRuntime").async(function o(p){__p&&__p();while(1)switch(p.prev=p.next){case 0:return p.abrupt("return",new(c("Promise"))(function(q,r){__p&&__p();var s=new FileReader();s.onload=function t(event){__p&&__p();return c("regeneratorRuntime").async(function u(v){__p&&__p();while(1)switch(v.prev=v.next){case 0:if(s.result instanceof ArrayBuffer){v.next=2;break}throw new Error("File reading failed");case 2:this.$ISOVideoBoxParser1=new(c("ISOVideoReader"))(new DataView(s.result));this.$ISOVideoBoxParser15();if(!(this.$ISOVideoBoxParser7>=this.$ISOVideoBoxParser6)){v.next=7;break}q();return v.abrupt("return");case 7:v.next=9;return c("regeneratorRuntime").awrap(this.$ISOVideoBoxParser13());case 9:q();case 10:case"end":return v.stop()}},null,this)}.bind(this);s.onerror=function(t){r(t)};s.readAsArrayBuffer(c("fileSlice").call(this.$ISOVideoBoxParser3,this.$ISOVideoBoxParser7,this.$ISOVideoBoxParser8))}.bind(this)));case 1:case"end":return p.stop()}},null,this)};m.prototype.$ISOVideoBoxParser14=function(){this.$ISOVideoBoxParser1=new(c("ISOVideoReader"))(new DataView(this.$ISOVideoBoxParser4));this.$ISOVideoBoxParser15()};m.prototype.$ISOVideoBoxParser15=function(){__p&&__p();while(true){var n=this.$ISOVideoBoxParser16();if(n===null)break;n instanceof c("ISOVideoBox")||h(0);this.$ISOVideoBoxParser10.push(n);while(true){var o=this.$ISOVideoBoxParser10[this.$ISOVideoBoxParser10.length-1],p=o.getFieldsSize();for(var q=o.getChildren(),r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t;p+=u.getSize()}if(p===o.getSize())this.$ISOVideoBoxParser10.pop();else break;if(this.$ISOVideoBoxParser10.length===0){this.$ISOVideoBoxParser9.push(o);break}else{var v=this.$ISOVideoBoxParser10[this.$ISOVideoBoxParser10.length-1];v.addChild(o,false)}}}};m.prototype.$ISOVideoBoxParser16=function(){__p&&__p();if(this.$ISOVideoBoxParser11.size===null){if(this.$ISOVideoBoxParser1.outOfBounds(i.ATOM_LENGTH_BYTES)){this.$ISOVideoBoxParser17(i.ATOM_LENGTH_BYTES);return null}this.$ISOVideoBoxParser11.offset+=i.ATOM_LENGTH_BYTES;this.$ISOVideoBoxParser11.size=this.$ISOVideoBoxParser1.readNumber(i.ATOM_LENGTH_BYTES)}if(this.$ISOVideoBoxParser11.boxType===null){if(this.$ISOVideoBoxParser1.outOfBounds(i.ATOM_NAME_BYTES)){this.$ISOVideoBoxParser17(i.ATOM_NAME_BYTES);return null}this.$ISOVideoBoxParser11.offset+=i.ATOM_NAME_BYTES;this.$ISOVideoBoxParser11.boxType=this.$ISOVideoBoxParser1.readString(i.ATOM_NAME_BYTES)}if(this.$ISOVideoBoxParser11.size===1&&this.$ISOVideoBoxParser11.isLargeSize===false){if(this.$ISOVideoBoxParser1.outOfBounds(i.INT_32_SIZE*2)){this.$ISOVideoBoxParser17(i.INT_32_SIZE*2);return null}this.$ISOVideoBoxParser11.offset+=i.INT_32_SIZE*2;var n=this.$ISOVideoBoxParser1.readNumber(i.INT_32_SIZE),o=this.$ISOVideoBoxParser1.readNumber(i.INT_32_SIZE);this.$ISOVideoBoxParser11.size=new(c("Int64"))(o,n).toNumber();this.$ISOVideoBoxParser11.isLargeSize=true}typeof this.$ISOVideoBoxParser11.boxType==="string"||h(0);var p=c("ISOVideoBoxTypeMap").getBoxType(this.$ISOVideoBoxParser11.boxType);if(this.$ISOVideoBoxParser11.definitions===null)this.$ISOVideoBoxParser11.definitions=p.getExtraFieldDefinitions();if(!this.$ISOVideoBoxParser18())return null;typeof this.$ISOVideoBoxParser11.boxType==="string"&&typeof this.$ISOVideoBoxParser11.size==="number"||h(0);var q={boxtype:this.$ISOVideoBoxParser11.boxType,size:this.$ISOVideoBoxParser11.size,isLargeSize:this.$ISOVideoBoxParser11.isLargeSize,extraFields:this.$ISOVideoBoxParser11.extraFields,source:this.$ISOVideoBoxParser5};this.$ISOVideoBoxParser12();return new p(q)};m.prototype.$ISOVideoBoxParser18=function(){__p&&__p();this.$ISOVideoBoxParser11.definitions||h(0);if(this.$ISOVideoBoxParser11.index===this.$ISOVideoBoxParser11.definitions.length)return true;var n=this.$ISOVideoBoxParser11.definitions[this.$ISOVideoBoxParser11.index],o=this.$ISOVideoBoxParser19(n);if(this.$ISOVideoBoxParser2&&n.type===j.ARRAY_BUFFER){this.$ISOVideoBoxParser11.extraFields[n.name]={type:"info",startOffset:this.$ISOVideoBoxParser7+this.$ISOVideoBoxParser1.getOffset(),length:o};this.$ISOVideoBoxParser1.incrementOffset(o)}else{var p=this.$ISOVideoBoxParser20(n);if(p===null)return false;if(n.type===j.ARRAY_BUFFER)this.$ISOVideoBoxParser11.extraFields[n.name]={type:"buffer",buffer:p};else this.$ISOVideoBoxParser11.extraFields[n.name]=p}this.$ISOVideoBoxParser11.offset+=o;this.$ISOVideoBoxParser11.index+=1;return this.$ISOVideoBoxParser18()};m.prototype.$ISOVideoBoxParser20=function(n){__p&&__p();var o=this.$ISOVideoBoxParser1,p=this.$ISOVideoBoxParser19(n),q=this.$ISOVideoBoxParser21(n);if(n.requiredValue!==undefined){o.incrementOffset(p);return n.requiredValue}if(o.outOfBounds(p)){this.$ISOVideoBoxParser17(p);return null}switch(n.type){case j.NUMBER:return o.readNumber(n.size);case j.STRING:return o.readString(q);case j.ARRAY_OF_NUMBERS:return o.readNumberArray(n.size,q);case j.ARRAY_OF_STRINGS:return o.readStringArray(n.size,q);case j.ARRAY_BUFFER:return o.readArrayBuffer(q);default:throw new Error("Unexpected field type: "+n.type)}};m.prototype.$ISOVideoBoxParser12=function(){this.$ISOVideoBoxParser11={size:null,offset:0,boxType:null,isLargeSize:false,extraFields:{},index:0,definitions:null}};m.prototype.$ISOVideoBoxParser17=function(n){if(!this.$ISOVideoBoxParser3){if(this.$ISOVideoBoxParser1.getOffset()<this.$ISOVideoBoxParser6)throw new Error("Reader went out of bounds with ArrayBuffer");return}this.$ISOVideoBoxParser7=this.$ISOVideoBoxParser7+this.$ISOVideoBoxParser1.getOffset();this.$ISOVideoBoxParser8=Math.min(this.$ISOVideoBoxParser6,Math.max(this.$ISOVideoBoxParser7+l,this.$ISOVideoBoxParser7+n))};m.prototype.$ISOVideoBoxParser19=function(n){var o=this.$ISOVideoBoxParser21(n);switch(n.type){case j.NUMBER:return n.size;case j.STRING:case j.ARRAY_BUFFER:return o;case j.ARRAY_OF_NUMBERS:case j.ARRAY_OF_STRINGS:return n.size*o;default:throw new Error("Unexpected field type: "+n.type)}};m.prototype.$ISOVideoBoxParser21=function(n){__p&&__p();if(n.type===j.NUMBER)return-1;switch(n.length.type){case k.NUMBER:return n.length.value;case k.FIELD:return this.$ISOVideoBoxParser11.extraFields[n.length.definition.name];case k.REMAINING_SPACE:typeof this.$ISOVideoBoxParser11.size==="number"||h(0);var o=this.$ISOVideoBoxParser11.size-this.$ISOVideoBoxParser11.offset;if(n.type===j.ARRAY_OF_NUMBERS||n.type===j.ARRAY_OF_STRINGS)return o/n.size;return o;default:throw new Error("Field "+n.name+" of type "+n.type+" "+("cannot have length type "+n.length.type))}};m.prototype.getBoxes=function(){return this.$ISOVideoBoxParser9};m.parseFromSimpleObject=function(n,o,p){var q=c("ISOVideoBoxTypeMap").getBoxType(n.boxtype),r=new q(n);if(p)r.setSource(p);return r};m.parseFromSimpleObjectRecursive=function(n,o,p){__p&&__p();var q=this.parseFromSimpleObject(n,o,p),r=n.children||[];for(var s=r,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}var w=v,x=this.parseFromSimpleObjectRecursive(w,o,p);q.addChild(x,false)}return q};f.exports=m}),null);
__d("ISOVideoFileEvent",[],(function a(b,c,d,e,f,g){"use strict";f.exports=Object.freeze({BUILD_PROGRESS:"buildProgress"})}),null);
__d("ISOVideoOffsetManager",["invariant"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=1024*100,j=1024;function k(){this.$ISOVideoOffsetManager1=0;this.$ISOVideoOffsetManager2=0;this.$ISOVideoOffsetManager3=i;this.$ISOVideoOffsetManager4=[]}k.prototype.addOnUpdateCallback=function(l){this.$ISOVideoOffsetManager4.push(l);return this};k.prototype.setMinUpdateInterval=function(l){this.$ISOVideoOffsetManager3=Math.max(l,j);return this};k.prototype.getOffset=function(){return this.$ISOVideoOffsetManager1};k.prototype.getMinUpdateInterval=function(){return this.$ISOVideoOffsetManager3};k.prototype.incrementOffset=function(l){this.$ISOVideoOffsetManager1+=l;if(this.$ISOVideoOffsetManager1>=this.$ISOVideoOffsetManager2+this.$ISOVideoOffsetManager3){this.$ISOVideoOffsetManager2=this.$ISOVideoOffsetManager1;this.$ISOVideoOffsetManager4.forEach(function(m){return m()})}};f.exports=k}),null);
__d("ISOVideoFile",["regeneratorRuntime","Promise","EventEmitter","ISOVideoBox","ISOVideoBoxPath","ISOVideoFileEvent","ISOVideoOffsetManager","ISOVideoBoxParser","STCOBox"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=1e3;h=babelHelpers.inherits(k,c("EventEmitter"));i=h&&h.prototype;function k(l,m){__p&&__p();i.constructor.call(this);this.$ISOVideoFile1=l;this.$ISOVideoFile2=this.$ISOVideoFile5();if(m)if(m instanceof ArrayBuffer){this.$ISOVideoFile4=m;this.$ISOVideoFile3=null}else{this.$ISOVideoFile3=m;this.$ISOVideoFile4=null}}k.prototype.getBoxes=function(){return this.$ISOVideoFile1};k.prototype.findBoxes=function(l){return this.$ISOVideoFile6(this.$ISOVideoFile1,[],l)};k.prototype.$ISOVideoFile6=function(l,m,n){__p&&__p();for(var o=l,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;if(s.getBoxtype()===n)m.push(s);this.$ISOVideoFile6(s.getChildren(),m,n)}return m};k.prototype.$ISOVideoFile7=function(l,m){return m===""||l.getBoxtype()===m};k.prototype.findBoxAtExactLocation=function(l){__p&&__p();var m,n=this,o=this.$ISOVideoFile1,p=l.getPath(),q=function q(r){__p&&__p();var s=p[r].boxtype;if(s==="")throw new Error("Wildcard path is not allowed in exact location match");var t=p[r].index,u=o.filter(function(v){return this.$ISOVideoFile7(v,s)}.bind(n));if(u.length>t){if(r===p.length-1)return{v:u[t]};o=u[t].getChildren()}else return{v:null}};for(var r=0;r<p.length;r++){var m=q(r);if(typeof m==="object")return m.v}return null};k.prototype.findBoxesMatchingPath=function(l){var m=[];if(l.getPath().length===0)return m;this.$ISOVideoFile8(l,0,this.$ISOVideoFile1,m);return m};k.prototype.$ISOVideoFile8=function(l,m,n,o){var p=l.getPath(),q=p[m].boxtype,r=n.filter(function(s){return this.$ISOVideoFile7(s,q)}.bind(this));if(m===p.length-1)r.forEach(function(s){return o.push(s)});else r.forEach(function(s){return this.$ISOVideoFile8(l,m+1,s.getChildren(),o)}.bind(this))};k.prototype.injectBoxAtLocation=function(l,m){var n=this.findBoxAtExactLocation(m);if(n){n.addChild(l);this.$ISOVideoFile9(l.getSize());return true}else return false};k.prototype.removeBoxAtLocation=function(l){__p&&__p();var m=l.getPath(),n=m[m.length-1].boxtype,o=m[m.length-1].index;if(m.length===1){for(var p=0;p<this.$ISOVideoFile1.length;p++)if(this.$ISOVideoFile7(this.$ISOVideoFile1[p],n))if(o===0){var q=this.$ISOVideoFile1[p].getSize();this.$ISOVideoFile1.splice(p,1);this.$ISOVideoFile9(-q);return true}else o-=1;return false}var r=this.findBoxAtExactLocation(l);if(r){var s=r.getSize();r.remove();this.$ISOVideoFile9(-s);return true}return false};k.prototype.$ISOVideoFile5=function(){__p&&__p();var l=false;for(var m=this.$ISOVideoFile1,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=m.length)break;p=m[o++]}else{o=m.next();if(o.done)break;p=o.value}var q=p;if(q.getBoxtype()==="mdat")l=true;if(q.getBoxtype()==="moov")return!l}return false};k.prototype.$ISOVideoFile9=function(l){__p&&__p();if(!this.$ISOVideoFile2)return;var m=this.findBoxes("stco");for(var n=m,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;if(!(r instanceof c("STCOBox")))throw new Error("found non-stco boxes when updating offsets");r.updateChunkOffsets(l)}};k.fromFile=function l(m){var n=arguments.length<=1||arguments[1]===undefined?true:arguments[1],o;return c("regeneratorRuntime").async(function p(q){while(1)switch(q.prev=q.next){case 0:o=new(c("ISOVideoBoxParser"))(m,n);q.next=3;return c("regeneratorRuntime").awrap(o.parse());case 3:return q.abrupt("return",q.sent);case 4:case"end":return q.stop()}},null,this)};k.fromArrayBuffer=function l(m){var n=arguments.length<=1||arguments[1]===undefined?true:arguments[1],o;return c("regeneratorRuntime").async(function p(q){while(1)switch(q.prev=q.next){case 0:o=new(c("ISOVideoBoxParser"))(m,n);q.next=3;return c("regeneratorRuntime").awrap(o.parse());case 3:return q.abrupt("return",q.sent);case 4:case"end":return q.stop()}},null,this)};k.prototype.toArrayBuffer=function l(){__p&&__p();return c("regeneratorRuntime").async(function m(n){__p&&__p();while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new(c("Promise"))(function(o,p){__p&&__p();var q,r=this,s=0;for(var t=this.$ISOVideoFile1,u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var w;if(u){if(v>=t.length)break;w=t[v++]}else{v=t.next();if(v.done)break;w=v.value}var x=w;s+=x.getSize()}var y=new ArrayBuffer(s),z=new DataView(y),A=new(c("ISOVideoOffsetManager"))();A.setMinUpdateInterval(Math.ceil(s/j)).addOnUpdateCallback(function(){var M=A.getOffset();this.emit(c("ISOVideoFileEvent").BUILD_PROGRESS,M/s)}.bind(this));var B=void 0;if(this.$ISOVideoFile4){B=new DataView(this.$ISOVideoFile4);for(var C=this.$ISOVideoFile1,D=Array.isArray(C),E=0,C=D?C:C[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var F;if(D){if(E>=C.length)break;F=C[E++]}else{E=C.next();if(E.done)break;F=E.value}var G=F;G.boxToArrayBuffer(z,A,B)}o(y)}else if(this.$ISOVideoFile3)(function(){__p&&__p();var M=r.$ISOVideoFile3,N=new FileReader();N.onload=function(){__p&&__p();if(!(N.result instanceof ArrayBuffer))throw new Error("File reading failed");B=new DataView(N.result);for(var O=this.$ISOVideoFile1,P=Array.isArray(O),Q=0,O=P?O:O[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var R;if(P){if(Q>=O.length)break;R=O[Q++]}else{Q=O.next();if(Q.done)break;R=Q.value}var S=R;S.boxToArrayBuffer(z,A,B)}o(y)}.bind(r);N.readAsArrayBuffer(M)})();else{for(var H=this.$ISOVideoFile1,I=Array.isArray(H),J=0,H=I?H:H[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var K;if(I){if(J>=H.length)break;K=H[J++]}else{J=H.next();if(J.done)break;K=J.value}var L=K;L.boxToArrayBuffer(z,A)}o(y)}}.bind(this)));case 1:case"end":return n.stop()}},null,this)};k.prototype.toSimpleObject=function(l){__p&&__p();var m=[];for(var n=this.$ISOVideoFile1,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;m.push(r.toSimpleObject(l))}if(l&&this.$ISOVideoFile4)l.push(this.$ISOVideoFile4);var s={boxes:m,mustUpdateOffsetsOnEdit:this.$ISOVideoFile2,originalFileBuffer:this.$ISOVideoFile4,file:this.$ISOVideoFile3};return s};k.fromSimpleObject=function(l){__p&&__p();var m=[],n=false,o=null;if(l.file){o=l.file;n=true}else if(l.originalFileBuffer){o=l.originalFileBuffer;n=true}for(var p=l.boxes,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s,u=o?c("ISOVideoBoxParser").parseFromSimpleObjectRecursive(t,n,o):c("ISOVideoBoxParser").parseFromSimpleObjectRecursive(t,n);m.push(u)}var v=new k(m,o);v.$ISOVideoFile2=l.mustUpdateOffsetsOnEdit;return v};f.exports=k}),null);
__d("SphericalVideoHotspotType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({TEXT:"text",IMAGE:"image"})}),null);
__d("FBSphericalMetadataTags",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SPHERICAL:"FBSpherical:Spherical",INITIAL_VERTICAL_FOV_DEGREES:"FBSpherical:InitialVerticalFOVDegrees",GUIDE:"FBSpherical:Guide",HOTSPOT:"FBSpherical:HotspotMetadata"})}),null);
__d("GSphericalMetadataTags",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SPHERICAL:"GSpherical:Spherical",INITIAL_VIEW_HEADING_DEGREES:"GSpherical:InitialViewHeadingDegrees",INITIAL_VIEW_PITCH_DEGREES:"GSpherical:InitialViewPitchDegrees",PROJECTION_TYPE:"GSpherical:ProjectionType",STEREO_MODE:"GSpherical:StereoMode",STITCHED:"GSpherical:Stitched",STITCHING_SOFTWARE:"GSpherical:StitchingSoftware"})}),null);
__d("SphericalVideoMetadataTags",["FBSphericalMetadataTags","GSphericalMetadataTags"],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({GSPHERICAL:c("GSphericalMetadataTags"),FBSPHERICAL:c("FBSphericalMetadataTags")});f.exports=h}),null);
__d("VideoSphericalMetadataUtil",["SphericalVideoMetadataTags","VideoProjection","VideoStereoFormat"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={parseXMLToDocument:function i(j){__p&&__p();if(!j)return null;j=j.replace(/\0/g,"");var k=void 0;if(window.DOMParser){var l=new DOMParser();k=l.parseFromString(j,"text/xml")}else{k=new window.ActiveXObject("Microsoft.XMLDOM");k.async="false";k.loadXML(j)}return k},stringToProjectionType:function i(j){if(Object.values(c("VideoProjection")).includes(j))return j;else return null},stringToStereoMode:function i(j){if(Object.values(c("VideoStereoFormat")).includes(j))return j;else return null},getUnsupportedGSphericalTagsXML:function i(j){__p&&__p();var k=j.getElementsByTagNameNS("*","*"),l=null;for(var m=0;m<k.length;m++){var n=k[m],o=n.nodeName,p=n.parentElement;if(o!=="parsererror"&&p&&p.nodeName!=="parsererror"&&Object.values(c("SphericalVideoMetadataTags").GSPHERICAL).indexOf(o)<0&&Object.values(c("SphericalVideoMetadataTags").GSPHERICAL).indexOf(p.nodeName)<0){if(!l)l="";var q=n.outerHTML;l+="<"+o+q.slice(o.length+1,-(o.length+1))+o+">"}}return l},arrayBufferToFile:function i(j,k,l){return new File([j],k,{type:l})},stringToArrayBuffer:function i(j){var k=new ArrayBuffer(j.length),l=new DataView(k);for(var m=0;m<j.length;m++)l.setUint8(m,j.charCodeAt(m));return k},bufferToFile:function i(j,k,l){var m=j.buffer;return this.arrayBufferToFile(m,k,l)}};f.exports=h}),null);
__d("VideoSphericalMetadataInjector",["FullBox","HDLRBox","ISOVideoBox","ISOVideoBoxConstants","ISOVideoBoxPath","ISOVideoFile","Map","SphericalVideoHotspotType","SphericalVideoMetadataTags","UUIDBox","VideoSphericalMetadataUtil","XMLBox","shallowArrayEqual"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h='<?xml version="1.0"?><rdf:SphericalVideo xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:GSpherical="http://ns.google.com/videos/1.0/spherical/">',i='<?xml version="1.0"?><rdf:SphericalVideo xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:FBSpherical="https://www.facebook.com/help/828417127257368">',j="</rdf:SphericalVideo>",k="face",l="GPAC face Handler",m={convertVerticalFOVToXML:function n(o){if(o)return"<"+c("SphericalVideoMetadataTags").FBSPHERICAL.INITIAL_VERTICAL_FOV_DEGREES+">"+(""+o)+("</"+c("SphericalVideoMetadataTags").FBSPHERICAL.INITIAL_VERTICAL_FOV_DEGREES+">");return null},convertFBGuideMetadataToXML:function n(o){__p&&__p();var p=null;if(o&&o.keyframes.length>0){p="";for(var q=o.keyframes,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t;p+="<Keyframe>"+("<yaw>"+u.yaw+"</yaw>")+("<pitch>"+u.pitch+"</pitch>")+("<fov>"+u.fov+"</fov>")+("<timestamp>"+u.timestamp+"</timestamp>")+"</Keyframe>"}p="<"+c("SphericalVideoMetadataTags").FBSPHERICAL.GUIDE+">"+(""+p)+("</"+c("SphericalVideoMetadataTags").FBSPHERICAL.GUIDE+">")}return p},convertFBHotspotMetadataToXML:function n(o){__p&&__p();var p=null;if(o&&o.hotspots&&o.hotspots.length>0){var q=o.hotspots;p="";for(var r=q,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u,w=v.content,x="",y="";if(Object.prototype.hasOwnProperty.call(w,"linkAction")&&w.linkAction)y="<LinkAction"+(' url="'+w.linkAction.url+'"')+(' trigger="'+w.linkAction.trigger+'"')+" />";switch(w.type){case c("SphericalVideoHotspotType").TEXT:var z=w.text.replace(/[\u00A0-\u9999\<\>\&\"\'\/]/g,function(A){return"&#"+A.charCodeAt(0)+";"});x="<Text"+(' id="'+w.id+'"')+(' alignment="'+w.alignment+'"')+(' width="'+w.width+'"')+(' height="'+w.height+'"')+(' color="'+w.color+'"')+(' fontWeight="'+w.fontWeight+'"')+(' fontSize="'+w.fontSize+'"')+(' fontFamily="'+w.fontFamily+'"')+(' backgroundColor="'+w.backgroundColor+'"')+(' animation="'+w.animation+'">')+(""+z)+(""+y)+"</Text>";break;case c("SphericalVideoHotspotType").IMAGE:x="<Image"+(' id="'+w.id+'"')+(' width="'+w.width+'"')+(' height="'+w.height+'"')+(' animation="'+w.animation+'">')+(""+w.imageData)+(""+y)+"</Image>";break}p+="<Hotspot"+(' yaw="'+v.yaw+'"')+(' pitch="'+v.pitch+'"')+(' startTime="'+v.startTime+'"')+(' endTime="'+v.endTime+'">')+(""+x)+"</Hotspot>"}p="<"+c("SphericalVideoMetadataTags").FBSPHERICAL.HOTSPOT+">"+(""+p)+("</"+c("SphericalVideoMetadataTags").FBSPHERICAL.HOTSPOT+">")}return p},convertSphericalMetadataToXML:function n(o){__p&&__p();var p=new(c("Map"))().set(c("SphericalVideoMetadataTags").GSPHERICAL.INITIAL_VIEW_PITCH_DEGREES,o.initialPitch).set(c("SphericalVideoMetadataTags").GSPHERICAL.INITIAL_VIEW_HEADING_DEGREES,o.initialYaw).set(c("SphericalVideoMetadataTags").GSPHERICAL.PROJECTION_TYPE,o.projectionType).set(c("SphericalVideoMetadataTags").GSPHERICAL.SPHERICAL,"true").set(c("SphericalVideoMetadataTags").GSPHERICAL.STEREO_MODE,o.stereoMode).set(c("SphericalVideoMetadataTags").GSPHERICAL.STITCHED,"true").set(c("SphericalVideoMetadataTags").GSPHERICAL.STITCHING_SOFTWARE,o.stitchingSoftware),q="";for(var r=p.entries(),s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u,w=v[0],x=v[1];if(x!==null&&x!==undefined)q+="<"+w+">"+x+"</"+w+">"}var y="",z=o.extraTagXML||"";if(q)y=h+q+z+j;var A=void 0,B=this.convertVerticalFOVToXML(o.initialFOV),C=this.convertFBGuideMetadataToXML(o.guideData),D=this.convertFBHotspotMetadataToXML(o.fbHotspotMetadata);if(B||C||D)A=i+("<"+c("SphericalVideoMetadataTags").FBSPHERICAL.SPHERICAL+">true</"+c("SphericalVideoMetadataTags").FBSPHERICAL.SPHERICAL+">")+(B||"")+(C||"")+(D||"")+j;return{GSphericalXML:y,FBSphericalXML:A}},injectMetadata:function n(o,p,q){__p&&__p();var r=this.convertSphericalMetadataToXML(p),s=r.GSphericalXML,t=r.FBSphericalXML,u=new(c("UUIDBox"))({boxtype:"uuid",extraFields:{usertype:c("ISOVideoBoxConstants").GSPHERICAL_UUID,data:c("VideoSphericalMetadataUtil").stringToArrayBuffer(s)}});if(t){var v=new(c("ISOVideoBoxPath"))().addPath("moov").addPath("trak").addPath("uuid",1),w=o.findBoxAtExactLocation(v);if(w instanceof c("UUIDBox")&&c("shallowArrayEqual")(w.getExtraFields().usertype,c("ISOVideoBoxConstants").FBSPHERICAL_UUID))o.removeBoxAtLocation(v)}var x=new(c("ISOVideoBoxPath"))().addPath("moov").addPath("trak").addPath("uuid",0),y=o.findBoxAtExactLocation(x);if(y instanceof c("UUIDBox")&&c("shallowArrayEqual")(y.getExtraFields().usertype,c("ISOVideoBoxConstants").GSPHERICAL_UUID))o.removeBoxAtLocation(x);var z=new(c("ISOVideoBoxPath"))().addPath("moov").addPath("trak");o.injectBoxAtLocation(u,z);if(t){var A=new(c("UUIDBox"))({boxtype:"uuid",extraFields:{usertype:c("ISOVideoBoxConstants").FBSPHERICAL_UUID,data:c("VideoSphericalMetadataUtil").stringToArrayBuffer(t)}}),B=new(c("ISOVideoBoxPath"))().addPath("moov").addPath("trak");o.injectBoxAtLocation(A,B)}if(q&&!p.fbSpatialAudioMetadata&&!p.ytSpatialAudioMetadata)this.injectBasicSpatialAudioMetadata(o)},injectBasicSpatialAudioMetadata:function n(o){__p&&__p();var p=new(c("ISOVideoBoxPath"))().addPath("moov").addPath("trak",1),q=new(c("ISOVideoBoxPath"))().addPath("moov").addPath("trak",2),r=new(c("ISOVideoBoxPath"))().addPath("moov").addPath("trak",3),s=o.findBoxAtExactLocation(p),t=o.findBoxAtExactLocation(q),u=o.findBoxAtExactLocation(r);if(!s||!t||!u)return false;var v=o.findBoxes("meta");for(var w=v,x=Array.isArray(w),y=0,w=x?w:w[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var z;if(x){if(y>=w.length)break;z=w[y++]}else{y=w.next();if(y.done)break;z=y.value}var A=z,B=A.getChildren();if(B.length===2&&B[0]instanceof c("HDLRBox")&&B[0].getExtraFields().handler_type===k&&B[0].getExtraFields().name()===l)return false}var C=this.createBasicSpatialAudioBoxes();o.injectBoxAtLocation(C[0],new(c("ISOVideoBoxPath"))().addPath("moov"));o.injectBoxAtLocation(C[1],p);o.injectBoxAtLocation(C[2],q);o.injectBoxAtLocation(C[3],r);return true},createBasicSpatialAudioBoxes:function n(){__p&&__p();var o="<fb360>\n\t<audio>",p="\t</audio>\n</fb360>",q=o+'\t\t<encoder_metadata name="FB Metadata Injector">\n</encoder_metadata>'+p,r=o+'\t\t<AudioChannelConfiguration schemeIdUri="tag:facebook.com,2016-08-16:fb360:audio:channel_layout" value="tbe_8a" />'+p,s=o+'\t\t<AudioChannelConfiguration schemeIdUri="tag:facebook.com,2016-08-16:fb360:audio:channel_layout" value="tbe_8b" />'+p,t=o+'\t\t<AudioChannelConfiguration schemeIdUri="tag:facebook.com,2016-08-16:fb360:audio:channel_layout" value="nda" />'+p,u={boxtype:"meta",extraFields:{}},v=new(c("FullBox"))(u),w=new(c("FullBox"))(u),x=new(c("FullBox"))(u),y=new(c("FullBox"))(u),z={boxtype:"hdlr",extraFields:{handler_type:k,name:l}},A=new(c("HDLRBox"))(z),B=new(c("HDLRBox"))(z),C=new(c("HDLRBox"))(z),D=new(c("HDLRBox"))(z),E={boxtype:"xml ",extraFields:{xml_string:q}},F={boxtype:"xml ",extraFields:{xml_string:r}},G={boxtype:"xml ",extraFields:{xml_string:s}},H={boxtype:"xml ",extraFields:{xml_string:t}},I=new(c("XMLBox"))(E),J=new(c("XMLBox"))(F),K=new(c("XMLBox"))(G),L=new(c("XMLBox"))(H);v.addChild(A);v.addChild(I);w.addChild(B);w.addChild(J);x.addChild(C);x.addChild(K);y.addChild(D);y.addChild(L);return[v,w,x,y]}};f.exports=m}),null);
__d("SphericalMetadata",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({fbSpatialAudioMetadata:undefined,ytSpatialAudioMetadata:undefined,fbHotspotMetadata:undefined,guideData:undefined,mayHaveSpatialAudio:undefined,initialPitch:undefined,initialYaw:undefined,initialFOV:undefined,projectionType:undefined,spherical:undefined,stereoMode:undefined,stitched:undefined,stitchingSoftware:undefined,extraTagXML:undefined});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("checkForSphericalTag",["VideoSphericalMetadataUtil"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){var j=c("VideoSphericalMetadataUtil").parseXMLToDocument(i);if(!j)return false;var k=j.getElementsByTagNameNS("*","Spherical");if(k.length===0)return false;var l=k[0],m=l.childNodes[0].nodeValue;return m.toLowerCase()==="true"}f.exports=h}),null);
__d("VideoSphericalMetadataGatherer",["regeneratorRuntime","ISOVideoBoxConstants","checkForSphericalTag"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){this.$VideoRawSphericalMetadataGatherer5=i;this.$VideoRawSphericalMetadataGatherer1=null;this.$VideoRawSphericalMetadataGatherer2=null;this.$VideoRawSphericalMetadataGatherer3=null;this.$VideoRawSphericalMetadataGatherer4=null;this.$VideoRawSphericalMetadataGatherer6=false;this.$VideoRawSphericalMetadataGatherer7=false;this.$VideoRawSphericalMetadataGatherer8=0}h.prototype.gatherRawSphericalMetadata=function i(){return c("regeneratorRuntime").async(function j(k){while(1)switch(k.prev=k.next){case 0:k.next=2;return c("regeneratorRuntime").awrap(this.$VideoRawSphericalMetadataGatherer9());case 2:this.$VideoRawSphericalMetadataGatherer10();this.$VideoRawSphericalMetadataGatherer11();this.$VideoRawSphericalMetadataGatherer7=true;case 5:case"end":return k.stop()}},null,this)};h.prototype.getRawSphericalMetadata=function(){__p&&__p();if(!this.$VideoRawSphericalMetadataGatherer7)throw new Error("spherical metadata has not been gathered yet");var i={isSpherical:this.$VideoRawSphericalMetadataGatherer6,numAudioTracks:this.$VideoRawSphericalMetadataGatherer8};if(this.$VideoRawSphericalMetadataGatherer3)this.$VideoRawSphericalMetadataGatherer3="<fb360_spatial_audio>"+this.$VideoRawSphericalMetadataGatherer3+"</fb360_spatial_audio>";if(this.$VideoRawSphericalMetadataGatherer1!==null)i.FBSphericalMetadataXML=this.$VideoRawSphericalMetadataGatherer1;if(this.$VideoRawSphericalMetadataGatherer2!==null)i.GSphericalMetadataXML=this.$VideoRawSphericalMetadataGatherer2;if(this.$VideoRawSphericalMetadataGatherer3!==null)i.FBSpatialAudioMetadataXML=this.$VideoRawSphericalMetadataGatherer3;if(this.$VideoRawSphericalMetadataGatherer4!==null)i.YTSA3DMetadataJSON=this.$VideoRawSphericalMetadataGatherer4;return i};h.prototype.hasGathered=function(){return this.$VideoRawSphericalMetadataGatherer7};h.prototype.$VideoRawSphericalMetadataGatherer9=function i(){__p&&__p();var j,k,l,m,n,o;return c("regeneratorRuntime").async(function p(q){__p&&__p();while(1)switch(q.prev=q.next){case 0:j=this.$VideoRawSphericalMetadataGatherer5.findBoxes("uuid");k=j,l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 2:if(!l){q.next=8;break}if(!(m>=k.length)){q.next=5;break}return q.abrupt("break",17);case 5:n=k[m++];q.next=12;break;case 8:m=k.next();if(!m.done){q.next=11;break}return q.abrupt("break",17);case 11:n=m.value;case 12:o=n;q.next=15;return c("regeneratorRuntime").awrap(this.$VideoRawSphericalMetadataGatherer12(o));case 15:q.next=2;break;case 17:case"end":return q.stop()}},null,this)};h.prototype.$VideoRawSphericalMetadataGatherer12=function i(j){__p&&__p();var k,l,m,n,o;return c("regeneratorRuntime").async(function p(q){__p&&__p();while(1)switch(q.prev=q.next){case 0:k=this.$VideoRawSphericalMetadataGatherer13(j.getExtraFields().usertype,c("ISOVideoBoxConstants").GSPHERICAL_UUID);l=this.$VideoRawSphericalMetadataGatherer13(j.getExtraFields().usertype,c("ISOVideoBoxConstants").FBSPHERICAL_UUID);if(!(k||l)){q.next=11;break}q.t0=Uint8Array;q.next=6;return c("regeneratorRuntime").awrap(j.getBuffer("data"));case 6:q.t1=q.sent;m=new q.t0(q.t1);n="";for(o=0;o<m.length;o++)n+=String.fromCharCode(m[o]);if(c("checkForSphericalTag")(n)){this.$VideoRawSphericalMetadataGatherer6=true;if(l)this.$VideoRawSphericalMetadataGatherer1=n;if(k)this.$VideoRawSphericalMetadataGatherer2=n}case 11:case"end":return q.stop()}},null,this)};h.prototype.$VideoRawSphericalMetadataGatherer10=function(){__p&&__p();var i=this.$VideoRawSphericalMetadataGatherer5.findBoxes("meta");for(var j=i,k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=j.length)break;m=j[l++]}else{l=j.next();if(l.done)break;m=l.value}var n=m;this.$VideoRawSphericalMetadataGatherer14(n)}};h.prototype.$VideoRawSphericalMetadataGatherer14=function(i){__p&&__p();var j=i.getChildren(),k=null,l=null;for(var m=j,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=m.length)break;p=m[o++]}else{o=m.next();if(o.done)break;p=o.value}var q=p;if(q.getBoxtype()==="hdlr")k=q;if(q.getBoxtype()==="xml ")l=q}if(k===null||l===null||k.getExtraFields().handler_type!=="face")return;var r=l.getExtraFields().xml_string,s=null,t=null,u=i.getParent();if(u&&u.getBoxtype()==="trak"){for(var v=u.getChildren(),w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var y;if(w){if(x>=v.length)break;y=v[x++]}else{x=v.next();if(x.done)break;y=x.value}var z=y;if(z.getBoxtype()==="tkhd")s=z}if(s!==null){t=s.getExtraFields().track_id;this.$VideoRawSphericalMetadataGatherer8++}}if(!this.$VideoRawSphericalMetadataGatherer3)this.$VideoRawSphericalMetadataGatherer3="";if(t!==null)this.$VideoRawSphericalMetadataGatherer3+='<track id="'+t.toString()+'">'+r+"</track>";else this.$VideoRawSphericalMetadataGatherer3+="<spatial_audio_formatting>"+r+"</spatial_audio_formatting>"};h.prototype.$VideoRawSphericalMetadataGatherer11=function(){__p&&__p();var i=this.$VideoRawSphericalMetadataGatherer5.findBoxes("SA3D");for(var j=i,k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=j.length)break;m=j[l++]}else{l=j.next();if(l.done)break;m=l.value}var n=m;this.$VideoRawSphericalMetadataGatherer15(n)}};h.prototype.$VideoRawSphericalMetadataGatherer15=function(i){if(this.$VideoRawSphericalMetadataGatherer4!==null)return;var j=JSON.stringify(i.getExtraFields());this.$VideoRawSphericalMetadataGatherer4=j};h.prototype.$VideoRawSphericalMetadataGatherer13=function(i,j){if(i.length!==j.length)return false;for(var k=0;k<i.length;k++)if(i[k]!==j[k])return false;return true};f.exports=h}),null);
__d("FBGuideMetadata",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({keyframes:undefined});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("SphericalVideoHotspotAnimation",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NO_ANIM:"no_anim"})}),null);
__d("SphericalVideoHotspotTextAlignment",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LEFT:"left",CENTER:"center",RIGHT:"right"})}),null);
__d("FBHotspot",["immutable","SphericalVideoHotspotAnimation","SphericalVideoHotspotTextAlignment","SphericalVideoHotspotType"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({yaw:0,pitch:0,startTime:0,endTime:0,content:{id:-1,width:0,height:0,animation:c("SphericalVideoHotspotAnimation").NO_ANIM,type:c("SphericalVideoHotspotType").TEXT,text:"",alignment:c("SphericalVideoHotspotTextAlignment").CENTER,color:"",fontWeight:"",fontSize:0,fontFamily:"",backgroundColor:""}});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("FBSpatialAudioMetadata",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({encoderMetadata:null,focusData:null,headlockedData:null,spatialData:null,trackData:null});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("YTSpatialAudioMetadata",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({ambisonic_channel_ordering:-1,ambisonic_normalization:-1,ambisonic_order:-1,ambisonic_type:-1,channel_map:[],num_channels:-1,version:-1});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("VideoSphericalMetadataReader",["FBGuideMetadata","FBHotspot","FBHotspotMetadata","FBSpatialAudioMetadata","SphericalMetadata","SphericalVideoHotspotType","VideoSphericalMetadataUtil","YTSpatialAudioMetadata"],(function aa(ba,a,ca,da,b,ea){"use strict";__p&&__p();var c={parseGSphericalMetadataXML:function d(e,f){__p&&__p();var g=a("VideoSphericalMetadataUtil").parseXMLToDocument(e);if(!g)return f;var h=a("VideoSphericalMetadataUtil").getUnsupportedGSphericalTagsXML(g),i=g.getElementsByTagNameNS("*","Spherical")[0],j=g.getElementsByTagNameNS("*","InitialViewHeadingDegrees")[0],k=g.getElementsByTagNameNS("*","InitialViewPitchDegrees")[0],l=g.getElementsByTagNameNS("*","Stitched")[0],m=g.getElementsByTagNameNS("*","StitchingSoftware")[0],n=g.getElementsByTagNameNS("*","StereoMode")[0],o=g.getElementsByTagNameNS("*","ProjectionType")[0],p=null;if(j){var q=parseInt(j.childNodes[0].nodeValue,10);if(!isNaN(q))p=q}var r=null;if(k){var s=parseInt(k.childNodes[0].nodeValue,10);if(!isNaN(s))r=s}var t=i?i.childNodes[0].nodeValue.toLowerCase()==="true":null,u=l?l.childNodes[0].nodeValue.toLowerCase()==="true":null,v=m?m.childNodes[0].nodeValue:null,w=n?a("VideoSphericalMetadataUtil").stringToStereoMode(n.childNodes[0].nodeValue):null,x=o?a("VideoSphericalMetadataUtil").stringToProjectionType(o.childNodes[0].nodeValue):null;if(p!==null)f=f.set("initialYaw",p);if(r!==null)f=f.set("initialPitch",r);if(u!==null)f=f.set("stitched",u);if(v!==null)f=f.set("stitchingSoftware",v);if(t)f=f.set("spherical",t);if(w)f=f.set("stereoMode",w);if(x)f=f.set("projectionType",x);if(h)f=f.set("extraTagXML",h);return f},parseFBSphericalMetadataXML:function d(e,f){__p&&__p();var g,h=a("VideoSphericalMetadataUtil").parseXMLToDocument(e);if(!h)return f;var i=null,j=null,k=null,l=h.getElementsByTagNameNS("*","InitialVerticalFOVDegrees")[0];if(l){var m=parseInt(l.childNodes[0].nodeValue,10);if(!isNaN(m))i=m}var n=h.getElementsByTagNameNS("*","Guide")[0];if(n){var o=n.getElementsByTagName("Keyframe"),p=function p(u){__p&&__p();var Q=u.getElementsByTagName("pitch"),R=u.getElementsByTagName("yaw"),l=u.getElementsByTagName("fov"),S=u.getElementsByTagName("timestamp"),T=void 0;if(Q.length>0){var U=parseFloat(Q[0].textContent);if(!isNaN(U))T=U}var V=void 0;if(R.length>0){var W=parseFloat(R[0].textContent);if(!isNaN(W))V=W}var X=void 0;if(l.length>0){var Y=parseInt(l[0].textContent,10);if(!isNaN(Y))X=Y}var Z=void 0;if(S.length>0){var $=parseInt(S[0].textContent,10);if(!isNaN($))Z=$}if(T==null||V==null||X==null||Z==null)return"continue";if(!j)j=new(a("FBGuideMetadata"))({keyframes:[]});j=j.update("keyframes",function(ta){return ta.concat([{pitch:T,yaw:V,fov:X,timestamp:Z}])})};for(var q=o,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t,g=p(u);if(g==="continue")continue}}var v=h.getElementsByTagNameNS("*","HotspotMetadata")[0];if(v){var w=v.getElementsByTagName("Hotspot"),x=[];for(var y=w,z=Array.isArray(y),A=0,y=z?y:y[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var B;if(z){if(A>=y.length)break;B=y[A++]}else{A=y.next();if(A.done)break;B=A.value}var C=B,D=C.attributes,E=Number.parseFloat(D.getNamedItem("yaw").nodeValue),F=Number.parseFloat(D.getNamedItem("pitch").nodeValue),G=Number.parseInt(D.getNamedItem("startTime").nodeValue,10),fa=Number.parseInt(D.getNamedItem("endTime").nodeValue,10),H=void 0;for(var I=C.children,J=Array.isArray(I),K=0,I=J?I:I[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var L;if(J){if(K>=I.length)break;L=I[K++]}else{K=I.next();if(K.done)break;L=K.value}var M=L;if(H)throw new Error("Only one content type allowed per hotspot.");var N=M.attributes,ga=Number.parseInt(N.getNamedItem("id").nodeValue,10),ha=Number.parseFloat(N.getNamedItem("width").nodeValue),ia=Number.parseFloat(N.getNamedItem("height").nodeValue),ja=N.getNamedItem("animation").nodeValue,O={id:ga,width:ha,height:ia,animation:ja},P=M.getElementsByTagName("LinkAction");if(P.length>0){var ka={url:P[0].attributes.getNamedItem("url").nodeValue,trigger:P[0].attributes.getNamedItem("trigger").nodeValue};O=babelHelpers["extends"]({},O,{linkAction:ka})}switch(M.tagName){case"Text":var la=N.getNamedItem("alignment").nodeValue,ma=N.getNamedItem("color").nodeValue,na=N.getNamedItem("fontWeight").nodeValue,oa=Number.parseInt(N.getNamedItem("fontSize").nodeValue,10),pa=N.getNamedItem("fontFamily").nodeValue,qa=N.getNamedItem("backgroundColor").nodeValue,ra=M.textContent.trim();H=babelHelpers["extends"]({type:a("SphericalVideoHotspotType").TEXT,color:ma,fontWeight:na,fontSize:oa,fontFamily:pa,backgroundColor:qa,alignment:la,text:ra},O);break;case"Image":var sa=M.textContent.trim();H=babelHelpers["extends"]({type:a("SphericalVideoHotspotType").IMAGE,imageData:sa},O);break}}if(H)x.push(new(a("FBHotspot"))({yaw:E,pitch:F,startTime:G,endTime:fa,content:H}))}k=new(a("FBHotspotMetadata"))({hotspots:x})}if(i||j||k){if(i!==null)f=f.set("initialFOV",i);if(j!==null)f=f.set("guideData",j);if(k!==null)f=f.set("fbHotspotMetadata",k)}return f},parseFBSpatialAudioXML:function d(e){__p&&__p();var f=a("VideoSphericalMetadataUtil").parseXMLToDocument(e);if(!f)return null;var g=f.getElementsByTagName("encoder_metadata")[0],h=f.getElementsByTagName("spatial")[0],i=f.getElementsByTagName("headlocked")[0],j=f.getElementsByTagName("focus")[0],k=f.getElementsByTagName("track"),l=new(a("FBSpatialAudioMetadata"))();if(g)l=l.set("encoderMetadata",{gitCommitDate:g.getAttribute("git_commit_date"),gitHash:g.getAttribute("git_hash"),is64Bit:g.getAttribute("is64bit")==="yes",name:g.getAttribute("name"),osName:g.getAttribute("osName"),version:g.getAttribute("version")});if(h){var m=h.getAttribute("format"),n=h.getAttribute("channel_map"),o=[];if(n){var p=n.split(" ");for(var q=p,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=q.length)break;t=q[s++]}else{s=q.next();if(s.done)break;t=s.value}var u=t;o.push(parseInt(u,10))}}l=l.set("spatialData",{bitDepth:parseInt(h.getAttribute("bit_depth"),10),channelMap:o,format:m?m:"",sampleRate:parseInt(h.getAttribute("sample_rate"),10)})}if(i)l=l.set("headlockedData",{bitDepth:parseInt(h.getAttribute("bit_depth"),10),sampleRate:parseInt(h.getAttribute("sample_rate"),10)});if(j){var v=j.getAttribute("schemeIdUri");l=l.set("focusData",{enabled:j.getAttribute("enabled")==="true",focusWidthDegrees:parseFloat(j.getAttribute("focusWidthDegrees")),offFocusLevel:parseFloat(j.getAttribute("offFocusLevel")),offFocusLevelDB:parseFloat(j.getAttribute("offFocusLevelDB")),schemeIDUri:v?v:""})}if(k){var w=[];for(var x=k,y=Array.isArray(x),z=0,x=y?x:x[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var A;if(y){if(z>=x.length)break;A=x[z++]}else{z=x.next();if(z.done)break;A=z.value}var B=A,C=B.getElementsByTagName("AudioChannelConfiguration"),D=void 0;if(C.length>1)D=C[1];else D=C[0];var E=D.getAttribute("schemeIdUri"),F=D.getAttribute("value");w.push({schemeIDUri:E?E:"",trackID:parseInt(B.getAttribute("id"),10),value:F?F:""})}l=l.set("trackData",w)}return l},parseYTSpatialAudioJSON:function d(e){var f=JSON.parse(e),g=f.ambisonic_channel_ordering,h=f.ambisonic_normalization,i=f.ambisonic_order,j=f.ambisonic_type,k=f.channel_map,l=f.num_channels,m=f.version;return new(a("YTSpatialAudioMetadata"))({ambisonic_channel_ordering:g,ambisonic_normalization:h,ambisonic_order:i,ambisonic_type:j,channel_map:k,num_channels:l,version:m})}};b.exports=c}),null);
__d("VideoSphericalMetadataReaderController",["regeneratorRuntime","ISOVideoFile","VideoSphericalMetadataGatherer","VideoSphericalMetadataReader","SphericalMetadata","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=3;function i(j){this.$VideoSphericalMetadataReaderController2=new(c("SphericalMetadata"))();this.$VideoSphericalMetadataReaderController3=false;switch(j.sourceType){case"fileObject":this.$VideoSphericalMetadataReaderController5=j.fileObject;this.$VideoSphericalMetadataReaderController4=new(c("VideoSphericalMetadataGatherer"))(this.$VideoSphericalMetadataReaderController5);break;case"metadata":this.$VideoSphericalMetadataReaderController1=j.metadata;break;default:throw new Error("Unrecognized source type")}}i.prototype.$VideoSphericalMetadataReaderController6=function(){__p&&__p();if(!this.$VideoSphericalMetadataReaderController1)return;if(!this.$VideoSphericalMetadataReaderController1.isSpherical)return;if(this.$VideoSphericalMetadataReaderController1.GSphericalMetadataXML)this.$VideoSphericalMetadataReaderController2=c("VideoSphericalMetadataReader").parseGSphericalMetadataXML(this.$VideoSphericalMetadataReaderController1.GSphericalMetadataXML,this.$VideoSphericalMetadataReaderController2);if(this.$VideoSphericalMetadataReaderController1.FBSphericalMetadataXML)this.$VideoSphericalMetadataReaderController2=c("VideoSphericalMetadataReader").parseFBSphericalMetadataXML(this.$VideoSphericalMetadataReaderController1.FBSphericalMetadataXML,this.$VideoSphericalMetadataReaderController2);if(this.$VideoSphericalMetadataReaderController1.FBSpatialAudioMetadataXML){var j=c("VideoSphericalMetadataReader").parseFBSpatialAudioXML(this.$VideoSphericalMetadataReaderController1.FBSpatialAudioMetadataXML);if(j)this.$VideoSphericalMetadataReaderController2=this.$VideoSphericalMetadataReaderController2.set("fbSpatialAudioMetadata",j)}if(this.$VideoSphericalMetadataReaderController1.YTSA3DMetadataJSON){var k=c("VideoSphericalMetadataReader").parseYTSpatialAudioJSON(this.$VideoSphericalMetadataReaderController1.YTSA3DMetadataJSON);this.$VideoSphericalMetadataReaderController2=this.$VideoSphericalMetadataReaderController2.set("ytSpatialAudioMetadata",k)}this.$VideoSphericalMetadataReaderController2=this.$VideoSphericalMetadataReaderController2.set("mayHaveSpatialAudio",this.$VideoSphericalMetadataReaderController1.numAudioTracks===h);this.$VideoSphericalMetadataReaderController3=true};i.objectToRawSphericalMetadata=function(j){__p&&__p();var k,l,m,n,o,p=j.streams.numAudioTracks,q=!!((k=j)!=null?(k=k.format)!=null?k.isSpherical:k:k),r={isSpherical:q,numAudioTracks:p};if(!q)return r;var s=(l=j)!=null?(l=l.metadata)!=null?l.sphericalMetadataXml:l:l;if(s)r.GSphericalMetadataXML=s;var t=(m=j)!=null?(m=m.metadata)!=null?m.FBSphericalMetadataXML:m:m;if(t)r.FBSphericalMetadataXML=t;var u=(n=j)!=null?(n=n.metadata)!=null?n.fbSpatialAudioMetadataXml:n:n;if(u)r.FBSpatialAudioMetadataXML=u;var v=(o=j)!=null?(o=o.metadata)!=null?o.ytSa3dMetadataJson:o:o;if(v)r.YTSA3DMetadataJSON=v;return r};i.prototype.getFileMetadata=function j(){__p&&__p();var k;return c("regeneratorRuntime").async(function l(m){__p&&__p();while(1)switch(m.prev=m.next){case 0:if(this.$VideoSphericalMetadataReaderController3){m.next=15;break}if(this.$VideoSphericalMetadataReaderController1){m.next=14;break}m.prev=2;k=this.$VideoSphericalMetadataReaderController4;if(!k){m.next=9;break}if(k.hasGathered()){m.next=8;break}m.next=8;return c("regeneratorRuntime").awrap(k.gatherRawSphericalMetadata());case 8:this.$VideoSphericalMetadataReaderController1=k.getRawSphericalMetadata();case 9:m.next=14;break;case 11:m.prev=11;m.t0=m["catch"](2);return m.abrupt("return",this.$VideoSphericalMetadataReaderController2);case 14:this.$VideoSphericalMetadataReaderController6();case 15:return m.abrupt("return",this.$VideoSphericalMetadataReaderController2);case 16:case"end":return m.stop()}},null,this,[[2,11]])};f.exports=i}),null);
__d("VideoComposerDialogSphericalDirectorStore",["Promise","ComposerVideoUploadSphericalMetadataUtils","ComposerVideoUploadSphericalStore","VideoComposerDialogDispatcher","FluxReduceStore","immutable","VideoSphericalMetadataInjector","VideoSphericalMetadataReaderController","VideoComposerDialogActionTypes","flattenPHPQueryData"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={contextConfig:null,editParams:null,metadata:null,showOmnistabSection:false,spherical:false};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("VideoComposerDialogActionTypes").RESET_COMPOSER:o=this.$VideoComposerDialogSphericalDirectorStore1(o);return o;case c("VideoComposerDialogActionTypes").BOOTLOAD_SPHERICAL_DIRECTOR_EDIT_PARAMETERS:o=this.$VideoComposerDialogSphericalDirectorStore2(o,p.data);return o;case c("VideoComposerDialogActionTypes").BOOTLOAD_SPHERICAL_DIRECTOR_UPLOAD_PARAMETERS:o=o.set("showOmnistabSection",p.data.showOmnistabSection);return o;case c("VideoComposerDialogActionTypes").BOOTLOAD_DEFAULT_EDIT_PARAMS:o=this.$VideoComposerDialogSphericalDirectorStore3(o,p.data.composerConfig.contextConfig);return o;case c("VideoComposerDialogActionTypes").BOOTLOAD_SPHERICAL_CONTEXT_CONFIG:o=this.$VideoComposerDialogSphericalDirectorStore4(o,p.data);return o;case c("VideoComposerDialogActionTypes").METADATA_LOADED_FROM_VIDEO_UPLOADER:o=this.$VideoComposerDialogSphericalDirectorStore5(o,p.data);return o;case c("VideoComposerDialogActionTypes").TOGGLE_SPHERICAL:o=o.set("spherical",p.data);return o;default:return o}};n.prototype.$VideoComposerDialogSphericalDirectorStore3=function(o,p){o=o.set("contextConfig",p);var q=this.getState().get("editParams");if(q)o=this.$VideoComposerDialogSphericalDirectorStore6(o,p.composerID,q);return o};n.prototype.$VideoComposerDialogSphericalDirectorStore4=function(o,p){o=o.set("contextConfig",p);var q=this.getState().get("metadata");if(q)o=this.$VideoComposerDialogSphericalDirectorStore7(o,p.composerID,q);return o};n.prototype.$VideoComposerDialogSphericalDirectorStore2=function(o,p){o=o.set("editParams",p);var q=this.getState().get("contextConfig");if(q)o=this.$VideoComposerDialogSphericalDirectorStore6(o,q.composerID,p);return o};n.prototype.$VideoComposerDialogSphericalDirectorStore5=function(o,p){o=o.set("metadata",p);var q=this.getState().get("contextConfig");if(q)o=this.$VideoComposerDialogSphericalDirectorStore7(o,q.composerID,p);return o};n.prototype.$VideoComposerDialogSphericalDirectorStore1=function(o){var p=this.getState().get("contextConfig");if(p)c("ComposerVideoUploadSphericalStore").clearComposerData(p.composerID);o=this.getInitialState();return o};n.prototype.$VideoComposerDialogSphericalDirectorStore6=function(o,p,q){o=o.set("showOmnistabSection",q.showOmnistabSection&&q.hasOmnistabEncoding);c("ComposerVideoUploadSphericalMetadataUtils").initWithEditParams(p,q.initialHeading,q.initialPitch,q.fov,q.guideEnabled,q.guideKeyframes,q.projection,q.stereoMode,q.hasSpatialAudio,q.omnistabEnabled);return o};n.prototype.$VideoComposerDialogSphericalDirectorStore7=function(o,p,q){__p&&__p();if(q&&q.format){var r=q.format.isSpherical;o=o.set("spherical",r);if(r){var s=c("VideoSphericalMetadataReaderController").objectToRawSphericalMetadata(q);new(c("VideoSphericalMetadataReaderController"))({sourceType:"metadata",metadata:s}).getFileMetadata().then(function(t){c("ComposerVideoUploadSphericalMetadataUtils").initWithOriginalSphericalMetadata(p,t)}).done()}}return o};n.prototype.getEditRequestData=function(){__p&&__p();var o=this.getState().get("contextConfig"),p=this.getState().get("spherical");if(!o||!p)return c("Promise").resolve({});var q=c("ComposerVideoUploadSphericalStore").getPostData(o.composerID),r={};r.spherical=p;r.initial_heading=q.initialHeading;r.initial_pitch=q.initialPitch;r.fov=q.fov;r.guide_enabled=!!q.guide_enabled;r.enable_omnistab=q.enable_omnistab;var s=c("flattenPHPQueryData")({guide_keyframes:q.guide_keyframes});Object.keys(s).forEach(function(t){r[t]=s[t]});return c("Promise").resolve(r)};n.prototype.getPostData=function(){__p&&__p();var o=this.getState().get("contextConfig");if(!o)return c("Promise").resolve({});var p=["enable_omnistab","guide_enabled","guide_keyframes","fov","hotspotXML","initialHeading","initialPitch","projection","spherical","stereoMode"],q=Object.assign({},c("ComposerVideoUploadSphericalStore").getPostData(o.composerID));q.spherical=this.getState().get("spherical");if(q.hotspots){var r=c("VideoSphericalMetadataInjector").convertFBHotspotMetadataToXML(q.hotspots);if(r)q.hotspotXML=new Blob([r],{type:"text/plain"})}var s=p.reduce(function(t,u){if(u in q)t[u]=q[u];return t},{});return c("Promise").resolve(s)};function n(){j.apply(this,arguments)}f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("XVideoComposerDialogBootloadSphericalDirectorEditTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/bootload_spherical_director_edit/",{video_id:{type:"FBID",required:true}})}),null);
__d("XVideoComposerDialogBootloadSphericalDirectorTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/bootload_spherical_director/",{target_id:{type:"FBID",required:true}})}),null);
__d("VideoComposerDialogSphericalDirectorUtils",["ActorURI","AsyncRequest","VideoComposerDialogSphericalDirectorActions","XVideoComposerDialogBootloadSphericalDirectorEditTabController","XVideoComposerDialogBootloadSphericalDirectorTabController"],(function a(b,c,d,e,f,g){"use strict";var h=function h(j,k){var l=c("XVideoComposerDialogBootloadSphericalDirectorEditTabController").getURIBuilder().setFBID("video_id",k).getURI(),m=c("ActorURI").create(l,j);return new(c("AsyncRequest"))(m).exec()},i=function i(j){var k=c("XVideoComposerDialogBootloadSphericalDirectorTabController").getURIBuilder().setFBID("target_id",j).getURI(),l=c("ActorURI").create(k,j);new(c("AsyncRequest"))(l).send()};f.exports={beginBootloadingSphericalDirectorEditTab:h,beginBootloadingSphericalDirectorUploadTab:i,bootloadSphericalDirectorUploadTab:function j(k){c("VideoComposerDialogSphericalDirectorActions").bootloadUploadParameters(k)}}}),null);
__d("VideoComposerDialogSphericalDirectorTabConfig",["ix","fbt","Promise","SphericalVideoExperiments","VideoComposerDialogSphericalDirectorActions","VideoComposerDialogSphericalDirectorContainer.react","VideoComposerDialogSphericalDirectorStore","VideoComposerDialogSphericalDirectorTabContainer.react","VideoComposerDialogSphericalDirectorUtils","VideoComposerDialogTab","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=i._("Add more detail to your 360 video with guide points."),k=i._("Add more detail to your 360 video with guide points and text."),l=i._("Add more detail to your 360 video with guide points and images."),m=i._("Add more detail to your 360 video with guide points, text and images."),n={key:c("VideoComposerDialogTab").SPHERICAL_DIRECTOR,glyphSelected:h("426964"),glyphUnselected:h("426965"),title:i._("360 Director tools"),defaultDescription:c("SphericalVideoExperiments").enableTextHotspots?c("SphericalVideoExperiments").enableImageHotspots?m:k:c("SphericalVideoExperiments").enableImageHotspots?l:j,tabContainer:c("VideoComposerDialogSphericalDirectorTabContainer.react"),bodyContainer:c("VideoComposerDialogSphericalDirectorContainer.react"),getCrosspostRequestDataToSend:function o(){return c("Promise").resolve()},getEditRequestDataToSend:function o(){return c("VideoComposerDialogSphericalDirectorStore").getEditRequestData()},getPostData:function o(){return c("VideoComposerDialogSphericalDirectorStore").getPostData()},fetchCrosspostData:function o(p){return c("Promise").resolve()},fetchEditPostData:function o(p){if(!p.isSpherical)return c("Promise").resolve();if(!p.actorID)return c("Promise").reject();return c("VideoComposerDialogSphericalDirectorUtils").beginBootloadingSphericalDirectorEditTab(p.actorID,p.videoID).then(function(q){c("VideoComposerDialogSphericalDirectorActions").toggleSpherical(p.isSpherical);return q}).then(function(q){c("VideoComposerDialogSphericalDirectorActions").bootloadEditParameters(q.payload);return})}};f.exports=n}),null);
__d("VideoComposerDialogTabs",["immutable","VideoComposerDialogAdBreaksTabConfig","VideoComposerDialogBasicTabConfig","VideoComposerDialogCaptionsTabConfig","VideoComposerDialogDistributionTabConfig","VideoComposerDialogRightsTabConfig","VideoComposerDialogSphericalDirectorTabConfig","VideoComposerDialogTrackingTabConfig","VideoComposerDialogThumbnailsTabConfig"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").Map({basic:c("VideoComposerDialogBasicTabConfig"),distribution:c("VideoComposerDialogDistributionTabConfig"),captions:c("VideoComposerDialogCaptionsTabConfig"),ad_breaks:c("VideoComposerDialogAdBreaksTabConfig"),tracking:c("VideoComposerDialogTrackingTabConfig"),thumbnails:c("VideoComposerDialogThumbnailsTabConfig"),spherical_director:c("VideoComposerDialogSphericalDirectorTabConfig"),rights:c("VideoComposerDialogRightsTabConfig")});f.exports=h}),null);
__d("VideoComposerDialogThumbnailActions",["VideoComposerDialogDispatcher","VideoComposerDialogActionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(o){var p={type:c("VideoComposerDialogActionTypes").BOOTLOAD_CROSSPOST_THUMBNAILS,data:o};c("VideoComposerDialogDispatcher").dispatch(p)},i=function i(o){var p={type:c("VideoComposerDialogActionTypes").GENERATED_THUMBNAILS,data:o};c("VideoComposerDialogDispatcher").dispatch(p)},j=function j(o){var p={type:c("VideoComposerDialogActionTypes").SELECT_SECTION,section:o};c("VideoComposerDialogDispatcher").dispatch(p)},k=function k(o){var p={type:c("VideoComposerDialogActionTypes").TOGGLE_SELECTED_GENERATED_THUMBNAIL,index:o};c("VideoComposerDialogDispatcher").dispatch(p)},l=function l(o){var p={type:c("VideoComposerDialogActionTypes").UPDATE_CUSTOM_THUMBNAIL,thumbnail:o};c("VideoComposerDialogDispatcher").dispatch(p)},m=function m(o){var p={type:c("VideoComposerDialogActionTypes").UPDATE_SCRUBBED_THUMBNAIL,thumbnail:o};c("VideoComposerDialogDispatcher").dispatch(p)},n=function n(o){var p={type:c("VideoComposerDialogActionTypes").UPDATE_SELECTED_THUMBNAIL,thumbnail:o};c("VideoComposerDialogDispatcher").dispatch(p)};f.exports={bootloadCrosspostThumbnails:h,generatedThumbnails:i,selectThumbnailSection:j,toggleSelectedGeneratedThumbnail:k,updateCustomThumbnail:l,updateScrubbedThumbnail:m,updateSelectedThumbnail:n}}),null);
__d("XVideoComposerDialogCrosspostBootloadThumbnailsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/crosspost/bootload_thumbnails/",{video_asset_id:{type:"FBID",required:true}})}),null);
__d("VideoComposerDialogThumbnailUtils",["UserAgent","VideoComposerDialogConstants","VideoComposerDialogThumbnailActions","XVideoComposerDialogCrosspostBootloadThumbnailsController","generateVideoThumbnails","ActorURI","AsyncRequest"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(k){var l=c("generateVideoThumbnails")(k,k.videoWidth?k.videoWidth:0,k.videoHeight?k.videoHeight:0,c("VideoComposerDialogConstants").GENERATED_THUMBNAILS,"contain");l.done(function(m){c("VideoComposerDialogThumbnailActions").generatedThumbnails(m)})},i=function i(k,l){var m=c("XVideoComposerDialogCrosspostBootloadThumbnailsController").getURIBuilder().setFBID("video_asset_id",l).getURI(),n=c("ActorURI").create(m,k);return new(c("AsyncRequest"))().setURI(n).exec().then(function(o){c("VideoComposerDialogThumbnailActions").bootloadCrosspostThumbnails(o.payload)})},j=function j(){return c("UserAgent").isBrowser("Firefox >= 14")||c("UserAgent").isBrowser("Chrome")};f.exports={beginBootloadingCrosspostThumbnailsTab:i,onMetadataLoaded:h,shouldShowThumbnailScrubber:j}}),null);
__d("FileVideoThumbnail",["Promise","DOM","VideoThumbnail","canvasToBlob"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=b.URL||b.webkitURL||{};h=babelHelpers.inherits(k,c("VideoThumbnail"));i=h&&h.prototype;function k(l){"use strict";i.constructor.call(this,null);this.$FileVideoThumbnail1=l}k.prototype.getURL=function(){"use strict";if(!this.$FileVideoThumbnail2)this.$FileVideoThumbnail2=j.createObjectURL(this.$FileVideoThumbnail1);return this.$FileVideoThumbnail2};k.prototype.getData=function(){"use strict";return c("Promise").resolve(this.$FileVideoThumbnail1)};k.prototype.getDataWithText=function(l,m,n,o,p,q,r,s,t,u){"use strict";__p&&__p();var v=c("DOM").create("canvas"),w=v.getContext("2d");v.width=l;v.height=m;return new(c("Promise"))(function(x,y){var z=new Image();z.onload=function(){w.drawImage(z,0,0,v.width,v.height);w=c("VideoThumbnail").addTextToCanvasContext(w,n,o,p,q,r,s,t,u);c("canvasToBlob")(v,"image/jpeg").then(x,y).done()};z.src=this.$FileVideoThumbnail2}.bind(this))};f.exports=k}),null);
__d("URLVideoThumbnail",["VideoThumbnail"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("VideoThumbnail"));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this,k)}f.exports=j}),null);
__d("VideoComposerDialogThumbnailTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({GENERATED:"",CUSTOM:"",VIDEO_FRAME:""});f.exports={ThumbnailSection:h}}),null);
__d("VideoThumbnailSource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CUSTOM:"custom",GENERATED_DEFAULT:"generated_default",GENERATED_SELECTED:"generated_selected",SCRUBBER_SELECTED:"scrubber_selected"})}),null);
__d("VideoComposerDialogThumbnailsStore",["Promise","FileVideoThumbnail","FluxReduceStore","URLVideoThumbnail","immutable","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","VideoComposerDialogThumbnailTypes","VideoComposerDialogThumbnailUtils","VideoThumbnailSource"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={customThumbnail:null,generatedThumbnails:[],hasSelectedGeneratedThumb:false,newFileAdded:false,scrubbedThumbnail:null,selectedGeneratedIndex:0,selectedSection:c("VideoComposerDialogThumbnailTypes").ThumbnailSection.GENERATED,selectedThumbnail:null};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();var q=this.getState(),r=q.customThumbnail,s=q.generatedThumbnails,t=q.scrubbedThumbnail,u=q.selectedGeneratedIndex;switch(p.type){case c("VideoComposerDialogActionTypes").BOOTLOAD_CROSSPOST_THUMBNAILS:o=o.set("selectedThumbnail",new(c("URLVideoThumbnail"))(p.data.selectedThumbnail));var v=p.data.thumbnails;v.unshift(p.data.selectedThumbnail);v=Array.from(new Set(v));o=o.set("generatedThumbnails",v.map(function(w){return new(c("URLVideoThumbnail"))(w)}));return o;case c("VideoComposerDialogActionTypes").GENERATED_THUMBNAILS:o=o.set("selectedThumbnail",p.data.selectedThumbnail);o=o.set("generatedThumbnails",p.data.thumbnails);return o;case c("VideoComposerDialogActionTypes").METADATA_LOADED_FROM_HTML_PLAYER:if(o.generatedThumbnails.length===0||o.newFileAdded){c("VideoComposerDialogThumbnailUtils").onMetadataLoaded(p.videoPlayer);o=o.set("newFileAdded",false)}return o;case c("VideoComposerDialogActionTypes").FILE_ADDED:o=o.set("newFileAdded",true);return o;case c("VideoComposerDialogActionTypes").SELECT_SECTION:o=o.set("selectedSection",p.section);switch(p.section){case c("VideoComposerDialogThumbnailTypes").ThumbnailSection.GENERATED:o=o.set("selectedThumbnail",s[u]);break;case c("VideoComposerDialogThumbnailTypes").ThumbnailSection.CUSTOM:if(r!==null)o=o.set("selectedThumbnail",r);break;case c("VideoComposerDialogThumbnailTypes").ThumbnailSection.VIDEO_FRAME:if(t!==null)o=o.set("selectedThumbnail",t);break;default:break}return o;case c("VideoComposerDialogActionTypes").TOGGLE_SELECTED_GENERATED_THUMBNAIL:o=o.set("hasSelectedGeneratedThumb",true);o=o.set("selectedGeneratedIndex",p.index);o=o.set("selectedThumbnail",s[p.index]);return o;case c("VideoComposerDialogActionTypes").UPDATE_CUSTOM_THUMBNAIL:o=o.set("customThumbnail",p.thumbnail);o=o.set("selectedThumbnail",p.thumbnail);return o;case c("VideoComposerDialogActionTypes").UPDATE_SCRUBBED_THUMBNAIL:o=o.set("scrubbedThumbnail",p.thumbnail);o=o.set("selectedThumbnail",p.thumbnail);return o;case c("VideoComposerDialogActionTypes").UPDATE_SELECTED_THUMBNAIL:o=o.set("selectedThumbnail",p.thumbnail);return o;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:o=this.getInitialState();return o;default:return o}};n.prototype.getPostData=function(){__p&&__p();var o=this.getState(),p=o.hasSelectedGeneratedThumb,q=o.scrubbedThumbnail,r=o.selectedThumbnail,s={};if(r){if(r instanceof c("FileVideoThumbnail"))s.thumbnail_type=c("VideoThumbnailSource").CUSTOM;else if(q!==null&&q===r){s.thumbnail_type=c("VideoThumbnailSource").SCRUBBER_SELECTED;s.user_scrubbed_thumbnail_timestamp=r.getTime()}else s.thumbnail_type=p?c("VideoThumbnailSource").GENERATED_SELECTED:c("VideoThumbnailSource").GENERATED_DEFAULT;return r.getData().then(function(t){s.thumb=t;return s})}return c("Promise").resolve(s)};function n(){j.apply(this,arguments)}f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogThumbnailsTabConfig",["ix","fbt","Promise","React","VideoComposerDialogTab","VideoComposerDialogThumbnailsContainer.react","VideoComposerDialogThumbnailsStore","VideoComposerDialogThumbnailsTabContainer.react","VideoComposerDialogThumbnailUtils","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={key:c("VideoComposerDialogTab").THUMBNAILS,glyphSelected:h("425096"),glyphUnselected:h("425099"),title:i._("Thumbnail"),defaultDescription:c("React").createElement("div",null),tabContainer:c("VideoComposerDialogThumbnailsTabContainer.react"),bodyContainer:c("VideoComposerDialogThumbnailsContainer.react"),getCrosspostRequestDataToSend:function k(){return c("Promise").resolve()},getEditRequestDataToSend:function k(){return c("Promise").resolve()},getPostData:function k(){return c("VideoComposerDialogThumbnailsStore").getPostData()},fetchCrosspostData:function k(l){return c("VideoComposerDialogThumbnailUtils").beginBootloadingCrosspostThumbnailsTab(l.actorID,l.videoAssetID)},fetchEditPostData:function k(l){return c("Promise").resolve()}};f.exports=j}),null);
__d("VideoComposerDialogTrackingStore",["Promise","FluxReduceStore","immutable","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={customLabels:[],universalID:""};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){switch(p.type){case c("VideoComposerDialogActionTypes").UPDATE_CUSTOM_LABELS:o=o.set("customLabels",p.customLabels);return o;case c("VideoComposerDialogActionTypes").UPDATE_UNIVERSAL_ID:o=o.set("universalID",p.universalID);return o;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:o=this.getInitialState();return o;default:return o}};n.prototype.getPostData=function(){var o=this.getState(),p=o.customLabels,q=o.universalID;return c("Promise").resolve({custom_labels:p,external_video_id:q})};function n(){j.apply(this,arguments)}f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogTrackingTabConfig",["ix","fbt","Promise","VideoComposerDialogTab","VideoComposerDialogTrackingContainer.react","VideoComposerDialogTrackingStore","VideoComposerDialogTrackingTabContainer.react","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={key:c("VideoComposerDialogTab").TRACKING,glyphSelected:h("401232"),glyphUnselected:h("401239"),title:i._("Tracking"),defaultDescription:i._("Add labels to help you manage and search for your video."),tabContainer:c("VideoComposerDialogTrackingTabContainer.react"),bodyContainer:c("VideoComposerDialogTrackingContainer.react"),getCrosspostRequestDataToSend:function k(){return c("Promise").resolve()},getEditRequestDataToSend:function k(){return c("Promise").resolve()},getPostData:function k(){return c("VideoComposerDialogTrackingStore").getPostData()},fetchCrosspostData:function k(l){return c("Promise").resolve()},fetchEditPostData:function k(l){return c("Promise").resolve()}};f.exports=j}),null);
__d("VideoComposerDialogField.react",["ix","cx","Image.react","React","Tooltip.react","XUIText.react","XUIGrayText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:this.props.disabled?"_2ukm":""},c("React").createElement("div",{className:this.props.showTopBorder?"_2fb1":""}),c("React").createElement("div",{className:"_gtn"+(this.props.showTopBorder?" _2pig":"")},c("React").createElement("div",{className:"_2fbh"},c("React").createElement("div",{className:"_ini"},c("React").createElement(c("XUIText.react"),{size:"body2",weight:"bold"},this.props.title),this.props.tooltip?c("React").createElement(c("Tooltip.react"),{tooltip:this.props.tooltip},c("React").createElement(c("Image.react"),{className:"_inj",src:h("126340")})):null),this.props.subtitle?c("React").createElement(c("XUIGrayText.react"),{className:"_64dx",display:"block",size:"meta1"},this.props.subtitle):null,this.props.footer?c("React").createElement("div",{className:"_3-8y"},this.props.footer):null),c("React").createElement("div",{className:"_inl"+(this.props.inputPadding?" _648t":"")},this.props.input)))};function l(){j.apply(this,arguments)}l.defaultProps={disabled:false,inputPadding:false,showTopBorder:true};f.exports=l}),null);
__d("VideoComposerDialogAdBreakBlockListField.react",["fbt","PagesSettingsInstreamAdsBlockListContainer","React","VideoComposerDialogField.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.pageID;if(l==null)return null;return c("React").createElement(c("VideoComposerDialogField.react"),{input:c("React").createElement(c("PagesSettingsInstreamAdsBlockListContainer"),{appliable:true,currentPageId:l,isNewComposerStyle:true,shouldInitializeOnMount:false}),inputPadding:true,subtitle:h._("Use block lists to prevent certain kinds of ads from appearing in your videos."),title:h._("Block Lists"),tooltip:h._("Use block lists to prevent certain types of ads from appearing in your videos. Block lists can be applied to specific videos or to all videos on your Page.")})};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogAdBreakHoldoutTestField.react",["cx","fbt","React","VideoComposerDialogField.react","VideoComposerDialogRadioButton.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogAdBreakHoldoutTestField1=function(){this.props.onUpdateHoldoutTestStatus(true)}.bind(this),this.$VideoComposerDialogAdBreakHoldoutTestField2=function(){this.props.onUpdateHoldoutTestStatus(false)}.bind(this),n}l.prototype.render=function(){if(!this.props.holdoutTestPublicMetadata.isEligibleCreator||!this.props.hasEnabledAdBreaks)return null;return c("React").createElement(c("VideoComposerDialogField.react"),{input:c("React").createElement("div",{className:"_4rzm"},c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:this.props.enabled,label:i._("Yes"),onSelect:this.$VideoComposerDialogAdBreakHoldoutTestField1}),c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:!this.props.enabled,label:i._("No"),onSelect:this.$VideoComposerDialogAdBreakHoldoutTestField2})),inputPadding:true,subtitle:i._("Enable hold-out testing to learn how your video performs when there are ad breaks."),title:i._("Viewer holdout testing"),tooltip:c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{display:"block",weight:"bold"},i._("How holdouts work for ad breaks")),c("React").createElement("br",null),c("React").createElement(c("XUIText.react"),{display:"block"},i._("For this video, a small percentage of your viewers will be split into a group for the test. Some viewers will see ads and some won't. The remaining viewers are not affected.")),c("React").createElement("br",null),c("React").createElement(c("XUIText.react"),{display:"block"},i._("When you turn on hold-out testing for a video, the test will run for 14 days or until the test group with ad breaks earns $100. Test results are available in your Page Insights.")))})};f.exports=l}),null);
__d("XVideoComposerDialogAdBreakNuxController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/nux/",{nux_id:{type:"Int",required:true}})}),null);
__d("VideoComposerDialogAdBreakNUX.react",["cx","AsyncRequest","ContextualLayerShowAndHideOnScrollOut","ContextualLayerUpdateOnScroll","React","XBasicFBNuxDismissController","XUIAmbientNUX.react","XUINotice.react","XUIText.react","XVideoComposerDialogAdBreakNuxController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={dismissed:!!this.props.nuxID},this.$VideoComposerDialogAdBreakNUX1=function(){this.setState({dismissed:true});if(this.props.nuxID){var q=c("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",this.props.nuxID).getURI();new(c("AsyncRequest"))().setURI(q).send()}}.bind(this),m}k.prototype.componentWillMount=function(){if(this.props.nuxID){var l=c("XVideoComposerDialogAdBreakNuxController").getURIBuilder().setInt("nux_id",this.props.nuxID).getURI();new(c("AsyncRequest"))().setURI(l).setMethod("GET").setReadOnly(true).setHandler(function(m){if(m.getPayload()&&m.getPayload().shouldShowNux)this.setState({dismissed:false})}.bind(this)).send()}};k.prototype.render=function(){__p&&__p();if(this.state.dismissed)return null;if(this.props.style==="notice"){var l=this.props.dismissible?{onDismiss:this.$VideoComposerDialogAdBreakNUX1}:{};return c("React").createElement(c("XUINotice.react"),babelHelpers["extends"]({className:"_w68",use:"notify"},l),c("React").createElement("div",{className:"_w69"},c("React").createElement(c("XUIText.react"),{size:"body2",weight:"bold"},this.props.title),c("React").createElement("div",{className:"_w6p"},c("React").createElement(c("XUIText.react"),{size:"meta1"},this.props.description))))}if(this.props.style==="tooltip"){var m=this.props.dismissible?{onCloseButtonClick:this.$VideoComposerDialogAdBreakNUX1}:{};return c("React").createElement(c("XUIAmbientNUX.react"),babelHelpers["extends"]({behaviors:{ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll"),ContextualLayerShowAndHideOnScrollOut:c("ContextualLayerShowAndHideOnScrollOut")},contextRef:this.props.contextRef,customwidth:300,position:"above",shown:!this.state.dismissed,width:"custom"},m),c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{size:"body2",weight:"bold"},this.props.title),c("React").createElement("div",{className:"_w6p"},c("React").createElement(c("XUIText.react"),{size:"meta1"},this.props.description))))}return null};f.exports=k}),null);
__d("VideoComposerDialogAdBreakAutoAdjustmentTooltip.react",["fbt","React","VideoComposerDialogAdBreakNUX.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=5575;function j(k){return c("React").createElement(c("VideoComposerDialogAdBreakNUX.react"),{contextRef:k.contextRef,description:c("React").createElement("div",null,h._("To give viewers the best possible experience, ad placements that interrupt speech in the video may be moved slightly earlier or later.")),dismissible:true,nuxID:i,style:"tooltip",title:h._("Optimized Ad Break Placements")})}f.exports=j}),null);
__d("VideoComposerDialogAdBreakAutoAdjustmentSettings.react",["cx","fbt","React","SUIBusinessTheme","SUIText.react","VideoComposerDialogAdBreakAutoAdjustmentTooltip.react","XUICheckboxInput.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogAdBreakAutoAdjustmentSettings1=function(event){this.props.onEnableAdBreakAutoAdjustment(event.target.checked)}.bind(this),this.$VideoComposerDialogAdBreakAutoAdjustmentSettings2=function(){return this.refs.autoAdjustmentCheckbox}.bind(this),n}l.prototype.render=function(){return c("React").createElement("div",{className:"_65nk"},c("React").createElement("div",{className:"_3-90"},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.props.isAdBreakAutoAdjustmentEnabled,ref:"autoAdjustmentCheckbox",onChange:this.$VideoComposerDialogAdBreakAutoAdjustmentSettings1}),c("React").createElement(c("VideoComposerDialogAdBreakAutoAdjustmentTooltip.react"),{contextRef:this.$VideoComposerDialogAdBreakAutoAdjustmentSettings2})),c("React").createElement(c("SUIText.react"),{color:"secondary",display:"block",theme:c("SUIBusinessTheme")},i._("Automatically adjust ad break placements to improve your viewers' experience")))};f.exports=l}),null);
__d("VideoComposerDialogAdBreakInsertionButton.react",["cx","fbt","DateConsts","React","Tooltip","VideoInstreamAdsConstants","VideoInstreamUtils","XUIButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.$VideoComposerDialogAdBreakInsertionButton1=function(){__p&&__p();if(!this.props.disabled)return null;var m=this.props.insertedAdBreaks.map(function(s){return{thumbnailURL:s.thumbnailURL,timeOffset:s.timeOffset}}),n=c("VideoInstreamUtils").getEligibleTimeSegments(m,this.props.videoDuration,this.props.hasGapRule);if(n.length===0){var o=c("VideoInstreamUtils").getMaxPossibleAdBreaks(this.props.videoDuration,this.props.hasGapRule);if(o>m.length)return i._({"*":"Ad breaks need to be at least {number} minutes apart. Based on where you've placed your current ad breaks, there isn't space for another one.","_1":"Ad breaks need to be at least 1 minute apart. Based on where you've placed your current ad breaks, there isn't space for another one."},[i.plural(c("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS/c("DateConsts").MS_PER_MIN,"number")]);return i._("You've reached your ad break limit for this video.")}var p=c("VideoInstreamUtils").isInEligibleTimeSegments(this.props.currentAdBreakTimeOffset,this.props.videoDuration,m,this.props.hasGapRule);if(p)return null;var q=c("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/c("DateConsts").MS_PER_SEC;if(this.props.currentAdBreakTimeOffset<q)return i._({"*":"Ad breaks cannot be placed in the first {number} seconds.","_1":"Ad breaks cannot be placed in the first second."},[i.plural(q,"number")]);var r=c("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS/c("DateConsts").MS_PER_SEC;if(this.props.currentAdBreakTimeOffset>this.props.videoDuration-r)return i._({"*":"Ad breaks cannot be placed in the last {number} seconds.","_1":"Ad breaks cannot be placed in the last second."},[i.plural(r,"number")]);return i._({"*":"Ad breaks cannot be placed less than {number} minutes apart.","_1":"Ad breaks cannot be placed less than 1 minute apart."},[i.plural(c("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS/c("DateConsts").MS_PER_MIN,"number")])};l.prototype.render=function(){return c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({className:"_4vdf _3-8_",disabled:this.props.disabled||!c("VideoInstreamUtils").isInEligibleTimeSegments(this.props.currentAdBreakTimeOffset,this.props.videoDuration,this.props.insertedAdBreaks.map(function(m){return{timeOffset:m.timeOffset,thumbnailURL:m.thumbnailURL}}),this.props.hasGapRule),href:"#",label:this.props.hasGapRule?i._("Add"):i._("Insert"),labelIsHidden:false,type:"button",onClick:this.props.onInsertAdBreak},c("Tooltip").propsFor(this.$VideoComposerDialogAdBreakInsertionButton1(),"above","right")))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogAdBreakThumbnail.react",["cx","Image.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){__p&&__p();var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$VideoComposerDialogAdBreakThumbnail1=function(){if(this.props.isAdBreakDisabled)return;if(this.props.isPreviewingCurrentAdBreak)this.props.onCancelPreview();else if(!this.props.isPreviewingAdBreak&&this.props.adBreakIndex!=null)this.props.onPreviewAdBreak(this.props.adBreakIndex)}.bind(this),m}k.prototype.render=function(){return c("React").createElement("div",{className:"_4vea"+(this.props.isAdBreakDisabled||!this.props.isPreviewingCurrentAdBreak&&this.props.isPreviewingAdBreak?" _4vdt":""),role:"presentation",onClick:this.$VideoComposerDialogAdBreakThumbnail1},c("React").createElement("div",{className:"_4vec"+(this.props.isAdBreakDisabled?" _4vdt":"")},c("React").createElement("div",{className:(!this.props.isPreviewingCurrentAdBreak&&!this.props.isAdBreakDisabled?"_4vee":"")+(this.props.isPreviewingCurrentAdBreak&&!this.props.isAdBreakDisabled?" _4vef":"")})),c("React").createElement(c("Image.react"),{className:"_4veg",src:this.props.thumbnailURL}))};f.exports=k}),null);
__d("VideoComposerDialogAdBreakTimeOffsetEditorArrow.react",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.disabled;return c("React").createElement("div",{className:"_4vd_"},c("React").createElement("div",{className:(!l?"_4ve1":"")+(l?" _4ve2":""),onMouseDown:this.props.onClickUpArrow}),c("React").createElement("div",{className:(!l?"_4ve4":"")+(l?" _4ve9":""),onMouseDown:this.props.onClickDownArrow}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogAdBreakTimeOffsetEditor.react",["cx","AbstractTextInput.react","DateConsts","React","VideoComposerDialogAdBreakTimeOffsetEditorArrow.react","VideoInstreamUtils"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=10/c("DateConsts").MS_PER_SEC;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={isInputtingCurrentAdBreak:false,timeOffsetString:"00:00.000"},this.$VideoComposerDialogAdBreakTimeOffsetEditor1=function(event){this.setState({isInputtingCurrentAdBreak:true});this.props.onSetCurrentAdBreak(this.props.adBreakTimeOffset,true,true)}.bind(this),this.$VideoComposerDialogAdBreakTimeOffsetEditor2=function(event){this.setState({isInputtingCurrentAdBreak:false,timeOffsetString:m(this.props.adBreakTimeOffset)})}.bind(this),this.$VideoComposerDialogAdBreakTimeOffsetEditor3=function(event){this.setState({timeOffsetString:event.target.value});var s=c("VideoInstreamUtils").convertFormattedTimeToSeconds(event.target.value);if(this.state.isInputtingCurrentAdBreak)this.props.onSetCurrentAdBreak(Number(s),true,true)}.bind(this),this.$VideoComposerDialogAdBreakTimeOffsetEditor4=function(){this.$VideoComposerDialogAdBreakTimeOffsetEditor5(k)}.bind(this),this.$VideoComposerDialogAdBreakTimeOffsetEditor6=function(){this.$VideoComposerDialogAdBreakTimeOffsetEditor5(-k)}.bind(this),o}l.prototype.componentDidMount=function(){this.setState({timeOffsetString:m(this.props.adBreakTimeOffset)})};l.prototype.componentWillReceiveProps=function(n){if(!this.state.isInputtingCurrentAdBreak)this.setState({timeOffsetString:m(n.adBreakTimeOffset)})};l.prototype.$VideoComposerDialogAdBreakTimeOffsetEditor5=function(n){if(this.props.isPreviewingAdBreak)return;var o=this.props.adBreakTimeOffset+n;o=Math.max(o,0);o=Math.min(o,this.props.videoDuration);this.props.onSetCurrentAdBreak(o,true,true)};l.prototype.$VideoComposerDialogAdBreakTimeOffsetEditor7=function(){return this.props.adBreakIndex===null};l.prototype.render=function(){return c("React").createElement("div",{className:"_4vdy"},this.props.isIndexCircleVisible?c("React").createElement("div",{className:"_4vdz"},this.props.adBreakIndex!==null?this.props.adBreakIndex+1:null):null,c("React").createElement(c("AbstractTextInput.react"),{className:"_4vd-",disabled:this.props.isPreviewingAdBreak||!this.$VideoComposerDialogAdBreakTimeOffsetEditor7(),placeholder:"00:00.000",value:this.state.timeOffsetString,onBlur:this.$VideoComposerDialogAdBreakTimeOffsetEditor2,onChange:this.$VideoComposerDialogAdBreakTimeOffsetEditor3,onDownArrow:this.$VideoComposerDialogAdBreakTimeOffsetEditor6,onFocus:this.$VideoComposerDialogAdBreakTimeOffsetEditor1,onUpArrow:this.$VideoComposerDialogAdBreakTimeOffsetEditor4}),this.$VideoComposerDialogAdBreakTimeOffsetEditor7()?c("React").createElement(c("VideoComposerDialogAdBreakTimeOffsetEditorArrow.react"),{disabled:this.props.isPreviewingAdBreak,onClickDownArrow:this.$VideoComposerDialogAdBreakTimeOffsetEditor6,onClickUpArrow:this.$VideoComposerDialogAdBreakTimeOffsetEditor4}):null)};l.defaultProps={isIndexCircleVisible:true};var m=function m(n){return c("VideoInstreamUtils").convertTimestampToFormattedString(n)};f.exports=l}),null);
__d("VideoComposerDialogAdBreakDetailsItem.react",["cx","AdBreakStatus","React","VideoComposerDialogAdBreakInsertionButton.react","VideoComposerDialogAdBreakThumbnail.react","VideoComposerDialogAdBreakTimeOffsetEditor.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={hover:false},this.$VideoComposerDialogAdBreakDetailsItem1=function(){if(this.props.adBreakIndex!==null&&this.props.adBreakIndex!==undefined)this.props.onDeleteAdBreak(this.props.adBreakIndex)}.bind(this),this.$VideoComposerDialogAdBreakDetailsItem4=function(){this.setState({hover:true})}.bind(this),this.$VideoComposerDialogAdBreakDetailsItem5=function(){this.setState({hover:false})}.bind(this),m}k.prototype.$VideoComposerDialogAdBreakDetailsItem2=function(){return this.props.currentPreviewIndex!==null};k.prototype.$VideoComposerDialogAdBreakDetailsItem3=function(){return this.props.currentPreviewIndex!==null&&this.props.currentPreviewIndex===this.props.adBreakIndex};k.prototype.render=function(){return c("React").createElement("div",{className:"_4vdl _4vdo",onMouseEnter:this.$VideoComposerDialogAdBreakDetailsItem4,onMouseLeave:this.$VideoComposerDialogAdBreakDetailsItem5},c("React").createElement("div",{className:"_4vdp"+(this.props.adBreakIndex===0?" _4vdr":"")+(this.props.adBreakIndex===null?" _4vds":"")+(this.props.adBreak.status===c("AdBreakStatus").DISABLED||this.$VideoComposerDialogAdBreakDetailsItem2()&&!this.$VideoComposerDialogAdBreakDetailsItem3()?" _4vdt":"")+" _2pis"},c("React").createElement(c("VideoComposerDialogAdBreakTimeOffsetEditor.react"),{adBreakIndex:this.props.adBreakIndex,adBreakTimeOffset:this.props.adBreak.timeOffset,isPreviewingAdBreak:this.$VideoComposerDialogAdBreakDetailsItem2(),videoDuration:this.props.videoDuration,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak}),c("React").createElement("div",{className:"_4vdu"}),this.props.adBreakIndex!==null?c("React").createElement(c("VideoComposerDialogAdBreakThumbnail.react"),{adBreakIndex:this.props.adBreakIndex,isAdBreakDisabled:this.props.adBreak.status===c("AdBreakStatus").DISABLED,isPreviewingAdBreak:this.$VideoComposerDialogAdBreakDetailsItem2(),isPreviewingCurrentAdBreak:this.$VideoComposerDialogAdBreakDetailsItem3(),thumbnailURL:this.props.adBreak.thumbnailURL,onCancelPreview:this.props.onCancelPreview,onPreviewAdBreak:this.props.onPreviewAdBreak}):c("React").createElement(c("VideoComposerDialogAdBreakInsertionButton.react"),{currentAdBreakTimeOffset:this.props.adBreak.timeOffset,disabled:this.props.adBreak.status===c("AdBreakStatus").DISABLED||this.props.currentPreviewIndex!=null,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,videoDuration:this.props.videoDuration,onInsertAdBreak:this.props.onInsertAdBreak})),c("React").createElement("div",{className:"_4vdv"},c("React").createElement("div",{className:"_4vdw"+(!this.state.hover||this.props.adBreakIndex===null||this.props.currentPreviewIndex!=null?" _4vdx":""),role:"presentation",onClick:this.$VideoComposerDialogAdBreakDetailsItem1})))};f.exports=k}),null);
__d("VideoComposerDialogAdBreakDetails.react",["cx","AdBreakStatus","React","VideoComposerDialogAdBreakDetailsItem.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_4vdk"},c("React").createElement(l,this.props),c("React").createElement(m,this.props))};function k(){i.apply(this,arguments)}function l(n){return n.insertedAdBreaks.map(function(o,p){return c("React").createElement(c("VideoComposerDialogAdBreakDetailsItem.react"),{adBreak:o,adBreakIndex:p,currentPreviewIndex:n.currentPreviewIndex,hasGapRule:n.hasGapRule,insertedAdBreaks:n.insertedAdBreaks,key:p,videoDuration:n.videoDuration,onCancelPreview:n.onCancelPreview,onDeleteAdBreak:n.onDeleteAdBreak,onInsertAdBreak:n.onInsertAdBreak,onPreviewAdBreak:n.onPreviewAdBreak,onSetCurrentAdBreak:n.onSetCurrentAdBreak})})}function m(n){return c("React").createElement(c("VideoComposerDialogAdBreakDetailsItem.react"),{adBreak:{status:n.adBreaksDisabled?c("AdBreakStatus").DISABLED:c("AdBreakStatus").ENABLED,thumbnailURL:null,timeOffset:n.currentAdBreakTimeOffset},adBreakIndex:null,currentPreviewIndex:n.currentPreviewIndex,hasGapRule:n.hasGapRule,insertedAdBreaks:n.insertedAdBreaks,videoDuration:n.videoDuration,onCancelPreview:n.onCancelPreview,onDeleteAdBreak:n.onDeleteAdBreak,onInsertAdBreak:n.onInsertAdBreak,onPreviewAdBreak:n.onPreviewAdBreak,onSetCurrentAdBreak:n.onSetCurrentAdBreak})}f.exports=k}),null);
__d("VideoComposerDialogAdBreakInsertionField.react",["cx","fbt","BUISwitch.react","DateConsts","React","VideoComposerDialogAdBreakAutoAdjustmentSettings.react","VideoComposerDialogAdBreakDetails.react","VideoComposerDialogField.react","VideoInstreamAdsConstants","VideoInstreamUtils","XUIGrayText.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$VideoComposerDialogAdBreakInsertionField1=function(t){this.props.onUpdateAdBreakStatus(!t)}.bind(this),p}l.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogField.react"),{footer:c("React").createElement("div",{className:"_1kta"},c("React").createElement("div",{className:"_3-90"},c("React").createElement(c("BUISwitch.react"),{disabled:this.props.currentPreviewIndex!==null,value:!this.props.adBreaksDisabled,onToggle:this.$VideoComposerDialogAdBreakInsertionField1})),this.props.adBreaksDisabled?c("React").createElement(n,null):c("React").createElement(m,null)),input:c("React").createElement("div",{className:"_3_dp"},c("React").createElement(c("VideoComposerDialogAdBreakDetails.react"),{adBreaksDisabled:this.props.adBreaksDisabled,currentAdBreakTimeOffset:this.props.currentAdBreakTimeOffset,currentPreviewIndex:this.props.currentPreviewIndex,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,videoDuration:this.props.videoDuration,onCancelPreview:this.props.onCancelPreview,onDeleteAdBreak:this.props.onDeleteAdBreak,onInsertAdBreak:this.props.onInsertAdBreak,onPreviewAdBreak:this.props.onPreviewAdBreak,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak}),this.props.isAdBreakInsertionRedesignV1?c("React").createElement(c("VideoComposerDialogAdBreakAutoAdjustmentSettings.react"),{isAdBreakAutoAdjustmentEnabled:this.props.isAdBreakAutoAdjustmentEnabled,onEnableAdBreakAutoAdjustment:this.props.onEnableAdBreakAutoAdjustment}):null),inputPadding:true,showTopBorder:false,subtitle:this.props.hasGapRule?i._({"*":"Place up to {number} ad breaks within the highlighted area of the video preview.","_1":"Place up to 1 ad break within the highlighted area of the video preview."},[i.plural(c("VideoInstreamUtils").getMaxPossibleAdBreaks(this.props.videoDuration,this.props.hasGapRule),"number")]):i._({"*":"Select up to {number} places where an ad break may be played. Ad break placements will be filled for each individual viewer based on ad availability.","_1":"Select up to 1 place where an ad break may be played. Ad break placements will be filled for each individual viewer based on ad availability."},[i.plural(c("VideoInstreamUtils").getMaxPossibleAdBreaks(this.props.videoDuration,this.props.hasGapRule),"number")]),title:this.props.hasGapRule?i._("Place ad breaks"):i._("Choose Ad Break Placements"),tooltip:this.props.hasGapRule?i._({"*":{"*":"Ad breaks can be placed after the first {start time offset} seconds and must be at least {insertion interval} minutes apart. When using the highlighted area in the video preview, you can find the exact frame using the up and down arrow keys."}},[i.param("start time offset",c("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/c("DateConsts").MS_PER_SEC,[0]),i.param("insertion interval",c("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS/c("DateConsts").MS_PER_MIN,[0])]):i._({"*":{"*":"Videos need to be at least {min video length} minutes long, and ad breaks may only be placed after {min start time} seconds . When using the highlighted area in the video preview, you can find the exact frame with the up and down arrow keys.","_1":"Videos need to be at least {min video length} minutes long, and ad breaks may only be placed after 1 second . When using the highlighted area in the video preview, you can find the exact frame with the up and down arrow keys."},"_1":{"*":"Videos need to be at least 1 minute long, and ad breaks may only be placed after {min start time} seconds . When using the highlighted area in the video preview, you can find the exact frame with the up and down arrow keys.","_1":"Videos need to be at least 1 minute long, and ad breaks may only be placed after 1 second . When using the highlighted area in the video preview, you can find the exact frame with the up and down arrow keys."}},[i.plural(c("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH_MS/c("DateConsts").MS_PER_MIN,"min video length"),i.plural(c("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/c("DateConsts").MS_PER_SEC,"min start time")])})};function m(){return c("React").createElement(c("XUIText.react"),{size:"meta1",weight:"bold"},i._("AD BREAKS ON"))}function n(){return c("React").createElement(c("XUIGrayText.react"),{size:"meta1",weight:"bold"},i._("AD BREAKS OFF"))}f.exports=l}),null);
__d("VideoComposerDialogAdBreakAutoInsertionSelectionField.react",["cx","fbt","React","VideoComposerDialogRadioButton.react","VideoInstreamUtils","XUIGrayText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogAdBreakAutoInsertionSelectionField1=function(){this.props.onEnableAdBreakAutoInsertion(true)}.bind(this),this.$VideoComposerDialogAdBreakAutoInsertionSelectionField2=function(){this.props.onEnableAdBreakAutoInsertion(false)}.bind(this),n}l.prototype.render=function(){return c("React").createElement("div",{className:"_n8d"},c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:this.props.isAdBreakAutoInsertionEnabled,className:"_n8a",label:c("React").createElement("div",null,c("React").createElement("div",{className:"_n88"},i._("Automatic Placements (Recommended)")),c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"meta1",weight:"normal"},i._("Ads will be placed at the most natural breaks in your video. Automatic break points maximize earnings and give viewers the best possible experience."))),onSelect:this.$VideoComposerDialogAdBreakAutoInsertionSelectionField1}),c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:!this.props.isAdBreakAutoInsertionEnabled,className:"_n8a",label:c("React").createElement("div",null,c("React").createElement("div",{className:"_n88"},i._("Choose Placements")),c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"meta1",weight:"normal"},i._({"*":"Select up to {number} places where an ad break may be played. Ad break placements will be filled for each individual viewer based on ad availability.","_1":"Select up to 1 place where an ad break may be played. Ad break placements will be filled for each individual viewer based on ad availability."},[i.plural(c("VideoInstreamUtils").getMaxPossibleAdBreaks(this.props.videoDuration),"number")]))),onSelect:this.$VideoComposerDialogAdBreakAutoInsertionSelectionField2}))};f.exports=l}),null);
__d("VideoComposerDialogAdBreakInsertedAdBreaksItem.react",["cx","Image.react","React","VideoInstreamUtils","XUIText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$VideoComposerDialogAdBreakInsertedAdBreaksItem1=function(){this.props.onSelect(this.props.adBreak.timeOffset)}.bind(this),m}k.prototype.render=function(){return c("React").createElement("div",{className:"_n92"},c("React").createElement("div",{className:"_n93"+(this.props.selected?" _n94":""),ref:"insertedAdBreaksItem",role:"presentation",onClick:this.$VideoComposerDialogAdBreakInsertedAdBreaksItem1},c("React").createElement(c("Image.react"),{className:"_n95",src:this.props.adBreak.thumbnailURL}),c("React").createElement("div",{className:"_n9g"},c("React").createElement(c("XUIText.react"),null,c("VideoInstreamUtils").convertTimestampToFormattedString(this.props.adBreak.timeOffset)))))};f.exports=k}),null);
__d("VideoComposerDialogAdBreakInsertedAdBreaksSliderButtons.react",["ix","Image.react","React","XUIButton.react","XUIButtonGroup.react","asset"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("XUIButtonGroup.react"),null,c("React").createElement(c("XUIButton.react"),{disabled:this.props.currentSliderOffset<=0,image:c("React").createElement(c("Image.react"),{src:h("406776")}),label:"Previous",labelIsHidden:true,size:"small",onClick:this.props.onSlideLeft}),c("React").createElement(c("XUIButton.react"),{disabled:this.props.maxSliderOffset<=this.props.currentSliderOffset,image:c("React").createElement(c("Image.react"),{src:h("363528")}),label:"Next",labelIsHidden:true,size:"small",onClick:this.props.onSlideRight}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("AdBreakAdminPreviewEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADMIN_SEND_NOTIFICATION:"admin_send_notification",ADMIN_SEND_NOTIFICATION_SUCCESS:"admin_send_notification_success",ADMIN_SEND_NOTIFICATION_FAILURE:"admin_send_notification_failure",ADMIN_REQUEST_SHAREABLE_LINK:"admin_request_shareable_link",ADMIN_REQUEST_SHAREABLE_LINK_SUCCESS:"admin_request_shareable_link_success",ADMIN_REQUEST_SHAREABLE_LINK_FAILURE:"admin_request_shareable_link_failure",SERVER_VIDEO_ENCODING_SUCCESS:"server_video_encoding_success",SERVER_VIDEO_ENCODING_FAILURE:"server_video_encoding_failure",NOTIFICATION_INVALIDATION:"notification_invalidation"})}),null);
__d("AdBreakAdminPreviewStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ENCODING:"encoding",NONE:"none",OK:"ok"})}),null);
__d("AdBreakAdminPreviewTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:AdBreakAdminPreviewLoggerConfig",this.$AdBreakAdminPreviewTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:AdBreakAdminPreviewLoggerConfig",this.$AdBreakAdminPreviewTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$AdBreakAdminPreviewTypedLogger1={};return this};h.prototype.updateData=function(j){this.$AdBreakAdminPreviewTypedLogger1=babelHelpers["extends"]({},this.$AdBreakAdminPreviewTypedLogger1,j);return this};h.prototype.setAdBreakTimeOffsets=function(j){this.$AdBreakAdminPreviewTypedLogger1.ad_break_time_offsets=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setEvent=function(j){this.$AdBreakAdminPreviewTypedLogger1.event=j;return this};h.prototype.setException=function(j){this.$AdBreakAdminPreviewTypedLogger1.exception=j;return this};h.prototype.setTimeConsumedInMs=function(j){this.$AdBreakAdminPreviewTypedLogger1.time_consumed_in_ms=j;return this};h.prototype.setVC=function(j){this.$AdBreakAdminPreviewTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$AdBreakAdminPreviewTypedLogger1.video_id=j;return this};var i={ad_break_time_offsets:true,event:true,exception:true,time_consumed_in_ms:true,vc:true,video_id:true};f.exports=h}),null);
__d("XAdBreakAdminPreviewNotificationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ad_breaks/admin_preview/notification/",{video_id:{type:"FBID",required:true},ad_break_time_offsets:{type:"IntVector"}})}),null);
__d("XAdBreakAdminPreviewShareController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ad_breaks/admin_preview/share/",{video_id:{type:"FBID",required:true},ad_break_time_offsets:{type:"IntVector"}})}),null);
__d("XAdBreakAdminPreviewStatusController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ad_breaks/admin_preview/status/",{video_id:{type:"FBID",required:true}})}),null);
__d("AdBreakAdminPreviewManager",["AdBreakAdminPreviewEvent","AdBreakAdminPreviewStatus","AdBreakAdminPreviewTypedLogger","AsyncRequest","AsyncResponse","XAdBreakAdminPreviewNotificationController","XAdBreakAdminPreviewShareController","XAdBreakAdminPreviewStatusController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=1e3;i.prototype.sendNotification=function(j,k,l,m){"use strict";__p&&__p();this.lastRequestTime=Date.now();new(c("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(j)).setAdBreakTimeOffsets(k).setEvent(c("AdBreakAdminPreviewEvent").ADMIN_SEND_NOTIFICATION).setTimeConsumedInMs(null).log();var n=function(){new(c("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(j)).setAdBreakTimeOffsets(k).setEvent(c("AdBreakAdminPreviewEvent").ADMIN_SEND_NOTIFICATION_SUCCESS).setTimeConsumedInMs(Date.now()-this.lastRequestTime).log();l()}.bind(this),o=function(){new(c("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(j)).setAdBreakTimeOffsets(k).setEvent(c("AdBreakAdminPreviewEvent").ADMIN_SEND_NOTIFICATION_FAILURE).setTimeConsumedInMs(Date.now()-this.lastRequestTime).log();m()}.bind(this),p=c("XAdBreakAdminPreviewNotificationController").getURIBuilder().setFBID("video_id",j).setIntVector("ad_break_time_offsets",k).getURI();new(c("AsyncRequest"))(p).setHandler(function(q){if(q.payload.status===c("AdBreakAdminPreviewStatus").OK)n();else this.pollPreviewStatus(j,n,o)}.bind(this)).setErrorHandler(function(q){return o()}).send()};i.prototype.requestShareLink=function(j,k,l,m){"use strict";this.lastRequestTime=Date.now();new(c("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(j)).setAdBreakTimeOffsets(k).setEvent(c("AdBreakAdminPreviewEvent").ADMIN_REQUEST_SHAREABLE_LINK).setTimeConsumedInMs(null).log();var n=function(p){new(c("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(j)).setAdBreakTimeOffsets(k).setEvent(c("AdBreakAdminPreviewEvent").ADMIN_REQUEST_SHAREABLE_LINK_SUCCESS).setTimeConsumedInMs(Date.now()-this.lastRequestTime).log();l(p)}.bind(this),o=function(p){new(c("AdBreakAdminPreviewTypedLogger"))().setVideoID(String(j)).setAdBreakTimeOffsets(k).setEvent(c("AdBreakAdminPreviewEvent").ADMIN_REQUEST_SHAREABLE_LINK_FAILURE).setTimeConsumedInMs(Date.now()-this.lastRequestTime).log();m(p)}.bind(this);this.requestShareLinkWithoutLogging(j,k,n,o)};i.prototype.requestShareLinkWithoutLogging=function(j,k,l,m){"use strict";var n=c("XAdBreakAdminPreviewShareController").getURIBuilder().setFBID("video_id",j).setIntVector("ad_break_time_offsets",k).getURI();new(c("AsyncRequest"))(n).setHandler(function(o){if(o.payload.status===c("AdBreakAdminPreviewStatus").OK)l(o);else this.pollPreviewStatus(j,function(){return this.requestShareLinkWithoutLogging(j,k,l,m)}.bind(this),function(){return m(o)})}.bind(this)).setErrorHandler(function(o){return m(o)}).send()};i.prototype.pollPreviewStatus=function(j,k,l){"use strict";clearInterval(this.timer);this.timer=setInterval(function(){return this.getPreviewStatus(j,k,l)}.bind(this),h)};i.prototype.stopPolling=function(){"use strict";clearInterval(this.timer)};i.prototype.getPreviewStatus=function(j,k,l){"use strict";var m=c("XAdBreakAdminPreviewStatusController").getURIBuilder().setFBID("video_id",j).getURI();new(c("AsyncRequest"))(m).setHandler(function(n){if(n.payload.status===c("AdBreakAdminPreviewStatus").OK){clearInterval(this.timer);k()}}.bind(this)).setErrorHandler(function(n){clearInterval(this.timer);l()}.bind(this)).send()};function i(){"use strict"}f.exports=new i()}),null);
__d("ComposerVideoAdBreakAdminPreviewLoadingDialog.react",["cx","fbt","CenteredContainer.react","React","SUIBusinessTheme","SUISpinner.react","XUIDialog.react","XUIDialogBody.react","XUIDialogCloseButton.react","XUIDialogFooter.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=475;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={shown:true},this.$ComposerVideoAdBreakAdminPreviewLoadingDialog1=function(){if(this.props.onClose)this.props.onClose()}.bind(this),o}m.prototype.show=function(){this.setState({shown:true})};m.prototype.hide=function(){this.setState({shown:false})};m.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{label:i._("Loading"),layerHideOnBlur:false,shown:this.state.shown,width:l},c("React").createElement(c("CenteredContainer.react"),null,c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",{className:"_380g"},i._("Your preview is being prepared. This may take a moment..."),c("React").createElement(c("SUISpinner.react"),{className:"_3-9b",size:"small",theme:c("SUIBusinessTheme")})))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogCloseButton.react"),{onClick:this.$ComposerVideoAdBreakAdminPreviewLoadingDialog1})))};f.exports=m}),null);
__d("ComposerVideoAdBreakAdminPreviewNotificationHandler",["fbt","AdBreakAdminPreviewManager","ComposerVideoAdBreakAdminPreviewLoadingDialog.react","DOM","React","ReactDOM","SimpleXUIDialog","XUIDialogCloseButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(){__p&&__p();this.$ComposerVideoAdBreakAdminPreviewNotificationHandler2=function(){if(!this.loadingDialog)return;this.$ComposerVideoAdBreakAdminPreviewNotificationHandler4();var j=h._("A notification has been sent to your Facebook account. Please open Facebook on your phone to preview your video with ad breaks."),k=c("React").createElement(c("XUIDialogCloseButton.react"),null),l=h._("Mobile Ad Break Preview");c("SimpleXUIDialog").showEx(j,l,k)}.bind(this);this.$ComposerVideoAdBreakAdminPreviewNotificationHandler3=function(){if(!this.loadingDialog)return;this.$ComposerVideoAdBreakAdminPreviewNotificationHandler4();var j=h._("An error occurred while sending notification."),k=c("React").createElement(c("XUIDialogCloseButton.react"),null),l=h._("Mobile Ad Break Preview");c("SimpleXUIDialog").showEx(j,l,k)}.bind(this)}i.prototype.sendNotification=function(j,k){this.$ComposerVideoAdBreakAdminPreviewNotificationHandler1();c("AdBreakAdminPreviewManager").sendNotification(j,k,this.$ComposerVideoAdBreakAdminPreviewNotificationHandler2,this.$ComposerVideoAdBreakAdminPreviewNotificationHandler3)};i.prototype.$ComposerVideoAdBreakAdminPreviewNotificationHandler1=function(){var j=c("React").createElement(c("ComposerVideoAdBreakAdminPreviewLoadingDialog.react"),null);this.loadingDialog=c("ReactDOM").render(j,c("DOM").create("div"));this.loadingDialog.show()};i.prototype.$ComposerVideoAdBreakAdminPreviewNotificationHandler4=function(){if(this.loadingDialog){this.loadingDialog.hide();this.loadingDialog=null}};f.exports=new i()}),null);
__d("ComposerVideoAdBreakAdminPreviewShareDialog.react",["cx","fbt","AdBreakAdminPreviewManager","AsyncResponse","Clipboard","ComposerVideoAdBreakAdminPreviewLoadingDialog.react","FBClipboardLink.react","Image.react","Link.react","React","SUIBusinessTheme","SUIText.react","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","XUITextInput.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={isLoading:false,shareURL:null,shown:false},this.hide=function(){this.setState({shown:false})}.bind(this),q}l.prototype.componentWillMount=function(){if(this.props.videoID){this.setState({isLoading:true});c("AdBreakAdminPreviewManager").requestShareLink(this.props.videoID,this.props.adBreakTimeOffsets,function(p){this.setState({isLoading:false,shareURL:p.payload.url})}.bind(this),function(p){this.setState({isLoading:false})}.bind(this))}};l.prototype.show=function(){this.setState({shown:true})};l.prototype.render=function(){if(this.state.isLoading)return c("React").createElement(c("ComposerVideoAdBreakAdminPreviewLoadingDialog.react"),{onClose:this.hide});var p=null;if(!this.state.shareURL)p=i._("Failed to load share link.");else p=c("React").createElement("div",{className:"_40s0"},c("React").createElement("div",{className:"_40s1"},c("React").createElement(m,null),c("React").createElement(n,{shareURL:this.state.shareURL}),c("React").createElement(o,null)),c("React").createElement(c("Image.react"),{className:"_40s7",src:"/images/aet/ShareAdPreview.png"}));return c("React").createElement(c("XUIDialog.react"),{layerHideOnBlur:false,shown:this.state.shown,width:700},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Preview This Video with Ad Breaks")),c("React").createElement(c("XUIDialogBody.react"),null,p),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:i._("Done"),onClick:this.hide,use:"confirm"})))};function m(){return c("React").createElement("div",null,c("React").createElement(c("SUIText.react"),{display:"block",size:"meta1",theme:c("SUIBusinessTheme"),weight:"bold"},i._("Send Link")),c("React").createElement(c("SUIText.react"),{className:"_3-8x",display:"block",size:"meta1",theme:c("SUIBusinessTheme")},i._("Use this URL to preview this video with ad breaks on desktop. You can share this link with others.")))}function n(p){var q=null;if(c("Clipboard").isSupported())q=c("React").createElement(c("FBClipboardLink.react"),{value:p.shareURL},c("React").createElement(c("XUIButton.react"),{className:"_3-9b",label:i._("Copy"),use:"confirm"}));var r=c("React").createElement(c("XUITextInput.react"),{className:"_40s8",disabled:true,value:p.shareURL});if(c("Clipboard").isSupported())r=c("React").createElement(c("FBClipboardLink.react"),{value:p.shareURL},c("React").createElement(c("Link.react"),null,p.shareURL));return c("React").createElement("div",{className:"_2pie"},r,q)}function o(){return c("React").createElement("div",{className:"_2pie"},c("React").createElement(c("XUIGrayText.react"),{display:"block"},i._("A sample ad will play during your ad break placements.")))}f.exports=l}),null);
__d("ComposerVideoAdBreakAdminPreviewMenu.react",["ix","cx","fbt","AccessibleLayer","AdBreakAdminPreviewManager","ComposerVideoAdBreakAdminPreviewNotificationHandler","ComposerVideoAdBreakAdminPreviewShareDialog.react","ContextualLayerHideOnScroll","DateConsts","DOM","Image.react","LayerFadeOnHide","LayerFadeOnShow","LayerFitHeightToScreen","LayerHideOnBlur","LayerHideOnEscape","React","ReactDOM","ShimButton.react","SUIBusinessTheme","SUIText.react","XUIContextualDialog.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").PureComponent);l=k&&k.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.state={showMenu:false},this.$ComposerVideoAdBreakAdminPreviewMenu5=function(s){return c("React").createElement("div",{key:s.id},c("React").createElement("div",{className:"_-em"},c("React").createElement(c("SUIText.react"),{className:"_2pit",shade:"medium",theme:c("SUIBusinessTheme"),weight:"bold"},s.header)),c("React").createElement("div",null,s.items.map(this.$ComposerVideoAdBreakAdminPreviewMenu6,this)))}.bind(this),this.$ComposerVideoAdBreakAdminPreviewMenu6=function(s){return c("React").createElement(c("ShimButton.react"),{className:"_-en",key:s.id,onClick:function(event){return this.$ComposerVideoAdBreakAdminPreviewMenu7(event,s.onClick)}.bind(this)},c("React").createElement(c("Image.react"),{src:s.icon}),c("React").createElement(c("SUIText.react"),{className:"_2pit",shade:"medium",theme:c("SUIBusinessTheme"),weight:"bold"},s.title))}.bind(this),this.$ComposerVideoAdBreakAdminPreviewMenu4=function(s){this.setState({showMenu:s})}.bind(this),this.$ComposerVideoAdBreakAdminPreviewMenu1=function(event){this.setState({showMenu:!this.state.showMenu});event.stopPropagation()}.bind(this),this.$ComposerVideoAdBreakAdminPreviewMenu3=[{id:"share_preview_section",header:j._("Share previews"),items:[{id:"share_a_link_menu_item",icon:h("407157"),title:j._("Share a link"),onClick:function(){var s=c("React").createElement(c("ComposerVideoAdBreakAdminPreviewShareDialog.react"),{adBreakTimeOffsets:this.$ComposerVideoAdBreakAdminPreviewMenu8(),videoID:this.props.videoID});s=c("ReactDOM").render(s,c("DOM").create("div"));s.show()}.bind(this)}]},{id:"preview_on_device_section",header:j._("Preview on device"),items:[{id:"send_notification_to_facebook_menu_item",icon:h("390904"),title:j._("Send notification to Facebook"),onClick:function(){c("ComposerVideoAdBreakAdminPreviewNotificationHandler").sendNotification(this.props.videoID,this.$ComposerVideoAdBreakAdminPreviewMenu8())}.bind(this)}]}],o}m.prototype.componentWillUnmount=function(){c("AdBreakAdminPreviewManager").stopPolling()};m.prototype.render=function(){return c("React").createElement("div",{className:"_65wv",ref:"adminPreviewMenuButton",role:"presentation",onClick:this.$ComposerVideoAdBreakAdminPreviewMenu1},this.props.children,this.$ComposerVideoAdBreakAdminPreviewMenu2(this.$ComposerVideoAdBreakAdminPreviewMenu3))};m.prototype.$ComposerVideoAdBreakAdminPreviewMenu2=function(n){if(!this.props.videoID)return null;return c("React").createElement(c("XUIContextualDialog.react"),{alignment:"right",behaviors:{AccessibleLayer:c("AccessibleLayer"),ContextualLayerHideOnScroll:c("ContextualLayerHideOnScroll"),LayerHideOnTransition:false,LayerHideOnBlur:c("LayerHideOnBlur"),LayerHideOnEscape:c("LayerHideOnEscape"),LayerFadeOnShow:c("LayerFadeOnShow"),LayerFadeOnHide:c("LayerFadeOnHide"),LayerFitHeightToScreen:c("LayerFitHeightToScreen")},contextRef:function(){return this.refs.adminPreviewMenuButton}.bind(this),label:j._("Ad Break Admin Preview Menu"),onToggle:this.$ComposerVideoAdBreakAdminPreviewMenu4,position:"below",shown:this.state.showMenu,width:c("XUIContextualDialog.react").WIDTH.NORMAL},n.map(this.$ComposerVideoAdBreakAdminPreviewMenu5,this))};m.prototype.$ComposerVideoAdBreakAdminPreviewMenu7=function(event,n){n();this.setState({showMenu:!this.state.showMenu});event.stopPropagation()};m.prototype.$ComposerVideoAdBreakAdminPreviewMenu8=function(){var n=[];if(!this.props.adBreaksDisabled)n=this.props.insertedAdBreaks.map(function(o){return Math.round(o.timeOffset*c("DateConsts").MS_PER_SEC)});return n};f.exports=m}),null);
__d("VideoComposerDialogAdBreakToolbarButton.react",["cx","Image.react","React","XUIText.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")("_n9m"+(this.props.active?" _n9n":""),this.props.className),role:"presentation",onClick:this.props.onClick},c("React").createElement(c("Image.react"),{src:this.props.active?this.props.iconSrcActive:this.props.iconSrc}),c("React").createElement(c("XUIText.react"),{className:"_3-99",display:"block"},this.props.label))};function k(){i.apply(this,arguments)}k.defaultProps={active:false};f.exports=k}),null);
__d("VideoComposerDialogAdBreakInsertedAdBreaksToolbar.react",["ix","cx","fbt","ComposerVideoAdBreakAdminPreviewMenu.react","React","VideoComposerDialogAdBreakToolbarButton.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$VideoComposerDialogAdBreakInsertedAdBreaksToolbar1=function(){if(this.props.isPreviewingAdBreak)this.props.onCancelPreview();else this.props.onPreviewAdBreak(this.props.selectedAdBreakIndex)}.bind(this),this.$VideoComposerDialogAdBreakInsertedAdBreaksToolbar2=function(){this.props.onDeleteAdBreak(this.props.selectedAdBreakIndex)}.bind(this),o}m.prototype.render=function(){return c("React").createElement("div",{className:"_n9k"},c("React").createElement(c("VideoComposerDialogAdBreakToolbarButton.react"),{active:this.props.isPreviewingAdBreak,className:"_3-92",iconSrc:h("431966"),iconSrcActive:h("459445"),label:j._("Preview"),onClick:this.$VideoComposerDialogAdBreakInsertedAdBreaksToolbar1}),c("React").createElement(c("ComposerVideoAdBreakAdminPreviewMenu.react"),{adBreaksDisabled:this.props.adBreaksDisabled,insertedAdBreaks:this.props.insertedAdBreaks.slice(this.props.selectedAdBreakIndex,this.props.selectedAdBreakIndex+1),videoID:this.props.videoID},c("React").createElement(c("VideoComposerDialogAdBreakToolbarButton.react"),{className:"_3-92",iconSrc:h("363826"),label:j._("Share")})),c("React").createElement(c("VideoComposerDialogAdBreakToolbarButton.react"),{iconSrc:h("411467"),label:j._("Remove"),onClick:this.$VideoComposerDialogAdBreakInsertedAdBreaksToolbar2}))};f.exports=m}),null);
__d("VideoComposerDialogAdBreakInsertedAdBreaks.react",["cx","React","VideoComposerDialogAdBreakInsertedAdBreaksItem.react","VideoComposerDialogAdBreakInsertedAdBreaksSliderButtons.react","VideoComposerDialogAdBreakInsertedAdBreaksToolbar.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=80;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={currentSliderOffset:0,selectedAdBreakTimeOffset:null},this.$VideoComposerDialogAdBreakInsertedAdBreaks2=function(r){this.setState({selectedAdBreakTimeOffset:r})}.bind(this),this.$VideoComposerDialogAdBreakInsertedAdBreaks3=function(){this.setState(function(r){return{currentSliderOffset:Math.max(0,r.currentSliderOffset-k)}})}.bind(this),this.$VideoComposerDialogAdBreakInsertedAdBreaks4=function(){this.setState(function(r){return{currentSliderOffset:Math.min(r.currentSliderOffset+k,this.$VideoComposerDialogAdBreakInsertedAdBreaks1())}}.bind(this))}.bind(this),n}l.prototype.componentDidUpdate=function(m,n){if(this.props.insertedAdBreaks.length===m.insertedAdBreaks.length)return;if(!this.refs.insertedAdBreaks||!this.refs.insertedAdBreaksContent)return;var o=this.refs.insertedAdBreaks.getBoundingClientRect(),p=this.refs.insertedAdBreaksContent.getBoundingClientRect();if(o.left<p.left)this.setState({currentSliderOffset:0});else if(p.right<o.right)this.setState({currentSliderOffset:this.$VideoComposerDialogAdBreakInsertedAdBreaks1()})};l.prototype.$VideoComposerDialogAdBreakInsertedAdBreaks1=function(){if(!this.refs.insertedAdBreaks||!this.refs.insertedAdBreaksContent)return 0;var m=this.refs.insertedAdBreaks.getBoundingClientRect(),n=this.refs.insertedAdBreaksContent.getBoundingClientRect();return Math.max(0,n.width-m.width)};l.prototype.render=function(){if(this.props.insertedAdBreaks.length===0)return null;var m=this.props.insertedAdBreaks.findIndex(function(n){return n.timeOffset===this.state.selectedAdBreakTimeOffset}.bind(this));return c("React").createElement("div",{className:"_n8i"},c("React").createElement("div",{className:"_n8j",ref:"insertedAdBreaks"},c("React").createElement("div",{className:"_n91",ref:"insertedAdBreaksContent",style:{right:this.state.currentSliderOffset+"px"}},this.props.insertedAdBreaks.map(function(n,o){var p=o>0?{className:"_3-9a"}:null;return c("React").createElement("div",p,c("React").createElement(c("VideoComposerDialogAdBreakInsertedAdBreaksItem.react"),{adBreak:n,adBreakIndex:o,selected:this.state.selectedAdBreakTimeOffset===n.timeOffset,onSelect:this.$VideoComposerDialogAdBreakInsertedAdBreaks2}))}.bind(this)))),c("React").createElement("div",{className:"_n9h _3-8x"},m<0?null:c("React").createElement(c("VideoComposerDialogAdBreakInsertedAdBreaksToolbar.react"),{adBreaksDisabled:this.props.adBreaksDisabled,insertedAdBreaks:this.props.insertedAdBreaks,isPreviewingAdBreak:this.props.isPreviewingAdBreak,selectedAdBreakIndex:m,videoID:this.props.videoID,onCancelPreview:this.props.onCancelPreview,onDeleteAdBreak:this.props.onDeleteAdBreak,onPreviewAdBreak:this.props.onPreviewAdBreak}),c("React").createElement("div",{className:"_3-9a"}),c("React").createElement(c("VideoComposerDialogAdBreakInsertedAdBreaksSliderButtons.react"),{currentSliderOffset:this.state.currentSliderOffset,maxSliderOffset:this.$VideoComposerDialogAdBreakInsertedAdBreaks1(),onSlideLeft:this.$VideoComposerDialogAdBreakInsertedAdBreaks3,onSlideRight:this.$VideoComposerDialogAdBreakInsertedAdBreaks4})))};f.exports=l}),null);
__d("VideoComposerDialogAdBreakInsertionEditorField.react",["cx","fbt","React","VideoComposerDialogAdBreakInsertionButton.react","VideoComposerDialogAdBreakTimeOffsetEditor.react","XUIGrayText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:"_n8e"},c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"meta1"},i._("Enter the time or drag the playhead for each placement.")),c("React").createElement("div",{className:"_n8g"},c("React").createElement(c("VideoComposerDialogAdBreakTimeOffsetEditor.react"),{adBreakIndex:null,adBreakTimeOffset:this.props.currentAdBreakTimeOffset,isIndexCircleVisible:false,isPreviewingAdBreak:this.props.currentPreviewIndex!=null,videoDuration:this.props.videoDuration,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak}),c("React").createElement("div",{className:"_3-9b"},c("React").createElement(c("VideoComposerDialogAdBreakInsertionButton.react"),{currentAdBreakTimeOffset:this.props.currentAdBreakTimeOffset,disabled:this.props.adBreaksDisabled||this.props.currentPreviewIndex!=null,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,videoDuration:this.props.videoDuration,onInsertAdBreak:this.props.onInsertAdBreak}))))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogAdBreakInsertionToggleField.react",["cx","fbt","BUISwitch.react","React","VideoComposerDialogField.react","XUIGrayText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogAdBreakInsertionToggleField1=function(r){this.props.onUpdateAdBreakStatus(!r)}.bind(this),n}l.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogField.react"),{input:c("React").createElement("div",{className:"_1kta"},c("React").createElement("div",{className:"_3-90"},c("React").createElement(c("BUISwitch.react"),{disabled:this.props.toggleDisabled,value:!this.props.adBreaksDisabled,onToggle:this.$VideoComposerDialogAdBreakInsertionToggleField1})),this.props.adBreaksDisabled?c("React").createElement(c("XUIGrayText.react"),{size:"meta1",weight:"bold"},i._("DISABLED")):c("React").createElement(c("XUIGrayText.react"),{size:"meta1",weight:"bold"},i._("ENABLED"))),inputPadding:true,showTopBorder:false,subtitle:i._("Placeholder"),title:i._("Ad Breaks Placements"),tooltip:i._("Placeholder")})};f.exports=l}),null);
__d("VideoComponentCommercialBreakStartingIndicator.react",["cx","CommercialBreakStartingIndicator.react","React","ReactDOM","VideoComponent"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.enable=function(l){this.$VideoComponentCommercialBreakStartingIndicator1=l;this.$VideoComponentCommercialBreakStartingIndicator2()};k.prototype.disable=function(){this.$VideoComponentCommercialBreakStartingIndicator1=null};k.prototype.$VideoComponentCommercialBreakStartingIndicator2=function(l){if(this.$VideoComponentCommercialBreakStartingIndicator1&&this.refs.root)c("ReactDOM").render(c("React").createElement(c("CommercialBreakStartingIndicator.react"),{adsStopped:l,container:this.refs.root,controller:this.$VideoComponentCommercialBreakStartingIndicator1,vodTransitionRedesign:true}),this.refs.root)};k.prototype.componentDidMount=function(){this.$VideoComponentCommercialBreakStartingIndicator2()};k.prototype.componentWillReceiveProps=function(l){if(l.adsStopped!==this.props.adsStopped)this.$VideoComponentCommercialBreakStartingIndicator2(l.adsStopped)};k.prototype.shouldComponentUpdate=function(l,m){return false};k.prototype.render=function(){return c("React").createElement("div",{ref:"root",className:"_167h _2lwf _4ubd _3ee8 _20dq _2h-t _o9y _3htz _5odv"})};function k(){i.apply(this,arguments)}f.exports=c("VideoComponent").createContainer(k)}),null);
__d("VideoComponentCommercialBreakVodTransitionOverlay.react",["cx","React","VideoCommercialBreakTransitionOverlay","VideoComponent"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.enable=function(l){this.$VideoComponentCommercialBreakVodTransitionOverlay1=new(c("VideoCommercialBreakTransitionOverlay"))(l,this.refs.root,this.refs.body)};k.prototype.disable=function(){this.$VideoComponentCommercialBreakVodTransitionOverlay1=null};k.prototype.shouldComponentUpdate=function(l,m){return false};k.prototype.render=function(){return c("React").createElement("div",{ref:"root",className:"_2lwf _4ubd _4fii _bvi _167h"},c("React").createElement("div",{ref:"body",className:"_3j0w"}))};function k(){i.apply(this,arguments)}f.exports=c("VideoComponent").createContainer(k)}),null);
__d("VideoComponentVodWithCommercialBreak.react",["InstreamVideoAdBreak","React","VideoComponent","VodWithCommercialBreak"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.enable=function(k){this.$VideoComponentVodWithCommercialBreak1=k;this.$VideoComponentVodWithCommercialBreak2=new(c("VodWithCommercialBreak"))(this.$VideoComponentVodWithCommercialBreak1,this.props.adBreaks)};j.prototype.componentWillReceiveProps=function(k){if(this.$VideoComponentVodWithCommercialBreak2&&JSON.stringify(k.adBreaks)!==JSON.stringify(this.props.adBreaks))this.$VideoComponentVodWithCommercialBreak2.setAdBreaks(k.adBreaks)};j.prototype.disable=function(){this.$VideoComponentVodWithCommercialBreak1=null;this.$VideoComponentVodWithCommercialBreak2=null};j.prototype.render=function(){return null};function j(){h.apply(this,arguments)}f.exports=c("VideoComponent").createContainer(j)}),null);
__d("VideoComposerDialogAdBreakPreviewSection.react",["cx","DateConsts","InstreamPlacement","InstreamVideoAdBreak","React","VideoComponentClickPlayPause.react","VideoComponentCommercialBreakStartingIndicator.react","VideoComponentCommercialBreakVideoAdOverlay.react","VideoComponentCommercialBreakVodTransitionOverlay.react","VideoComponentContextMenu.react","VideoComponentEmbeddedControls.react","VideoComponentPlayButton.react","VideoComponentScrubberPreview.react","VideoComponentVodWithCommercialBreak.react","VideoComponentWithCommercialBreak.react","VideoComponentWithInstreamVideo.react","VideoComponentWithSpacePlayPause.react","VideoComposerDialogConstants","VideoPlayer.react","VideoPlayerController","VideoPlayerOrigins","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.$VideoComposerDialogAdBreakPreviewSection1=function(){if(!this.props.insertedAdBreaks||this.props.isAdBreakDisabled)return[];return this.props.insertedAdBreaks.map(function(l,m){return new(c("InstreamVideoAdBreak"))({adBreakDurationInMs:null,index:0,instreamPlacement:c("InstreamPlacement").MID_ROLL,isAdBreakAutoInserted:false,timeOffsetInMs:l.timeOffset*c("DateConsts").MS_PER_SEC})})};k.prototype.$VideoComposerDialogAdBreakPreviewSection2=function(){if(this.props.insertedAdBreaks&&this.props.currentPreviewIndex!=null)return this.props.insertedAdBreaks[this.props.currentPreviewIndex].thumbnailURL;return null};k.prototype.$VideoComposerDialogAdBreakPreviewSection3=function(){return this.props.currentPreviewIndex!=null};k.prototype.render=function(){var l=this.props.videoData;if(!l)return c("React").createElement("div",{className:"_1fxr"},c("React").createElement(c("XUISpinner.react"),{size:"large"}));return c("React").createElement("div",{className:"_3-98"},c("React").createElement(c("VideoPlayer.react"),{autoplay:false,className:"_4jg1",height:c("VideoComposerDialogConstants").PLAYER_HEIGHT,playerOrigin:c("VideoPlayerOrigins").COMPOSER,videoData:l,onVpcUpdate:this.props.onVPCUpdate},c("React").createElement(c("VideoComponentPlayButton.react"),null),c("React").createElement(c("VideoComponentEmbeddedControls.react"),{adBreaks:{insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.isAdBreakDisabled,isAdBreakInsertionWithoutGapRule:!this.props.hasGapRule,isPreviewingAdBreak:this.$VideoComposerDialogAdBreakPreviewSection3()},displayElapsedTime:true,displayMilliseconds:true,showFullscreenButton:false,showSettingsButton:false}),c("React").createElement(c("VideoComponentContextMenu.react"),null),c("React").createElement(c("VideoComponentClickPlayPause.react"),null),c("React").createElement(c("VideoComponentWithSpacePlayPause.react"),null),c("React").createElement(c("VideoComponentScrubberPreview.react"),null),c("React").createElement(c("VideoComponentWithInstreamVideo.react"),{shouldUsePreviewConfig:true,thumbnailURLForPreview:this.$VideoComposerDialogAdBreakPreviewSection2()}),c("React").createElement(c("VideoComponentWithCommercialBreak.react"),null),c("React").createElement(c("VideoComponentVodWithCommercialBreak.react"),{adBreaks:this.$VideoComposerDialogAdBreakPreviewSection1()}),c("React").createElement(c("VideoComponentCommercialBreakVideoAdOverlay.react"),{adsStopped:!this.$VideoComposerDialogAdBreakPreviewSection3()}),c("React").createElement(c("VideoComponentCommercialBreakVodTransitionOverlay.react"),null),c("React").createElement(c("VideoComponentCommercialBreakStartingIndicator.react"),{adsStopped:!this.$VideoComposerDialogAdBreakPreviewSection3()})))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogAdBreakInsertionFieldV2.react",["cx","React","VideoComposerDialogAdBreakAutoAdjustmentSettings.react","VideoComposerDialogAdBreakAutoInsertionSelectionField.react","VideoComposerDialogAdBreakInsertedAdBreaks.react","VideoComposerDialogAdBreakInsertionEditorField.react","VideoComposerDialogAdBreakInsertionToggleField.react","VideoComposerDialogAdBreakPreviewSection.react","VideoPlayerController"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_n89"},c("React").createElement(c("VideoComposerDialogAdBreakInsertionToggleField.react"),{adBreaksDisabled:this.props.adBreaksDisabled,hasGapRule:this.props.hasGapRule,toggleDisabled:this.props.currentPreviewIndex!=null,videoDuration:this.props.videoDuration,onUpdateAdBreakStatus:this.props.onUpdateAdBreakStatus}),c("React").createElement(c("VideoComposerDialogAdBreakAutoInsertionSelectionField.react"),{isAdBreakAutoInsertionEnabled:this.props.isAdBreakAutoInsertionEnabled,onEnableAdBreakAutoInsertion:this.props.onEnableAdBreakAutoInsertion}),this.props.isAdBreakAutoInsertionEnabled?null:c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogAdBreakPreviewSection.react"),{currentPreviewIndex:this.props.currentPreviewIndex,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.adBreaksDisabled,videoData:this.props.videoData,onVPCUpdate:this.props.onVPCUpdate}),c("React").createElement("div",{className:"_n8f"},c("React").createElement(c("VideoComposerDialogAdBreakInsertionEditorField.react"),{adBreaksDisabled:this.props.adBreaksDisabled,currentAdBreakTimeOffset:this.props.currentAdBreakTimeOffset,currentPreviewIndex:this.props.currentPreviewIndex,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,videoDuration:this.props.videoDuration,onInsertAdBreak:this.props.onInsertAdBreak,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak}),c("React").createElement("div",{className:"_3-9b"}),c("React").createElement(c("VideoComposerDialogAdBreakInsertedAdBreaks.react"),{adBreaksDisabled:this.props.adBreaksDisabled,insertedAdBreaks:this.props.insertedAdBreaks,isPreviewingAdBreak:this.props.currentPreviewIndex!=null,videoID:this.props.videoID,onCancelPreview:this.props.onCancelPreview,onDeleteAdBreak:this.props.onDeleteAdBreak,onPreviewAdBreak:this.props.onPreviewAdBreak})),this.props.insertedAdBreaks.length>0?c("React").createElement("div",{className:"_n8h"},c("React").createElement(c("VideoComposerDialogAdBreakAutoAdjustmentSettings.react"),{isAdBreakAutoAdjustmentEnabled:this.props.isAdBreakAutoAdjustmentEnabled,onEnableAdBreakAutoAdjustment:this.props.onEnableAdBreakAutoAdjustment})):null))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogAdBreakPageOnboardingSection.react",["cx","fbt","React","VideoComposerDialogField.react","XUIButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogAdBreakPageOnboardingSection1=function(){this.props.pageID&&this.props.onStartPageOnboarding(this.props.pageID)}.bind(this),n}l.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogField.react"),{input:c("React").createElement(c("XUIButton.react"),{className:"_4vdf",label:i._("Get started"),labelIsHidden:false,onClick:this.$VideoComposerDialogAdBreakPageOnboardingSection1,type:"button"}),inputPadding:true,showTopBorder:false,subtitle:i._("Set up ad breaks to start earning money from your videos. You can choose when to start each break, which pauses your video so that a short ad can be played."),title:i._("Earn money with ads")})};f.exports=l}),null);
__d("VideoComposerDialogAdBreakProgramRulesChangesNotice.react",["fbt","Link.react","React","VideoComposerDialogAdBreakNUX.react","VideoInstreamAdsConstants"],(function a(b,c,d,e,f,g,h){"use strict";var i=5553;function j(){if(!c("VideoInstreamAdsConstants").SHOULD_SHOW_V2_NOTICE)return null;return c("React").createElement(c("VideoComposerDialogAdBreakNUX.react"),{description:c("React").createElement("div",null,h._({"*":{"*":"We're making some changes to ad breaks in January 2018. Videos will need to be at least {min_length} minutes long, and ad breaks may only be placed after the first {min_start} minutes.","_1":"We're making some changes to ad breaks in January 2018. Videos will need to be at least {min_length} minutes long, and ad breaks may only be placed after the first minute."},"_1":{"*":"We're making some changes to ad breaks in January 2018. Videos will need to be at least 1 minute long, and ad breaks may only be placed after the first {min_start} minutes.","_1":"We're making some changes to ad breaks in January 2018. Videos will need to be at least 1 minute long, and ad breaks may only be placed after the first minute."}},[h.plural(c("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH_MIN_FOR_NOTICE,"min_length"),h.plural(c("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MIN_FOR_NOTICE,"min_start")])," ",c("React").createElement(c("Link.react"),{href:c("VideoInstreamAdsConstants").V2_NOTICE_URL,target:"_blank"},h._("Learn more")),"."),dismissible:true,nuxID:i,style:"notice",title:h._("Update to Ad Breaks")})}f.exports=j}),null);
__d("VideoComposerDialogAdBreakVideoRightsSection.react",["cx","fbt","React","VideoComposerDialogField.react","XUIButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogField.react"),{input:c("React").createElement(c("XUIButton.react"),{className:"_4vdf",label:i._("I Agree"),labelIsHidden:false,onClick:this.props.onAgree,type:"button"}),inputPadding:true,showTopBorder:false,subtitle:i._("To include ad breaks, you agree that you have the rights to use all of the content in your video."),title:i._("Content ownership rights")})};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogAdBreakInputSection.react",["cx","React","VideoComposerDialogAdBreakBlockListField.react","VideoComposerDialogAdBreakHoldoutTestField.react","VideoComposerDialogAdBreakInsertionField.react","VideoComposerDialogAdBreakInsertionFieldV2.react","VideoComposerDialogAdBreakPageOnboardingSection.react","VideoComposerDialogAdBreakProgramRulesChangesNotice.react","VideoComposerDialogAdBreakVideoRightsSection.react","VideoPlayerController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){if(this.props.isPageOnboardingVisible)return c("React").createElement(c("VideoComposerDialogAdBreakPageOnboardingSection.react"),{pageID:this.props.pageID,onStartPageOnboarding:this.props.onStartPageOnboarding});if(!this.props.videoRightsAgreed)return c("React").createElement(c("VideoComposerDialogAdBreakVideoRightsSection.react"),{onAgree:this.props.onAgreeVideoRights});return c("React").createElement("div",null,c("React").createElement("div",{className:"_35mv"},c("React").createElement(c("VideoComposerDialogAdBreakProgramRulesChangesNotice.react"),null)),this.props.isAdBreakInsertionRedesignV2?c("React").createElement(c("VideoComposerDialogAdBreakInsertionFieldV2.react"),{adBreaksDisabled:this.props.adBreaksDisabled,currentAdBreakTimeOffset:this.props.currentAdBreakTimeOffset,currentPreviewIndex:this.props.currentPreviewIndex,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakAutoAdjustmentEnabled:this.props.isAdBreakAutoAdjustmentEnabled,isAdBreakAutoInsertionEnabled:this.props.isAdBreakAutoInsertionEnabled,videoData:this.props.videoData,videoDuration:this.props.videoDuration,videoID:this.props.videoID,onCancelPreview:this.props.onCancelPreview,onDeleteAdBreak:this.props.onDeleteAdBreak,onEnableAdBreakAutoAdjustment:this.props.onEnableAdBreakAutoAdjustment,onEnableAdBreakAutoInsertion:this.props.onEnableAdBreakAutoInsertion,onInsertAdBreak:this.props.onInsertAdBreak,onPreviewAdBreak:this.props.onPreviewAdBreak,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak,onUpdateAdBreakStatus:this.props.onUpdateAdBreakStatus,onVPCUpdate:this.props.onVPCUpdate}):c("React").createElement(c("VideoComposerDialogAdBreakInsertionField.react"),{adBreaksDisabled:this.props.adBreaksDisabled,currentAdBreakTimeOffset:this.props.currentAdBreakTimeOffset,currentPreviewIndex:this.props.currentPreviewIndex,hasGapRule:this.props.hasGapRule,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakAutoAdjustmentEnabled:this.props.isAdBreakAutoAdjustmentEnabled,isAdBreakInsertionRedesignV1:this.props.isAdBreakInsertionRedesignV1,videoDuration:this.props.videoDuration,onCancelPreview:this.props.onCancelPreview,onDeleteAdBreak:this.props.onDeleteAdBreak,onEnableAdBreakAutoAdjustment:this.props.onEnableAdBreakAutoAdjustment,onInsertAdBreak:this.props.onInsertAdBreak,onPreviewAdBreak:this.props.onPreviewAdBreak,onSetCurrentAdBreak:this.props.onSetCurrentAdBreak,onUpdateAdBreakStatus:this.props.onUpdateAdBreakStatus}),c("React").createElement(c("VideoComposerDialogAdBreakHoldoutTestField.react"),{enabled:this.props.holdoutTestEnabled,hasEnabledAdBreaks:!this.props.adBreaksDisabled&&this.props.insertedAdBreaks.length>0,holdoutTestPublicMetadata:this.props.holdoutTestPublicMetadata,onUpdateHoldoutTestStatus:this.props.onUpdateHoldoutTestStatus}),c("React").createElement(c("VideoComposerDialogAdBreakBlockListField.react"),{pageID:this.props.pageID}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogAdBreakVideoPlayerController",["SubscriptionsHandler","VideoPlayerController","VideoPlayerReason","VideoPlayerReasonTransitionHelper"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=7,i=1;function j(){this.$VideoComposerDialogAdBreakVideoPlayerController4=new(c("SubscriptionsHandler"))();this.$VideoComposerDialogAdBreakVideoPlayerController1=[]}j.prototype.updateVPC=function(k){__p&&__p();if(this.$VideoComposerDialogAdBreakVideoPlayerController5===k)return;this.$VideoComposerDialogAdBreakVideoPlayerController4.release();if(!k)return;this.$VideoComposerDialogAdBreakVideoPlayerController5=k;this.$VideoComposerDialogAdBreakVideoPlayerController4=new(c("SubscriptionsHandler"))();this.$VideoComposerDialogAdBreakVideoPlayerController4.addSubscriptions(k.addListener("commercialBreak/vodBreakStarting",function(){this.$VideoComposerDialogAdBreakVideoPlayerController6(this.$VideoComposerDialogAdBreakVideoPlayerController7())}.bind(this)),k.addListener("playRequested",function(l){if(l===c("VideoPlayerReason").COMMERCIAL_BREAK)this.$VideoComposerDialogAdBreakVideoPlayerController6(null)}.bind(this)),k.addListener("updateStatus",function(){if(this.$VideoComposerDialogAdBreakVideoPlayerController2&&this.$VideoComposerDialogAdBreakVideoPlayerController5)this.$VideoComposerDialogAdBreakVideoPlayerController2(this.$VideoComposerDialogAdBreakVideoPlayerController5.getCurrentTimePosition())}.bind(this)))};j.prototype.updateInsertedAdBreaks=function(k){this.$VideoComposerDialogAdBreakVideoPlayerController1=k};j.prototype.updateCallbacks=function(k,l){this.$VideoComposerDialogAdBreakVideoPlayerController2=k;this.$VideoComposerDialogAdBreakVideoPlayerController3=l};j.prototype.unmount=function(){this.$VideoComposerDialogAdBreakVideoPlayerController6(null);this.$VideoComposerDialogAdBreakVideoPlayerController4.release();this.$VideoComposerDialogAdBreakVideoPlayerController5=null};j.prototype.seek=function(k,l){this.$VideoComposerDialogAdBreakVideoPlayerController5&&this.$VideoComposerDialogAdBreakVideoPlayerController5.seek(k);l&&this.pause()};j.prototype.play=function(){this.$VideoComposerDialogAdBreakVideoPlayerController5&&this.$VideoComposerDialogAdBreakVideoPlayerController5.play(new(c("VideoPlayerReasonTransitionHelper"))(c("VideoPlayerReason").AUTOPLAY))};j.prototype.pause=function(){this.$VideoComposerDialogAdBreakVideoPlayerController5&&this.$VideoComposerDialogAdBreakVideoPlayerController5.pause()};j.prototype.startAdBreakPreview=function(k){this.seek(this.$VideoComposerDialogAdBreakVideoPlayerController1[k].timeOffset-h,false);this.play()};j.prototype.stopAdBreakPreview=function(){this.$VideoComposerDialogAdBreakVideoPlayerController3(null)};j.prototype.$VideoComposerDialogAdBreakVideoPlayerController6=function(k){this.$VideoComposerDialogAdBreakVideoPlayerController3&&this.$VideoComposerDialogAdBreakVideoPlayerController3(k)};j.prototype.$VideoComposerDialogAdBreakVideoPlayerController7=function(){var k=this.$VideoComposerDialogAdBreakVideoPlayerController5?this.$VideoComposerDialogAdBreakVideoPlayerController5.getCurrentTimePosition():0;for(var l=0;l<this.$VideoComposerDialogAdBreakVideoPlayerController1.length;l++){var m=this.$VideoComposerDialogAdBreakVideoPlayerController1[l].timeOffset;if(k>=m-h&&k<=m+i)return l}return null};f.exports=new j()}),null);
__d("VideoComposerDialogAdBreakContainer.react",["cx","VideoComposerDialogAdBreakActions","FluxContainer","immutable","React","VideoComposerDialogAdBreakInputSection.react","VideoComposerDialogAdBreakPreviewSection.react","VideoComposerDialogAdBreakStore","VideoComposerDialogAdBreakVideoPlayerController","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogUploadStore","VideoPlayerController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("VideoComposerDialogAdBreakStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUploadStore")]};k.calculateState=function(){var l=c("VideoComposerDialogAdBreakStore").getState(),m=c("VideoComposerDialogMetadataStore").getState(),n=c("VideoComposerDialogUploadStore").getState();return{adBreaksDisabled:l.adBreaksDisabled,currentAdBreakTimeOffset:l.currentAdBreakTimeOffset,currentPreviewIndex:l.currentPreviewIndex,hasGapRule:l.hasGapRule,holdoutTestEnabled:l.holdoutTestEnabled,holdoutTestPublicMetadata:l.holdoutTestPublicMetadata,insertedAdBreaks:l.insertedAdBreaks,isAdBreakAutoAdjustmentEnabled:l.isAdBreakAutoAdjustmentEnabled,isAdBreakAutoInsertionEnabled:l.isAdBreakAutoInsertionEnabled,isAdBreakInsertionRedesignV1:l.isAdBreakInsertionRedesignV1,isAdBreakInsertionRedesignV2:l.isAdBreakInsertionRedesignV2,isPageOnboardingVisible:l.isPageOnboardingVisible,pageID:m.targetID,videoData:m.dialogMode===c("VideoComposerDialogMode").VIDEO_UPLOAD?n.videoData:m.videoDataForID,videoDuration:Number(m.videoDuration),videoID:m.videoID,videoRightsAgreed:l.videoRightsAgreed,vpc:l.vpc}};k.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(k.getStores())};k.prototype.componentDidUpdate=function(l,m){c("VideoComposerDialogAdBreakVideoPlayerController").updateVPC(this.state.vpc);c("VideoComposerDialogAdBreakVideoPlayerController").updateInsertedAdBreaks(this.state.insertedAdBreaks.toArray());c("VideoComposerDialogAdBreakVideoPlayerController").updateCallbacks(c("VideoComposerDialogAdBreakActions").setCurrentAdBreak,c("VideoComposerDialogAdBreakActions").setCurrentPreviewIndex)};k.prototype.componentWillUnmount=function(){c("VideoComposerDialogAdBreakVideoPlayerController").unmount()};k.prototype.$VideoComposerDialogAdBreakContainer1=function(l,m,n){c("VideoComposerDialogAdBreakActions").setCurrentAdBreak(l);c("VideoComposerDialogAdBreakVideoPlayerController").seek(l,n)};k.prototype.$VideoComposerDialogAdBreakContainer2=function(l){c("VideoComposerDialogAdBreakVideoPlayerController").startAdBreakPreview(l)};k.prototype.$VideoComposerDialogAdBreakContainer3=function(){c("VideoComposerDialogAdBreakVideoPlayerController").stopAdBreakPreview()};k.prototype.render=function(){return c("React").createElement("div",{className:"_63z7"},this.state.isAdBreakInsertionRedesignV2?null:c("React").createElement(c("VideoComposerDialogAdBreakPreviewSection.react"),{currentPreviewIndex:this.state.currentPreviewIndex,hasGapRule:this.state.hasGapRule,insertedAdBreaks:this.state.videoRightsAgreed?this.state.insertedAdBreaks.toArray():null,isAdBreakDisabled:this.state.adBreaksDisabled,videoData:this.state.videoData,onVPCUpdate:c("VideoComposerDialogAdBreakActions").updateVPC}),c("React").createElement("div",{className:"_63vb"},c("React").createElement(c("VideoComposerDialogAdBreakInputSection.react"),{adBreaksDisabled:this.state.adBreaksDisabled,currentAdBreakTimeOffset:this.state.currentAdBreakTimeOffset,currentPreviewIndex:this.state.currentPreviewIndex,hasGapRule:this.state.hasGapRule,holdoutTestEnabled:this.state.holdoutTestEnabled,holdoutTestPublicMetadata:this.state.holdoutTestPublicMetadata,insertedAdBreaks:this.state.insertedAdBreaks.toArray(),isAdBreakAutoAdjustmentEnabled:this.state.isAdBreakAutoAdjustmentEnabled,isAdBreakAutoInsertionEnabled:this.state.isAdBreakAutoInsertionEnabled,isAdBreakInsertionRedesignV1:this.state.isAdBreakInsertionRedesignV1,isAdBreakInsertionRedesignV2:this.state.isAdBreakInsertionRedesignV2,isPageOnboardingVisible:this.state.isPageOnboardingVisible,pageID:this.state.pageID,videoData:this.state.videoData,videoDuration:this.state.videoDuration,videoID:this.state.videoID,videoRightsAgreed:this.state.videoRightsAgreed,onAgreeVideoRights:c("VideoComposerDialogAdBreakActions").agreeVideoRights,onCancelPreview:this.$VideoComposerDialogAdBreakContainer3,onDeleteAdBreak:c("VideoComposerDialogAdBreakActions").deleteAdBreak,onEnableAdBreakAutoAdjustment:c("VideoComposerDialogAdBreakActions").setIsAdBreakAutoAdjustmentEnabled,onEnableAdBreakAutoInsertion:c("VideoComposerDialogAdBreakActions").setIsAdBreakAutoInsertionEnabled,onInsertAdBreak:c("VideoComposerDialogAdBreakActions").insertAdBreak,onPreviewAdBreak:this.$VideoComposerDialogAdBreakContainer2,onSetCurrentAdBreak:this.$VideoComposerDialogAdBreakContainer1,onStartPageOnboarding:c("VideoComposerDialogAdBreakActions").startPageOnboarding,onUpdateAdBreakStatus:c("VideoComposerDialogAdBreakActions").updateAdBreakStatus,onUpdateHoldoutTestStatus:c("VideoComposerDialogAdBreakActions").updateHoldoutTestStatus,onVPCUpdate:c("VideoComposerDialogAdBreakActions").updateVPC})))};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogAdBreaksTabUtils",["fbt","AdBreakInsertionDisabledReason","AdBreakStatus","Set","VideoInstreamAdsConstants","VideoInstreamUtils"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=h._("Place ad breaks in this video to start making money from your content."),j=h._("Ad breaks have been disabled for this video."),k=function k(l,m,n,o,p,q){__p&&__p();if(l)return{disabled:false,tabDescription:i,tabTooltip:null};if(o==null)return{disabled:true,tabDescription:j,tabTooltip:null};var r=new(c("Set"))(m),s=c("VideoInstreamUtils").getMaxPossibleAdBreaks(o,q);if(s===0)r.add(c("AdBreakInsertionDisabledReason").VIDEO_TOO_SHORT);if(p)r.add(c("AdBreakInsertionDisabledReason").BRANDED_CONTENT);if(r.has(c("AdBreakInsertionDisabledReason").VIDEO_TOO_SHORT))return{disabled:true,tabDescription:j,tabTooltip:h._("Videos must be {insertion interval} seconds or longer. Your video is too short to include ad breaks.",[h.param("insertion interval",c("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH)])};if(r.has(c("AdBreakInsertionDisabledReason").BRANDED_CONTENT))return{disabled:true,tabDescription:j,tabTooltip:h._("Ad breaks not available. Ad breaks can't be used in this video because it contains tagged business partners.")};if(r.size>0)return{disabled:true,tabDescription:j,tabTooltip:null};var t=n.filter(function(u){return u.status===c("AdBreakStatus").ENABLED});if(t.length>0)return{disabled:false,tabDescription:h._("This video is opted into ad breaks."),tabTooltip:null};return{disabled:false,tabDescription:i,tabTooltip:null}};f.exports={getTabState:k}}),null);
__d("VideoComposerDialogTabItem.react",["cx","Image.react","React","ShimButton.react","SimpleNUXMessage","Tooltip","VideoComposerDialogActions","XUIAmbientNUX.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=290;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={nuxShown:false},this.$VideoComposerDialogTabItem1=function(){c("VideoComposerDialogActions").selectTab(this.props.tabConfig.key)}.bind(this),this.$VideoComposerDialogTabItem2=function(){if(this.props.tabConfig.nuxMessage){c("SimpleNUXMessage").markMessageSeenByUser(this.props.tabConfig.nuxMessage);this.setState({nuxShown:false})}}.bind(this),n}l.prototype.componentDidMount=function(){this.setState({nuxShown:this.props.tabConfig.nuxMessage?!c("SimpleNUXMessage").hasUserSeenMessage(this.props.tabConfig.nuxMessage):false})};l.prototype.renderLayers=function(){var m=this.props.tabConfig;if(!m.renderNuxMessage)return null;return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.tabContainer}.bind(this),shown:this.state.nuxShown,position:"left",width:"custom",customwidth:m.nuxWidth?m.nuxWidth:k,onCloseButtonClick:this.$VideoComposerDialogTabItem2},m.renderNuxMessage())};l.prototype.render=function(){return c("React").createElement(c("ShimButton.react"),babelHelpers["extends"]({className:"_10ij"+(this.props.isSelected?" _2-q6":"")+(this.props.disabled?" _k3d":""),ref:"tabContainer",href:"#",onClick:this.props.disabled?null:this.$VideoComposerDialogTabItem1},c("Tooltip").propsFor(this.props.tooltip,"left")),c("React").createElement("div",{className:"_10ik"},c("React").createElement(c("Image.react"),{className:"_63kw _3-90",src:this.props.isSelected?this.props.tabConfig.glyphSelected:this.props.tabConfig.glyphUnselected}),c("React").createElement("span",null,this.props.tabConfig.title)),c("React").createElement("div",{className:"_10il"},this.props.customDescription?this.props.customDescription:this.props.tabConfig.defaultDescription),this.renderLayers())};l.defaultProps={disabled:false};f.exports=l}),null);
__d("VideoComposerDialogAdBreaksTabContainer.react",["FluxContainer","immutable","React","VideoComposerDialogAdBreakStore","VideoComposerDialogAdBreaksTabConfig","VideoComposerDialogAdBreaksTabUtils","VideoComposerDialogMetadataStore","VideoComposerDialogTabItem.react","VideoComposerDialogTab","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogAdBreakStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUIStore").getState(),l=k.selectedTab,m=c("VideoComposerDialogAdBreakStore").getState(),n=m.hasGapRule,o=m.insertedAdBreaks,p=m.isAdBreaksTabVisible,q=m.isBrandedContentVideo,r=m.isPageOnboardingVisible,s=m.serverSideDisabledReasons,t=c("VideoComposerDialogMetadataStore").getState(),u=t.videoDuration;return{hasGapRule:n,insertedAdBreaks:o,isBrandedContentVideo:q,isPageOnboardingVisible:r,isSelected:l===c("VideoComposerDialogTab").AD_BREAKS,isVisible:p,serverSideDisabledReasons:s,videoDuration:u}};j.prototype.render=function(){if(!this.state.isVisible)return null;var k=c("VideoComposerDialogAdBreaksTabUtils").getTabState(this.state.isPageOnboardingVisible,this.state.serverSideDisabledReasons.toArray(),this.state.insertedAdBreaks.toArray(),this.state.videoDuration,this.state.isBrandedContentVideo,this.state.hasGapRule);return c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({customDescription:k.tabDescription,disabled:k.disabled,tabConfig:c("VideoComposerDialogAdBreaksTabConfig"),tooltip:k.tabTooltip},this.state))};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("ReactComposerCTAActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({ADD_OPTION:null,ALLOW_MULTI_MEDIA:null,SET_CTA_CONFIG:null,HAS_PHOTO_FOR_ENTPOST:null,HAS_PHOTO:null,NEEDS_PHOTO:null,HAS_VIDEO:null,NEEDS_VIDEO:null,USING_PREMADE_POST_VIDEO:null},"ReactComposerCTAActionType")}),null);
__d("ReactComposerCTAStore",["DOM","ReactComposerCTAActionType","ReactComposerEvents","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{ctaType:"",ctaValues:{},hasPhoto:c("ReactComposerCTAActionType").NEEDS_PHOTO}},function(l){__p&&__p();switch(l.type){case c("ReactComposerCTAActionType").SET_CTA_CONFIG:k&&k.$ReactComposerCTAStore1(l);break;case c("ReactComposerCTAActionType").ALLOW_MULTI_MEDIA:k&&k.$ReactComposerCTAStore2(l);break;case c("ReactComposerCTAActionType").HAS_PHOTO:k&&k.$ReactComposerCTAStore3(l);break;case c("ReactComposerCTAActionType").HAS_PHOTO_FOR_ENTPOST:k&&k.$ReactComposerCTAStore4(l);break;case c("ReactComposerCTAActionType").NEEDS_PHOTO:k&&k.$ReactComposerCTAStore5(l);break;case c("ReactComposerCTAActionType").HAS_VIDEO:k&&k.$ReactComposerCTAStore6(l);break;case c("ReactComposerCTAActionType").NEEDS_VIDEO:k&&k.$ReactComposerCTAStore7(l);break;case c("ReactComposerCTAActionType").USING_PREMADE_POST_VIDEO:k&&k.$ReactComposerCTAStore8(l);break;default:break}});k=this}j.prototype.$ReactComposerCTAStore2=function(k){"use strict";var l=this.getComposerData(k.composerID);l.allowMultiMedia=k.allowMultiMedia;this.emitChange(k.composerID)};j.prototype.$ReactComposerCTAStore3=function(k){"use strict";var l=this.getComposerData(k.composerID);l.hasPhoto=c("ReactComposerCTAActionType").HAS_PHOTO;l.hasCTAVideo=false;l.videoID=null;l.photoID=null;this.emitChange(k.composerID)};j.prototype.$ReactComposerCTAStore4=function(k){"use strict";var l=this.getComposerData(k.composerID);l.hasPhoto=c("ReactComposerCTAActionType").HAS_PHOTO;l.photoID=k.photoID;l.hasCTAVideo=false;l.videoID=null;this.emitChange(k.composerID)};j.prototype.$ReactComposerCTAStore5=function(k){"use strict";var l=this.getComposerData(k.composerID);l.hasPhoto=c("ReactComposerCTAActionType").NEEDS_PHOTO;this.emitChange(k.composerID)};j.prototype.$ReactComposerCTAStore6=function(k){"use strict";var l=this.getComposerData(k.composerID);l.hasCTAVideo=c("ReactComposerCTAActionType").HAS_VIDEO;l.videoID=k.videoID;l.hasPhoto=false;l.photoID=null;this.emitChange(k.composerID)};j.prototype.$ReactComposerCTAStore7=function(k){"use strict";var l=this.getComposerData(k.composerID);l.hasCTAVideo=c("ReactComposerCTAActionType").NEEDS_VIDEO;this.emitChange(k.composerID)};j.prototype.$ReactComposerCTAStore8=function(k){"use strict";var l=this.getComposerData(k.composerID);l.usingPremadePostVideo=c("ReactComposerCTAActionType").USING_PREMADE_POST_VIDEO;this.emitChange(k.composerID)};j.prototype.removeListeners=function(){"use strict";this.removeAllListeners(c("ReactComposerEvents").CHANGE)};j.prototype.allowMultiMedia=function(k){"use strict";return this.getComposerData(k).allowMultiMedia===true};j.prototype.hasCTAPhotoID=function(k){"use strict";return this.getComposerData(k).photoID!==null};j.prototype.hasCTAPhoto=function(k){"use strict";return this.getComposerData(k).hasPhoto===c("ReactComposerCTAActionType").HAS_PHOTO};j.prototype.hasCTAVideo=function(k){"use strict";return this.getComposerData(k).hasCTAVideo===c("ReactComposerCTAActionType").HAS_VIDEO};j.prototype.isUsingPremadePostVideo=function(k){"use strict";return this.getComposerData(k).usingPremadePostVideo===c("ReactComposerCTAActionType").USING_PREMADE_POST_VIDEO};j.prototype.getCTAType=function(k){"use strict";return this.getComposerData(k).ctaType};j.prototype.getCTAData=function(k){"use strict";return{type:this.getComposerData(k).ctaType,value:this.getComposerData(k).ctaValues}};j.prototype.getCTAMarkup=function(k){"use strict";return this.getComposerData(k).ctaMarkup};j.prototype.getVideoID=function(k){"use strict";var l=this.getComposerData(k);return l.videoID};j.prototype.getAttachmentConfig=function(k){"use strict";__p&&__p();var l=this.getComposerData(k);if(!l.ctaMarkup)return null;var m=l.ctaMarkup,n=l.ctaAttachmentConfig;if(this.allowMultiMedia(k))n.params.allowMultiMedia=l.allowMultiMedia;if(this.hasCTAVideo(k)){n.params.videoID=l.videoID;n.params.usingPremadePostVideo=this.isUsingPremadePostVideo(k)}else if(this.hasCTAPhotoID(k))n.params.photoID=l.photoID;else{var o=c("DOM").scry(m,'input[name="attachment[params][images][0]"]').pop(),p=c("DOM").scry(m,'input[name="attachment[params][title]"]').pop(),q=c("DOM").scry(m,'input[name="attachment[params][summary]"]').pop();if(o){if(!n.params.images)n.params.images=[];n.params.images[0]=o.value}if(p)n.params.title=p.value;if(q)n.params.summary=q.value}return n};j.prototype.$ReactComposerCTAStore1=function(k){"use strict";var l=this.validateAction(k,["composerID","config"]),m=l[0],n=l[1],o=this.getComposerData(m);o.ctaType=n.ctaType;o.ctaValues=n.ctaValues;o.ctaMarkup=n.markup;o.ctaAttachmentConfig=n.attachmentConfig;this.emitChange(m)};f.exports=new j()}),null);
__d("ReactComposerCTAActions",["ReactComposerCTAActionType","ReactComposerDispatcher","ReactComposerCTAStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerCTAStore");h.prototype.setConfig=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerCTAActionType").SET_CTA_CONFIG,config:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setAllowMultiMedia=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerCTAActionType").ALLOW_MULTI_MEDIA,allowMultiMedia:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setHasPhoto=function(i){"use strict";var j={composerID:i,type:c("ReactComposerCTAActionType").HAS_PHOTO};c("ReactComposerDispatcher").dispatch(j)};h.prototype.setHasPhotoForEntPost=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerCTAActionType").HAS_PHOTO_FOR_ENTPOST,photoID:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setNeedsPhoto=function(i){"use strict";var j={composerID:i,type:c("ReactComposerCTAActionType").NEEDS_PHOTO};c("ReactComposerDispatcher").dispatch(j)};h.prototype.setHasVideo=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerCTAActionType").HAS_VIDEO,videoID:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setNeedsVideo=function(i){"use strict";var j={composerID:i,type:c("ReactComposerCTAActionType").NEEDS_VIDEO};c("ReactComposerDispatcher").dispatch(j)};h.prototype.setPostingPremadePostCard=function(i){"use strict";var j={composerID:i,type:c("ReactComposerCTAActionType").USING_PREMADE_POST_VIDEO};c("ReactComposerDispatcher").dispatch(j)};function h(){"use strict"}f.exports=new h()}),null);
__d("XMessengerMonetizationSmartSendMessageCTAController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/commerce/messenger_monetization/smart_send_message_cta/",{auto_select:{type:"Bool",defaultValue:false}})}),null);
__d("ReactComposerMessagingTaggerButton.react",["cx","fbt","AsyncRequest","React","ReactComposerCTAActions","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerButtonMixin","ReactComposerTaggerStore","ReactComposerTaggerType","XCommerceSelfServeMerchantNUXSeenController","XMessengerMonetizationSmartSendMessageCTAController","XUIAmbientNUX.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactComposerMessagingTaggerButton",mixins:[c("ReactComposerTaggerButtonMixin")],statics:{loggingName:c("ReactComposerLoggingName").MESSAGING_TAGGER,taggerID:c("ReactComposerTaggerType").MESSAGING,savedAutoSelect:undefined},propTypes:{autoSelect:j.bool,nuxType:j.string},getTitle:function l(){return i._("Add a Send Message CTA")},getNUX:function l(){if(!this.state.showNUX||!this.state.contextRef)return null;var m=i._("Add this button to your post so that people can reply directly in Messenger.");return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"center",contextRef:function(){return this.state.contextRef}.bind(this),onCloseButtonClick:this._hideNUX,position:"below",shown:true,width:"auto"},m)},getTooltip:function l(){return i._("Add a Messenger button")},getClassName:function l(){return"_3dnl"},getRef:function l(){return"fbReactComposerMessagingTaggerButton"},_hideNUX:function l(){c("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,c("ReactComposerTaggerType").MESSAGING,false);var m=c("XCommerceSelfServeMerchantNUXSeenController").getURIBuilder().setInt("page_id",this.context.actorID).setEnum("nux_type",this.props.nuxType).getURI();new(c("AsyncRequest"))(m).send()},componentDidMount:function l(){__p&&__p();this.setState({contextRef:this.refs.fbReactComposerMessagingTaggerButton});if(this.constructor.savedAutoSelect===undefined)this.constructor.savedAutoSelect=this.props.autoSelect;if(this.constructor.savedAutoSelect){var m=c("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID);if(m!==c("ReactComposerTaggerType").MESSAGING){this.constructor.savedAutoSelect=!this.constructor.savedAutoSelect;this._onSelect()}}},_onSelectX:function l(){var m=c("ReactComposerTaggerStore").hasData(this.context.composerID,this.constructor.taggerID);if(m){c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,c("ReactComposerLoggingName").MESSAGING_TAGGER,c("ReactComposerTaggerType").MESSAGING,{hasCTA:false});var n={ctaType:null,ctaValues:{is_cta_share_post:true,service_config_id:null},ctaMarkup:"",ctaAttachmentConfig:""};c("ReactComposerCTAActions").setConfig(this.context.composerID,n)}this.constructor.savedAutoSelect=!this.constructor.savedAutoSelect;var o=c("XMessengerMonetizationSmartSendMessageCTAController").getURIBuilder().setBool("auto_select",this.constructor.savedAutoSelect).getURI();new(c("AsyncRequest"))(o).send()}});f.exports=k}),null);
__d("PageComposerMessengerCTATaggerBannerButton.react",["cx","fbt","React","XUIAbstractGlyphButton.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=Object.freeze({DARK:"dark",LIGHT:"light"}),n=Object.freeze({MEDIUM:"medium",SMALL:"small"}),o=Object.freeze({BUTTON:"button",RESET:"reset",SUBMIT:"submit"});j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;p.prototype.render=function(){var q=this.props.size,r=this.props.shade,s="_50zy"+(q===n.SMALL?" _50zz":"")+(q===n.MEDIUM?" _50-0":"")+(r===m.LIGHT?" _50z_":"")+(r===m.DARK?" _50z-":""),t=this.props.label,u=this.props.title;if(!this.props.title&&!this.props.tooltip){if(!t)t=i._("Remove");u=t}return c("React").createElement(c("XUIAbstractGlyphButton.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,s),"data-hover":this.props.tooltip&&"tooltip","data-tooltip-alignh":this.props.tooltip&&"center","data-tooltip-content":this.props.tooltip,label:t,title:u,type:this.props.href?null:this.props.type}))};function p(){j.apply(this,arguments)}p.propTypes={shade:l.oneOf([m.DARK,m.LIGHT]),size:l.oneOf([n.MEDIUM,n.SMALL]),type:l.oneOf([o.BUTTON,o.RESET,o.SUBMIT])};p.defaultProps={size:"medium",shade:"dark",type:"button"};f.exports=p}),null);
__d("PageComposerMessengerCTATaggerBanner.react",["cx","fbt","LeftRight.react","PageComposerMessengerCTATaggerBannerButton.react","React","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){var n=this.props,o=n.closeButtonText,p=babelHelpers.objectWithoutProperties(n,["closeButtonText"]),q=c("React").createElement(c("PageComposerMessengerCTATaggerBannerButton.react"),{className:"_51-t",label:o,onClick:this.props.onClick}),r=c("React").Children.toArray(this.props.children);return c("React").createElement("div",babelHelpers["extends"]({},p,{className:c("joinClasses")(this.props.className,"_xbh")}),c("React").createElement(c("LeftRight.react"),null,c("React").createElement("h3",{className:"_xbj"},r&&r[0]),c("React").createElement("div",{className:"_26pn"},r&&r.slice(1),q)))};function m(){j.apply(this,arguments)}m.propTypes={closeButtonText:l.string,onClick:l.func.isRequired};m.defaultProps={closeButtonText:i._("Remove the Send Message button")};f.exports=m}),null);
__d("ReactComposerMessagingTaggerComponent.react",["fbt","AdsCallToActionTypes","PageComposerMessengerCTATaggerBanner.react","React","ReactComposerCTAActions","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerType"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.dismissButtonOnClick=function(){this.setState({setCTAConfig:false});var m={ctaType:null,ctaValues:{is_cta_share_post:true,service_config_id:null},ctaMarkup:"",ctaAttachmentConfig:""};this.setTaggerData(false);this.deselectMessagingTagger();c("ReactComposerCTAActions").setConfig(this.props.reactComposerID,m)}.bind(this);this.state={setCTAConfig:true}}k.prototype.render=function(){if(this.state.setCTAConfig)return c("React").createElement(c("PageComposerMessengerCTATaggerBanner.react"),{onClick:this.dismissButtonOnClick},h._("This post includes a button so people can reply in Messenger"));return null};k.prototype.componentDidMount=function(){this.setState({setCTAConfig:true});this.setTaggerData(true);var l={ctaType:c("AdsCallToActionTypes").TYPES.MESSAGE_PAGE.name,ctaValues:{is_cta_share_post:true,service_config_id:null},ctaMarkup:"",ctaAttachmentConfig:""};c("ReactComposerCTAActions").setConfig(this.props.reactComposerID,l)};k.prototype.setTaggerData=function(l){c("ReactComposerTaggerActions").setTaggerData(this.props.reactComposerID,c("ReactComposerLoggingName").MESSAGING_TAGGER,c("ReactComposerTaggerType").MESSAGING,{hasCTA:l})};k.prototype.deselectMessagingTagger=function(){c("ReactComposerTaggerActions").deselectCurrentTagger(this.props.reactComposerID,c("ReactComposerLoggingName").MESSAGING_TAGGER)};f.exports=k}),null);
__d("ReactComposerMessagingTaggerContainer.react",["React","ReactComposerLoggingName","ReactComposerMessagingTaggerComponent.react","ReactComposerTaggerContainerMixin","ReactComposerTaggerType"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerMessagingTaggerContainer",_subscriptions:undefined,mixins:[c("ReactComposerTaggerContainerMixin")()],statics:{taggerID:c("ReactComposerTaggerType").MESSAGING,loggingName:c("ReactComposerLoggingName").MESSAGING_TAGGER,taggerComponent:c("ReactComposerMessagingTaggerComponent.react")},propTypes:{reactComposerID:h.string.isRequired},componentWillUnmount:function j(){this._subscriptions&&this._subscriptions.release()}});f.exports=i}),null);
__d("BrandedContentTaggerNuxAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LOG_VIEW:"log_view",DISMISS:"dismiss"})}),null);
__d("XBrandedContentTaggerNuxController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/branded_content/tagger/nux/",{action:{type:"Enum",required:true,enumType:1}})}),null);
__d("ReactComposerSponsorTaggerButton.react",["cx","fbt","AsyncRequest","BrandedContentTaggerNuxAction","FluxContainer","Link.react","React","ReactComposerContextTypes","ReactComposerLoggingName","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerActions","ReactComposerTaggerButton.react","ReactComposerTaggerStore","ReactComposerTaggerType","SimpleXUIDialog","SponsorTagsOptInActionTypes","SponsorTagsOptInDialogContainer.react","SponsorTagsOptInDispatcher","SponsorTagsOptInStore","XBrandedContentTaggerNuxController","XUIAmbientNUX.react","XUIContextualDialog.react","XUIContextualDialogBody.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").createClass({displayName:"ReactComposerSponsorTaggerButton",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerTaggerStore"))],statics:{taggerID:c("ReactComposerTaggerType").SPONSOR,loggingName:c("ReactComposerLoggingName").SPONSOR_TAGGER,calculateState:function k(l,m){var n=c("ReactComposerTaggerStore").getSelectedTagger(l);return{isOptedIn:c("SponsorTagsOptInStore").getState().isOptedIn,selected:n===this.taggerID,hasData:c("ReactComposerTaggerStore").hasData(l,this.taggerID),showNUX:c("ReactComposerTaggerStore").shouldShowNUX(l,this.taggerID),showAbridgedTipsForProductTagging:c("ReactComposerTaggerStore").shouldShowTooltip(l,this.taggerID)}},getStores:function k(){return[c("SponsorTagsOptInStore")]}},componentWillMount:function k(){c("SponsorTagsOptInDispatcher").explicitlyRegisterStores([c("SponsorTagsOptInStore")]);c("SponsorTagsOptInDispatcher").dispatch({type:c("SponsorTagsOptInActionTypes").QUERY_STATUS,profileID:this.context.targetID})},componentDidUpdate:function k(l,m){if(m.isOptedIn===false&&this.state.isOptedIn===true)c("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.constructor.loggingName,this.constructor.taggerID,this.constructor.disableToggle)},componentDidMount:function k(){c("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,this.constructor.taggerID,c("ReactComposerTaggerStore").shouldShowNUX(this.context.composerID,this.constructor.taggerID));this._logNUXView()},render:function k(){var l=this.state.isOptedIn===false?c("React").createElement(c("SponsorTagsOptInDialogContainer.react"),null):null;return c("React").createElement("div",{className:"_5v-8 uiContextualLayerParent",style:{display:"inline-block"}},c("React").createElement(c("ReactComposerTaggerButton.react"),babelHelpers["extends"]({taggerID:this.constructor.taggerID,title:i._("Use this to tag your business partners when you're posting branded content."),tooltip:this.state.showAbridgedTipsForProductTagging?null:i._("Use this to tag your business partners when you're posting branded content."),className:"_5rzo",ref:"fbReactComposerSponsorTaggerButton",onSelect:this._onSelect},this.state),this.getNUX&&this.getNUX(),this.props.children),l,this._renderButtonTip())},_renderButtonTip:function k(){var l=function(){return this.refs.fbReactComposerSponsorTaggerButton}.bind(this),m=c("React").createElement("div",null,i._("Use this to tag your business partners when you're posting branded content."),c("React").createElement("span",{className:"_2pir"},c("React").createElement(c("Link.react"),{href:"/policies/brandedcontent/",target:"_blank"},i._("See policy"))));return c("React").createElement(c("XUIContextualDialog.react"),{contextRef:l,position:"below",shown:this.state.showAbridgedTipsForProductTagging,width:350},c("React").createElement(c("XUIContextualDialogBody.react"),null,m))},_onSelect:function k(){if(this.state.isOptedIn===true)c("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.constructor.loggingName,this.constructor.taggerID,this.constructor.disableToggle);else if(this.state.isOptedIn===false)c("SponsorTagsOptInDispatcher").dispatch({type:c("SponsorTagsOptInActionTypes").SHOW});else c("SimpleXUIDialog").show(i._("Sponsor Tags are currently unavailable. We appreciate your patience as we resolve the issue. Please try again later."),i._("Sorry, an Error has Occurred..."))},getNUX:function k(){var l=c("ReactComposerTaggerStore").shouldShowNUX(this.context.composerID,this.constructor.taggerID);if(!l||!this.refs.fbReactComposerSponsorTaggerButton)return null;return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"left",contextRef:function(){return this.refs.fbReactComposerSponsorTaggerButton}.bind(this),position:"above",shown:true,offsetY:12,onCloseButtonClick:function(){return this._onNUXClose()}.bind(this)},i._("Use this to tag your business partners when you're posting branded content."))},_onNUXClose:function k(){c("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,c("ReactComposerTaggerType").SPONSOR,false);this.setState({showNUX:true});this._dismissNUX()},_dismissNUX:function k(){c("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,c("ReactComposerTaggerType").SPONSOR,false);var l=c("XBrandedContentTaggerNuxController").getURIBuilder().setEnum("action",c("BrandedContentTaggerNuxAction").DISMISS).getURI();new(c("AsyncRequest"))().setMethod("POST").setURI(l).send()},_logNUXView:function k(){var l=c("XBrandedContentTaggerNuxController").getURIBuilder().setEnum("action",c("BrandedContentTaggerNuxAction").LOG_VIEW).getURI();new(c("AsyncRequest"))().setMethod("POST").setURI(l).send()}});f.exports=c("FluxContainer").create(j)}),null);
__d("BrandedContentSponsorRelationshipForAdsAPI",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PAID_PARTNERSHIP_WITH:1,PRESENTED_BY:2})}),null);
__d("ReactComposerSponsorTaggerSponsorRelationshipCheckbox.react",["cx","fbt","BrandedContentSponsorRelationship","BrandedContentSponsorRelationshipForAdsAPI","InputLabel.react","Link.react","React","SUIBusinessTheme","SUISimplePopover.react","XUICheckboxInput.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.prototype.render=function(){var m=this.props.defalutSponsorRelationship!==c("BrandedContentSponsorRelationship").PRESENTED_BY&&this.props.defalutSponsorRelationship!==c("BrandedContentSponsorRelationshipForAdsAPI").PRESENTED_BY;return this.props.showSponsorRelationship?c("React").createElement("div",{className:"_4m0r"},c("React").createElement(c("InputLabel.react"),{display:"inline",label:i._("Show business partner in post")},c("React").createElement(c("XUICheckboxInput.react"),{name:"sponsorRelationshipToggle",checked:m,onChange:this.props.onChange})),c("React").createElement(c("SUISimplePopover.react"),{content:c("React").createElement("div",null,i._("If your business partner influenced the content of this post, their name will be displayed along with a \"paid\" label. Be sure to follow all applicable laws and regulations in providing clear and transparent disclosure of your business partners."),c("React").createElement("span",{className:"_2pis"},c("React").createElement(c("Link.react"),{href:"/business/help/1190980254246452/",target:"_blank"},i._("Learn more")))),theme:c("SUIBusinessTheme")})):null};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("ReactComposerSponsorTaggerComponent.react",["cx","fbt","AsyncRequest","BrandedContentSharedToSponsorStatus","BrandedContentSponsorRelationship","Grid.react","InputLabel.react","Link.react","React","ReactComposerSponsorTaggerSponsorRelationshipCheckbox.react","ReactComposerTaggerViewStyles","SUIBusinessTheme","SUISimplePopover.react","TaggingLimits","TokenizerExampleSearchSource","XBasicFBNuxDismissController","XBasicFBNuxViewController","XUIAmbientNUX.react","XUICheckboxInput.react","XUIContextualDialog.react","XUIContextualDialogBody.react","XUITokenizer.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("Grid.react").GridItem,m=c("React").PropTypes,n=5078;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){__p&&__p();var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={tipFocused:false,inputFocused:false,edited:false,showDirectBoostNUX:false},this.$ReactComposerSponsorTaggerComponent12=function(u){var v=u.target.checked?c("BrandedContentSharedToSponsorStatus").ALL_SHARED:c("BrandedContentSharedToSponsorStatus").NOT_SHARED;this.setState({edited:true});var w={sponsors:this.props.taggerData.sponsors,directShareStatus:v,sponsorRelationship:this.props.taggerData.sponsorRelationship};this.props.onSelect&&this.props.onSelect(w)}.bind(this),this.$ReactComposerSponsorTaggerComponent10=function(u){var v=u.target.checked?c("BrandedContentSponsorRelationship").PAID_RELATIONSHIP_WITH:c("BrandedContentSponsorRelationship").PRESENTED_BY,w={sponsors:this.props.taggerData.sponsors,directShareStatus:this.props.taggerData.directShareStatus,sponsorRelationship:v};this.props.onSelect&&this.props.onSelect(w)}.bind(this),this.$ReactComposerSponsorTaggerComponent5=function(u){var v=this.props.taggerData.sponsors,w=u.getUniqueID(),x=v.some(function(u){return u.getUniqueID()===w});if(x)return;else{this.setState({edited:true});v.push(u)}var y={sponsors:v,directShareStatus:this.props.taggerData.directShareStatus,sponsorRelationship:this.props.taggerData.sponsorRelationship};this.props.onSelect&&this.props.onSelect(y)}.bind(this),this.$ReactComposerSponsorTaggerComponent9=function(u){var v=this.props.taggerData.sponsors,w=v.indexOf(u);if(w==-1)return;this.setState({edited:true});v.splice(w,1);var x={sponsors:v,directShareStatus:this.props.taggerData.directShareStatus,sponsorRelationship:this.props.taggerData.sponsorRelationship};this.props.onSelect&&this.props.onSelect(x)}.bind(this),this.$ReactComposerSponsorTaggerComponent6=function(){this.setState({inputFocused:false})}.bind(this),this.$ReactComposerSponsorTaggerComponent7=function(){this.setState({inputFocused:true})}.bind(this),this.$ReactComposerSponsorTaggerComponent4=function(){this.setState({tipFocused:true})}.bind(this),this.$ReactComposerSponsorTaggerComponent3=function(){this.setState({tipFocused:false})}.bind(this),this.$ReactComposerSponsorTaggerComponent8=function(event){this.setState({edited:true})}.bind(this),q}o.prototype.componentDidMount=function(){"use strict";__p&&__p();if(this.props.showDirectBoost&&this.props.taggerData.sponsors.length===0){var p={sponsors:this.props.taggerData.sponsors,directShareStatus:c("BrandedContentSharedToSponsorStatus").ALL_SHARED,sponsorRelationship:this.props.taggerData.sponsorRelationship};this.props.onSelect&&this.props.onSelect(p)}if(this.props.showDirectBoostNUX){this.setState({showDirectBoostNUX:true});var q=c("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",n).getURI();new(c("AsyncRequest"))().setURI(q).send()}};o.prototype.$ReactComposerSponsorTaggerComponent1=function(){"use strict";this.props.onSelect&&this.props.onSelect({})};o.prototype.$ReactComposerSponsorTaggerComponent2=function(){"use strict";var p=!this.state.edited&&(this.state.inputFocused||this.state.tipFocused)&&this.props.taggerData.sponsors&&this.props.taggerData.sponsors.length===0,q=function(){return this.refs.typeahead}.bind(this),r=c("React").createElement("span",{onMouseLeave:this.$ReactComposerSponsorTaggerComponent3,onMouseEnter:this.$ReactComposerSponsorTaggerComponent4},i._("Pages you tag will be notified. Business partners will be able to view this post's metrics. If you promote this post then the tagged business partner can see ad spend and CPM metrics."),c("React").createElement("span",{className:"_2pis"},c("React").createElement(c("Link.react"),{href:"/policies/brandedcontent/",target:"_blank"},i._("See policy"))));return c("React").createElement(c("XUIContextualDialog.react"),{contextRef:q,position:"above",shown:p,width:350},c("React").createElement(c("XUIContextualDialogBody.react"),null,r))};o.prototype.render=function(){"use strict";var p=i._("With"),q="_5esm";return c("React").createElement(c("Grid.react"),{cols:2,className:"_5esl"},c("React").createElement(l,{className:q,key:"label"},p),c("React").createElement(l,{key:"tokenizer",className:"_5esw"},c("React").createElement("div",null,c("React").createElement(c("XUITokenizer.react"),babelHelpers["extends"]({ref:"typeahead"},this.props,{className:"_5esx",entries:this.props.taggerData.sponsors,focusedOnInit:this.props.autoFocus,onAddEntryAttempt:this.$ReactComposerSponsorTaggerComponent5,onInputBlur:this.$ReactComposerSponsorTaggerComponent6,onInputFocus:this.$ReactComposerSponsorTaggerComponent7,onQueryStringChange:this.$ReactComposerSponsorTaggerComponent8,onRemoveEntryAttempt:this.$ReactComposerSponsorTaggerComponent9,placeholder:this.props.placeholder,searchSource:this.props.taggerSource,limit:c("TaggingLimits").MAX_SPONSOR_TAGS})),this.$ReactComposerSponsorTaggerComponent2())),c("React").createElement(l,{colSpan:2,key:"sponsor_relationship_toggle"},c("React").createElement(c("ReactComposerSponsorTaggerSponsorRelationshipCheckbox.react"),{onChange:this.$ReactComposerSponsorTaggerComponent10,defalutSponsorRelationship:this.props.taggerData.sponsorRelationship,showSponsorRelationship:this.props.showSponsorRelationship})),this.$ReactComposerSponsorTaggerComponent11(),c("React").createElement(l,{colSpan:2,className:"_36y5",key:"branded_content_help_center"},c("React").createElement(c("Link.react"),{href:"/business/help/1190980254246452/",target:"_blank"},i._("Learn more"))))};o.prototype.$ReactComposerSponsorTaggerComponent11=function(){"use strict";var p=this.props.taggerData.directShareStatus===c("BrandedContentSharedToSponsorStatus").ALL_SHARED;return this.props.showDirectBoost?c("React").createElement(l,{colSpan:2,key:"toggle"},c("React").createElement("div",{className:"_4m0r"},c("React").createElement(c("InputLabel.react"),{display:"inline",label:i._("Allow business partner to boost this post")},c("React").createElement(c("XUICheckboxInput.react"),{name:"directBoostToggle",checked:p,onChange:this.$ReactComposerSponsorTaggerComponent12,ref:"fbReactComposerDirectBoostCheckbox"})),c("React").createElement(c("SUISimplePopover.react"),{content:c("React").createElement("div",null,i._("Your business partner will be able to boost your post. When they do, the post will continue to show your Page as its author, and you'll be able to see the total amount spent boosting it in your Page Insights."),c("React").createElement("span",{className:"_2pis"},c("React").createElement(c("Link.react"),{href:"/business/help/2021526178075899/",target:"_blank"},i._("Learn more")))),theme:c("SUIBusinessTheme")})),this.$ReactComposerSponsorTaggerComponent13()):null};o.prototype.$ReactComposerSponsorTaggerComponent13=function(){"use strict";if(!this.state.showDirectBoostNUX||!this.refs.fbReactComposerDirectBoostCheckbox)return null;return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"left",contextRef:function(){return this.refs.fbReactComposerDirectBoostCheckbox}.bind(this),position:"left",shown:true,onCloseButtonClick:function(){return this.$ReactComposerSponsorTaggerComponent14()}.bind(this),width:"custom",customwidth:240},i._("New! Your business partner will be able to boost your post."))};o.prototype.$ReactComposerSponsorTaggerComponent14=function(){"use strict";this.setState({showDirectBoostNUX:false});var p=c("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",n).getURI();new(c("AsyncRequest"))().setURI(p).send()};o.propTypes={autoFocus:m.bool,placeholder:m.string,taggerSource:m.object,taggerData:m.object.isRequired,onPeopleTagRemove:m.func,onSelect:m.func,taggerViewStyle:m.shape(c("ReactComposerTaggerViewStyles").Shape),showDirectBoost:m.bool,showDirectBoostNUX:m.bool,showSponsorRelationship:m.bool};o.defaultProps={autoFocus:true,onSelect:c("emptyFunction"),placeholder:i._("Who is your business partner for this post?"),taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT,taggerSource:new(c("TokenizerExampleSearchSource"))(),showDirectBoost:false,showDirectBoostNUX:false,showSponsorRelationship:false,taggerData:{sponsors:[],directShareStatus:c("BrandedContentSharedToSponsorStatus").NOT_SHARED,sponsorRelationship:c("BrandedContentSponsorRelationship").PAID_RELATIONSHIP_WITH}};f.exports=o}),null);
__d("ReactComposerSponsorTaggerContainer.react",["React","ReactComposerLoggingName","ReactComposerSponsorTaggerComponent.react","ReactComposerTaggerActions","ReactComposerTaggerContainerMixin","ReactComposerTaggerType","VideoComposerDialogAdBreakActions","WebAsyncSearchSource"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerSponsorTaggerContainer",_subscriptions:undefined,mixins:[c("ReactComposerTaggerContainerMixin")()],statics:{taggerID:c("ReactComposerTaggerType").SPONSOR,loggingName:c("ReactComposerLoggingName").SPONSOR_TAGGER,taggerComponent:c("ReactComposerSponsorTaggerComponent.react")},propTypes:{viewer:h.string.isRequired},getInitialState:function j(){return{sponsorSentences:null,reachEstimate:null,searchSource:null}},componentWillMount:function j(){this._updateSponsorSearchSource()},componentWillUnmount:function j(){this._subscriptions&&this._subscriptions.release()},componentDidMount:function j(){c("ReactComposerTaggerActions").setIsBrandedContentVideo(this.context.composerID,this.state.taggerData.sponsors.length!==0);c("VideoComposerDialogAdBreakActions").setIsBrandedContentVideo(this.state.taggerData.sponsors.length!==0)},__onTaggerDataChanged:function j(k){c("ReactComposerTaggerActions").setIsBrandedContentVideo(this.context.composerID,k.sponsors.length!==0);c("VideoComposerDialogAdBreakActions").setIsBrandedContentVideo(k.sponsors.length!==0)},_updateSponsorSearchSource:function j(){var k=this.state.searchSource;if(k===null)k=this._createAndBootstrapSponsorTypeSearchSource();c("ReactComposerTaggerActions").setTaggerSource(this.context.composerID,c("ReactComposerTaggerType").SPONSOR,k)},_createAndBootstrapSponsorTypeSearchSource:function j(){var k={filter:["page"],viewer:this.props.viewer,rsp:"mentions",bsp:"true"};return new(c("WebAsyncSearchSource"))({queryRequests:[{uri:"/ajax/typeahead/search.php",data:Object.assign({},k,{is_bootstrap:false})}],bootstrapRequests:[{uri:"/ajax/typeahead/first_degree.php",data:Object.assign({},k,{is_bootstrap:true})}],auxiliaryFields:{verified:"is_verified"}})}});f.exports=i}),null);
__d("VideoComposerDialogBasicComposerTaggers.react",["invariant","BasicTypeaheadLoggerJSConstants","PlaceSearchConstants","React","ReactComposerActivityTaggerButton.react","ReactComposerActivityTaggerContainer.react","ReactComposerContextProviderMixin","ReactComposerImplicitLocationContainer.react","ReactComposerLocationTaggerButton.react","ReactComposerLocationTaggerContainer.react","ReactComposerMessagingTaggerButton.react","ReactComposerMessagingTaggerContainer.react","ReactComposerPeopleTaggerButton.react","ReactComposerPeopleTaggerContainer.react","ReactComposerProductTaggerButton.react","ReactComposerProductTaggerContainer.react","ReactComposerSponsorTaggerButton.react","ReactComposerSponsorTaggerContainer.react","ReactComposerTaggerButtons.react","ReactComposerTaggers.react","ReactComposerTaggerType","ReactComposerTaggerViewStyles","ReactComposerTargetingTaggerButton.react","ReactComposerTargetingTaggerContainer.react","dotAccess"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("BasicTypeaheadLoggerJSConstants").EventNames;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){if(!this.props.bootloaded||!this.props.composerConfig)return c("React").createElement("div",null);var n=this.props.composerConfig.taggersConfig,o=n.get(c("ReactComposerTaggerType").LOCATION),p=n.get(c("ReactComposerTaggerType").OG),q=n.get(c("ReactComposerTaggerType").TARGETING),r=n.get(c("ReactComposerTaggerType").SPONSOR),s=n.get(c("ReactComposerTaggerType").PRODUCT),t=n.get(c("ReactComposerTaggerType").MESSAGING),u=c("React").createElement(c("ReactComposerPeopleTaggerContainer.react"),{actorID:this.props.actorID,showEntriesOnFocus:false,taggerConfig:n.get(c("ReactComposerTaggerType").PEOPLE),taggerSource:this.props.taggerSearchSource}),v=p&&p.actionTypeIDsToPrefetch&&p.actionTypeIDsWithNoFreeForm&&p.rankVerbs?c("React").createElement(c("ReactComposerActivityTaggerContainer.react"),{actionTaggerViewStyle:c("ReactComposerTaggerViewStyles").SCROLLABLE,actionTypeIDsToPrefetch:p.actionTypeIDsToPrefetch,actionTypeIDsWithNoFreeForm:p.actionTypeIDsWithNoFreeForm,actorID:this.props.actorID,isPersonalTimeline:false,objectTaggerViewStyle:c("ReactComposerTaggerViewStyles").SCROLLABLE,rankVerbs:p.rankVerbs,typeaheadLoggerEventName:k.OGCOMPOSER_TAGGER}):null,w=o&&typeof o.implicitLocationEnabled==="boolean"?c("React").createElement(c("ReactComposerLocationTaggerContainer.react"),{implicitLocationEnabled:o.implicitLocationEnabled,taggerConfig:o,taggerViewStyle:c("ReactComposerTaggerViewStyles").SCROLLABLE,typeaheadLoggerEventName:k.REACT_COMPOSER_LOCATION_TAGGER,typeaheadSearchSource:c("PlaceSearchConstants").SOURCE_W_COMPOSER}):null,x=q&&q.enabled?c("React").createElement(c("ReactComposerTargetingTaggerContainer.react"),null):null,y=r&&r.enabled&&typeof r.showSponsorTaggerDirectBoost==="boolean"&&typeof r.showSponsorTaggerSponsorRelationship==="boolean"?c("React").createElement(c("ReactComposerSponsorTaggerContainer.react"),{viewer:this.props.actorID,showDirectBoost:r.showSponsorTaggerDirectBoost,showSponsorRelationship:r.showSponsorTaggerSponsorRelationship}):null;!!this.props.composerConfig||h(0);var z=s&&s.enabled&&typeof s.productTaggerType==="string"&&typeof s.showAddProduct==="boolean"?c("React").createElement(c("ReactComposerProductTaggerContainer.react"),{pageID:this.props.composerConfig.contextConfig.targetID,productTaggerType:s.productTaggerType,reactComposerID:this.props.composerConfig.contextConfig.composerID,showAddProduct:s.showAddProduct,viewer:this.props.actorID}):null,A=t&&t.enabled?c("React").createElement(c("ReactComposerMessagingTaggerContainer.react"),{reactComposerID:this.props.composerConfig.contextConfig.composerID}):null,B=c("React").createElement(c("ReactComposerPeopleTaggerButton.react"),null),C=c("React").createElement(c("ReactComposerActivityTaggerButton.react"),null),D=c("React").createElement(c("ReactComposerLocationTaggerButton.react"),null,c("React").createElement(c("ReactComposerImplicitLocationContainer.react"),null)),E=q&&q.enabled?c("React").createElement(c("ReactComposerTargetingTaggerButton.react"),{allowExclusionsWithoutInclusions:c("dotAccess")(q,"allowExclusionsWithoutInclusionsGK"),feedTargetingGK:c("dotAccess")(q,"feedTargetingGK"),feedTargetingShowReachGK:c("dotAccess")(q,"feedTargetingShowReachGK"),useTargetingAsFilter:!c("dotAccess")(q,"feedTargetingGK")}):null,F=r&&r.enabled?c("React").createElement(c("ReactComposerSponsorTaggerButton.react"),null):null,G=s&&s.productTaggerType?c("React").createElement(c("ReactComposerProductTaggerButton.react"),{productTaggerType:s.productTaggerType}):null,H=t&&t.enabled?c("React").createElement(c("ReactComposerMessagingTaggerButton.react"),{reactComposerID:this.props.composerConfig.contextConfig.composerID}):null;return c("React").createElement(m,{contextConfig:this.props.composerConfig.contextConfig},c("React").createElement(c("ReactComposerTaggers.react"),null,u,v,w,x,y,z,A),c("React").createElement(c("ReactComposerTaggerButtons.react"),null,B,C,D,E,F,G,H))};function l(){i.apply(this,arguments)}var m=c("React").createClass({displayName:"VideoComposerTaggerWrapper",mixins:[c("ReactComposerContextProviderMixin")],render:function n(){return this.props.children}});f.exports=l}),null);
__d("VideoComposerDialogBasicComposer.react",["cx","fbt","AtSignMentionsStrategy","DocumentCompositeMentionsSource","DocumentMentionsSource","EditorState","MentionsInput.react","MentionsInputTypeaheadView.react","MentionsInputUtility","React","ReactComposerContextProviderMixin","ReactComposerProfilePhoto.react","ReactComposerTaggerSummaryContainer.react","VideoComposerDialogBasicActions","VideoComposerDialogBasicComposerTaggers.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(n){k.constructor.call(this,n);var o=new(c("DocumentMentionsSource"))(c("AtSignMentionsStrategy"),n.mentionsSearchSource);this.$VideoComposerDialogBasicComposer1=new(c("DocumentCompositeMentionsSource"))([o])}l.prototype.componentWillReceiveProps=function(n){if(n.bootloaded&&!this.props.bootloaded){var o=new(c("DocumentMentionsSource"))(c("AtSignMentionsStrategy"),n.mentionsSearchSource);this.$VideoComposerDialogBasicComposer1=new(c("DocumentCompositeMentionsSource"))([o])}};l.prototype.$VideoComposerDialogBasicComposer2=function(n){c("VideoComposerDialogBasicActions").updateDescriptionEditorState(n)};l.prototype.render=function(){return c("React").createElement("div",{className:"_64ik"},c("React").createElement("div",{className:"_64il"},c("React").createElement("div",{className:"_64im"},this.props.profilePicUri!==""?c("React").createElement(c("ReactComposerProfilePhoto.react"),{src:this.props.profilePicUri,onClick:c("emptyFunction")}):null),c("React").createElement(c("MentionsInput.react"),{className:"_64in",editorState:this.props.editorState,mentionsSource:this.$VideoComposerDialogBasicComposer1,placeholder:i._("Describe your video so people will know what it's about."),renderEmoji:true,typeaheadView:c("MentionsInputTypeaheadView.react"),onChange:this.$VideoComposerDialogBasicComposer2}),this.props.composerConfig?c("React").createElement(m,{contextConfig:this.props.composerConfig.contextConfig},c("React").createElement(c("ReactComposerTaggerSummaryContainer.react"),null)):null),c("React").createElement(c("VideoComposerDialogBasicComposerTaggers.react"),{actorID:this.props.actorID,bootloaded:this.props.bootloaded,composerConfig:this.props.composerConfig,taggerSearchSource:this.props.taggerSearchSource}))};var m=c("React").createClass({displayName:"VideoComposerTaggerSummaryWrapper",mixins:[c("ReactComposerContextProviderMixin")],render:function n(){return this.props.children}});f.exports=l}),null);
__d("VideoComposerDialogContentTagsField.react",["ix","cx","fbt","AudienceInterestsSearchSource","Image.react","React","SearchableEntry","VideoComposerDialogBasicActions","VideoComposerDialogBasicUtils","XUITokenizer.react","asset","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=8;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={currentEntries:[],queryString:"",showFreeFormOption:true},this.$VideoComposerDialogContentTagsField5=function(t){__p&&__p();if(this.$VideoComposerDialogContentTagsField4(t))return;var u=this.props.entries.slice();if(this.$VideoComposerDialogContentTagsField3())return;var v=t;if(t.getAuxiliaryData().isFreeForm)v=new(c("SearchableEntry"))({uniqueID:t.getUniqueID(),title:t.getUniqueID(),auxiliaryData:{isFreeForm:true}});u.push(v);this.$VideoComposerDialogContentTagsField2(u)}.bind(this),this.$VideoComposerDialogContentTagsField6=function(t){var u=this.props.entries.slice();if(this.$VideoComposerDialogContentTagsField4(t))u.splice(u.indexOf(t),1);this.$VideoComposerDialogContentTagsField2(u)}.bind(this),this.$VideoComposerDialogContentTagsField8=function(event){var t=event.target.value,u=this.$VideoComposerDialogContentTagsField7(t,this.props.entries.concat(this.state.currentEntries));this.setState({showFreeFormOption:!u,queryString:t})}.bind(this),this.$VideoComposerDialogContentTagsField9=function(t){var u=this.$VideoComposerDialogContentTagsField7(this.state.queryString,t.concat(this.state.currentEntries));this.setState({showFreeFormOption:this.state.showFreeFormOption&&!u,currentEntries:t})}.bind(this),p}n.prototype.componentWillMount=function(){this.$VideoComposerDialogContentTagsField1=c("VideoComposerDialogBasicUtils").getContentTagSearchSource()};n.prototype.$VideoComposerDialogContentTagsField2=function(o){c("VideoComposerDialogBasicActions").updateContentTags(o)};n.prototype.$VideoComposerDialogContentTagsField3=function(){return this.props.entries.length>=m};n.prototype.$VideoComposerDialogContentTagsField4=function(o){var p=o.getUniqueID(),q=o.getAuxiliaryData().isFreeForm,r=o.getTitle(),s=this.props.entries,t=s.some(function(o){if(o.getUniqueID()===p)return true;else if(q&&p===o.getTitle()||o.getAuxiliaryData().isFreeForm&&o.getUniqueID()===r)return true;return false});return t};n.prototype.$VideoComposerDialogContentTagsField7=function(o,p){var q=p.some(function(r){return o===r.getTitle()});return q};n.prototype.render=function(){var o=this.$VideoComposerDialogContentTagsField1,p={};if(!this.state.showFreeFormOption)p[this.state.queryString]=new(c("SearchableEntry"))({uniqueID:this.state.queryString,title:this.state.queryString});return c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_k38")},c("React").createElement("div",{className:"_k3a"},c("React").createElement(c("Image.react"),{className:"_k39",src:h("423746")})),c("React").createElement(c("XUITokenizer.react"),{className:"_k3b",entries:this.props.entries,excludedEntries:p,limit:m,placeholder:j._("Add tags to help people discover your video. E.g. cat, sport, piano"),searchSource:o,onEntriesFound:this.$VideoComposerDialogContentTagsField9,onQueryStringChange:this.$VideoComposerDialogContentTagsField8,onRemoveEntryAttempt:this.$VideoComposerDialogContentTagsField6,onAddEntryAttempt:this.$VideoComposerDialogContentTagsField5}))};f.exports=n}),null);
__d("VideoComposerDialogVideoPlayer.react",["cx","React","VideoComponentEmbeddedControls.react","VideoComponentPlayButton.react","VideoComponentScrubberPreview.react","VideoComponentWithLoopingPlayback.react","VideoComponentWithSpacePlayPause.react","VideoComposerDialogBasicActions","VideoComposerDialogConstants","VideoPlayer.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:"_474y"},c("React").createElement(c("VideoPlayer.react"),{className:"_4jg1",videoData:this.props.videoData,height:c("VideoComposerDialogConstants").PLAYER_HEIGHT,width:c("VideoComposerDialogConstants").PLAYER_WIDTH,autoplay:false,onVpcUpdate:c("VideoComposerDialogBasicActions").updateVideoPreviewController},c("React").createElement(c("VideoComponentPlayButton.react"),null),c("React").createElement(c("VideoComponentEmbeddedControls.react"),{showSettingsButton:true}),c("React").createElement(c("VideoComponentWithLoopingPlayback.react"),null),c("React").createElement(c("VideoComponentWithSpacePlayPause.react"),null),c("React").createElement(c("VideoComponentScrubberPreview.react"),null)))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogBasicSection.react",["cx","React","VideoComposerDialogBasicComposer.react","VideoComposerDialogContentTagsField.react","VideoComposerDialogVideoPlayer.react","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.videoData;return c("React").createElement("div",null,l?c("React").createElement(c("VideoComposerDialogVideoPlayer.react"),{videoData:l}):c("React").createElement("div",{className:"_1fxr"},c("React").createElement(c("XUISpinner.react"),{size:"large"})),c("React").createElement(c("VideoComposerDialogBasicComposer.react"),{bootloaded:this.props.bootloaded,composerConfig:this.props.composerConfig,editorState:this.props.descriptionEditorState,mentionsSearchSource:this.props.mentionsSearchSource,taggerSearchSource:this.props.taggerSearchSource,profilePicUri:this.props.profilePictureURI,actorID:this.props.actorID}),this.props.bootloaded?c("React").createElement(c("VideoComposerDialogContentTagsField.react"),{className:"_3-8y",accessToken:this.props.accessToken,entries:this.props.contentTags}):null)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogBasicVideoController",["SubscriptionsHandler","VideoComposerDialogBasicActions","VideoPlayerReason"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.$VideoComposerDialogBasicVideoController1=new(c("SubscriptionsHandler"))()}h.prototype.updateVPC=function(i){__p&&__p();if(this.$VideoComposerDialogBasicVideoController2===i)return;this.$VideoComposerDialogBasicVideoController1.release();if(!i)return;this.$VideoComposerDialogBasicVideoController2=i;this.$VideoComposerDialogBasicVideoController1=new(c("SubscriptionsHandler"))();this.$VideoComposerDialogBasicVideoController1.addSubscriptions(i.addListener("playRequested",function(j){if(j===c("VideoPlayerReason").USER)c("VideoComposerDialogBasicActions").userPlayedVideoPreview()}))};h.prototype.unmount=function(){this.$VideoComposerDialogBasicVideoController1.release();this.$VideoComposerDialogBasicVideoController2=null};f.exports=new h()}),null);
__d("VideoComposerDialogBasicContainer.react",["FluxContainer","React","VideoComposerDialogBasicSection.react","VideoComposerDialogBasicStore","VideoComposerDialogBasicVideoController","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogUploadStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogBasicStore"),c("VideoComposerDialogUploadStore"),c("VideoComposerDialogMetadataStore")]};j.calculateState=function(){var k=c("VideoComposerDialogBasicStore").getState(),l=k.bootloaded,m=k.composerConfig,n=k.contentTags,o=k.descriptionEditorState,p=k.mentionsSearchSource,q=k.taggerSearchSource,r=k.videoPreviewController,s=c("VideoComposerDialogUploadStore").getState(),t=s.videoData,u=c("VideoComposerDialogMetadataStore").getState(),v=u.accessToken,w=u.actorID,x=u.dialogMode,y=u.profilePictureURI,z=u.videoDataForID;return{accessToken:v,bootloaded:l,composerConfig:m,contentTags:n,descriptionEditorState:o,dialogMode:x,mentionsSearchSource:p,taggerSearchSource:q,profilePictureURI:y,actorID:w?w:"",videoData:x===c("VideoComposerDialogMode").VIDEO_UPLOAD?t:z,videoPreviewController:r}};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(j.getStores())};j.prototype.componentDidUpdate=function(k,l){c("VideoComposerDialogBasicVideoController").updateVPC(this.state.videoPreviewController)};j.prototype.componentWillUnmount=function(){c("VideoComposerDialogBasicVideoController").unmount()};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogBasicSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogBasicTabContainer.react",["FluxContainer","React","VideoComposerDialogBasicStore","VideoComposerDialogBasicTabConfig","VideoComposerDialogDispatcher","VideoComposerDialogTab","VideoComposerDialogTabItem.react","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUIStore").getState(),l=k.selectedTab;return{isSelected:l===c("VideoComposerDialogTab").BASIC}};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogBasicStore")])};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({tabConfig:c("VideoComposerDialogBasicTabConfig")},this.state))};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogBodySectionContainer.react",["FluxContainer","React","VideoComposerDialogBodySection.react","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUIStore").getState(),l=k.selectedTab;return{selectedTab:l}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogBodySection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogCheckboxItem.react",["ix","cx","FBCheckbox.react","FlexLayout.react","LeftRight.react","React","Tooltip","Image.react","XUICardSection.react","XUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogCheckboxItem1=function(){if(!this.props.disabled)this.props.onToggle()}.bind(this),n}l.prototype.render=function(){var m=this.props.disabled&&this.props.disabledTooltip||null;return c("React").createElement(c("XUICardSection.react"),babelHelpers["extends"]({},c("Tooltip").propsFor(m,"below"),{onClick:this.$VideoComposerDialogCheckboxItem1,className:"_19pq"+(this.props.checked?" _2e9y":"")+(!this.props.disabled?" _242x":"")}),c("React").createElement(c("LeftRight.react"),null,c("React").createElement(c("FlexLayout.react"),{direction:"horizontal",align:"center",className:"_1qng"},c("React").createElement(c("FBCheckbox.react"),{className:"_246b",checked:this.props.checked,disabled:!!this.props.disabled}),c("React").createElement(c("XUIText.react"),{size:"body2",weight:"bold",className:"_19pr"},this.props.label)),c("React").createElement(c("FlexLayout.react"),{direction:"horizontal",align:"center",className:"_1qng"},this.props.tooltip?c("React").createElement(c("Image.react"),babelHelpers["extends"]({},c("Tooltip").propsFor(this.props.tooltip,"above"),{className:"_inj",src:h("126340")})):null,this.props.profilePicUri?c("React").createElement(c("Image.react"),{height:28,width:28,src:this.props.profilePicUri,className:"_1qnh"}):null)))};f.exports=l}),null);
__d("VideoComposerDialogDistributionActions",["VideoComposerDialogDispatcher","VideoComposerDialogActionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(r){var s={type:c("VideoComposerDialogActionTypes").BOOTLOAD_DISTRIBUTION_TAB,data:r};c("VideoComposerDialogDispatcher").dispatch(s)},i=function i(){var r={type:c("VideoComposerDialogActionTypes").TOGGLE_NEWS_FEED};c("VideoComposerDialogDispatcher").dispatch(r)},j=function j(){var r={type:c("VideoComposerDialogActionTypes").TOGGLE_EMBEDDING};c("VideoComposerDialogDispatcher").dispatch(r)},k=function k(){var r={type:c("VideoComposerDialogActionTypes").TOGGLE_SECRET_VIDEO};c("VideoComposerDialogDispatcher").dispatch(r)},l=function l(r){var s={type:c("VideoComposerDialogActionTypes").CROSSPOST_PAGES_FETCHED,pages:r};c("VideoComposerDialogDispatcher").dispatch(s)},m=function m(r){var s={type:c("VideoComposerDialogActionTypes").TOGGLE_CROSSPOST_PAGE,pageID:r};c("VideoComposerDialogDispatcher").dispatch(s)},n=function n(){var r={type:c("VideoComposerDialogActionTypes").TOGGLE_GRAPHIC_WARNING};c("VideoComposerDialogDispatcher").dispatch(r)},o=function o(){var r={type:c("VideoComposerDialogActionTypes").TOGGLE_BLOCK_SOCIAL};c("VideoComposerDialogDispatcher").dispatch(r)},p=function p(){var r={type:c("VideoComposerDialogActionTypes").CROSSPOST_LINK_CLICKED};c("VideoComposerDialogDispatcher").dispatch(r)},q=function q(){var r={type:c("VideoComposerDialogActionTypes").REFRESH_CROSSPOST_PAGES};c("VideoComposerDialogDispatcher").dispatch(r)};f.exports={bootloadTab:h,toggleNewsFeed:i,toggleEmbedding:j,toggleSecretVideo:k,crosspostPagesFetched:l,toggleCrosspostPage:m,toggleGraphicWarning:n,toggleBlockSocial:o,crosspostLinkClicked:p,refreshCrosspostPages:q}}),null);
__d("VideoComposerDialogCrossPostSection.react",["ix","cx","fbt","FlexLayout.react","Link.react","PageSettingsRef","React","VideoComposerDialogCheckboxItem.react","VideoComposerDialogDistributionActions","VideoComposerDialogField.react","XUIButton.react","XUICard.react","XUIGrayText.react","XUISpinner.react","XPagesManagerSettingsController","asset","Image.react","Tooltip"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=4;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={showAll:false},this.$VideoComposerDialogCrossPostSection3=function(){return this.setState({showAll:!this.state.showAll})}.bind(this),p}n.prototype.render=function(){var o=this.$VideoComposerDialogCrossPostSection1(),p=c("React").createElement(c("Link.react"),{href:"/help/678485232304895",target:"_blank"},j._("Help Centre"));return c("React").createElement(c("VideoComposerDialogField.react"),{input:o,subtitle:j._("Allow other Pages to use your video in their posts. Learn more about crossposting in the {Link. =Help Center}.",[j.param("Link. =Help Center",p)]),title:j._("Crossposting")})};n.prototype.$VideoComposerDialogCrossPostSection2=function(){return c("XPagesManagerSettingsController").getURIBuilder().setString("page_token",this.props.pageID).setString("tab","video_crossposting").setString("ref",c("PageSettingsRef").VIDEO_COMPOSER).getURI()};n.prototype.$VideoComposerDialogCrossPostSection1=function(){__p&&__p();if(!Array.isArray(this.props.crosspostPages))return c("React").createElement("div",{className:"_2kkh"},c("React").createElement(c("XUISpinner.react"),{size:"large"}));if(this.props.crosspostPages.length===0){var o=!this.props.enableCrosspostRefresh?j._("When you have added Pages, click here to refresh the list"):null;return c("React").createElement(c("XUICard.react"),{className:"_19pp"},c("React").createElement(c("FlexLayout.react"),{direction:"vertical",justify:"all",align:"center",className:"_ka9"},c("React").createElement("div",{className:"_kaj"},c("React").createElement(c("Image.react"),{src:h("398197")})),c("React").createElement("div",{className:"_kak"},j._("Allow other Pages to crosspost your video")),c("React").createElement(c("FlexLayout.react"),null,c("React").createElement(c("XUIButton.react"),{size:"large",label:j._("Choose Pages"),target:"_blank",onClick:c("VideoComposerDialogDistributionActions").crosspostLinkClicked,href:this.$VideoComposerDialogCrossPostSection2(),imageRight:c("React").createElement(c("Image.react"),{src:h("401037")}),className:"_3-8_"}),c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({size:"large"},c("Tooltip").propsFor(o,"above"),{disabled:!this.props.enableCrosspostRefresh,label:j._("Refresh"),imageRight:c("React").createElement(c("Image.react"),{src:h("435672")}),onClick:c("VideoComposerDialogDistributionActions").refreshCrosspostPages})))))}var p=[],q=null;if(this.props.crosspostPages.length<=m)p=this.props.crosspostPages;else if(this.state.showAll){p=this.props.crosspostPages;q=j._("See less")}else{p=this.props.crosspostPages.slice(0,m);q=j._({"*":"See all {pages count} Pages"},[j.param("pages count",this.props.crosspostPages&&this.props.crosspostPages.length,[0])])}var r=this.state.showAll?h("401025"):h("363522"),s=q===null?null:c("React").createElement(c("Link.react"),{className:"_2kma",onClick:this.$VideoComposerDialogCrossPostSection3},c("React").createElement(c("XUIGrayText.react"),null,q),c("React").createElement(c("Image.react"),{className:"_3-99",src:r}));return c("React").createElement("div",null,c("React").createElement(c("XUICard.react"),{className:"_19pp"},p.map(function(t){return c("React").createElement(c("VideoComposerDialogCheckboxItem.react"),{key:t.id,checked:t.allow,label:t.name,profilePicUri:t.profile_pic_uri,onToggle:function(){return this.props.onPageToggle(t.id)}.bind(this)})}.bind(this))),s)};f.exports=n}),null);
__d("VideoComposerDialogDistributionSection.react",["cx","fbt","React","VideoComposerDialogCheckboxItem.react","VideoComposerDialogField.react","XUICard.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=[{label:i._("News Feed"),checked:this.props.showInNewsFeed,onToggle:function(){return this.props.onToggleNewFeed()}.bind(this),tooltip:i._("Unselect if you don't want your video to appear in News Feed"),disabled:this.props.disableShowInNewsFeed,disabledTooltip:i._("Secret video cannot appear in News Feed.")},{label:i._("Allow embedding"),checked:this.props.allowEmbedding,onToggle:function(){return this.props.onToggleEmbedding()}.bind(this),tooltip:i._("Unselect if you don't want third parties to embed your video")},{label:i._("Add as secret video"),checked:this.props.addAsSecretVideo,onToggle:function(){return this.props.onToggleSecretVideo()}.bind(this),tooltip:i._("Secret videos are only available for embedding and for people who have the link")}],n=c("React").createElement(c("XUICard.react"),{className:"_19pp"},m.map(function(o,p){return c("React").createElement(c("VideoComposerDialogCheckboxItem.react"),babelHelpers["extends"]({key:p},o))}));return c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogField.react"),{input:n,subtitle:i._("Choose where you would like your video to appear."),title:i._("Custom distribution"),showTopBorder:false}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogModerationSection.react",["cx","fbt","React","VideoComposerDialogCheckboxItem.react","VideoComposerDialogField.react","XUICard.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=[{label:i._("Show graphic warning"),checked:this.props.showGraphicWarning,onToggle:function(){return this.props.onGraphicWarningToggle()}.bind(this),tooltip:i._("Viewers will see a warning that your video contains graphic content before it starts"),hidden:!this.props.allowGraphicWarningOption},{label:i._("Turn off reactions, comments and shares"),checked:this.props.blockSocial,onToggle:function(){return this.props.onBlockSocialToggle()}.bind(this),tooltip:i._("People will not be able to share, react to or comment on your post"),disabled:this.props.disableBlockSocial,disabledTooltip:i._("Only available if a video is added as a secret video")}],n=c("React").createElement(c("XUICard.react"),{className:"_2km8"},m.map(function(p,q){if(p.hidden)return null;return c("React").createElement(c("VideoComposerDialogCheckboxItem.react"),babelHelpers["extends"]({key:q},p))})),o=this.props.allowGraphicWarningOption?i._("Moderate your content by showing graphic warnings and turning off reactions, comments and shares."):i._("Moderate your content by turning off reactions, comments and shares.");return c("React").createElement(c("VideoComposerDialogField.react"),{input:n,subtitle:o,title:i._("Moderation")})};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogDistributionContainer.react",["cx","FluxContainer","React","VideoComposerDialogCrossPostSection.react","VideoComposerDialogMode","VideoComposerDialogModerationSection.react","VideoComposerDialogDispatcher","VideoComposerDialogDistributionActions","VideoComposerDialogDistributionSection.react","VideoComposerDialogDistributionStore","VideoComposerDialogMetadataStore"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("VideoComposerDialogDistributionStore"),c("VideoComposerDialogMetadataStore")]};k.calculateState=function(){var l=c("VideoComposerDialogDistributionStore").getState(),m=c("VideoComposerDialogMetadataStore").getState(),n=m.actorID,o=m.dialogMode;return{dialogMode:o,pageID:n||"",showInNewsFeed:l.showInNewsFeed,allowEmbedding:l.allowEmbedding,addAsSecretVideo:l.addAsSecretVideo,disableShowInNewsFeed:l.disableShowInNewsFeed,crosspostPages:l.crosspostPages,allowGraphicWarningOption:l.allowGraphicWarningOption,showGraphicWarning:l.showGraphicWarning,blockSocial:l.blockSocial,disableBlockSocial:!l.addAsSecretVideo,enableCrosspostRefresh:l.enableCrosspostRefresh}};k.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(k.getStores())};k.prototype.render=function(){return c("React").createElement("div",{className:"_ogq"},c("React").createElement(c("VideoComposerDialogDistributionSection.react"),babelHelpers["extends"]({},this.state,{onToggleNewFeed:c("VideoComposerDialogDistributionActions").toggleNewsFeed,onToggleEmbedding:c("VideoComposerDialogDistributionActions").toggleEmbedding,onToggleSecretVideo:c("VideoComposerDialogDistributionActions").toggleSecretVideo})),this.state.dialogMode!==c("VideoComposerDialogMode").VIDEO_CROSSPOST?c("React").createElement(c("VideoComposerDialogCrossPostSection.react"),{pageID:this.state.pageID,crosspostPages:this.state.crosspostPages,enableCrosspostRefresh:this.state.enableCrosspostRefresh,onPageToggle:c("VideoComposerDialogDistributionActions").toggleCrosspostPage}):null,c("React").createElement(c("VideoComposerDialogModerationSection.react"),babelHelpers["extends"]({},this.state,{onGraphicWarningToggle:c("VideoComposerDialogDistributionActions").toggleGraphicWarning,onBlockSocialToggle:c("VideoComposerDialogDistributionActions").toggleBlockSocial})))};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogDistributionTabContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogDistributionStore","VideoComposerDialogDistributionTabConfig","VideoComposerDialogTab","VideoComposerDialogTabItem.react","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUIStore").getState(),l=k.selectedTab;return{isSelected:l===c("VideoComposerDialogTab").DISTRIBUTION}};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogDistributionStore")])};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({tabConfig:c("VideoComposerDialogDistributionTabConfig")},this.state))};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogFooterSectionContainer.react",["FluxContainer","React","VideoComposerDialogBasicStore","VideoComposerDialogEditStore","VideoComposerDialogFooterSection.react","VideoComposerDialogMetadataStore","VideoComposerDialogUIStore","VideoComposerDialogUploadStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogEditStore"),c("VideoComposerDialogUIStore"),c("VideoComposerDialogUploadStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogBasicStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUIStore").getState(),l=k.oneClickPublish,m=k.saveAsDraftDialogShown,n=c("VideoComposerDialogMetadataStore").getState(),o=n.dialogMode,p=n.minBackdateTime,q=n.title,r=n.showRightsConfirmationDialog,s=n.boostedPostButtonConfig,t=c("VideoComposerDialogUploadStore").getState(),u=t.backdateYear,v=t.disablePublish,w=t.expireDate,x=t.postEndDate,y=t.isPosting,z=t.isPostPending,A=t.isDraft,B=t.scheduleDate,C=c("VideoComposerDialogBasicStore").getState(),D=C.bootloaded,E=C.composerConfig,F=c("VideoComposerDialogEditStore").getState(),G=false,H=false,I=false;if(y||z)if(A)H=true;else if(u||x||B||w)I=true;else G=true;return{boostedPostButtonConfig:s,bootloaded:D,composerID:E&&E.contextConfig.composerID||"",dialogMode:o,disablePublish:v,editTabsLoaded:F.editTabsLoaded,isEditSaving:F.isSaving,isMissingTitle:q.trim()==="",isSavingAsDraft:H,isPublishing:G,isSchedulingOrBackdating:I,oneClickPublish:l,saveAsDraftDialogShown:m,showRightsConfirmationDialog:r,minBackdateTime:p?p:0}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogFooterSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("CopyrightCountrySearchSource",["AbstractSearchSource","CopyrightCountryNames","SearchableEntry","SortedCopyrightCountryCodes"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;j.prototype.getAllCountries=function(){"use strict";return c("SortedCopyrightCountryCodes").map(function(k,l){return new(c("SearchableEntry"))({order:l,title:c("CopyrightCountryNames")[k],uniqueID:k})})};j.prototype.getAllCountryIDs=function(){"use strict";return c("SortedCopyrightCountryCodes").slice()};j.prototype.getCountriesCount=function(){"use strict";return c("SortedCopyrightCountryCodes").length};j.prototype.searchImpl=function(k,l){var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];"use strict";var n=this.getAllCountries();if(k&&k.length>0)return l(n.filter(function(o){return o.getTitle().toLowerCase().startsWith(k.toLowerCase())}),k);return l(n,k)};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("CopyrightCountrySelectorHeader.react",["fbt","Link.react","React","SortedCopyrightCountryCodes","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){var k=h._("Select All"),l=h._("Deselect All"),m=j.countryCount===0?c("React").createElement(c("XUIGrayText.react"),null,l):c("React").createElement(c("Link.react"),{onClick:j.onDeselectAll},l),n=j.countryCount===c("SortedCopyrightCountryCodes").length?c("React").createElement(c("XUIGrayText.react"),null,k):c("React").createElement(c("Link.react"),{onClick:j.onSelectAll},k);return c("React").createElement("div",null,n," | ",m)};f.exports=i}),null);
__d("CopyrightCountrySelectorLabel.react",["fbt","React","SortedCopyrightCountryCodes"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){if(j.countryCount===0)return h._("Select countries");else if(j.countryCount===c("SortedCopyrightCountryCodes").length)return h._("All countries");else return h._({"*":"{number} countries selected","_1":"1 country selected"},[h.plural(j.countryCount,"number")])};f.exports=i}),null);
__d("CopyrightCountrySelector.react",["cx","fbt","CopyrightCountryList.react","CopyrightCountrySearchSource","CopyrightCountrySelectorHeader.react","CopyrightCountrySelectorLabel.react","React","SUIBusinessTheme","SUISearchableSelector.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=new(c("CopyrightCountrySearchSource"))();j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={countries:this.$CopyrightCountrySelector1()},this.$CopyrightCountrySelector2=function(s){var t=this.state.countries.slice(0),u=t.find(function(w){return w.getUniqueID()===s.getUniqueID()}),v=t.indexOf(u);if(v>=0)t.splice(v,1);else t.push(s);return this.setCountries(t)}.bind(this),this.$CopyrightCountrySelector3=function(s){s.stopPropagation();this.setCountries([])}.bind(this),this.$CopyrightCountrySelector4=function(s){s.stopPropagation();this.setCountries(l.getAllCountries())}.bind(this),o}m.prototype.$CopyrightCountrySelector1=function(){var n=l.getAllCountries(),o=this.props.selectedCountries;if(!o||o.length===0)return n;if(this.props.areCountriesIncluded)return n.filter(function(p){return o.indexOf(p.getUniqueID())!==-1});else return n.filter(function(p){return o.indexOf(p.getUniqueID())===-1})};m.prototype.setCountries=function(n){__p&&__p();var o,p=this;this.setState({countries:n.slice()});if(this.props.onChange)(function(){__p&&__p();var q=n.map(function(s){return s.getUniqueID().toString()}),r=true;if(p.props.enableExcludedCountries)if(n.length===l.getCountriesCount()){r=true;q=[]}else if(n.length>l.getCountriesCount()/2){r=false;q=l.getAllCountryIDs().filter(function(s){return q.indexOf(s)===-1})}p.props.onChange&&p.props.onChange(q,r)})()};m.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_2q5q")},c("React").createElement(c("SUISearchableSelector.react"),{canSelectMultiple:true,customLabel:c("React").createElement(c("CopyrightCountrySelectorLabel.react"),{countryCount:this.state.countries.length}),dropdownWidth:"auto",emptySearchResultsContent:i._("No matching results"),header:c("React").createElement(c("CopyrightCountrySelectorHeader.react"),{countryCount:this.state.countries.length,onDeselectAll:this.$CopyrightCountrySelector3,onSelectAll:this.$CopyrightCountrySelector4}),isDisabled:this.props.disabled,onChange:this.$CopyrightCountrySelector2,placeholder:i._("All countries"),searchPlaceholder:i._("Search countries"),searchSource:l,theme:c("SUIBusinessTheme"),values:this.state.countries,width:"auto"}),c("React").createElement(c("CopyrightCountryList.react"),{listClassName:this.props.listClassName,countries:this.state.countries.map(function(n){return n.getUniqueID().toString()}),previewCharLimit:this.props.previewCharLimit}))};f.exports=m}),null);
__d("VideoComposerDialogRightsActions",["VideoComposerDialogDispatcher","VideoComposerDialogActionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(r){var s={type:c("VideoComposerDialogActionTypes").BOOTLOAD_RIGHTS_PARAMETERS,data:r};c("VideoComposerDialogDispatcher").dispatch(s)},i=function i(r){var s={type:c("VideoComposerDialogActionTypes").UPDATE_MONITORING_TYPE,monitoringType:r};c("VideoComposerDialogDispatcher").dispatch(s)},j=function j(r){var s={type:c("VideoComposerDialogActionTypes").UPDATE_SHOULD_DETECT_MATCHES,shouldDetectMatches:r};c("VideoComposerDialogDispatcher").dispatch(s)},k=function k(r){var s={type:c("VideoComposerDialogActionTypes").UPDATE_FB_WHITELISTED_USERS,fbWhitelistedUsers:r};c("VideoComposerDialogDispatcher").dispatch(s)},l=function l(r){var s={type:c("VideoComposerDialogActionTypes").UPDATE_IG_WHITELISTED_USERS,igWhitelistedUsers:r};c("VideoComposerDialogDispatcher").dispatch(s)},m=function m(r,s){var t={type:c("VideoComposerDialogActionTypes").UPDATE_OWNERSHIP_COUNTRIES,ownershipCountries:r,areCountriesIncluded:s};c("VideoComposerDialogDispatcher").dispatch(t)},n=function n(r){var s={type:c("VideoComposerDialogActionTypes").UPDATE_MATCH_RULE,matchRuleID:r};c("VideoComposerDialogDispatcher").dispatch(s)},o=function o(r){var s={type:c("VideoComposerDialogActionTypes").UPDATE_ATTRIBUTION,attributionID:r};c("VideoComposerDialogDispatcher").dispatch(s)},p=function p(r){var s={type:c("VideoComposerDialogActionTypes").UPDATE_CATEGORY,category:r};c("VideoComposerDialogDispatcher").dispatch(s)},q=function q(){var r={type:c("VideoComposerDialogActionTypes").UPDATE_CATEGORY_REQUIRED_ERROR};c("VideoComposerDialogDispatcher").dispatch(r)};f.exports={bootloadParameters:h,updateAttribution:o,updateCategory:p,updateFBWhitelistedUsers:k,updateIGWhitelistedUsers:l,updateMatchRule:n,updateMonitoringType:i,updateOwnershipCountries:m,updateShouldDetectMatches:j,updateShowCategoryRequiredError:q}}),null);
__d("VideoCopyrightMonitoringSelector.react",["React","VideoCopyrightMonitoringType","VideoCopyrightUtils","XUISelector.react"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("XUISelector.react").Option,k=c("React").PropTypes;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;l.prototype.render=function(){"use strict";var m=this.props.validMonitoringTypes||Object.keys(c("VideoCopyrightMonitoringType")),n=m.map(function(o){var p=c("VideoCopyrightMonitoringType")[o];return c("React").createElement(j,{key:p.value,value:p.value},p.label)});return c("React").createElement(c("XUISelector.react"),{className:this.props.className,disabled:this.props.disabled,onChange:this.props.onChange,value:this.props.value,defaultValue:c("VideoCopyrightUtils").DEFAULT_MONITORING_TYPE},n)};function l(){"use strict";h.apply(this,arguments)}l.propTypes={className:k.string,disabled:k.bool,onChange:k.func,value:k.string,validMonitoringTypes:k.array};f.exports=l}),null);
__d("VideoCopyrightWhitelistSelector.react",["fbt","CurrentUser","React","SearchableEntry","WebAsyncSearchSource","XUITokenizer.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){"use strict";__p&&__p();j.constructor.call(this,l);this.$VideoCopyrightWhitelistSelector2=function(m){var n=this.props.entries;n.push({id:m.getUniqueID().toString(),name:m.getTitle()});this.props.onEntriesUpdated(n)}.bind(this);this.$VideoCopyrightWhitelistSelector3=function(m){var n=this.props.entries;n=n.filter(function(o){return o.id!=m.getUniqueID().toString()});this.props.onEntriesUpdated(n)}.bind(this);this.state={entries:[],searchSource:new(c("WebAsyncSearchSource"))({queryRequests:[{uri:"/ajax/typeahead/search.php",data:{filter:["user","page"],viewer:c("CurrentUser").getID()}}]})}}k.prototype.componentWillMount=function(){"use strict";this.$VideoCopyrightWhitelistSelector1(this.props.entries||[])};k.prototype.componentWillReceiveProps=function(l){"use strict";this.$VideoCopyrightWhitelistSelector1(l.entries||[])};k.prototype.$VideoCopyrightWhitelistSelector1=function(l){"use strict";var m=l.map(function(n,o){return new(c("SearchableEntry"))({order:o,title:n.name,uniqueID:n.id})});this.setState({entries:m})};k.prototype.render=function(){"use strict";return c("React").createElement(c("XUITokenizer.react"),{className:this.props.className,entries:this.state.entries,onAddEntryAttempt:this.$VideoCopyrightWhitelistSelector2,onRemoveEntryAttempt:this.$VideoCopyrightWhitelistSelector3,placeholder:this.props.disabled?null:h._("Add Page or person"),searchSource:this.state.searchSource,xuiError:this.props.error,disabled:this.props.disabled})};f.exports=k}),null);
__d("XRightsManagerInstagramUserSearchAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/copyright/instagram/typeahead/user/",{page_id:{type:"FBID",required:true},value:{type:"String",defaultValue:""}})}),null);
__d("VideoCopyrightWhitelistedIGUserList.react",["fbt","CurrentPage","React","SearchableEntry","WebAsyncSearchSource","XRightsManagerInstagramUserSearchAsyncController","XUITokenizer.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){"use strict";__p&&__p();j.constructor.call(this,l);this.state={entries:[]};this.$VideoCopyrightWhitelistedIGUserList3=function(n){var o=this.props.whitelistedIGUserNames.slice(0);o.push(n.getUniqueID().toString());this.props.onIGWhitelistUpdated(o)}.bind(this);this.$VideoCopyrightWhitelistedIGUserList4=function(n){var o=this.props.whitelistedIGUserNames.slice(0);o=o.filter(function(p){return p!=n.getUniqueID().toString()});this.props.onIGWhitelistUpdated(o)}.bind(this);var m=c("XRightsManagerInstagramUserSearchAsyncController").getURIBuilder().setFBID("page_id",this.props.pageID||c("CurrentPage").getID()).getURI();this.$VideoCopyrightWhitelistedIGUserList1=new(c("WebAsyncSearchSource"))({queryRequests:[{uri:m}]})}k.prototype.componentWillMount=function(){"use strict";this.$VideoCopyrightWhitelistedIGUserList2(this.props.whitelistedIGUserNames)};k.prototype.componentWillReceiveProps=function(l){"use strict";this.$VideoCopyrightWhitelistedIGUserList2(l.whitelistedIGUserNames)};k.prototype.$VideoCopyrightWhitelistedIGUserList2=function(l){"use strict";this.setState({entries:l.map(function(m){return new(c("SearchableEntry"))({uniqueID:m,title:m})})})};k.prototype.render=function(){"use strict";return c("React").createElement(c("XUITokenizer.react"),{className:this.props.className,entries:this.state.entries,onAddEntryAttempt:this.$VideoCopyrightWhitelistedIGUserList3,onRemoveEntryAttempt:this.$VideoCopyrightWhitelistedIGUserList4,placeholder:this.state.entries.length!==0?null:h._("Add Profile"),searchSource:this.$VideoCopyrightWhitelistedIGUserList1,disabled:this.props.disabled})};f.exports=k}),null);
__d("VideoCopyrightWhitelistSection.react",["cx","fbt","React","VideoCopyrightWhitelistedIGUserList.react","VideoCopyrightWhitelistSelector.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){"use strict";return c("React").createElement("div",null,c("React").createElement("div",{className:"_kmg"},i._("Facebook")),c("React").createElement(c("VideoCopyrightWhitelistSelector.react"),{className:"_64ut",onEntriesUpdated:this.props.onFBWhitelistUpdated,placeholder:i._("Add Page or person"),entries:this.props.whitelistedFBUsers,disabled:this.props.disabled}),c("React").createElement("div",{className:"_kmg"},i._("Instagram")),c("React").createElement(c("VideoCopyrightWhitelistedIGUserList.react"),{pageID:this.props.pageID,disabled:this.props.disabled,whitelistedIGUserNames:this.props.whitelistedIGUserNames||[],onIGWhitelistUpdated:this.props.onIGWhitelistUpdated}))};function l(){"use strict";j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogRightsSection.react",["cx","fbt","CopyrightCountrySelector.react","CopyrightReferenceCategorySelector.react","React","VideoComposerDialogField.react","VideoComposerDialogRadioButton.react","VideoComposerDialogRightsActions","VideoCopyrightAttributionSelector.react","VideoCopyrightMatchRuleSelector.react","VideoCopyrightMonitoringSelector.react","VideoCopyrightRuleTemplateBlankSelectDialog","VideoCopyrightWhitelistSection.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogRightsSection9=function(){c("VideoCopyrightRuleTemplateBlankSelectDialog").show(this.props.targetID,this.props.accessToken)}.bind(this),n}l.prototype.$VideoComposerDialogRightsSection1=function(m){c("VideoComposerDialogRightsActions").updateShouldDetectMatches(m)};l.prototype.$VideoComposerDialogRightsSection2=function(m){c("VideoComposerDialogRightsActions").updateMatchRule(m)};l.prototype.$VideoComposerDialogRightsSection3=function(m){c("VideoComposerDialogRightsActions").updateCategory(m)};l.prototype.$VideoComposerDialogRightsSection4=function(event){c("VideoComposerDialogRightsActions").updateMonitoringType(event.value)};l.prototype.$VideoComposerDialogRightsSection5=function(m,n){c("VideoComposerDialogRightsActions").updateOwnershipCountries(m.slice(),n)};l.prototype.$VideoComposerDialogRightsSection6=function(m){c("VideoComposerDialogRightsActions").updateAttribution(m)};l.prototype.$VideoComposerDialogRightsSection7=function(m){c("VideoComposerDialogRightsActions").updateFBWhitelistedUsers(m.slice())};l.prototype.$VideoComposerDialogRightsSection8=function(m){c("VideoComposerDialogRightsActions").updateIGWhitelistedUsers(m.slice())};l.prototype.render=function(){var m=void 0;if(this.props.showAttributionSelector)m=c("React").createElement(c("VideoComposerDialogField.react"),{disabled:!this.props.shouldDetectMatches,title:i._("Apply attribution"),tooltip:i._("Attribution is for matching videos connected to your Monitor match rules. Attribution is added to matching content on Facebook. Reference files can only be connected to one Attribution."),input:c("React").createElement(c("VideoCopyrightAttributionSelector.react"),{accessToken:this.props.accessToken,disabled:!this.props.shouldDetectMatches,onChange:this.$VideoComposerDialogRightsSection6,pageID:this.props.targetID,selectedAttribution:this.props.attributionID})});return c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogField.react"),{showTopBorder:false,title:i._("Monitor rights"),subtitle:i._("Choose whether you would like to monitor rights to this video"),input:c("React").createElement("div",{className:"_2j6t"},c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:this.props.shouldDetectMatches,label:i._("Yes"),onSelect:function(){return this.$VideoComposerDialogRightsSection1(true)}.bind(this)}),c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:!this.props.shouldDetectMatches,label:i._("No"),onSelect:function(){return this.$VideoComposerDialogRightsSection1(false)}.bind(this)}))}),c("React").createElement(c("VideoComposerDialogField.react"),{disabled:!this.props.shouldDetectMatches,title:i._("Specify ownership"),subtitle:i._("Which parts of the video do you own and where"),tooltip:i._("Ownership establishes which elements of the content belong to you in which parts of the world"),input:c("React").createElement("div",null,c("React").createElement("div",{className:"_1z3m"},i._("Monitored content")),c("React").createElement(c("VideoCopyrightMonitoringSelector.react"),{disabled:!this.props.shouldDetectMatches,onChange:this.$VideoComposerDialogRightsSection4,value:this.props.monitoringType}),c("React").createElement("div",{className:"_1z3m _3-8y"},i._("Geography")),c("React").createElement(c("CopyrightCountrySelector.react"),{areCountriesIncluded:this.props.areCountriesIncluded,disabled:!this.props.shouldDetectMatches,enableExcludedCountries:true,onChange:this.$VideoComposerDialogRightsSection5,previewCharLimit:100,selectedCountries:this.props.ownershipCountries}))}),c("React").createElement(c("VideoComposerDialogField.react"),{disabled:!this.props.shouldDetectMatches,title:i._("Select media category"),tooltip:i._("You must specify what type of format the content in your reference file appears in for tax purposes before you can receive any ad earnings. This selection can't be undone after you've saved it."),input:c("React").createElement(c("CopyrightReferenceCategorySelector.react"),{className:"_2j6u",disabled:!this.props.shouldDetectMatches,hideTitleAndTooltip:true,onReferenceCategoryChange:this.$VideoComposerDialogRightsSection3,selectedCategory:this.props.category,showCategoryRequiredError:this.props.showCategoryRequiredError})}),c("React").createElement(c("VideoComposerDialogField.react"),{disabled:!this.props.shouldDetectMatches,title:i._("Apply match rule"),tooltip:i._("Select which rule to apply to matching content"),input:c("React").createElement(c("VideoCopyrightMatchRuleSelector.react"),{accessToken:this.props.accessToken,disabled:!this.props.shouldDetectMatches,onChange:this.$VideoComposerDialogRightsSection2,onCreateNewRule:this.$VideoComposerDialogRightsSection9,pageID:this.props.targetID,selectedRule:this.props.matchRuleID})}),m,c("React").createElement(c("VideoComposerDialogField.react"),{disabled:!this.props.shouldDetectMatches,title:i._("Grant permissions"),tooltip:i._("Grant permission to any Page or person on Facebook to upload videos that contain this one."),input:c("React").createElement(c("VideoCopyrightWhitelistSection.react"),{disabled:!this.props.shouldDetectMatches,pageID:this.props.targetID,canSeeIGMatches:this.props.isIgRightsManagementEnabled,onFBWhitelistUpdated:this.$VideoComposerDialogRightsSection7,onIGWhitelistUpdated:this.$VideoComposerDialogRightsSection8,whitelistedIGUserNames:this.props.igWhitelistedUsers,whitelistedFBUsers:this.props.fbWhitelistedUsers})}))};f.exports=l}),null);
__d("VideoComposerDialogRightsContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogRightsSection.react","VideoComposerDialogRightsStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogRightsStore"),c("VideoComposerDialogMetadataStore")]};j.calculateState=function(){var k=c("VideoComposerDialogRightsStore").getState(),l=k.attributionID,m=k.category,n=k.fbWhitelistedUsers,o=k.igWhitelistedUsers,p=k.isIgRightsManagementEnabled,q=k.matchRuleID,r=k.monitoringType,s=k.ownershipCountries,t=k.areCountriesIncluded,u=k.shouldDetectMatches,v=k.showAttributionSelector,w=k.showCategoryRequiredError,x=c("VideoComposerDialogMetadataStore").getState(),y=x.accessToken,z=x.targetID;return{accessToken:y,areCountriesIncluded:t,attributionID:l,category:m,fbWhitelistedUsers:n,igWhitelistedUsers:o,isIgRightsManagementEnabled:p,matchRuleID:q,monitoringType:r,ownershipCountries:s,shouldDetectMatches:u,showAttributionSelector:v,showCategoryRequiredError:w,targetID:z?z:""}};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(j.getStores())};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogRightsSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogRightsTabCustomDescription.react",["fbt","React","VideoCopyrightMonitoringType"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j){if(!j.shouldDetectMatches)return h._("This video is not being monitored for rights and matching uploads.");var k=void 0;if(j.ownershipCountries.length>0)if(j.areCountriesIncluded)return h._({"audio":{"*":"Monitoring for audio rights in {number} territories","_1":"Monitoring for audio rights in 1 territory"},"video":{"*":"Monitoring for video rights in {number} territories","_1":"Monitoring for video rights in 1 territory"},"video and audio":{"*":"Monitoring for video and audio rights in {number} territories","_1":"Monitoring for video and audio rights in 1 territory"}},[h["enum"](j.monitoringType===c("VideoCopyrightMonitoringType").VIDEO_AND_AUDIO.value?"video and audio":j.monitoringType===c("VideoCopyrightMonitoringType").VIDEO_ONLY.value?"video":"audio",{audio:"audio",video:"video","video and audio":"video and audio"}),h.plural(j.ownershipCountries.length,"number")]);else return h._({"audio":{"*":"Monitoring for audio rights worldwide, except for {number} territories","_1":"Monitoring for audio rights worldwide, except for 1 territory"},"video":{"*":"Monitoring for video rights worldwide, except for {number} territories","_1":"Monitoring for video rights worldwide, except for 1 territory"},"video and audio":{"*":"Monitoring for video and audio rights worldwide, except for {number} territories","_1":"Monitoring for video and audio rights worldwide, except for 1 territory"}},[h["enum"](j.monitoringType===c("VideoCopyrightMonitoringType").VIDEO_AND_AUDIO.value?"video and audio":j.monitoringType===c("VideoCopyrightMonitoringType").VIDEO_ONLY.value?"video":"audio",{audio:"audio",video:"video","video and audio":"video and audio"}),h.plural(j.ownershipCountries.length,"number")]);else return h._({"audio":"Monitoring for audio rights worldwide","video":"Monitoring for video rights worldwide","video and audio":"Monitoring for video and audio rights worldwide"},[h["enum"](j.monitoringType===c("VideoCopyrightMonitoringType").VIDEO_AND_AUDIO.value?"video and audio":j.monitoringType===c("VideoCopyrightMonitoringType").VIDEO_ONLY.value?"video":"audio",{audio:"audio",video:"video","video and audio":"video and audio"})])}f.exports=i}),null);
__d("VideoComposerDialogRightsTabContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogRightsTabCustomDescription.react","VideoComposerDialogTab","VideoComposerDialogTabItem.react","VideoComposerDialogRightsStore","VideoComposerDialogRightsTabConfig","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogRightsStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUIStore").getState(),l=k.selectedTab,m=c("VideoComposerDialogMetadataStore").getState(),n=m.showRightsTab,o=c("VideoComposerDialogRightsStore").getState(),p=o.areCountriesIncluded,q=o.monitoringType,r=o.shouldDetectMatches,s=o.ownershipCountries;return{areCountriesIncluded:p,isSelected:l===c("VideoComposerDialogTab").RIGHTS,isVisible:n,monitoringType:q,shouldDetectMatches:r,ownershipCountries:s}};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogRightsStore")])};j.prototype.render=function(){var k=this.state,l=k.isSelected,m=k.isVisible,n=babelHelpers.objectWithoutProperties(k,["isSelected","isVisible"]);if(!m)return null;return c("React").createElement(c("VideoComposerDialogTabItem.react"),{customDescription:c("React").createElement(c("VideoComposerDialogRightsTabCustomDescription.react"),n),isSelected:l,tabConfig:c("VideoComposerDialogRightsTabConfig")})};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogRootContainer.react",["cx","EventListener","FluxContainer","PagesSettingsInstreamAdsBlockListContentStore","PagesSettingsInstreamAdsBlockListDispatcher","PagesSettingsInstreamAdsBlockListStore","React","ReactDOM","VideoComposerDialogActions","VideoComposerDialogAdBreakStore","VideoComposerDialogCaptionEditorStore","VideoComposerDialogCaptionsStore","VideoComposerDialogDispatcher","VideoComposerDialogRoot.react","VideoComposerDialogThumbnailsStore","VideoComposerDialogUIStore","VideoComposerDialogUploadStore"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$VideoComposerDialogRootContainer1=null,m}k.getStores=function(){return[c("VideoComposerDialogUIStore"),c("VideoComposerDialogUploadStore")]};k.calculateState=function(){var l=c("VideoComposerDialogUIStore").getState(),m=l.dialogShown,n=l.showExitConfirmDialog,o=c("VideoComposerDialogUploadStore").getState(),p=o.videoFile;return{shown:m,showExitConfirmDialog:n,videoFile:p}};k.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([].concat(k.getStores(),[c("VideoComposerDialogAdBreakStore"),c("VideoComposerDialogCaptionEditorStore"),c("VideoComposerDialogCaptionsStore"),c("VideoComposerDialogThumbnailsStore")]));c("PagesSettingsInstreamAdsBlockListDispatcher").explicitlyRegisterStores([c("PagesSettingsInstreamAdsBlockListContentStore"),c("PagesSettingsInstreamAdsBlockListStore")])};k.prototype.componentDidMount=function(){if(this.state.videoFile)this.$VideoComposerDialogRootContainer2(this.state.videoFile)};k.prototype.componentWillUpdate=function(l,m){var n=m.videoFile;if(n&&this.state.videoFile!==n)this.$VideoComposerDialogRootContainer2(n)};k.prototype.$VideoComposerDialogRootContainer2=function(l){var m=b.URL.createObjectURL(l),n=void 0,o=c("React").createElement("video",{ref:function p(q){return n=q},className:"_3hni",src:m});c("ReactDOM").render(o,this.$VideoComposerDialogRootContainer1,function(){if(n)c("EventListener").listen(n,"loadedmetadata",function(){return n&&c("VideoComposerDialogActions").metadataLoadedFromHTMLPlayer(n)})})};k.prototype.$VideoComposerDialogRootContainer3=function(){c("VideoComposerDialogActions").exitDialogAttempt()};k.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",{ref:function(l){return this.$VideoComposerDialogRootContainer1=l}.bind(this)}),c("React").createElement(c("VideoComposerDialogRoot.react"),babelHelpers["extends"]({onCloseButtonClick:this.$VideoComposerDialogRootContainer3},this.state)))};f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogTabSectionContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogTabSection.react","VideoComposerDialogUIStore","VideoComposerDialogVideoTypeConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore"),c("VideoComposerDialogMetadataStore")]};j.calculateState=function(){c("VideoComposerDialogUIStore").getState();var k=c("VideoComposerDialogMetadataStore").getState(),l=k.videoType,m=k.showCaptionsTab,n=c("VideoComposerDialogVideoTypeConfig").typeConfig[l].displayedTabs;n=n.filter(function(o){return!(o==="captions"&&!m)});return{displayedTabs:n}};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(j.getStores())};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogTabSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogThumbnailImage.react",["ix","cx","BackgroundImage.react","Image.react","React","VideoComposerDialogConstants","asset","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")("_uy-",this.props.className)},c("React").createElement(c("BackgroundImage.react"),{className:"_uy_"+(this.props.isSelected?" _uz0":"")+(this.props.isSelectable?" _1pl9":"")+(this.props.isSelectable&&!this.props.isSelected?" _1plb":""),width:this.props.width?this.props.width:c("VideoComposerDialogConstants").THUMBNAIL_WIDTH,height:this.props.height?this.props.height:c("VideoComposerDialogConstants").THUMBNAIL_HEIGHT,backgroundSize:"contain",src:this.props.imageURL}),this.props.isSelected?c("React").createElement("div",{className:"_uz1"},c("React").createElement(c("Image.react"),{className:"_uz2",src:h("393776")})):c("React").createElement("div",null))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogThumbnailTitleComponent.react",["cx","Image.react","LeftRight.react","React","XUIGrayText.react","XUIText.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("LeftRight.react"),null,c("React").createElement("div",{className:"_2onq"},c("React").createElement(c("Image.react"),{className:"_2ons _3-90",src:this.props.image}),c("React").createElement("div",{className:"_2ont"},this.props.isSelected?c("React").createElement(c("XUIText.react"),{className:"_3-94",display:"block",size:"meta1",weight:"bold"},this.props.title):c("React").createElement(c("XUIGrayText.react"),{className:"_3-94",display:"block",size:"meta1",weight:"bold"},this.props.title),c("React").createElement(c("XUIGrayText.react"),{size:"meta1"},this.props.subTitle))),this.props.rightComponent)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogCustomThumbnailSection.react",["ix","cx","fbt","FileInput.react","FileVideoThumbnail","React","VideoComposerDialogThumbnailImage.react","VideoComposerDialogThumbnailTitleComponent.react","XUIButton.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){var n=this.props.customThumbnail,o=j._("Change Image");return c("React").createElement("div",{className:"_1jiv _3-8y"+(this.props.isSelected?" _1jiw":"")+(!this.props.isSelected?" _1jix":"")},c("React").createElement(c("VideoComposerDialogThumbnailTitleComponent.react"),{title:j._("Custom image"),subTitle:j._("Upload a high-resolution image that best represents your video."),isSelected:this.props.isSelected,image:this.props.isSelected?h("416790"):h("416798"),rightComponent:c("React").createElement(c("FileInput.react"),{accept:"image/*",onChange:this.props.onCustomImageInput},c("React").createElement(c("XUIButton.react"),{className:"_654r"+(!this.props.isSelected?" _1jiz":""),href:"#",size:"large",label:n!==null?o:j._("Add Image")}))}),this.props.isSelected&&n?c("React").createElement(c("VideoComposerDialogThumbnailImage.react"),{className:"_3-8-",imageURL:n.getURL(),isSelected:true}):null)};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("VideoComposerDialogThumbnailSlider.react",["cx","React","ShimButton.react","VideoComposerDialogConstants","VideoComposerDialogThumbnailActions","VideoComposerDialogThumbnailImage.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=22,l=12,m=3,n=635;i=babelHelpers.inherits(o,c("React").Component);j=i&&i.prototype;o.prototype.$VideoComposerDialogThumbnailSlider1=function(){var p=l+c("VideoComposerDialogConstants").THUMBNAIL_WIDTH,q=p*m,r=(n-(l+q))/2,s=k+c("VideoComposerDialogConstants").THUMBNAIL_WIDTH-r,t=l+c("VideoComposerDialogConstants").THUMBNAIL_WIDTH,u=t-(c("VideoComposerDialogConstants").THUMBNAIL_WIDTH+k-r),v=0;if(this.props.sliderIndex>=1)v=s+t*(this.props.sliderIndex-1);if(this.props.sliderIndex===this.props.thumbnails.length-m)v-=u;return v};o.prototype.$VideoComposerDialogThumbnailSlider2=function(p){c("VideoComposerDialogThumbnailActions").toggleSelectedGeneratedThumbnail(p)};o.prototype.render=function(){var p=this.props.thumbnails.map(function(q,r){return c("React").createElement(c("ShimButton.react"),{key:r,onClick:function(){this.$VideoComposerDialogThumbnailSlider2(r)}.bind(this)},c("React").createElement(c("VideoComposerDialogThumbnailImage.react"),{className:"_3-90",imageURL:q.getURL(),isSelected:r===this.props.selectedIndex,isSelectable:true}))}.bind(this));return c("React").createElement("div",{style:{right:this.$VideoComposerDialogThumbnailSlider1()+"px"},className:"_3bre"},p)};function o(){i.apply(this,arguments)}f.exports=o}),null);
__d("VideoComposerDialogGeneratedThumbnailsSection.react",["ix","cx","fbt","Image.react","React","VideoComposerDialogConstants","VideoComposerDialogThumbnailSlider.react","VideoComposerDialogThumbnailTitleComponent.react","XUIButton.react","XUIButtonGroup.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=3;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={sliderIndex:0},this.$VideoComposerDialogGeneratedThumbnailsSection1=function(){if(this.state.sliderIndex>0)this.setState({sliderIndex:this.state.sliderIndex-1})}.bind(this),this.$VideoComposerDialogGeneratedThumbnailsSection2=function(){if(this.state.sliderIndex<this.props.generatedThumbnails.length-m)this.setState({sliderIndex:this.state.sliderIndex+1})}.bind(this),p}n.prototype.render=function(){return c("React").createElement("div",{className:"_1jiv _3-8-"+(this.props.isSelected?" _1jiw":"")+(!this.props.isSelected?" _1jix":"")},c("React").createElement(c("VideoComposerDialogThumbnailTitleComponent.react"),{title:j._("Auto-generated image"),subTitle:j._({"*":"Select one of these {thumbnails} images from your video."},[j.param("thumbnails",this.props.generatedThumbnails.length,[0,this.props.generatedThumbnails.length])]),isSelected:this.props.isSelected,image:this.props.isSelected?h("416777"):h("416781"),rightComponent:this.props.isSelected?c("React").createElement(c("XUIButtonGroup.react"),null,c("React").createElement(c("XUIButton.react"),{disabled:this.state.sliderIndex<=0,onClick:this.$VideoComposerDialogGeneratedThumbnailsSection1,size:"large",image:c("React").createElement(c("Image.react"),{src:h("406776")}),label:"Previous",labelIsHidden:true}),c("React").createElement(c("XUIButton.react"),{disabled:this.state.sliderIndex>=this.props.generatedThumbnails.length-m,onClick:this.$VideoComposerDialogGeneratedThumbnailsSection2,size:"large",image:c("React").createElement(c("Image.react"),{src:h("363528")}),label:"Next",labelIsHidden:true})):c("React").createElement(c("XUIButton.react"),{className:"_654r _1jiz",size:"large",label:j._("Choose Image")})}),this.props.isSelected&&this.props.generatedThumbnails.length>0?c("React").createElement(c("VideoComposerDialogThumbnailSlider.react"),{thumbnails:this.props.generatedThumbnails,selectedIndex:this.props.selectedIndex,sliderIndex:this.state.sliderIndex}):null)};f.exports=n}),null);
__d("VideoProducerDuration.react",["React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.prototype.render=function(){"use strict";var k=this.props,l=k.duration,m=k.className,n=k.showMilliseconds;if(l==null)return null;var o=l/1e3,p=Math.floor((o-Math.floor(o))*1e3),q=(""+p).padStart(3,"0"),r=Math.floor(o),s=(""+r%60).padStart(2,"0"),t=Math.floor(r/60),u=(""+t%60).padStart(2,"0"),v=Math.floor(t/60),w=(""+v).padStart(2,"0"),x=w+":"+u+":"+s+(n?"."+q:"");return c("React").createElement("span",{className:m},x)};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("VideoThumbnailUIActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:VideoThumbnailUIActionsLoggerConfig",this.$VideoThumbnailUIActionsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:VideoThumbnailUIActionsLoggerConfig",this.$VideoThumbnailUIActionsTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$VideoThumbnailUIActionsTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$VideoThumbnailUIActionsTypedLogger1)};h.prototype.updateData=function(j){this.$VideoThumbnailUIActionsTypedLogger1=babelHelpers["extends"]({},this.$VideoThumbnailUIActionsTypedLogger1,j);return this};h.prototype.setEditLocation=function(j){this.$VideoThumbnailUIActionsTypedLogger1.edit_location=j;return this};h.prototype.setEvent=function(j){this.$VideoThumbnailUIActionsTypedLogger1.event=j;return this};h.prototype.setProfileID=function(j){this.$VideoThumbnailUIActionsTypedLogger1.profile_id=j;return this};h.prototype.setThumbnailIndex=function(j){this.$VideoThumbnailUIActionsTypedLogger1.thumbnail_index=j;return this};h.prototype.setVC=function(j){this.$VideoThumbnailUIActionsTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$VideoThumbnailUIActionsTypedLogger1.video_id=j;return this};var i={edit_location:true,event:true,profile_id:true,thumbnail_index:true,vc:true,video_id:true};f.exports=h}),null);
__d("generateSelectedThumbnails",["Promise","CanvasVideoThumbnail","EventListener","VideoFrameBuffer"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k,l){__p&&__p();var m=arguments.length<=4||arguments[4]===undefined?"contain":arguments[4];return new(c("Promise"))(function(n,o){__p&&__p();var p=document.createElement("canvas");p.width=k;p.height=l;var q=[],r=0,s=new(c("VideoFrameBuffer"))(p,i,m),t=void 0,u=void 0,v=function v(){s.updateFrameBuffer();var x=new(c("CanvasVideoThumbnail"))(p,i,u);q.push(x);x.getURL();w()},w=function w(){__p&&__p();if(r===0){t=c("EventListener").listen(i,"seeked",v);u=j[r];i.currentTime=u;r++}else if(q.length<j.length){u=j[r];i.currentTime=u;r++}else{if(t)t.remove();n({thumbnails:q})}};w()})}f.exports=h}),null);
__d("ComposerVideoThumbnailScrubber.react",["ix","cx","fbt","DateConsts","generateSelectedThumbnails","Image.react","React","Set","Style","UserAgent","VideoProducerDuration.react","VideoThumbnailUIActionsTypedLogger","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=10,n=1e3,o=900,p=15,q=10,r=48,s=45,t=45,u=80,v=285,w=463,x=15,y=8;k=babelHelpers.inherits(z,c("React").Component);l=k&&k.prototype;function z(A){__p&&__p();l.constructor.call(this,A);this.$ComposerVideoThumbnailScrubber8=function(C){var D=parseInt(C.target.value,10);this.setState({scrubberValue:D});this.$ComposerVideoThumbnailScrubber9(D)}.bind(this);this.$ComposerVideoThumbnailScrubber11=function(){this.$ComposerVideoThumbnailScrubber4()}.bind(this);var B=new(c("Set"))();if(A.scrubbedThumbnail)B.add(A.scrubbedThumbnail);this.state={scrubberValue:0,videoURL:"",maxScrubberValue:n,selectedFrames:B,savedFrame:A.scrubbedThumbnail,buffer:false}}z.prototype.componentDidMount=function(){this.setState({videoURL:this.props.videoURL})};z.prototype.componentDidUpdate=function(){if(this.state.buffer)this.setState({buffer:false})};z.prototype.shouldComponentUpdate=function(A,B){return A.thumbnails!==this.props.thumbnails||A.showThumbnailScrubberDialog!==this.props.showThumbnailScrubberDialog||B!=this.state};z.prototype.$ComposerVideoThumbnailScrubber1=function(A){__p&&__p();A=A.sort(function(G,H){return G-H});var B=[],C=0;A.forEach(function(G){G=this.$ComposerVideoThumbnailScrubber2(G,r);if(G-C<p)G=C+p;C=G;B.push(G)}.bind(this));var D=void 0;if(this.refs.scrubber)D=parseInt(c("Style").get(this.refs.scrubber,"width"),10)+s;else{this.setState({buffer:true});return[]}var E=D,F=A.length-1;while(B[F]-E>0){B[F]=E;E-=p;F--}return B};z.prototype.$ComposerVideoThumbnailScrubber2=function(A,B){if(this.refs.scrubber){var C=parseInt(c("Style").get(this.refs.scrubber,"width"),10)-y;return Math.floor(A/this.state.maxScrubberValue*C)+B}return B};z.prototype.$ComposerVideoThumbnailScrubber3=function(A){var B=this.refs.video;if(B&&B.duration)return B.duration*A/this.state.maxScrubberValue;return 0};z.prototype.$ComposerVideoThumbnailScrubber4=function(){this.setState({scrubberValue:0});this.props.closeDialog()};z.prototype.$ComposerVideoThumbnailScrubber5=function(){if(this.state.selectedFrames.length!==0){var A=this.refs.videoPlayer,B=Array.from(this.state.selectedFrames);B=B.sort(function(C,D){return C-D});B=B.map(function(C){return this.$ComposerVideoThumbnailScrubber3(C)}.bind(this));return c("generateSelectedThumbnails")(A,B,w,v)}return null};z.prototype.$ComposerVideoThumbnailScrubber6=function(){if(this.state.savedFrame)return this.$ComposerVideoThumbnailScrubber1([this.state.savedFrame])[0];return 0};z.prototype.$ComposerVideoThumbnailScrubber7=function(){if(this.state.selectedFrames.size===1)return Array.from(this.state.selectedFrames)[0];return 0};z.prototype.$ComposerVideoThumbnailScrubber10=function(A){if(A){this.setState({scrubberValue:A});this.$ComposerVideoThumbnailScrubber9(A)}};z.prototype.$ComposerVideoThumbnailScrubber12=function(){var A=this.$ComposerVideoThumbnailScrubber5();this.props.onSelectedThumbnailsFromScrubber&&this.props.onSelectedThumbnailsFromScrubber(A);if(this.state.selectedFrames.size===1){var B=this.$ComposerVideoThumbnailScrubber7();this.props.onScrubbedThumbnailSave&&this.props.onScrubbedThumbnailSave(B);this.setState({savedFrame:B})}new(c("VideoThumbnailUIActionsTypedLogger"))().setEvent("saved_scrubbed_thumbnail").setEditLocation("upload").setProfileID(this.props.pageID).log();this.$ComposerVideoThumbnailScrubber4()};z.prototype.$ComposerVideoThumbnailScrubber13=function(A){var B=this.state.selectedFrames;B.clear();B.add(A);this.setState({selectedFrames:B})};z.prototype.$ComposerVideoThumbnailScrubber14=function(){if(this.refs.video&&this.refs.video.duration&&this.state.maxScrubberValue!=this.refs.video.duration*m)this.setState({maxScrubberValue:this.refs.video.duration*m})};z.prototype.$ComposerVideoThumbnailScrubber9=function(A){var B=this.refs.video;if(B)B.currentTime=this.$ComposerVideoThumbnailScrubber3(A)};z.prototype.render=function(){if(!this.props.showThumbnailScrubberDialog)return null;return c("React").createElement(c("XUIDialog.react"),{shown:this.props.showThumbnailScrubberDialog,layerHideOnBlur:false,onToggle:this.$ComposerVideoThumbnailScrubber11,width:o},c("React").createElement(c("XUIDialogTitle.react"),null,j._("Choose thumbnail from video")),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",null,c("React").createElement("video",{ref:"video",src:this.state.videoURL,className:"_eaa",onLoadedMetadata:function(){return this.$ComposerVideoThumbnailScrubber14()}.bind(this),muted:true}),c("React").createElement("div",{style:{paddingLeft:this.$ComposerVideoThumbnailScrubber2(this.state.scrubberValue,x)}},c("React").createElement(c("VideoProducerDuration.react"),{duration:this.$ComposerVideoThumbnailScrubber3(this.state.scrubberValue)*c("DateConsts").MS_PER_SEC})),this.$ComposerVideoThumbnailScrubber15(),c("React").createElement("input",{className:c("UserAgent").isBrowser("Firefox")?"_eab":"_eac",onChange:this.$ComposerVideoThumbnailScrubber8,min:0,max:this.state.maxScrubberValue,ref:"scrubber",type:"range",value:this.state.scrubberValue}),this.$ComposerVideoThumbnailScrubber16(),c("React").createElement("video",{ref:"videoPlayer",className:"_2mpk",key:"videoPlayer",src:this.state.videoURL}))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement("div",null,this.state.savedFrame?c("React").createElement(c("XUIText.react"),{className:"_61l-"},j._("Your current thumbnail will be replaced if you save a new one.")):null,c("React").createElement(c("XUIButton.react"),{label:j._("Cancel"),onClick:function(){return this.$ComposerVideoThumbnailScrubber4()}.bind(this)}),c("React").createElement(c("XUIButton.react"),{use:"confirm",label:j._("Save Thumbnail"),onClick:function(){this.$ComposerVideoThumbnailScrubber13(this.state.scrubberValue);this.$ComposerVideoThumbnailScrubber12()}.bind(this)}))))};z.prototype.$ComposerVideoThumbnailScrubber16=function(){if(!this.state.savedFrame)return null;var A=this.$ComposerVideoThumbnailScrubber6(),B=c("React").createElement(c("Image.react"),{key:A,className:"_ead",onClick:function(){return this.$ComposerVideoThumbnailScrubber10(this.state.savedFrame)}.bind(this),style:{left:A},src:h("119370")});return c("React").createElement("div",{className:"_eae"},B)};z.prototype.$ComposerVideoThumbnailScrubber15=function(){var A=this.props.thumbnails;if(A.length===0)return c("React").createElement("div",{className:"_eag _eai"},"Loading...");var B=A.slice(0,q),C=B.map(function(D,E){return c("React").createElement(c("Image.react"),{key:E,width:u,height:t,src:D.getURL()})});return c("React").createElement("div",{className:"_eai _eaj"},C)};f.exports=z}),null);
__d("VideoComposerDialogVideoFrameThumbnailSection.react",["ix","cx","fbt","ComposerVideoThumbnailScrubber.react","React","VideoComposerDialogThumbnailActions","VideoComposerDialogThumbnailImage.react","VideoComposerDialogThumbnailTitleComponent.react","XUIButton.react","asset","emptyFunction"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.state={showThumbnailScrubberDialog:false},o}m.prototype.componentWillReceiveProps=function(n){if(!this.props.isSelected&&n.isSelected&&n.thumbnail===null)this.setState({showThumbnailScrubberDialog:true})};m.prototype.$VideoComposerDialogVideoFrameThumbnailSection1=function(n){if(n)n.then(function(o){var p=o.thumbnails;if(p.length===1)c("VideoComposerDialogThumbnailActions").updateScrubbedThumbnail(p[0])}).done()};m.prototype.render=function(){var n=this.props.thumbnail;return c("React").createElement("div",{className:"_1jiv _3-8y"+(this.props.isSelected?" _1jiw":"")+(!this.props.isSelected?" _1jix":"")},c("React").createElement(c("VideoComposerDialogThumbnailTitleComponent.react"),{title:j._("Video frame"),subTitle:j._("Choose any still frame from your video."),isSelected:this.props.isSelected,image:this.props.isSelected?h("416769"):h("416772"),rightComponent:c("React").createElement(c("XUIButton.react"),{className:"_654r"+(!this.props.isSelected?" _1jiz":""),onClick:function(){return this.setState({showThumbnailScrubberDialog:true})}.bind(this),size:"large",label:this.props.thumbnail===null?j._("Choose Frame"):j._("Change Frame")})}),this.props.isSelected&&n?c("React").createElement(c("VideoComposerDialogThumbnailImage.react"),{className:"_3-8-",imageURL:n.getURL(),isSelected:true}):null,c("React").createElement(c("ComposerVideoThumbnailScrubber.react"),{showThumbnailScrubberDialog:this.state.showThumbnailScrubberDialog,onScrubbedThumbnailSave:c("emptyFunction"),onSelectedThumbnailsFromScrubber:this.$VideoComposerDialogVideoFrameThumbnailSection1,videoURL:this.props.videoURL,pageID:this.props.actorID,scrubbedThumbnail:n?n.getTime():null,thumbnails:this.props.generatedThumbnails,closeDialog:function(){return this.setState({showThumbnailScrubberDialog:false})}.bind(this)}))};f.exports=m}),null);
__d("VideoComposerDialogThumbnailsSection.react",["cx","fbt","FileInput.react","FileVideoThumbnail","Link.react","React","ShimButton.react","VideoComposerDialogCustomThumbnailSection.react","VideoComposerDialogGeneratedThumbnailsSection.react","VideoComposerDialogThumbnailActions","VideoComposerDialogThumbnailTypes","VideoComposerDialogThumbnailUtils","VideoComposerDialogVideoFrameThumbnailSection.react","XUIGrayText.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogThumbnailsSection1=function(){if(this.props.selectedSection!==c("VideoComposerDialogThumbnailTypes").ThumbnailSection.GENERATED)c("VideoComposerDialogThumbnailActions").selectThumbnailSection(c("VideoComposerDialogThumbnailTypes").ThumbnailSection.GENERATED)}.bind(this),this.$VideoComposerDialogThumbnailsSection2=function(){if(this.props.selectedSection!==c("VideoComposerDialogThumbnailTypes").ThumbnailSection.CUSTOM&&this.props.customThumbnail!==null)c("VideoComposerDialogThumbnailActions").selectThumbnailSection(c("VideoComposerDialogThumbnailTypes").ThumbnailSection.CUSTOM)}.bind(this),this.$VideoComposerDialogThumbnailsSection4=function(){if(this.props.selectedSection!==c("VideoComposerDialogThumbnailTypes").ThumbnailSection.VIDEO_FRAME)c("VideoComposerDialogThumbnailActions").selectThumbnailSection(c("VideoComposerDialogThumbnailTypes").ThumbnailSection.VIDEO_FRAME)}.bind(this),n}l.prototype.$VideoComposerDialogThumbnailsSection3=function(event){var m=event.currentTarget.files;if(!m||m.length!==1)return;else{var n=new(c("FileVideoThumbnail"))(m[0]);c("VideoComposerDialogThumbnailActions").selectThumbnailSection(c("VideoComposerDialogThumbnailTypes").ThumbnailSection.CUSTOM);c("VideoComposerDialogThumbnailActions").updateCustomThumbnail(n)}};l.prototype.render=function(){var m=c("VideoComposerDialogThumbnailUtils").shouldShowThumbnailScrubber()?i._("This image will be displayed when your video isn't auto playing. You can select an auto-generated image, upload a custom image or choose a still frame from your video."):i._("This image will display when your video isn't auto playing. You can select an auto-generated image or upload a custom image.");return c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{className:"_3-96",display:"block",weight:"bold"},i._("Choose a thumbnail for your video")),c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"meta1"},m),c("React").createElement(c("ShimButton.react"),{onClick:this.$VideoComposerDialogThumbnailsSection1},c("React").createElement(c("VideoComposerDialogGeneratedThumbnailsSection.react"),{generatedThumbnails:this.props.generatedThumbnails,isSelected:this.props.selectedSection===c("VideoComposerDialogThumbnailTypes").ThumbnailSection.GENERATED,selectedIndex:this.props.selectedGeneratedIndex})),c("React").createElement("div",{className:"_tfr"},c("React").createElement(c("ShimButton.react"),{onClick:this.$VideoComposerDialogThumbnailsSection2},c("React").createElement(c("VideoComposerDialogCustomThumbnailSection.react"),{customThumbnail:this.props.customThumbnail,isSelected:this.props.selectedSection===c("VideoComposerDialogThumbnailTypes").ThumbnailSection.CUSTOM,onCustomImageInput:this.$VideoComposerDialogThumbnailsSection3})),this.props.customThumbnail===null?c("React").createElement(c("FileInput.react"),{containerClassName:"_654s",accept:"image/*",onChange:this.$VideoComposerDialogThumbnailsSection3},c("React").createElement(c("Link.react"),{href:"#",label:i._("Image upload")})):null),c("VideoComposerDialogThumbnailUtils").shouldShowThumbnailScrubber()?c("React").createElement(c("ShimButton.react"),{onClick:this.$VideoComposerDialogThumbnailsSection4},c("React").createElement(c("VideoComposerDialogVideoFrameThumbnailSection.react"),{actorID:this.props.actorID,generatedThumbnails:this.props.generatedThumbnails,isSelected:this.props.selectedSection===c("VideoComposerDialogThumbnailTypes").ThumbnailSection.VIDEO_FRAME,thumbnail:this.props.scrubbedThumbnail,videoURL:this.props.videoURL})):null)};f.exports=l}),null);
__d("VideoComposerDialogThumbnailsContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogThumbnailsSection.react","VideoComposerDialogThumbnailsStore","VideoComposerDialogUploadStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogThumbnailsStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUploadStore")]};j.calculateState=function(){var k=c("VideoComposerDialogThumbnailsStore").getState(),l=k.customThumbnail,m=k.generatedThumbnails,n=k.scrubbedThumbnail,o=k.selectedGeneratedIndex,p=k.selectedSection,q=c("VideoComposerDialogUploadStore").getState(),r=q.videoFile,s=c("VideoComposerDialogMetadataStore").getState(),t=s.actorID;return{actorID:t?t:"",customThumbnail:l,generatedThumbnails:m,scrubbedThumbnail:n,selectedGeneratedIndex:o,selectedSection:p,videoURL:r?b.URL.createObjectURL(r):""}};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([])};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogThumbnailsSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogThumbnailsTabContainer.react",["cx","FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogTab","VideoComposerDialogTabItem.react","VideoComposerDialogThumbnailImage.react","VideoComposerDialogThumbnailsStore","VideoComposerDialogThumbnailsTabConfig","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=128,l=72;i=babelHelpers.inherits(m,c("React").PureComponent);j=i&&i.prototype;m.getStores=function(){return[c("VideoComposerDialogUIStore"),c("VideoComposerDialogThumbnailsStore")]};m.calculateState=function(){var n=c("VideoComposerDialogUIStore").getState(),o=n.selectedTab,p=c("VideoComposerDialogThumbnailsStore").getState(),q=p.selectedThumbnail;return{isSelected:o===c("VideoComposerDialogTab").THUMBNAILS,selectedThumbnail:q}};m.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(m.getStores())};m.prototype.render=function(){var n=this.state.selectedThumbnail;return c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({customDescription:n?c("React").createElement(c("VideoComposerDialogThumbnailImage.react"),{imageURL:n.getURL(),isSelected:false,width:k,height:l}):null,tabConfig:c("VideoComposerDialogThumbnailsTabConfig")},this.state))};function m(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(m)}),null);
__d("VideoComposerDialogUploadPopover.react",["ix","cx","fbt","DurationFormatter","FileInput.react","FlexLayout.react","Image.react","Link.react","React","VideoComposerDialogActions","XUIButton.react","asset","formatNumber"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=1e6;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$VideoComposerDialogUploadPopover1=function(event,t){var u=event.currentTarget.files,v=this.props.onReplaceFile;if(!u||u.length!==1)return;c("VideoComposerDialogActions").fileAdded(u[0],t);if(v)v()}.bind(this),p}n.prototype.render=function(){var o=this.props.videoSize/m,p=this.props.uploadPercent/100*o;return c("React").createElement("div",null,c("React").createElement(c("FlexLayout.react"),{className:"_652a",justify:"all"},c("React").createElement(c("FlexLayout.react"),{className:"_13yt"},c("React").createElement(c("Image.react"),{className:"_3-8_",src:h("431724")}),c("React").createElement("div",{className:"_13yu"},this.props.fileName)),c("React").createElement(c("Link.react"),{href:"#",onClick:this.props.onCloseButtonClick},c("React").createElement(c("Image.react"),{src:h("368785")}))),c("React").createElement(c("FlexLayout.react"),{direction:"vertical",className:"_13yv"},this.props.errorMessage!==null?c("React").createElement("div",{className:"_l8_"},this.props.errorMessage):null,j._("{percentage}\u0025 uploaded ({uploaded amount} MB\/{file size} MB)",[j.param("percentage",c("formatNumber")(this.props.uploadPercent)),j.param("uploaded amount",c("formatNumber")(p,1)),j.param("file size",c("formatNumber")(o,1))]),c("React").createElement("div",{className:"_3-8m"},j._("Duration: {duration}",[j.param("duration",c("DurationFormatter").formatShort(Math.round(this.props.videoDuration)))])),j._("Dimensions: {width} x {height}",[j.param("width",this.props.videoWidth),j.param("height",this.props.videoHeight)])),c("React").createElement(c("FlexLayout.react"),{className:"_13yy"},c("React").createElement(c("FileInput.react"),{onChange:this.$VideoComposerDialogUploadPopover1},c("React").createElement(c("XUIButton.react"),{href:"#",size:"large",label:j._("Upload New")}))))};f.exports=n}),null);
__d("VideoComposerDialogUploaderPill.react",["ix","cx","fbt","FlexLayout.react","Image.react","InlineBlock.react","LayerHideOnBlur","LayerHideOnEscape","React","ShimButton.react","VideoComposerDialogUploadPopover.react","XUIContextualDialog.react","asset","fbglyph","formatNumber"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=260;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={showPopover:false},this.$VideoComposerDialogUploaderPill1=function(){this.setState({showPopover:!this.state.showPopover})}.bind(this),p}n.prototype.componentWillReceiveProps=function(o){if(this.props.errorMessage===null&&o.errorMessage)this.setState({showPopover:true});else if(this.props.errorMessage!==null&&o.errorMessage===null)this.setState({showPopover:false})};n.prototype.renderLayers=function(o){if(!this.state.showPopover)return null;return c("React").createElement(c("XUIContextualDialog.react"),{behaviors:{LayerHideOnEscape:c("LayerHideOnEscape"),LayerHideOnBlur:c("LayerHideOnBlur")},contextRef:function(){return this.refs.uploaderPill}.bind(this),shown:this.state.showPopover,alignment:"right",position:"below",onToggle:this.$VideoComposerDialogUploaderPill1,label:j._("metadata"),width:m},c("React").createElement(c("VideoComposerDialogUploadPopover.react"),{errorMessage:this.props.errorMessage,fileName:this.props.fileName,onCloseButtonClick:this.$VideoComposerDialogUploaderPill1,onReplaceFile:this.$VideoComposerDialogUploaderPill1,uploadPercent:o,videoDuration:this.props.videoDuration,videoWidth:this.props.videoWidth,videoHeight:this.props.videoHeight,videoSize:this.props.videoSize}))};n.prototype.render=function(){var o=this.props.errorMessage!==null,p=this.props.uploadPercent===100&&this.props.uploadFinished,q=this.props.uploadPercent===100&&!p?99.9:this.props.uploadPercent,r=q===100?0:1,s=o?c("React").createElement(c("Image.react"),{src:h("118806")}):p?c("React").createElement(c("Image.react"),{src:h("407719")}):c("React").createElement(c("Image.react"),{src:h("360748")}),t=o?c("React").createElement(c("Image.react"),{src:h("412694")}):p?c("React").createElement(c("Image.react"),{src:h("364972")}):c("React").createElement(c("Image.react"),{src:h("379681")});return c("React").createElement(c("ShimButton.react"),{ref:"uploaderPill",onClick:this.$VideoComposerDialogUploaderPill1,className:"_4unx"},c("React").createElement("div",{style:{width:q+"%"},className:"_4un-"+(p?" _4jg0":"")+(o?" _6538":"")}),c("React").createElement("div",{className:"_4un_"+(o?" _6539":"")}),c("React").createElement(c("FlexLayout.react"),{justify:"all",align:"center",className:"_4uny"+(p?" _4jf_":"")+(o?" _1jua":"")},c("React").createElement(c("FlexLayout.react"),{align:"center"},s,c("React").createElement(c("InlineBlock.react"),{className:"_4unz"},j._("{percentage}",[j.param("percentage",c("formatNumber")(q,r)+"%")]))),t),this.renderLayers(q))};f.exports=n}),null);
__d("VideoComposerDialogTitleSection.react",["cx","fbt","AbstractTextInput.react","FlexLayout.react","Keys","React","VideoComposerDialogActions","VideoComposerDialogUploaderPill.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$VideoComposerDialogTitleSection3=function(event){if(event.keyCode===c("Keys").RETURN)this.$VideoComposerDialogTitleSection1&&this.$VideoComposerDialogTitleSection1.blurInput()}.bind(this),n}l.prototype.componentDidMount=function(){var m=this.$VideoComposerDialogTitleSection1;if(m&&m!==null)m.focusInput()};l.prototype.componentWillReceiveProps=function(m){var n=this.$VideoComposerDialogTitleSection1;if(n&&n!==null&&this.props.videoDuration!==m.videoDuration)n.focusInput()};l.prototype.$VideoComposerDialogTitleSection2=function(event){c("VideoComposerDialogActions").updateTitle(event.target.value)};l.prototype.render=function(){return c("React").createElement(c("FlexLayout.react"),{direction:"horizontal",justify:"all",className:"_62qs"},c("React").createElement(c("AbstractTextInput.react"),{className:"_63k1",ref:function(m){return this.$VideoComposerDialogTitleSection1=m}.bind(this),placeholder:i._("Give your video a title..."),onChange:this.$VideoComposerDialogTitleSection2,value:this.props.title,onKeyUp:this.$VideoComposerDialogTitleSection3}),this.props.showUploaderPill?c("React").createElement(c("VideoComposerDialogUploaderPill.react"),{errorMessage:this.props.errorMessage,fileName:this.props.fileName,uploadFinished:this.props.uploadFinished,uploadPercent:this.props.uploadProgress,videoDuration:this.props.videoDuration,videoWidth:this.props.videoWidth,videoHeight:this.props.videoHeight,videoSize:this.props.videoSize}):null)};f.exports=l}),null);
__d("VideoComposerDialogTitleSectionContainer.react",["FluxContainer","React","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogTitleSection.react","VideoComposerDialogUIStore","VideoComposerDialogUploadStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUploadStore")]};j.calculateState=function(){c("VideoComposerDialogUIStore").getState();var k=c("VideoComposerDialogUploadStore").getState(),l=k.errorMessage,m=k.videoFile,n=k.uploadFinished,o=k.uploadProgress,p=k.videoSize,q=c("VideoComposerDialogMetadataStore").getState(),r=q.title,s=q.dialogMode,t=q.videoDuration,u=q.videoWidth,v=q.videoHeight;return{dialogMode:s,errorMessage:l,fileName:m?m.name:"",showUploaderPill:s===c("VideoComposerDialogMode").VIDEO_UPLOAD,title:r,uploadFinished:n,uploadProgress:o,videoDuration:t?t:0,videoWidth:u?u:0,videoHeight:v?v:0,videoSize:p?p:0}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogTitleSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogTrackingActions",["VideoComposerDialogDispatcher","VideoComposerDialogActionTypes"],(function a(b,c,d,e,f,g){"use strict";var h=function h(j){var k={type:c("VideoComposerDialogActionTypes").UPDATE_CUSTOM_LABELS,customLabels:j};c("VideoComposerDialogDispatcher").dispatch(k)},i=function i(j){var k={type:c("VideoComposerDialogActionTypes").UPDATE_UNIVERSAL_ID,universalID:j};c("VideoComposerDialogDispatcher").dispatch(k)};f.exports={updateCustomLabels:h,updateUniversalID:i}}),null);
__d("VideoComposerDialogTrackingUtils",["WebAsyncSearchSource","XVideoCustomLabelsTypeaheadController"],(function a(b,c,d,e,f,g){"use strict";var h=function h(i){var j=c("XVideoCustomLabelsTypeaheadController").getURIBuilder().setFBID("profile_id",i).getURI();return new(c("WebAsyncSearchSource"))({bootstrapRequests:[{uri:j}],getAllForEmptyQuery:true})};f.exports={loadCustomLabelsSearchSource:h}}),null);
__d("VideoComposerDialogTrackingCustomLabels.react",["cx","fbt","React","SearchableEntry","VideoComposerDialogTrackingActions","VideoComposerDialogTrackingUtils","XUITokenizer.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={entries:this.props.customLabels.map(function(r){return new(c("SearchableEntry"))({uniqueID:r,title:r})}),queryString:"",searchSource:this.$VideoComposerDialogTrackingCustomLabels1.bind(this)()},n}l.prototype.$VideoComposerDialogTrackingCustomLabels2=function(m){var n=this.state.entries,o=n.some(function(p){return p.getUniqueID()===m.getUniqueID()});if(!o)n.push(m);this.setState({entries:n,queryString:""});c("VideoComposerDialogTrackingActions").updateCustomLabels(n.map(function(p){return p.getUniqueID()}))};l.prototype.$VideoComposerDialogTrackingCustomLabels3=function(m){var n=this.state.entries,o=n.some(function(p){return p.getUniqueID()===m.getUniqueID()});if(o)n.splice(n.indexOf(m),1);this.setState({entries:n,queryString:""});c("VideoComposerDialogTrackingActions").updateCustomLabels(n.map(function(p){return p.getUniqueID()}))};l.prototype.$VideoComposerDialogTrackingCustomLabels4=function(event){this.setState({queryString:event.target.value})};l.prototype.$VideoComposerDialogTrackingCustomLabels1=function(){return c("VideoComposerDialogTrackingUtils").loadCustomLabelsSearchSource(this.props.targetID)};l.prototype.render=function(){var m=[],n={},o=this.state.queryString.trim();if(o){m=[new(c("SearchableEntry"))({uniqueID:o,title:o})];n[o]=o}return c("React").createElement(c("XUITokenizer.react"),{className:"_1325",additionalEntries:m,entries:this.state.entries,excludedEntries:n,onQueryStringChange:this.$VideoComposerDialogTrackingCustomLabels4.bind(this),onAddEntryAttempt:this.$VideoComposerDialogTrackingCustomLabels2.bind(this),onRemoveEntryAttempt:this.$VideoComposerDialogTrackingCustomLabels3.bind(this),queryString:this.state.queryString,placeholder:i._("Category, employee name, video type"),searchSource:this.state.searchSource,showEntriesOnFocus:true})};f.exports=l}),null);
__d("VideoComposerDialogTrackingSection.react",["cx","fbt","React","VideoComposerDialogField.react","VideoComposerDialogTrackingActions","VideoComposerDialogTrackingCustomLabels.react","XUITextInput.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.$VideoComposerDialogTrackingSection1=function(event){var m=event.target.value;c("VideoComposerDialogTrackingActions").updateUniversalID(m)};l.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogField.react"),{showTopBorder:false,title:i._("Internal labels"),subtitle:i._("Add labels to help you search for your video. These labels are only visible to Page admins."),input:c("React").createElement(c("VideoComposerDialogTrackingCustomLabels.react"),this.props)}),c("React").createElement(c("VideoComposerDialogField.react"),{title:i._("Universal ID"),tooltip:i._("If your video has a unique code in another content management system, you can add it here. This won't affect your post."),input:c("React").createElement(c("XUITextInput.react"),{className:"_1325",height:"tall",onChange:this.$VideoComposerDialogTrackingSection1,placeholder:i._("Asset management code (optional)"),value:this.props.universalID})}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogTrackingContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogTrackingSection.react","VideoComposerDialogTrackingStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogTrackingStore"),c("VideoComposerDialogMetadataStore")]};j.calculateState=function(){var k=c("VideoComposerDialogTrackingStore").getState(),l=k.customLabels,m=k.universalID,n=c("VideoComposerDialogMetadataStore").getState(),o=n.targetID;return{customLabels:l,targetID:o?o:"",universalID:m}};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(j.getStores())};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogTrackingSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogTrackingTabContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogTab","VideoComposerDialogTabItem.react","VideoComposerDialogTrackingStore","VideoComposerDialogTrackingTabConfig","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUIStore").getState(),l=k.selectedTab;return{isSelected:l===c("VideoComposerDialogTab").TRACKING}};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogTrackingStore")])};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({tabConfig:c("VideoComposerDialogTrackingTabConfig")},this.state))};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogVideoTypeSection.react",["ix","cx","fbt","FlexLayout.react","Image.react","React","VideoComposerDialogMode","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogTitle.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){__p&&__p();var n=void 0;switch(this.props.dialogMode){case c("VideoComposerDialogMode").VIDEO_UPLOAD:n=j._("Add Video");break;case c("VideoComposerDialogMode").VIDEO_CROSSPOST:n=j._("Crosspost Video");break;case c("VideoComposerDialogMode").VIDEO_EDIT:n=j._("Edit Video");break}var o=j._("This post and its insights can be seen by the owner of this video. If the owner changes your ability to use it, this post will be unpublished or removed automatically.");return c("React").createElement(c("FlexLayout.react"),{justify:"all",align:"center",className:"_1pbd _2pi4 _2pi9"},c("React").createElement(c("FlexLayout.react"),{align:"center"},c("React").createElement(c("Image.react"),{src:h("391693")}),c("React").createElement("div",{className:"_3-9a"},n)),this.props.dialogMode===c("VideoComposerDialogMode").VIDEO_CROSSPOST?c("React").createElement("div",{className:"_3-8w"},c("React").createElement(c("Image.react"),{ref:function(p){return this.$VideoComposerDialogVideoTypeSection1=p}.bind(this),src:h("378682")}),c("React").createElement(c("XUIContextualDialog.react"),{label:"crosspost warning",autoFocus:false,contextRef:function(){return this.$VideoComposerDialogVideoTypeSection1}.bind(this),hoverContextRef:function(){return this.$VideoComposerDialogVideoTypeSection1}.bind(this),position:"below",alignment:"right",width:c("XUIContextualDialog.react").WIDTH.NORMAL},c("React").createElement(c("XUIContextualDialogTitle.react"),null,j._("Disclaimer")),c("React").createElement(c("XUIContextualDialogBody.react"),null,o))):null)};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("VideoComposerDialogVideoTypeSectionContainer.react",["FluxContainer","React","VideoComposerDialogMetadataStore","VideoComposerDialogVideoTypeSection.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogMetadataStore")]};j.calculateState=function(){var k=c("VideoComposerDialogMetadataStore").getState(),l=k.dialogMode;return{dialogMode:l}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogVideoTypeSection.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogWrapperContainer.react",["fbt","FluxContainer","React","Run","VideoComposerDialogActions","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogUIStore","VideoComposerDialogWrapper.react","VideoComposerDialogUploadStore"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("VideoComposerDialogUIStore")]};k.calculateState=function(){var l=c("VideoComposerDialogUIStore").getState(),m=l.dialogShown,n=l.publishConfirmDialogShown,o=l.publishConfirmDialogData;return{dialogShown:m,publishConfirmDialogShown:n,publishConfirmDialogData:o}};k.prototype.componentWillMount=function(){c("Run").onBeforeUnload(function(){if(!this.state.dialogShown)return null;return h._("Changes that you've made may not be saved.")}.bind(this));c("Run").onLeave(function(){c("VideoComposerDialogActions").navigatedFromPage()});c("Run").onUnload(function(){c("VideoComposerDialogActions").navigatedFromPage()});c("VideoComposerDialogDispatcher").explicitlyRegisterStores(k.getStores().concat([c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUploadStore")]))};k.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogWrapper.react"),babelHelpers["extends"]({className:this.props.className},this.state))};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k,{withProps:true})}),null);
__d("VideoCaptionPlacements",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CREATE_AD:0,EXISTING_POST_SECTION:1,PAGE_COMPOSER_EDIT:2,VIDEO_CAROUSEL:3,CREATE_AD_CF:4,EXISTING_POST_SECTION_CF:5,PAGE_TIMELINE_POST_HEADER:6,JEWEL_NOTIFICATION:7,EMAIL_NOTIFICATION:8})}),null);
__d("VideoComposerDialogCaptionEditorCaptionsListGenerator_node.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"VideoComposerDialogCaptionEditorCaptionsListGenerator_node",type:"VideoSubtitle",metadata:null,argumentDefinitions:[],selections:[i,{kind:"ScalarField",alias:null,name:"locale",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"process_status",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"review_expire_time",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"video_id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"captions",storageKey:'captions(first:3000,orderby:["chronological"])',args:[{kind:"Literal",name:"first",value:3e3,type:"Int"},{kind:"Literal",name:"orderby",value:["chronological"],type:"[VideoSubtitleCaptionsOrdering]"}],concreteType:"VideoSubtitleCaptionsConnection",plural:false,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"VideoSubtitleCaptionsEdge",plural:true,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"VideoSubtitleCaption",plural:false,selections:[i,{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"start_time_in_ms",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"duration_in_ms",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"confidence",args:null,storageKey:null}]}]}]}]}}();f.exports=h}),null);
__d("VideoComposerDialogCaptionEditorCaptionsListGenerator.react",["VideoComposerDialogCaptionEditorConstants","immutable","React","RelayCompat","VideoComposerDialogCaptionEditorActions","VideoComposerDialogCaptionEditorListSectionContainer.react","VideoComposerDialogDispatcher","VideoCaptionPlacements","VideoComposerDialogCaptionEditorCaptionsListGenerator_node.graphql"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("RelayCompat").createFragmentContainer,k=c("RelayCompat").graphql;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;l.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(c("VideoComposerDialogCaptionEditorListSectionContainer.react").getStores());this.$VideoComposerDialogCaptionEditorCaptionsListGenerator1()};l.prototype.componentWillReceiveProps=function(m){if(this.props.id!==m.id||JSON.stringify(this.props.node)!==JSON.stringify(m.node))this.$VideoComposerDialogCaptionEditorCaptionsListGenerator1()};l.prototype.$VideoComposerDialogCaptionEditorCaptionsListGenerator1=function(){__p&&__p();var m=this.props.node.captions;if(m&&m.edges){var n=m.edges.map(function(o,p){if(o.node){var q={node:{id:o.node.id,text:o.node.text,start_time_in_ms:o.node.start_time_in_ms,duration_in_ms:o.node.duration_in_ms,confidence:o.node.confidence,left:(o.node.start_time_in_ms?o.node.start_time_in_ms:0)*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT,width:(o.node.duration_in_ms?o.node.duration_in_ms:0)*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT}};return q}return{}});c("VideoComposerDialogCaptionEditorActions").setCaptions(c("immutable").List(n),this.props.node.id,this.props.node.locale,this.props.node.video_id,null,c("VideoCaptionPlacements").PAGE_COMPOSER_EDIT)}};l.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogCaptionEditorListSectionContainer.react"),null)};function l(){h.apply(this,arguments)}f.exports=j(l,{node:{modern:function m(){return c("VideoComposerDialogCaptionEditorCaptionsListGenerator_node.graphql")},classic:function m(n){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:true},type:"ID"},{fieldName:"locale",kind:"Field",metadata:{},type:"String"},{fieldName:"process_status",kind:"Field",metadata:{},type:"VideoSubtitleStatus"},{fieldName:"review_expire_time",kind:"Field",metadata:{},type:"Time"},{fieldName:"video_id",kind:"Field",metadata:{},type:"ID"},{calls:[{kind:"Call",metadata:{type:"[VideoSubtitleCaptionsOrdering]"},name:"orderby",value:[{kind:"CallValue",callValue:"chronological"}]},{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:3e3}}],children:[{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:true},type:"ID"},{fieldName:"text",kind:"Field",metadata:{},type:"String"},{fieldName:"start_time_in_ms",kind:"Field",metadata:{},type:"Int"},{fieldName:"duration_in_ms",kind:"Field",metadata:{},type:"Int"},{fieldName:"confidence",kind:"Field",metadata:{},type:"Float"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:true},type:"VideoSubtitleCaption"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:true,isPlural:true},type:"VideoSubtitleCaptionsEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:"PageInfo"}],fieldName:"captions",kind:"Field",metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:"VideoSubtitleCaptionsConnection"}],id:n.__id(),kind:"Fragment",metadata:{},name:"VideoComposerDialogCaptionEditorCaptionsListGenerator_node",type:"VideoSubtitle"}}()}}}})}),null);
__d("VideoCaptionEditorStateEnums",[],(function a(b,c,d,e,f,g){var h={INIT:0,SAVED:0,UNSAVED:1,SAVING:2,PUBLISHING:3,EXIT:4,SHARE_EDITED:5,SHARING:6},i=Object.freeze({VIEW_ONLY:0,SAVED:1,UNSAVED:2}),j=Object.freeze({START_TIME:true,END_TIME:false}),k=Object.freeze({GOOD:0,POOR:1});f.exports={EditorStateEnum:h,EditItemStateEnum:i,TimestampTypes:j,VideoCaptionQualityEnum:k}}),null);
__d("VideoComposerDialogCaptionEditorFooter.react",["ix","cx","fbt","FBConfirmDialog.react","LeftRight.react","React","VideoCaptionEditorStateEnums","XUIButton.react","fbglyph","Image.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("VideoCaptionEditorStateEnums").EditorStateEnum;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.render=function(){var o=j._("Saved");if(this.props.editorState===m.SAVING)o=j._("Saving...");else if(this.props.editorState===m.UNSAVED)o=j._("Unsaved");return c("React").createElement("span",{className:"_647o"},c("React").createElement("span",{className:"_647p"},c("React").createElement("span",{className:"_647q"},c("React").createElement("span",{className:"_647r"},c("React").createElement(c("Image.react"),{src:h("126813")})),c("React").createElement("span",{className:"_647s"},o)),c("React").createElement("span",null,c("React").createElement(c("XUIButton.react"),{disabled:this.props.disableSection,href:"#",onClick:this.props.onCancel,label:j._("Cancel"),size:"xlarge",use:"default"}),c("React").createElement(c("XUIButton.react"),{disabled:this.props.editorState!==m.UNSAVED,href:"#",onClick:this.props.onSaveDraft,label:j._("Save Draft"),size:"xlarge",use:"confirm"})),c("React").createElement(c("FBConfirmDialog.react"),{className:"_2rjw",title:j._("Save"),content:j._("Save changes to your caption?"),confirmButtonText:j._("Save"),cancelButtonText:j._("Exit without saving"),onConfirm:function(){return this.props.onConfirm&&this.props.onConfirm()}.bind(this),onCancel:function(){return this.props.onDontSave&&this.props.onDontSave()}.bind(this),onToggle:function(p){return this.props.onToggle&&this.props.onToggle(p)}.bind(this),shown:this.props.shouldShowExitDialog})))};function n(){k.apply(this,arguments)}f.exports=n}),null);
__d("VideoComposerDialogCaptionsTabActions",["VideoComposerDialogDispatcher","immutable","VideoComposerDialogActionTypes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(){var M={type:c("VideoComposerDialogActionTypes").SHOW_CAPTION_EDITOR};c("VideoComposerDialogDispatcher").dispatch(M)},i=function i(){var M={type:c("VideoComposerDialogActionTypes").HIDE_CAPTION_EDITOR};c("VideoComposerDialogDispatcher").dispatch(M)},j=function j(M,N,O,P,Q,R,S,T){var U={type:c("VideoComposerDialogActionTypes").INITIALIZE_CAPTION_LANDING_SCREEN,videoFile:M,video_id:N,accessToken:O,composerID:P,pageID:Q,videoDurationInSec:R,isEditFlow:S,isOldComposer:T};c("VideoComposerDialogDispatcher").dispatch(U)},k=function k(){var M={type:c("VideoComposerDialogActionTypes").CAPTION_LANDING_SCREEN_OPEN_EVENT};c("VideoComposerDialogDispatcher").dispatch(M)},l=function l(){var M={type:c("VideoComposerDialogActionTypes").OLD_COMPOSER_CAPTION_TAB_OPEN_EVENT};c("VideoComposerDialogDispatcher").dispatch(M)},m=function m(){var M={type:c("VideoComposerDialogActionTypes").RESET_OPEN_LANDING_SCREEN_STATE};c("VideoComposerDialogDispatcher").dispatch(M)},n=function n(M){var N={type:c("VideoComposerDialogActionTypes").FINISHED_FETCH_DRAFTS,drafts:M};c("VideoComposerDialogDispatcher").dispatch(N)},o=function o(){var M={type:c("VideoComposerDialogActionTypes").GENERATE};c("VideoComposerDialogDispatcher").dispatch(M)},p=function p(){var M={type:c("VideoComposerDialogActionTypes").CANCEL_GENERATE};c("VideoComposerDialogDispatcher").dispatch(M)},q=function q(M){var N={type:c("VideoComposerDialogActionTypes").GENERATE_PROGRESS_UPDATE,progress:M};c("VideoComposerDialogDispatcher").dispatch(N)},r=function r(){var M={type:c("VideoComposerDialogActionTypes").CREATE};c("VideoComposerDialogDispatcher").dispatch(M)},s=function s(M){var N={type:c("VideoComposerDialogActionTypes").EDIT_CAPTIONS_DRAFT,id:M};c("VideoComposerDialogDispatcher").dispatch(N)},t=function t(M){var N={type:c("VideoComposerDialogActionTypes").DELETE_CAPTIONS_DRAFT,id:M};c("VideoComposerDialogDispatcher").dispatch(N)},u=function u(M){var N={type:c("VideoComposerDialogActionTypes").START_SRT_UPLOAD,captions:M};c("VideoComposerDialogDispatcher").dispatch(N)},v=function v(M){var N={type:c("VideoComposerDialogActionTypes").SELECT_SPOKEN_LANGUAGE,language:M};c("VideoComposerDialogDispatcher").dispatch(N)},w=function w(M){var N={type:c("VideoComposerDialogActionTypes").SELECT_SPOKEN_LOCALE,locale:M};c("VideoComposerDialogDispatcher").dispatch(N)},x=function x(M,N,O){var P={type:c("VideoComposerDialogActionTypes").GENERATE_COMPLETE,captions:M,locale:N,subtitlesID:O};c("VideoComposerDialogDispatcher").dispatch(P)},y=function y(M){var N={type:c("VideoComposerDialogActionTypes").UPDATE_ERROR_STATE,errors:M};c("VideoComposerDialogDispatcher").dispatch(N)},z=function z(){var M={type:c("VideoComposerDialogActionTypes").CREATE_COMPLETE};c("VideoComposerDialogDispatcher").dispatch(M)},A=function A(){var M={type:c("VideoComposerDialogActionTypes").UPDATE_CAPTION_FILES};c("VideoComposerDialogDispatcher").dispatch(M)},B=function B(M,N,O){var P={type:c("VideoComposerDialogActionTypes").FINISH_SRT_UPLOAD,success:M,error:N,uploadedVideoSubtitles:O};c("VideoComposerDialogDispatcher").dispatch(P)},C=function C(){var M={type:c("VideoComposerDialogActionTypes").RESET_CAPTIONS_LANDING_TAB};c("VideoComposerDialogDispatcher").dispatch(M)},D=function D(){var M={type:c("VideoComposerDialogActionTypes").RETRY_AUTO_GENERATION};c("VideoComposerDialogDispatcher").dispatch(M)},E=function E(){var M={type:c("VideoComposerDialogActionTypes").RESET_AUTO_GENERATING_LOCALE};c("VideoComposerDialogDispatcher").dispatch(M)},F=function F(){var M={type:c("VideoComposerDialogActionTypes").RESUME_AUTO_GENERATION};c("VideoComposerDialogDispatcher").dispatch(M)},G=function G(){var M={type:c("VideoComposerDialogActionTypes").TRY_RESUME_AUTO_GENERATION};c("VideoComposerDialogDispatcher").dispatch(M)},H=function H(M){var N={type:c("VideoComposerDialogActionTypes").INITIALIZE_ALL_CAPTION_FILES,subtitles:M};c("VideoComposerDialogDispatcher").dispatch(N)},I=function I(M){var N={type:c("VideoComposerDialogActionTypes").BOOTLOAD_PARAMETERS_CAPTIONS_TAB,data:M};c("VideoComposerDialogDispatcher").dispatch(N)},J=function J(M){var N={type:c("VideoComposerDialogActionTypes").CHANGE_PUBLISHED_STATE,id:M};c("VideoComposerDialogDispatcher").dispatch(N)},K=function K(){var M={type:c("VideoComposerDialogActionTypes").PENDING_TO_PUBLISHED};c("VideoComposerDialogDispatcher").dispatch(M)},L=function L(M){var N={type:c("VideoComposerDialogActionTypes").SET_DEFAULT_CAPTION_LOCALE,locale:M};c("VideoComposerDialogDispatcher").dispatch(N)};f.exports={showCaptionEditor:h,hideCaptionEditor:i,initialize:j,generate:o,cancelGenerate:p,updateGenerateProgress:q,create:r,editCaptionsDraft:s,deleteCaptionsDraft:t,upload:u,selectSpokenLanguage:v,selectSpokenLocale:w,generateComplete:x,createComplete:z,finishedFetchDrafts:n,updateCaptionFiles:A,updateErrorState:y,finishSRTUpload:B,resetCaptionsLandingTab:C,retryAutoGeneration:D,resetAutoGeneratingLocale:E,resumeAutoGeneration:F,tryResumeAutoGeneration:G,initializeAllCaptionFiles:H,bootloadParametersCaptionsTab:I,changePublishedState:J,changePublishedStatePendingToPublished:K,tryLogCaptionLandingScreenOpenEvent:k,emitOldComposerCaptionTabOpenEvent:l,resetOpenLandingScreenState:m,setDefaultLocale:L}}),null);
__d("VideoComposerDialogCaptionEditorFooterContainer.react",["VideoCaptionEditorStateEnums","VideoComposerDialogCaptionEditorActions","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabActions","FluxContainer","React","VideoComposerDialogCaptionEditorFooter.react","VideoComposerDialogCaptionEditorStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("VideoCaptionEditorStateEnums").EditorStateEnum;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$VideoComposerDialogCaptionEditorFooterContainer2=function(){if(this.state.editorState===j.UNSAVED)c("VideoComposerDialogCaptionEditorActions").showExitDialog();else{c("VideoComposerDialogCaptionEditorActions").confirmCloseDialog();c("VideoComposerDialogCaptionEditorActions").resetCaptionEditor()}}.bind(this),m}k.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore"),c("VideoComposerDialogCaptionsStore")]};k.calculateState=function(){var l=c("VideoComposerDialogCaptionEditorStore").getState(),m=c("VideoComposerDialogCaptionsStore").getState(),n=l.language===c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED||l.language===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE||m.isCreating;return{disableSection:n,editorState:l.editorState,shouldShowExitDialog:l.get("shouldShowExitDialog")}};k.prototype.$VideoComposerDialogCaptionEditorFooterContainer1=function(){c("VideoComposerDialogCaptionEditorActions").startSaveCaptionChangeset()};k.prototype.$VideoComposerDialogCaptionEditorFooterContainer3=function(l){if(!l)c("VideoComposerDialogCaptionEditorActions").cancelCloseDialog()};k.prototype.$VideoComposerDialogCaptionEditorFooterContainer4=function(){c("VideoComposerDialogCaptionEditorActions").startSaveCaptionChangeset()};k.prototype.$VideoComposerDialogCaptionEditorFooterContainer5=function(){c("VideoComposerDialogCaptionEditorActions").confirmCloseDialog();c("VideoComposerDialogCaptionEditorActions").resetCaptionEditor()};k.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogCaptionEditorFooter.react"),{disableSection:this.state.disableSection,editorState:this.state.editorState,onSaveDraft:this.$VideoComposerDialogCaptionEditorFooterContainer1,onCancel:this.$VideoComposerDialogCaptionEditorFooterContainer2,shouldShowExitDialog:this.state.shouldShowExitDialog,onConfirm:this.$VideoComposerDialogCaptionEditorFooterContainer4,onDontSave:this.$VideoComposerDialogCaptionEditorFooterContainer5,onToggle:this.$VideoComposerDialogCaptionEditorFooterContainer3})};f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogLandingScreenLanguageSelector.react",["ix","cx","fbt","ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","Image.react","LanguageDialectInlineTypeahead.react","LanguageDialectRenderStyle","LayerAutoFocus","LayerHideOnBlur","LayerHideOnEscape","React","XUIPopoverButton.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.state={isOpen:this.props.initiallyOpen},this.$VideoComposerDialogLandingScreenLanguageSelector2=function(s){this.setState({isOpen:false});var t=this.props.onSetDialect;if(t)t(s.getUniqueID());this.props.onSetDialectName(s.getTitle())}.bind(this),this.$VideoComposerDialogLandingScreenLanguageSelector4=function(){this.setState({isOpen:!this.state.isOpen})}.bind(this),this.$VideoComposerDialogLandingScreenLanguageSelector5=function(s){this.setState({isOpen:s})}.bind(this),o}m.prototype.$VideoComposerDialogLandingScreenLanguageSelector3=function(){return j._("Show available languages")};m.prototype.render=function(){var n=(this.props.hasBorder===false?"_3y9v":"")+(!this.props.isLanguageSelected?" _39d7":""),o=c("React").createElement("span",null,this.props.dialectName),p=this.props.hasBorder===false?c("React").createElement("span",null,c("React").createElement("span",{className:(this.props.isLanguageSelected?"_3y9w":"")+(!this.props.isLanguageSelected?" _39d8":"")},j._("Caption language:")),c("React").createElement("span",{className:"_3y9x"},o)):c("React").createElement("span",{className:(this.props.isLanguageSelected?"_3y9x":"")+(!this.props.isLanguageSelected?" _39eb":"")},o),q=this.props.hasBorder===false?300:200,r=c("React").createElement(c("XUIPopoverButton.react"),{className:n,hasChevron:true,label:p,image:c("React").createElement(c("Image.react"),{src:this.props.isLanguageSelected?h("125257"):h("134869")}),maxwidth:q,onClick:this.$VideoComposerDialogLandingScreenLanguageSelector4,size:"xlarge",ref:function(s){return this.$VideoComposerDialogLandingScreenLanguageSelector1=s}.bind(this)});return c("React").createElement("span",{className:this.props.className},r,c("React").createElement(c("ContextualLayer.react"),{alignment:"left",autofocus:true,behaviors:{ContextualLayerAutoFlip:c("ContextualLayerAutoFlip"),ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll"),LayerAutoFocus:c("LayerAutoFocus"),LayerHideOnBlur:c("LayerHideOnBlur"),LayerHideOnEscape:c("LayerHideOnEscape")},contextRef:function(){return this.$VideoComposerDialogLandingScreenLanguageSelector1}.bind(this),position:"below",onToggle:this.$VideoComposerDialogLandingScreenLanguageSelector5,shown:this.state.isOpen},c("React").createElement("div",{className:"_5ge1"},c("React").createElement(c("LanguageDialectInlineTypeahead.react"),{dialectType:this.props.dialectType,onSelect:this.$VideoComposerDialogLandingScreenLanguageSelector2,placeholder:this.props.placeholder,excludedDialects:this.props.excludedDialects,hasCategories:this.props.hasCategories,renderStyle:this.props.renderStyle}))))};m.defaultProps={hasCategories:false,renderStyle:c("LanguageDialectRenderStyle").DEFAULT,initiallyOpen:false,dialectName:j._("Select language")};f.exports=m}),null);
__d("VideoComposerDialogCaptionEditorLanguageSearchContainer.react",["cx","LanguageDialectRenderStyle","LanguageDialectSetTypes","VideoComposerDialogCaptionEditorActions","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorStore","FluxContainer","React","VideoComposerDialogCaptionEditorUtils","VideoComposerDialogCaptionsStore","VideoComposerDialogLandingScreenLanguageSelector.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore"),c("VideoComposerDialogCaptionsStore")]};k.calculateState=function(){var l=c("VideoComposerDialogCaptionEditorStore").getLanguage(),m=c("VideoComposerDialogCaptionsStore").getState(),n=this.$VideoComposerDialogCaptionEditorLanguageSearchContainer1(m,l);return{language:l,excludedDialects:n,isLanguageSelected:l!==c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED&&l!==c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE}};k.prototype.$VideoComposerDialogCaptionEditorLanguageSearchContainer2=function(l){c("VideoComposerDialogCaptionEditorActions").selectLanguage(l)};k.prototype.$VideoComposerDialogCaptionEditorLanguageSearchContainer3=function(l){c("VideoComposerDialogCaptionEditorActions").selectLocale(l)};k.$VideoComposerDialogCaptionEditorLanguageSearchContainer1=function(l,m){var n=l.drafts,o=l.autoGeneratingLocale,p=[];if(o)p.push(c("VideoComposerDialogCaptionEditorUtils").getGenericLocale(o));n.map(function(q){if(q.language!==m)p.push(c("VideoComposerDialogCaptionEditorUtils").getGenericLocale(q.locale))});return p};k.prototype.render=function(){var l=this.state.language===c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED||this.state.language===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE,m="_1sfh"+(!l?" _2sq3":"");return c("React").createElement(c("VideoComposerDialogLandingScreenLanguageSelector.react"),{className:m,dialectType:c("LanguageDialectSetTypes").LANGUAGE_DETECTION,excludedDialects:this.state.excludedDialects,dialectName:this.state.language,isLanguageSelected:this.state.isLanguageSelected,initiallyOpen:l,hasBorder:false,placeholder:c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED,renderStyle:c("LanguageDialectRenderStyle").DEFAULT,onSetDialectName:function(n){return this.$VideoComposerDialogCaptionEditorLanguageSearchContainer2(n)}.bind(this),onSetDialect:function(n){return this.$VideoComposerDialogCaptionEditorLanguageSearchContainer3(n)}.bind(this)})};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k)}),null);
__d("VideoCaptionTimestampItem.react",["ix","cx","Image.react","React","TimeFormatUtil","XUIContextualDialog.react","XUINotice.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=300,n=2e3,o=1e3,p=100;j=babelHelpers.inherits(q,c("React").Component);k=j&&j.prototype;function q(){__p&&__p();var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.$VideoCaptionTimestampItem1=null,this.state={isDecreasing:false,isHovered:false,isIncreasing:false,timeStampText:c("TimeFormatUtil").formatTime(this.props.timeInMs)},this.$VideoCaptionTimestampItem4=function(w){this.props.onTextChange(w);this.setState({timeStampText:c("TimeFormatUtil").formatTime(this.props.timeInMs)})}.bind(this),this.$VideoCaptionTimestampItem5=function(w){this.setState({timeStampText:w})}.bind(this),this.$VideoCaptionTimestampItem2=function(){this.setState({isHovered:true})}.bind(this),this.$VideoCaptionTimestampItem3=function(){this.setState({isHovered:false});this.props.onBlur&&this.props.onBlur()}.bind(this),this.$VideoCaptionTimestampItem7=function(event){__p&&__p();if(event){this.props.onIncrease();setTimeout(this.$VideoCaptionTimestampItem7,m);setTimeout(this.$VideoCaptionTimestampItem7,n);this.setState({isIncreasing:true})}else if(this.state.isIncreasing&&!this.$VideoCaptionTimestampItem1)this.$VideoCaptionTimestampItem1=setInterval(this.props.onIncrease,p);else if(this.state.isIncreasing){this.$VideoCaptionTimestampItem1&&clearInterval(this.$VideoCaptionTimestampItem1);this.$VideoCaptionTimestampItem1=setInterval(function(){return this.props.onIncrease(o)}.bind(this),p)}}.bind(this),this.$VideoCaptionTimestampItem9=function(event){__p&&__p();if(event){this.props.onDecrease();setTimeout(this.$VideoCaptionTimestampItem9,m);setTimeout(this.$VideoCaptionTimestampItem9,n);this.setState({isDecreasing:true})}else if(this.state.isDecreasing&&!this.$VideoCaptionTimestampItem1)this.$VideoCaptionTimestampItem1=setInterval(this.props.onDecrease,p);else if(this.state.isDecreasing){this.$VideoCaptionTimestampItem1&&clearInterval(this.$VideoCaptionTimestampItem1);this.$VideoCaptionTimestampItem1=setInterval(function(){return this.props.onDecrease(o)}.bind(this),p)}}.bind(this),this.$VideoCaptionTimestampItem8=function(event){this.setState({isDecreasing:false,isIncreasing:false});this.$VideoCaptionTimestampItem1&&clearInterval(this.$VideoCaptionTimestampItem1);this.$VideoCaptionTimestampItem1=null}.bind(this),s}q.prototype.componentDidUpdate=function(r){if(r.timeInMs!==this.props.timeInMs)this.setState({timeStampText:c("TimeFormatUtil").formatTime(this.props.timeInMs)})};q.prototype.render=function(){var r=this.props.errorMessage?c("React").createElement(c("XUINotice.react"),{use:"warn",size:"small"},this.props.errorMessage):null;return c("React").createElement("div",{className:"_1bsk",onMouseEnter:this.$VideoCaptionTimestampItem2,onMouseLeave:this.$VideoCaptionTimestampItem3},c("React").createElement("textarea",{className:"_1bsl",value:this.state.timeStampText,onBlur:function(event){return this.$VideoCaptionTimestampItem4(this.state.timeStampText)}.bind(this),onChange:function(event){return this.$VideoCaptionTimestampItem5(event.target.value)}.bind(this),ref:"timestamp",rows:1}),this.$VideoCaptionTimestampItem6(),c("React").createElement(c("XUIContextualDialog.react"),{alignment:"center",contextRef:function(){return this.refs.timestamp}.bind(this),shown:!!r,position:"above"},r))};q.prototype.$VideoCaptionTimestampItem6=function(){return this.state.isHovered?c("React").createElement("div",{className:"_1bsm"},c("React").createElement("div",{className:"_3qth",onMouseDown:this.$VideoCaptionTimestampItem7,onMouseUp:this.$VideoCaptionTimestampItem8},c("React").createElement(c("Image.react"),{src:h("143444")})),c("React").createElement("div",{className:"_3qth",onMouseDown:this.$VideoCaptionTimestampItem9,onMouseUp:this.$VideoCaptionTimestampItem8},c("React").createElement(c("Image.react"),{src:h("143414")}))):null};q.prototype.blur=function(){this.refs.timestamp&&this.refs.timestamp.blur()};q.propTypes={timeInMs:l.number.isRequired,onBlur:l.func,onDecrease:l.func,onIncrease:l.func,onTextChange:l.func.isRequired,errorMessage:l.string};q.defaultProps={errorMessage:null};f.exports=q}),null);
__d("VideoCaptionTimestampItemContainer.react",["fbt","React","TimeFormatUtil","VideoCaptionTimestampItem.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=100;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={errorMessage:null},this.$VideoCaptionTimestampItemContainer1=function(){this.setState({errorMessage:null})}.bind(this),this.$VideoCaptionTimestampItemContainer2=function(s){var t=s?this.props.timeInMs-s:this.props.timeInMs-l;this.$VideoCaptionTimestampItemContainer5(t)}.bind(this),this.$VideoCaptionTimestampItemContainer3=function(s){var t=s?this.props.timeInMs+s:this.props.timeInMs+l;this.$VideoCaptionTimestampItemContainer5(t)}.bind(this),this.$VideoCaptionTimestampItemContainer4=function(s){var t=c("TimeFormatUtil").parseToTimeInMs(s);this.$VideoCaptionTimestampItemContainer5(t)}.bind(this),this.$VideoCaptionTimestampItemContainer5=function(s){if(this.$VideoCaptionTimestampItemContainer6(s)){this.props.onTimeChange&&this.props.onTimeChange(s);this.setState({errorMessage:null})}else{var t=this.props.minTime||0,u=h._("Valid time input")+": "+c("TimeFormatUtil").formatTime(t);if(this.props.maxTime)u+=" ~ "+c("TimeFormatUtil").formatTime(this.props.maxTime);this.setState({errorMessage:u})}}.bind(this),o}m.prototype.render=function(){return c("React").createElement(c("VideoCaptionTimestampItem.react"),{timeInMs:this.props.timeInMs,onBlur:this.$VideoCaptionTimestampItemContainer1,onDecrease:this.$VideoCaptionTimestampItemContainer2,onIncrease:this.$VideoCaptionTimestampItemContainer3,onTextChange:this.$VideoCaptionTimestampItemContainer4,errorMessage:this.state.errorMessage,ref:"timestampItem"})};m.prototype.blur=function(){this.refs.timestampItem&&this.refs.timestampItem.blur()};m.prototype.decrease=function(n){var o=n?this.props.timeInMs-n:this.props.timeInMs-l;this.$VideoCaptionTimestampItemContainer5(o)};m.prototype.increase=function(n){var o=n?this.props.timeInMs+n:this.props.timeInMs+l;this.$VideoCaptionTimestampItemContainer5(o)};m.prototype.$VideoCaptionTimestampItemContainer6=function(n){var o=this.props.minTime||0,p=this.props.maxTime||Number.MAX_VALUE;return n>=o&&n<=p};m.propTypes={timeInMs:k.number.isRequired,minTime:k.number,maxTime:k.number,onTimeChange:k.func};f.exports=m}),null);
__d("VideoCaptionTimestamp.react",["cx","Event","React","VideoCaptionTimestampItemContainer.react","VideoCaptionEditorStateEnums"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=c("VideoCaptionEditorStateEnums").TimestampTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$VideoCaptionTimestamp1=null,this.$VideoCaptionTimestamp3=function(s,t){if(t===l.END_TIME)s-=this.props.startTimeInMs;this.props.onTimeChange&&this.props.onTimeChange(s,t)}.bind(this),this.$VideoCaptionTimestamp2=function(event){__p&&__p();if(!event.altKey)return;switch(event.keyCode){case 90:if(this.refs.startTime)this.refs.startTime.decrease();break;case 88:if(this.refs.startTime)this.refs.startTime.increase();break;case 67:if(this.refs.endTime)this.refs.endTime.decrease();break;case 86:if(this.refs.endTime)this.refs.endTime.increase();break;default:return}event.prevent();event.stop()}.bind(this),o}m.prototype.componentDidUpdate=function(n){if(this.props.isSelected===n.isSelected)return;if(this.props.isSelected)this.$VideoCaptionTimestamp1=c("Event").listen(window,"keyup",this.$VideoCaptionTimestamp2);else{this.$VideoCaptionTimestamp1&&this.$VideoCaptionTimestamp1.remove();this.$VideoCaptionTimestamp1=null}};m.prototype.render=function(){var n=this.props.startTimeInMs+this.props.durationTimeInMs;return c("React").createElement("div",{className:"_1aja"},c("React").createElement(c("VideoCaptionTimestampItemContainer.react"),{timeInMs:this.props.startTimeInMs,minTime:this.props.minTime,maxTime:n,onTimeChange:function(o){this.$VideoCaptionTimestamp3(o,l.START_TIME)}.bind(this),ref:"startTime"}),c("React").createElement(c("VideoCaptionTimestampItemContainer.react"),{timeInMs:n,minTime:this.props.startTimeInMs,maxTime:this.props.maxTime,onTimeChange:function(o){this.$VideoCaptionTimestamp3(o,l.END_TIME)}.bind(this),ref:"endTime"}))};m.prototype.blur=function(){this.refs.startTime&&this.refs.startTime.blur();this.refs.endTime&&this.refs.endTime.blur()};m.propTypes={startTimeInMs:k.number.isRequired,durationTimeInMs:k.number.isRequired,isSelected:k.bool,minTime:k.number,maxTime:k.number,onTimeChange:k.func};f.exports=m}),null);
__d("VideoComposerDialogCaptionEditorEditItem.react",["ix","cx","fbt","DialogExpansion","Image.react","React","ReactDOM","Tooltip","VideoCaptionTimestamp.react","VideoComposerDialogCaptionEditorConstants","XUIDialog.react","XUIDialogTitle.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIError.react","XUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={text:this.props.captionData.node.text,lastTextEntryTimeinMS:null},this.$VideoComposerDialogCaptionEditorEditItem2=function(event){this.setState({text:event.target.value,lastTextEntryTimeinMS:Date.now()});this.props.onStartTyping();var t=setTimeout(function(){var u=Date.now();if(this.state.lastTextEntryTimeinMS&&u-this.state.lastTextEntryTimeinMS>=c("VideoComposerDialogCaptionEditorConstants").RESUME_PLAYBACK_AFTER){this.props.onStopTyping();clearTimeout(t)}}.bind(this),c("VideoComposerDialogCaptionEditorConstants").RESUME_PLAYBACK_AFTER)}.bind(this),this.$VideoComposerDialogCaptionEditorEditItem1=function(){this.state.text!==this.props.captionData.node.text&&this.props.onTextChange&&this.props.onTextChange(this.state.text)}.bind(this),this.$VideoComposerDialogCaptionEditorEditItem5=function(t){if(!t)this.props.onHandleDialogCancel()}.bind(this),p}n.prototype.componentDidMount=function(){if(this.props.isSelected){var o=c("ReactDOM").findDOMNode(this);this.props.onScrollIntoView&&this.props.onScrollIntoView(o)}};n.prototype.componentDidUpdate=function(o){__p&&__p();if(this.props.isSelected&&!o.isSelected){var p=c("ReactDOM").findDOMNode(this);this.props.onScrollIntoView&&this.props.onScrollIntoView(p)}if(!this.props.isSelected&&o.isSelected){this.refs.textInput&&this.refs.textInput.blur();this.refs.timestamp&&this.refs.timestamp.blur()}if(this.props.captionData!=o.captionData)this.setState({text:this.props.captionData.node.text})};n.prototype.render=function(){var o="_2sdr"+(this.props.isHovered&&!this.props.isSelected?" _2sds":"")+(!this.props.isSelected?" _2sdt":"")+(this.props.isSelected?" _2sdu":""),p=this.props.captionData.node,q=this.props.emptyTextWarning?j._("Empty text is not allowed"):null;return c("React").createElement("div",{className:o,onClick:this.props.onClick,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,role:"presentation"},c("React").createElement("span",{className:"_2sdv"},c("React").createElement("div",{className:"_4_9q"},c("React").createElement("span",{className:"_3o8u"},c("React").createElement(c("VideoCaptionTimestamp.react"),{durationTimeInMs:p.duration_in_ms,isSelected:this.props.isSelected,maxTime:this.props.maxTime,minTime:this.props.minTime,onTimeChange:this.props.onTimeChange,startTimeInMs:p.start_time_in_ms,ref:"timestamp"}))),c("React").createElement(c("XUIError.react"),{error:q},c("React").createElement("textarea",{className:"_2sdw",maxLength:c("VideoComposerDialogCaptionEditorConstants").SEGMENT_LENGTH,ref:"textInput",name:"caption-text",placeholder:"Type in or paste your text here...",value:this.state.text,onBlur:this.$VideoComposerDialogCaptionEditorEditItem1,onChange:this.$VideoComposerDialogCaptionEditorEditItem2}))),c("React").createElement("div",{className:"_2sdx"},this.$VideoComposerDialogCaptionEditorEditItem3(),this.$VideoComposerDialogCaptionEditorEditItem4()),this.renderLayers())};n.prototype.$VideoComposerDialogCaptionEditorEditItem3=function(){var o=c("React").createElement(c("Image.react"),{src:this.props.emptyTextWarning?h("117905"):h("125915")});return this.props.isHovered||this.props.isSelected?c("React").createElement("span",babelHelpers["extends"]({"data-tooltip-alignh":"center","data-tooltip-position":"left",onClick:this.props.onAttemptDelete},c("Tooltip").propsFor(j._("Delete")),{role:"button",tabIndex:"0"}),o):null};n.prototype.$VideoComposerDialogCaptionEditorEditItem4=function(){return(this.props.isHovered||this.props.isSelected)&&!this.props.hideInsertButton?c("React").createElement("span",babelHelpers["extends"]({"data-tooltip-alignh":"center","data-tooltip-position":"left",role:"button",tabIndex:"0",onClick:this.props.onInsert},c("Tooltip").propsFor(j._("Insert new"))),c("React").createElement(c("Image.react"),{src:h("126616")})):null};n.prototype.renderLayers=function(){return c("React").createElement(c("XUIDialog.react"),{behaviors:{DialogExpansion:c("DialogExpansion")},layerHideOnBlur:false,shown:this.props.showDeleteConfirmDialog,width:400,onToggle:this.$VideoComposerDialogCaptionEditorEditItem5,key:"dialog"},c("React").createElement(c("XUIDialogTitle.react"),null,j._("Delete caption")),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("XUIText.react"),{size:"body2",display:"block"},j._("This caption segment will be deleted from your video's captions. You can add or edit more caption segments later."))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{label:j._("Cancel"),use:"default",onClick:this.props.onHandleDialogCancel}),c("React").createElement(c("XUIDialogButton.react"),{label:j._("Delete Caption"),onClick:this.props.onHandleDialogConfirm,use:"confirm"})))};n.propTypes={captionData:m.object.isRequired,hideInsertButton:m.bool,isHovered:m.bool,isSelected:m.bool.isRequired,emptyTextWarning:m.bool,maxTime:m.number,minTime:m.number,quality:m.number,showDeleteConfirmDialog:m.bool.isRequired,onAttemptDelete:m.func.isRequired,onClick:m.func.isRequired,onEditingCaptionEntry:m.func.isRequired,onHandleDialogConfirm:m.func.isRequired,onHandleDialogCancel:m.func.isRequired,onInsert:m.func.isRequired,onMouseEnter:m.func,onMouseLeave:m.func,onScrollIntoView:m.func,onTextChange:m.func.isRequired,onTimeChange:m.func.isRequired,onStartTyping:m.func.isRequired,onStopTyping:m.func.isRequired};f.exports=n}),null);
__d("VideoComposerDialogCaptionEditorEditItemContainer.react",["React","VideoComposerDialogCaptionEditorActions","VideoCaptionEditorConfig","VideoComposerDialogCaptionEditorEditItem.react","VideoComposerDialogCaptionEditorConstants","VideoPlayerReason","VideoPlayerReasonTransitionHelper","VideoCaptionEditorStateEnums"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("VideoCaptionEditorStateEnums").TimestampTypes,k=c("VideoCaptionEditorStateEnums").VideoCaptionQualityEnum;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.state={isHovered:false,showDeleteConfirmDialog:false,emptyTextWarning:false},this.$VideoComposerDialogCaptionEditorEditItemContainer2=function(event){if(/^\s+$/.test(this.props.captionData.node.text))this.$VideoComposerDialogCaptionEditorEditItemContainer13();else this.setState({showDeleteConfirmDialog:true});event.stopPropagation()}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer3=function(event){this.props.onClick&&this.props.onClick()}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer6=function(){this.setState({showDeleteConfirmDialog:false})}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer5=function(){if(this.state.showDeleteConfirmDialog)this.$VideoComposerDialogCaptionEditorEditItemContainer13()}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer7=function(event){var r=this.props.captionData.node.start_time_in_ms+this.props.captionData.node.duration_in_ms,s=this.props.maxTime?this.props.maxTime-r:Number.MAX_VALUE;this.props.onInsert&&this.props.onInsert(r,s);event.stopPropagation()}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer8=function(){this.setState({isHovered:true})}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer9=function(){this.setState({isHovered:false})}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer4=function(r){if(r==="")this.setState({emptyTextWarning:true});else this.setState({emptyTextWarning:false});this.$VideoComposerDialogCaptionEditorEditItemContainer14({text:r})}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer10=function(r,s){if(s===j.START_TIME)this.$VideoComposerDialogCaptionEditorEditItemContainer16(r);else this.$VideoComposerDialogCaptionEditorEditItemContainer15(r)}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer11=function(){this.props.vpc&&this.props.vpc.pause()}.bind(this),this.$VideoComposerDialogCaptionEditorEditItemContainer12=function(){this.props.vpc&&this.props.vpc.getCurrentTimePosition()*1e3<(this.props.maxTime?this.props.maxTime:0)&&this.props.vpc.play(new(c("VideoPlayerReasonTransitionHelper"))(c("VideoPlayerReason").AUTOPLAY))}.bind(this),n}l.prototype.componentDidUpdate=function(m){if(this.props.isSelected===m.isSelected)return};l.prototype.render=function(){var m=this.$VideoComposerDialogCaptionEditorEditItemContainer1(),n=this.props.captionData.node.confidence||1,o=n<c("VideoCaptionEditorConfig").caption_quality_threhold_good?k.POOR:k.GOOD;return c("React").createElement(c("VideoComposerDialogCaptionEditorEditItem.react"),{captionData:this.props.captionData,hideInsertButton:m,isHovered:this.state.isHovered,isSelected:this.props.isSelected,emptyTextWarning:this.state.emptyTextWarning,maxTime:this.props.maxTime,minTime:this.props.minTime,quality:o,showDeleteConfirmDialog:this.state.showDeleteConfirmDialog,onAttemptDelete:this.$VideoComposerDialogCaptionEditorEditItemContainer2,onClick:this.$VideoComposerDialogCaptionEditorEditItemContainer3,onEditingCaptionEntry:this.$VideoComposerDialogCaptionEditorEditItemContainer4,onHandleDialogConfirm:this.$VideoComposerDialogCaptionEditorEditItemContainer5,onHandleDialogCancel:this.$VideoComposerDialogCaptionEditorEditItemContainer6,onInsert:this.$VideoComposerDialogCaptionEditorEditItemContainer7,onMouseEnter:this.$VideoComposerDialogCaptionEditorEditItemContainer8,onMouseLeave:this.$VideoComposerDialogCaptionEditorEditItemContainer9,onScrollIntoView:this.props.onScrollIntoView,onTextChange:this.$VideoComposerDialogCaptionEditorEditItemContainer4,onTimeChange:this.$VideoComposerDialogCaptionEditorEditItemContainer10,onStartTyping:this.$VideoComposerDialogCaptionEditorEditItemContainer11,onStopTyping:this.$VideoComposerDialogCaptionEditorEditItemContainer12})};l.prototype.$VideoComposerDialogCaptionEditorEditItemContainer14=function(m){var n={node:{id:this.props.captionData.node.id,confidence:this.props.captionData.node.confidence,text:this.props.captionData.node.text,duration_in_ms:this.props.captionData.node.duration_in_ms,start_time_in_ms:this.props.captionData.node.start_time_in_ms,left:(this.props.captionData.node.start_time_in_ms?this.props.captionData.node.start_time_in_ms:c("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS)*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT,width:(this.props.captionData.node.duration_in_ms?this.props.captionData.node.duration_in_ms:c("VideoComposerDialogCaptionEditorConstants").DURATION_TIME_IN_MS)*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT}};for(var o in m)n.node[o]=m[o];n.node.confidence=1;c("VideoComposerDialogCaptionEditorActions").editingCaptionEntry(this.props.index,n)};l.prototype.$VideoComposerDialogCaptionEditorEditItemContainer15=function(m){this.$VideoComposerDialogCaptionEditorEditItemContainer14({duration_in_ms:m})};l.prototype.$VideoComposerDialogCaptionEditorEditItemContainer16=function(m){var n=this.props.captionData.node.start_time_in_ms,o=n+this.props.captionData.node.duration_in_ms;this.$VideoComposerDialogCaptionEditorEditItemContainer14({start_time_in_ms:m,duration_in_ms:o-m})};l.prototype.$VideoComposerDialogCaptionEditorEditItemContainer13=function(){c("VideoComposerDialogCaptionEditorActions").removeCaptionEntry(this.props.index);this.setState({showDeleteConfirmDialog:false,emptyTextWarning:false})};l.prototype.$VideoComposerDialogCaptionEditorEditItemContainer1=function(){if(!this.props.maxTime)return false;var m=this.props.captionData.node.start_time_in_ms+this.props.captionData.node.duration_in_ms,n=this.props.maxTime-m;return n<=c("VideoCaptionEditorConfig").min_duration_to_insert};f.exports=l}),null);
__d("VideoComposerDialogCaptionEditorInsertCaptionItem.react",["ix","cx","fbt","Image.react","React","Tooltip","VideoComposerDialogCaptionEditorConstants","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.state={text:""},this.$VideoComposerDialogCaptionEditorInsertCaptionItem1=function(event){this.setState({text:event.target.value})}.bind(this),o}m.prototype.$VideoComposerDialogCaptionEditorInsertCaptionItem2=function(){return this.props.maxDuration<=c("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS};m.prototype.render=function(){return c("React").createElement("span",{className:"_39yu"+(this.$VideoComposerDialogCaptionEditorInsertCaptionItem2()?" _2sq3":"")},c("React").createElement("span",{className:"_39yv"},c("React").createElement("span",babelHelpers["extends"]({className:"_39yw","data-tooltip-alignh":"center","data-tooltip-position":"left",role:"button",tabIndex:"0",onClick:this.$VideoComposerDialogCaptionEditorInsertCaptionItem2()?undefined:function(){this.props.onInsert(0,this.props.maxDuration,this.state.text);this.setState(function(n,o){return{text:""}})}.bind(this)},c("Tooltip").propsFor(this.$VideoComposerDialogCaptionEditorInsertCaptionItem2()?j._("Too short to insert new"):j._("Insert new"))),c("React").createElement(c("Image.react"),{src:this.$VideoComposerDialogCaptionEditorInsertCaptionItem2()?h("118606"):h("126616")})),c("React").createElement("span",{className:"_39yx"},c("React").createElement("textarea",{className:"_39yy",ref:"newCaption",name:"caption-text",placeholder:"Type in or paste your text here...",value:this.state.text,onChange:this.$VideoComposerDialogCaptionEditorInsertCaptionItem1,rows:"1"}))))};f.exports=m}),null);
__d("VideoComposerDialogCaptionEditorListSectionContainer.react",["cx","ScrollableArea.react","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorInsertCaptionItem.react","VideoComposerDialogDispatcher","immutable","FluxContainer","React","VideoComposerDialogCaptionEditorEditItemContainer.react","VideoComposerDialogCaptionEditorStore","VideoComposerDialogCaptionEditorActions","VideoPlayerController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore")]};k.calculateState=function(){return{captions:c("VideoComposerDialogCaptionEditorStore").getCaptions(),vpc:c("VideoComposerDialogCaptionEditorStore").getVPC(),captionSelected:c("VideoComposerDialogCaptionEditorStore").getState().captionSelected,videoDuration:c("VideoComposerDialogCaptionEditorStore").getState().videoDuration}};k.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(k.getStores())};k.prototype.$VideoComposerDialogCaptionEditorListSectionContainer1=function(l){this.refs.ScrollableArea&&this.refs.ScrollableArea.getArea()&&this.refs.ScrollableArea.getArea().scrollIntoView(l)};k.prototype.$VideoComposerDialogCaptionEditorListSectionContainer2=function(l,m,n,o){if(n<c("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS)return;var p={node:{id:"",text:o,start_time_in_ms:m+c("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS,duration_in_ms:Math.min(n,c("VideoComposerDialogCaptionEditorConstants").DURATION_TIME_IN_MS)-c("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS,confidence:1,left:(m+c("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS)*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT,width:(Math.min(n,c("VideoComposerDialogCaptionEditorConstants").DURATION_TIME_IN_MS)-c("VideoComposerDialogCaptionEditorConstants").START_TIME_OFFSET_IN_MS)*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT}};c("VideoComposerDialogCaptionEditorActions").addCaptionEntry(l,p);c("VideoComposerDialogCaptionEditorActions").setPreviewEntry(l)};k.prototype.$VideoComposerDialogCaptionEditorListSectionContainer3=function(){var l=this.state.captions,m=l.size>0?l.map(function(n,o){return c("React").createElement(c("VideoComposerDialogCaptionEditorEditItemContainer.react"),{key:o,index:o,captionData:n,vpc:this.state.vpc,isSelected:o===this.state.captionSelected,maxTime:l.size>0&&o<l.size-1?l.get(o+1).node.start_time_in_ms:this.state.videoDuration,minTime:l.size>0&&o>0?l.get(o-1).node.start_time_in_ms+l.get(o-1).node.duration_in_ms:0,onClick:function p(){return c("VideoComposerDialogCaptionEditorActions").playPreviewEntry(o)},onScrollIntoView:function(p){return this.$VideoComposerDialogCaptionEditorListSectionContainer1(p)}.bind(this),onInsert:function(p,q){return this.$VideoComposerDialogCaptionEditorListSectionContainer2(o+1,p,q,c("VideoComposerDialogCaptionEditorConstants").EMPTY_CAPTION_TEXT)}.bind(this)})}.bind(this)):c("immutable").List();return m};k.prototype.render=function(){var l=this.state.captions,m=this.$VideoComposerDialogCaptionEditorListSectionContainer3(),n=c("React").createElement(c("VideoComposerDialogCaptionEditorInsertCaptionItem.react"),{key:"insert",maxDuration:l.size>0?l.get(0).node.start_time_in_ms:this.state.videoDuration,onInsert:function(o,p,q){return this.$VideoComposerDialogCaptionEditorListSectionContainer2(0,o,p,q)}.bind(this)});m=m.splice(0,0,n);return c("React").createElement(c("ScrollableArea.react"),{ref:"ScrollableArea",className:"_1j96"},m)};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogCaptionEditorMasterContainer.react",["FluxContainer","React","VideoComposerDialogCaptionsContainer.react","VideoComposerDialogMetadataStore","VideoComposerDialogUploadStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUploadStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUploadStore").getState(),l=c("VideoComposerDialogMetadataStore").getState(),m=k.videoUploader?k.videoUploader:null,n=m===null;return{accessToken:l.accessToken,video_id:l.videoID?l.videoID:"",videoFile:k.videoFile,composerID:null,pageID:l.targetID?l.targetID:"",isVideoUploaded:k.uploadFinished,videoDurationInSec:l.videoDuration,isEditFlow:n}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogCaptionsContainer.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogCaptionEditorPlayerLoading.react",["cx","React","SUIAtlasTheme","SUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("span",{className:"_178i"},c("React").createElement("span",{className:"_178j"},c("React").createElement(c("SUISpinner.react"),{theme:c("SUIAtlasTheme")}),c("React").createElement("span",null,this.props.text)))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("VideoComposerDialogCaptionEditorPlayerSectionBodyContainerRelayQuery.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h=function(){var i=[{kind:"LocalArgument",name:"video_id",type:"ID!",defaultValue:null}],j=[{kind:"Variable",name:"id",variableName:"video_id",type:"ID!"}];return{kind:"Request",operationKind:"query",name:"VideoComposerDialogCaptionEditorPlayerSectionBodyContainerRelayQuery",id:"1722809507743436",text:null,metadata:{},fragment:{kind:"Fragment",name:"VideoComposerDialogCaptionEditorPlayerSectionBodyContainerRelayQuery",type:"Query",metadata:null,argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"FragmentSpread",name:"VideoComposerDialogCaptionEditorVideoPlayerContainer_video",args:null}]}]},operation:{kind:"Operation",name:"VideoComposerDialogCaptionEditorPlayerSectionBodyContainerRelayQuery",argumentDefinitions:i,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:j,concreteType:null,plural:false,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"InlineFragment",type:"Video",selections:[{kind:"ScalarField",alias:null,name:"playable_duration_in_ms",args:null,storageKey:null}]}]}]}}}();f.exports=h}),null);
__d("VideoComposerDialogCaptionEditorPlayerSectionBodyContainer.react",["fbt","RelayModern","RelayFBEnvironment","React","VideoComposerDialogCaptionEditorPlayerLoading.react","VideoComposerDialogCaptionEditorVideoPlayerContainer.react","VideoComposerDialogCaptionEditorPlayerSectionBodyContainerRelayQuery.graphql"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l=c("RelayModern").QueryRenderer,m=c("RelayModern").graphql;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.render=function(){return c("React").createElement("div",null," ",c("React").createElement(l,{cacheConfig:{force:true},environment:c("RelayFBEnvironment"),query:i||(i=function i(){return c("VideoComposerDialogCaptionEditorPlayerSectionBodyContainerRelayQuery.graphql")}),variables:{video_id:this.props.video_id},render:function o(p){var q=p.error,r=p.props;if(q)return c("React").createElement("div",null,q.message);else if(r)return c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogCaptionEditorVideoPlayerContainer.react"),{isProcessing:false,video:r.node}));return c("React").createElement(c("VideoComposerDialogCaptionEditorPlayerLoading.react"),{text:h._("Loading Video")})}}))};function n(){j.apply(this,arguments)}f.exports=n}),null);
__d("VideoComposerDialogCaptionEditorExit.react",["ix","cx","Image.react","React","SUILink.react","SUIText.react","SUIBusinessTheme","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){__p&&__p();var m=c("React").createElement(c("Image.react"),{src:h("124201")});switch(this.props.chevronSize){case"12":m=c("React").createElement(c("Image.react"),{src:h("124199")});break;case"16":m=c("React").createElement(c("Image.react"),{src:h("124200")});break;case"24":m=c("React").createElement(c("Image.react"),{src:h("124202")});break}var n=this.props.textSize?this.props.textSize:"medium",o=this.props.weight?this.props.weight:"normal";return c("React").createElement("div",{role:"link",tabIndex:0,style:{alignItems:"center",display:"flex"},onClick:this.props.onClick},c("React").createElement("span",{className:"_1l53"},m),c("React").createElement(c("SUILink.react"),{theme:c("SUIBusinessTheme"),showUnderline:"never"},c("React").createElement(c("SUIText.react"),{cursor:"none",display:"block",size:n,weight:o},this.props.label)))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogCaptionEditorPlayerSectionHeader.react",["cx","fbt","FBConfirmDialog.react","React","VideoComposerDialogCaptionEditorExit.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:"_2908"},c("React").createElement(c("VideoComposerDialogCaptionEditorExit.react"),{chevClassName:"_1l53",chevronSize:"20",textSize:"medium",weight:"bold",label:i._("Captions").toString(),onClick:this.props.onClick}),c("React").createElement(c("FBConfirmDialog.react"),{className:"_2rjw",title:i._("Save"),content:i._("Save changes to your caption?"),confirmButtonText:i._("Save"),cancelButtonText:i._("Exit without saving"),onConfirm:function(){return this.props.onConfirm&&this.props.onConfirm()}.bind(this),onCancel:function(){return this.props.onDontSave&&this.props.onDontSave()}.bind(this),onToggle:function(m){return this.props.onToggle&&this.props.onToggle(m)}.bind(this),shown:this.props.shouldShowExitDialog}))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer.react",["VideoCaptionEditorStateEnums","React","FluxContainer","VideoComposerDialogCaptionEditorActions","VideoComposerDialogCaptionEditorPlayerSectionHeader.react","VideoComposerDialogCaptionEditorStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("VideoCaptionEditorStateEnums").EditorStateEnum;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer1=function(){if(this.state.editorState===j.UNSAVED)c("VideoComposerDialogCaptionEditorActions").showExitDialog();else{c("VideoComposerDialogCaptionEditorActions").confirmCloseDialog();c("VideoComposerDialogCaptionEditorActions").resetCaptionEditor()}}.bind(this),m}k.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore")]};k.calculateState=function(){var l=c("VideoComposerDialogCaptionEditorStore").getState();return{editorState:l.get("editorState"),shouldShowExitDialog:l.get("shouldShowExitDialog")}};k.prototype.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer2=function(l){if(!l)c("VideoComposerDialogCaptionEditorActions").cancelCloseDialog()};k.prototype.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer3=function(){c("VideoComposerDialogCaptionEditorActions").startSaveCaptionChangeset()};k.prototype.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer4=function(){c("VideoComposerDialogCaptionEditorActions").confirmCloseDialog();c("VideoComposerDialogCaptionEditorActions").resetCaptionEditor()};k.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogCaptionEditorPlayerSectionHeader.react"),{onClick:this.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer1,shouldShowExitDialog:this.state.shouldShowExitDialog,onConfirm:this.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer3,onDontSave:this.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer4,onToggle:this.$VideoComposerDialogCaptionEditorPlayerSectionHeaderContainer2})};f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogCaptionEditorPlayhead.react",["cx","React","ReactDOM","VideoComposerDialogCaptionEditorConstants"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.state={positionInMs:0,poller:null}}k.prototype.componentWillReceiveProps=function(l){__p&&__p();var m,n=this,o=c("ReactDOM").findDOMNode(this);o.scrollIntoView({block:"center",inline:"center"});if(l.isPlaying)(function(){var p=false,q=setInterval(function(){if(p)return;p=true;this.setState({positionInMs:this.props.vpc?this.props.vpc.getCurrentTimePosition()*1e3:0,poller:q});p=false}.bind(n),1)})();if(!l.isPlaying&&this.state.poller){clearInterval(this.state.poller);this.setState({positionInMs:this.props.vpc?this.props.vpc.getCurrentTimePosition()*1e3:0,poller:null});return}};k.prototype.componentDidUpdate=function(l,m){var n=c("ReactDOM").findDOMNode(this);n.scrollIntoView({block:"center",inline:"center"});if(m.poller!==this.state.poller&&m.poller!==null)clearInterval(m.poller)};k.prototype.render=function(){return c("React").createElement("span",null,c("React").createElement("span",{className:"_kzx",style:{left:this.state.positionInMs*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT-4}}),c("React").createElement("span",{className:"_kzw",style:{left:this.state.positionInMs*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT}}))};f.exports=k}),null);
__d("VideoComposerDialogCaptionEditorPlayheadContainer.react",["FluxContainer","React","VideoComposerDialogCaptionEditorStore","VideoComposerDialogCaptionEditorPlayhead.react","VideoPlayerController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore")]};j.calculateState=function(){var k=c("VideoComposerDialogCaptionEditorStore").getState();return{isPlaying:k.isPlaying,vpc:k.vpc}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogCaptionEditorPlayhead.react"),{isPlaying:this.state.isPlaying,vpc:this.state.vpc})};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogCaptionEditorRightSectionContainer.react",["FluxContainer","React","VideoComposerDialogCaptionEditorRightSection.react","VideoComposerDialogCaptionEditorStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore")]};j.calculateState=function(){var k=c("VideoComposerDialogCaptionEditorStore").getState();return{language:k.language}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogCaptionEditorRightSection.react"),{caption:this.props.caption,language:this.state.language})};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogCaptionEditorSubtitlesDragAreaContainer.react",["cx","FluxContainer","VideoComposerDialogCaptionEditorConstants","immutable","React","VideoComposerDialogCaptionEditorStore","VideoComposerDialogCaptionEditorSubtitlesDragArea.react","VideoComposerDialogDispatcher"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore")]};k.calculateState=function(){var l=c("VideoComposerDialogCaptionEditorStore").getState();return{list:l.captions,duration:l.videoDuration,captionSelected:l.captionSelected}};k.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogCaptionEditorStore")])};k.prototype.render=function(){return c("React").createElement("div",{className:"_647y"},c("React").createElement(c("VideoComposerDialogCaptionEditorSubtitlesDragArea.react"),{list:this.state.list,captionSelected:this.state.captionSelected,duration:this.state.duration+c("VideoComposerDialogCaptionEditorConstants").VIDEO_DURATION_PADDING}))};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k)}),null);
__d("VideoWithHiddenSubtitles",["SubscriptionsHandler"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this.$VideoWithHiddenSubtitles1=i;this.$VideoWithHiddenSubtitles2=new(c("SubscriptionsHandler"))();this.$VideoWithHiddenSubtitles2.addSubscriptions(this.$VideoWithHiddenSubtitles1.addListener("muteVideo",function(){if(this.$VideoWithHiddenSubtitles1.areSubtitlesActive())this.$VideoWithHiddenSubtitles1.toggleSubtitles()}.bind(this)))}h.prototype.release=function(){"use strict";this.$VideoWithHiddenSubtitles2.release()};f.exports=h}),null);
__d("VideoComponentHideSubtitles.react",["React","VideoComponent","VideoWithHiddenSubtitles"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k)}j.prototype.enable=function(k){this.vpc=k;this.$VideoComponentHideSubtitles1=new(c("VideoWithHiddenSubtitles"))(this.vpc)};j.prototype.disable=function(){this.$VideoComponentHideSubtitles1.release()};j.prototype.render=function(){return null};f.exports=c("VideoComponent").createContainer(j)}),null);
__d("VideoComposerDialogCaptionEditorPlayerActions",["VideoComposerDialogDispatcher","VideoComposerDialogActionTypes"],(function a(b,c,d,e,f,g){"use strict";var h=function h(m){c("VideoComposerDialogDispatcher").dispatch({type:c("VideoComposerDialogActionTypes").RESET_PLAYER,video:m})},i=function i(m){c("VideoComposerDialogDispatcher").dispatch({type:c("VideoComposerDialogActionTypes").SET_VPC,vpc:m})},j=function j(m){c("VideoComposerDialogDispatcher").dispatch({type:c("VideoComposerDialogActionTypes").SET_CURRENT_PLAY_POSITION,position:m})},k=function k(m){c("VideoComposerDialogDispatcher").dispatch({type:c("VideoComposerDialogActionTypes").SET_DURATION,duration:m})},l=function l(m){c("VideoComposerDialogDispatcher").dispatch({type:c("VideoComposerDialogActionTypes").SET_PLAYER_STATE,isPlaying:m})};f.exports={resetPlayer:h,setVPC:i,setCurrentPlayPosition:j,setDuration:k,setPlayerState:l}}),null);
__d("VideoWithPlayPause",["SubscriptionsHandler","VideoPlayerReason"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k,l){"use strict";__p&&__p();this.$VideoWithPlayPause8=new(c("SubscriptionsHandler"))();this.$VideoWithPlayPause1=i;this.$VideoWithPlayPause9(j);this.onUpdateCurrentPlayPosition=k;this.onUpdatePlayerState=l;this.$VideoWithPlayPause5=false;this.$VideoWithPlayPause6=false;this.$VideoWithPlayPause8.addSubscriptions(this.$VideoWithPlayPause1.addListener("updateStatus",this.$VideoWithPlayPause10.bind(this)),this.$VideoWithPlayPause1.addListener("captionsList/preview",function(m){return this.$VideoWithPlayPause11(m.startTime,m.endTime)}.bind(this)),this.$VideoWithPlayPause1.addListener("pausePlayback",function(){this.$VideoWithPlayPause6=true;this.onUpdatePlayerState(false)}.bind(this)),this.$VideoWithPlayPause1.addListener("finishPlayback",function(){this.onUpdatePlayerState(false);this.$VideoWithPlayPause6=true}.bind(this)),this.$VideoWithPlayPause1.addListener("beginPlayback",function(){this.$VideoWithPlayPause6=false}.bind(this)))}h.prototype.$VideoWithPlayPause11=function(i,j){"use strict";this.$VideoWithPlayPause12(i);this.$VideoWithPlayPause13(j);this.$VideoWithPlayPause4=true;this.$VideoWithPlayPause5=false;this.$VideoWithPlayPause6=false;this.$VideoWithPlayPause1.seek(this.$VideoWithPlayPause2);this.$VideoWithPlayPause1.play(c("VideoPlayerReason").USER)};h.prototype.$VideoWithPlayPause12=function(i){"use strict";this.$VideoWithPlayPause2=i/1e3};h.prototype.$VideoWithPlayPause13=function(i){"use strict";this.$VideoWithPlayPause3=i/1e3};h.prototype.$VideoWithPlayPause9=function(i){"use strict";this.$VideoWithPlayPause7=i/1e3};h.prototype.$VideoWithPlayPause10=function(i){"use strict";__p&&__p();if(this.$VideoWithPlayPause5)this.onUpdateCurrentPlayPosition(i);if(!this.$VideoWithPlayPause6)this.onUpdatePlayerState(true);if(!this.$VideoWithPlayPause4)this.$VideoWithPlayPause5=true;if(i.position>this.$VideoWithPlayPause3){this.$VideoWithPlayPause1.pause(c("VideoPlayerReason").USER);this.$VideoWithPlayPause13(this.$VideoWithPlayPause7*1e3);this.$VideoWithPlayPause4=false}if(i.position<this.$VideoWithPlayPause2){this.$VideoWithPlayPause13(this.$VideoWithPlayPause7*1e3);this.$VideoWithPlayPause4=false}};h.prototype.release=function(){"use strict";this.$VideoWithPlayPause8.release()};f.exports=h}),null);
__d("VideoComponentWithPlayPause.react",["React","VideoComponent","VideoPlayerReason","VideoWithPlayPause","VideoComposerDialogCaptionEditorPlayerActions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k)}j.prototype.enable=function(k){this.vpc=k;c("VideoComposerDialogCaptionEditorPlayerActions").setVPC(k);this.videoWithPlayPause=new(c("VideoWithPlayPause"))(this.vpc,this.props.videoDuration,this.props.onUpdateCurrentPlayPosition,this.props.onUpdatePlayerState)};j.prototype.disable=function(){this.videoWithPlayPause.release()};j.prototype.render=function(){return null};f.exports=c("VideoComponent").createContainer(j)}),null);
__d("VideoComposerDialogCaptionEditorPlayer.react",["cx","fbt","React","VideoComponentEmbeddedControls.react","VideoComponentHideSubtitles.react","VideoComponentPlayButton.react","VideoComponentScrubberPreview.react","VideoComponentWithLoopingPlayback.react","VideoComponentWithPlayPause.react","VideoComponentWithSpacePlayPause.react","VideoComposerDialogCaptionEditorPlayerLoading.react","VideoComposerDialogConstants","VideoDataContainer.react","VideoPlayer.react","VideoPlayerOrigins","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m)}l.prototype.shouldComponentUpdate=function(m){return JSON.stringify(this.props.videoData)!==JSON.stringify(m.videoData)||this.props.captionToDisplay!==m.captionToDisplay};l.prototype.$VideoComposerDialogCaptionEditorPlayer1=function(m){return c("React").createElement(c("VideoPlayer.react"),{ref:function(n){this.ceVideoPlayer=n}.bind(this),videoData:m,width:c("VideoComposerDialogConstants").PLAYER_WIDTH,height:c("VideoComposerDialogConstants").PLAYER_HEIGHT,playerOrigin:c("VideoPlayerOrigins").PAGES_VIDEO_TAB,subOrigin:"inline"},c("React").createElement(c("VideoComponentPlayButton.react"),null),c("React").createElement(c("VideoComponentEmbeddedControls.react"),{showSettingsButton:false,displayElapsedTime:true}),c("React").createElement(c("VideoComponentWithLoopingPlayback.react"),null),c("React").createElement(c("VideoComponentWithSpacePlayPause.react"),null),c("React").createElement(c("VideoComponentScrubberPreview.react"),null),c("React").createElement(c("VideoComponentWithPlayPause.react"),{videoDuration:this.props.playable_duration_in_ms,onUpdateCurrentPlayPosition:this.props.onUpdateCurrentPlayPosition,onUpdatePlayerState:this.props.onUpdatePlayerState}),c("React").createElement(c("VideoComponentHideSubtitles.react"),null))};l.prototype.render=function(){__p&&__p();var m=null;if(this.props.videoData)m=this.$VideoComposerDialogCaptionEditorPlayer1(this.props.videoData);else if(!this.props.videoID)m=c("React").createElement(c("VideoComposerDialogCaptionEditorPlayerLoading.react"),{text:i._("Loading Video Failed")});else m=c("React").createElement(c("VideoDataContainer.react"),{videoID:this.props.videoID},c("React").createElement(c("VideoPlayer.react"),{ref:function(o){this.ceVideoPlayer=o}.bind(this),videoData:c("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,width:c("VideoComposerDialogConstants").PLAYER_WIDTH,height:c("VideoComposerDialogConstants").PLAYER_HEIGHT,playerOrigin:c("VideoPlayerOrigins").PAGES_VIDEO_TAB,subOrigin:"inline"},c("React").createElement(c("VideoComponentPlayButton.react"),null),c("React").createElement(c("VideoComponentEmbeddedControls.react"),{showSettingsButton:false,displayElapsedTime:true}),c("React").createElement(c("VideoComponentWithLoopingPlayback.react"),null),c("React").createElement(c("VideoComponentWithSpacePlayPause.react"),null),c("React").createElement(c("VideoComponentScrubberPreview.react"),null),c("React").createElement(c("VideoComponentWithPlayPause.react"),{videoDuration:this.props.playable_duration_in_ms,onUpdateCurrentPlayPosition:this.props.onUpdateCurrentPlayPosition,onUpdatePlayerState:this.props.onUpdatePlayerState}),c("React").createElement(c("VideoComponentHideSubtitles.react"),null)));var n=null;if(this.props.captionToDisplay)n=c("React").createElement(c("XUIText.react"),{className:"_4cmw"},this.props.captionToDisplay);return c("React").createElement("div",null,m,c("React").createElement("div",{style:{width:c("VideoComposerDialogConstants").PLAYER_WIDTH},className:"_64dy"},c("React").createElement("div",{className:"_4cmx"},n)))};f.exports=l}),null);
__d("VideoComposerDialogCaptionEditorVideoPlayerContainer_video.graphql",[],(function a(b,c,d,e,f,g){"use strict";var h={kind:"Fragment",name:"VideoComposerDialogCaptionEditorVideoPlayerContainer_video",type:"Video",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"playable_duration_in_ms",args:null,storageKey:null}]};f.exports=h}),null);
__d("VideoComposerDialogCaptionEditorVideoPlayerContainer.react",["cx","FluxContainer","VideoComposerDialogCaptionEditorPlayer.react","VideoComposerDialogCaptionsStore","immutable","RelayModern","VideoComposerDialogCaptionEditorActions","VideoPlayer.react","React","VideoComposerDialogCaptionEditorPlayerActions","VideoComposerDialogCaptionEditorStore","VideoComposerDialogCaptionEditorVideoPlayerContainer_video.graphql"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("RelayModern").createFragmentContainer,l=c("RelayModern").graphql,m=-1;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.$VideoComposerDialogCaptionEditorVideoPlayerContainer2=function(event){var u=event.position*1e3;c("VideoComposerDialogCaptionEditorPlayerActions").setCurrentPlayPosition(u);this.$VideoComposerDialogCaptionEditorVideoPlayerContainer3(u)}.bind(this),q}n.getStores=function(){return[c("VideoComposerDialogCaptionEditorStore"),c("VideoComposerDialogCaptionsStore")]};n.calculateState=function(p){var q=c("VideoComposerDialogCaptionEditorStore").getState(),r=c("VideoComposerDialogCaptionsStore").getState();return{captionEntries:q.captions,previewEntry:q.previewEntry,videoData:r.videoData,videoID:q.videoID,nextEntryIdx:q.nextEntryIdx,duration:r.videoDurationInSec*1e3}};n.prototype.componentWillMount=function(){c("VideoComposerDialogCaptionEditorPlayerActions").resetPlayer(this.props.video)};n.prototype.componentDidMount=function(){c("VideoComposerDialogCaptionEditorPlayerActions").resetPlayer(this.props.video);c("VideoComposerDialogCaptionEditorPlayerActions").setDuration(this.state.duration)};n.prototype.shouldComponentUpdate=function(p,q){return q.videoID!==this.state.videoID||q.previewEntry!==this.state.previewEntry||JSON.stringify(q.videoData)!==JSON.stringify(this.state.videoData)};n.prototype.render=function(){var p=this.state.previewEntry?this.state.previewEntry.node.text:null;return c("React").createElement("div",{className:"_1mbc"},c("React").createElement(c("VideoComposerDialogCaptionEditorPlayer.react"),{videoData:this.state.videoData,videoID:this.props.video.id,playable_duration_in_ms:this.state.duration,onUpdatePlayerState:this.$VideoComposerDialogCaptionEditorVideoPlayerContainer1,onUpdateCurrentPlayPosition:this.$VideoComposerDialogCaptionEditorVideoPlayerContainer2,captionToDisplay:p}))};n.prototype.$VideoComposerDialogCaptionEditorVideoPlayerContainer3=function(p){__p&&__p();if(this.state.captionEntries.size===0)return;var q=this.state.previewEntry?this.state.previewEntry.node.start_time_in_ms:0,r=this.state.previewEntry?this.state.previewEntry.node.duration_in_ms:0,s=q+r;if(p>=q&&p<=s)return;var t=this.state.captionEntries,u=t.get(this.state.nextEntryIdx),v=null;if(this.state.nextEntryIdx>0)v=t.get(this.state.nextEntryIdx-1);var w=u.node.start_time_in_ms+u.node.duration_in_ms,x=u.node.start_time_in_ms;if(p>=x&&p<=w){c("VideoComposerDialogCaptionEditorActions").setPreviewEntry(this.state.nextEntryIdx);return}var y=0;if(v)y=v.node.start_time_in_ms+v.node.duration_in_ms;if(p<=w&&v&&p>=y){c("VideoComposerDialogCaptionEditorActions").setPreviewEntry(m);return}var z=0;for(z=0;z<t.size;z++){var A=t.get(z).node.start_time_in_ms+t.get(z).node.duration_in_ms;if(p<=A){c("VideoComposerDialogCaptionEditorActions").setNextEntry(z);break}}if(z===t.size)c("VideoComposerDialogCaptionEditorActions").setPreviewEntry(m)};n.prototype.$VideoComposerDialogCaptionEditorVideoPlayerContainer1=function(p){c("VideoComposerDialogCaptionEditorPlayerActions").setPlayerState(p)};var o=k(c("FluxContainer").create(n),{video:function p(){return c("VideoComposerDialogCaptionEditorVideoPlayerContainer_video.graphql")}});o.moduleName="VideoComposerDialogCaptionEditorVideoPlayerContainer.react";f.exports=o}),null);
__d("VideoCaption",[],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){"use strict";this.locale=i;this.locale_name=j;this.is_default=false;this.is_auto_generated=false}h.prototype.getLocale=function(){"use strict";return this.locale};h.prototype.getLocaleName=function(){"use strict";return this.locale_name};h.prototype.getIsDefault=function(){"use strict";return this.is_default};h.prototype.setIsDefault=function(i){"use strict";this.is_default=i};h.prototype.getIsAutoGenerated=function(){"use strict";return this.is_auto_generated};h.prototype.setIsAutoGenerated=function(i){"use strict";this.is_auto_generated=i};f.exports=h}),null);
__d("VideoCaptionFile",["InsightsLocaleNamesSwitch","VideoCaption"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("InsightsLocaleNamesSwitch").module;h=babelHelpers.inherits(k,c("VideoCaption"));i=h&&h.prototype;function k(l,m,n){"use strict";i.constructor.call(this,m,n);this.file=l}k.fromFile=function(l){"use strict";var m=l.name.split(".");if(m.length==3){var n=m[1];if(j[n])return new this(l,n,j[n])}return null};k.prototype.getFile=function(){"use strict";return this.file};f.exports=k}),null);
__d("VideoUploadUIError",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CAPTION_ERROR_WRONG_FORMAT:"caption_error_wrong_format",CAPTION_ERROR_DUPLICATE_LOCALE:"caption_error_duplicate_locale",CAPTION_ERROR_GENERATE_FAIL:"caption_error_generate_fail",CAPTION_ERROR_CREATE_FAIL:"caption_error_create_fail",CAPTION_ERROR_DELETE_FAIL:"caption_error_delete_fail",AUTOGENERATE_FAIL_RETRY:"auto_generate_fail_retry"})}),null);
__d("VideoUploadUILoggerEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({VIDEO_FILE_SELECTED:"video_file_selected",TAB_SWITCH:"tab_switch",CAPTION_UPLOAD_BUTTON_CLICKED:"caption_upload_button_clicked",CAPTION_SELECTED:"caption_selected",CAPTION_REMOVED:"caption_removed",CAPTION_DEFAULT_LOCALE_CHANGED:"caption_default_locale_changed",CAPTION_ERROR:"caption_error",CONTENT_TAGS_SELECTED:"content_tags_selected",CONTENT_TAGS_REMOVED:"content_tags_removed",PERMISSIONS_CHANGED:"permissions_changed",CAPTION_GENERATE_BUTTON_CLICKED:"caption_generate_button_clicked",CAPTION_GENERATE_COMPLETE:"caption_generate_complete",CAPTION_GENERATE_CANCEL:"caption_generate_cancel",CAPTION_CREATE_BUTTON_CLICKED:"caption_create_button_clicked",CAPTION_CREATE_COMPLETE:"caption_create_complete",CAPTION_UPLOAD_COMPLETE:"caption_upload_complete",VIDEO_LANGUAGE_SELECTED:"video_language_selected",CAPTION_DRAFT_EDITED:"caption_draft_edited",CAPTION_DRAFT_DELETED:"caption_draft_deleted",CAPTION_PUBLISHED_EDITED:"caption_published_edited",CAPTION_PUBLISHED_DELETED:"caption_published_deleted"})}),null);
__d("VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer.react",["React","VideoComposerDialogCaptionEditorConstants","immutable","VideoComposerDialogCaptionLandingAddSubtitleButtons.react","FluxContainer","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabActions","VideoCaptionFile","VideoUploadUIError","VideoComposerDialogCaptionEditorUtils","VideoUploadUILoggerEvents"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;function j(){__p&&__p();var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer2=function(){this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer3(c("VideoUploadUILoggerEvents").CAPTION_CREATE_BUTTON_CLICKED);c("VideoComposerDialogCaptionsTabActions").create()}.bind(this),this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer4=function(p){__p&&__p();var q=this.state.captions,r=[],s=p.files,t=null,u=null;Array.from(s).forEach(function(x){var y=c("VideoCaptionFile").fromFile(x),z=this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer5(y,q);if(z){t=z;u=y}else r.push(y)}.bind(this));if(t){var v=c("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(t,u?u.getLocaleName():null),w=c("immutable").List([v]);c("VideoComposerDialogCaptionsTabActions").updateErrorState(w)}else c("VideoComposerDialogCaptionsTabActions").upload(r)}.bind(this),this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer6=function(){this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer3(c("VideoUploadUILoggerEvents").CAPTION_UPLOAD_BUTTON_CLICKED)}.bind(this),l}j.getStores=function(){return[c("VideoComposerDialogCaptionsStore")]};j.calculateState=function(){return{captions:c("VideoComposerDialogCaptionsStore").getAllCaptions(),spokenLanguage:c("VideoComposerDialogCaptionsStore").getSpokenLanguage(),spokenLocale:c("VideoComposerDialogCaptionsStore").getSpokenLocale(),autoGeneratingLocale:c("VideoComposerDialogCaptionsStore").getAutoGeneratingLocale(),enableFeatures:c("VideoComposerDialogCaptionsStore").getEnableAdvancedCaptionsFeatures()}};j.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer1=function(){c("VideoComposerDialogCaptionsTabActions").generate()};j.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer3=function(k,l){c("VideoComposerDialogCaptionsStore").getLogger().setEvent(k).setError(l).log()};j.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer5=function(k,l){var m=null;if(!k)m=c("VideoUploadUIError").CAPTION_ERROR_WRONG_FORMAT;else if(this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer7(k.getLocale(),l))m=c("VideoUploadUIError").CAPTION_ERROR_DUPLICATE_LOCALE;return m};j.prototype.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer7=function(k,l){var m=l.some(function(p){return p.locale===k}),n=c("VideoComposerDialogCaptionEditorUtils").getHeadLocale(this.state.autoGeneratingLocale||""),o=n===k;return m||o};j.prototype.render=function(){var k=this.state.spokenLanguage===c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED&&this.state.captions.isEmpty()&&this.state.enableFeatures;return c("React").createElement(c("VideoComposerDialogCaptionLandingAddSubtitleButtons.react"),{enableFeatures:this.state.enableFeatures,disableSection:k,shouldShowGenerate:this.props.shouldShowGenerate,spokenLanguage:this.state.spokenLanguage,spokenLocale:this.state.spokenLocale,onGenerate:this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer1,onCreate:this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer2,onUpload:this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer4,onUploadClick:this.$VideoComposerDialogCaptionLandingAddSubtitleButtonsContainer6})};f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogCaptionLandingAddSubtitleDescription.react",["cx","fbt","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=i._("Add new subtitles or captions"),n=i._("Adding captions increases video engagement. We can try to auto-generate them for you, or you can write them yourself or upload an SRT file.");if(!this.props.enableFeatures)n=i._("Adding captions increases video engagement. You can include captions with your video in multiple languages by uploading a SubRip (.srt) file.");if(this.props.doSubtitlesExist){m=i._("Add more captions");n=i._("You can add additional captions to your video in another language.")}return c("React").createElement("span",{className:"_1lt4"+(!this.props.enableSection?" _2sq3":"")},c("React").createElement("span",{className:"_1lt5"},m),c("React").createElement("span",{className:"_1lt6"},n))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogCaptionLandingAddSubtitleDescriptionContainer.react",["FluxContainer","React","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionLandingAddSubtitleDescription.react","VideoComposerDialogCaptionsStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogCaptionsStore")]};j.calculateState=function(){var k=c("VideoComposerDialogCaptionsStore").getState(),l=k.published&&k.published.size>0||k.drafts&&k.drafts.size>0;return{doSubtitlesExist:l,isSpokenLanguageSelected:c("VideoComposerDialogCaptionsStore").isSpokenLanguageSelected(),enableFeatures:k.enableAdvancedCaptionsFeatures}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogCaptionLandingAddSubtitleDescription.react"),{doSubtitlesExist:this.state.doSubtitlesExist,enableSection:this.state.isSpokenLanguageSelected||this.state.doSubtitlesExist||!this.state.enableFeatures,enableFeatures:this.state.enableFeatures})};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogCaptionsContainer.react",["cx","fbt","FluxContainer","React","VideoComposerDialogCaptionEditorConstants","immutable","VideoComposerDialogCaptionEditorStore","VideoComposerDialogCaptionsStore","VideoComposerDialogDispatcher","VideoComposerDialogCaptionEditorDialog.react","VideoComposerDialogCaptionsTabActions","VideoComposerDialogCaptionLandingSection.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.getStores=function(){return[c("VideoComposerDialogCaptionsStore")]};l.$VideoComposerDialogCaptionsContainer1=function(m){__p&&__p();for(var n=m.drafts,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;if(r.creationMethod===c("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATED)return true}return false};l.$VideoComposerDialogCaptionsContainer2=function(m){for(var n=0;n<m.drafts.size;n++)if(m.drafts.get(n).locale!==c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)return true;return false};l.calculateState=function(){var m=c("VideoComposerDialogCaptionsStore").getState(),n=this.$VideoComposerDialogCaptionsContainer1(m),o=this.$VideoComposerDialogCaptionsContainer2(m);return{caption:m.selectedCaption,show_caption_editor:m.show_caption_editor,shouldShowDrafts:o,isAutoGenerating:m.isAutoGenerating,hasAutoGenerated:n,errors:m.errors,enableFeatures:m.enableAdvancedCaptionsFeatures}};l.prototype.componentWillMount=function(){__p&&__p();c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogCaptionsStore"),c("VideoComposerDialogCaptionEditorStore")]);var m=c("VideoComposerDialogCaptionsStore").getState();if(m.video_id!==this.props.video_id||m.videoFile!==this.props.videoFile){c("VideoComposerDialogCaptionsTabActions").resetCaptionsLandingTab();c("VideoComposerDialogCaptionsTabActions").initialize(this.props.videoFile,this.props.video_id,this.props.accessToken,this.props.composerID,this.props.pageID,this.props.videoDurationInSec,this.props.isEditFlow,this.props.isOldComposer!==null?this.props.isOldComposer:false);if(this.props.isOldComposer!==true)c("VideoComposerDialogCaptionsTabActions").tryLogCaptionLandingScreenOpenEvent()}else{c("VideoComposerDialogCaptionsTabActions").tryResumeAutoGeneration();return}};l.prototype.componentWillReceiveProps=function(m){var n=m.video_id!==null&&m.video_id!=="",o=this.props.video_id!==m.video_id,p=this.props.videoFile!==m.videoFile;if(n&&(o||p)){c("VideoComposerDialogCaptionsTabActions").initialize(m.videoFile,m.video_id,this.props.accessToken,this.props.composerID,this.props.pageID,this.props.videoDurationInSec,this.props.isEditFlow,this.props.isOldComposer!==null?this.props.isOldComposer:false);if(this.props.isOldComposer!==true||c("VideoComposerDialogCaptionsStore").wasTabOpenedInOldComposer())c("VideoComposerDialogCaptionsTabActions").tryLogCaptionLandingScreenOpenEvent()}};l.prototype.$VideoComposerDialogCaptionsContainer3=function(){c("VideoComposerDialogCaptionsTabActions").showCaptionEditor()};l.prototype.$VideoComposerDialogCaptionsContainer4=function(){c("VideoComposerDialogCaptionsTabActions").hideCaptionEditor()};l.prototype.render=function(){var m=null;if(this.state.show_caption_editor)m=c("React").createElement(c("VideoComposerDialogCaptionEditorDialog.react"),babelHelpers["extends"]({video_id:this.props.video_id},this.state,{onCloseButtonClick:function(){return this.$VideoComposerDialogCaptionsContainer4()}.bind(this)}));return c("React").createElement("div",null,c("React").createElement(c("VideoComposerDialogCaptionLandingSection.react"),{hasAutoGenerated:this.state.hasAutoGenerated,isAutoGenerating:this.state.isAutoGenerating,shouldShowDrafts:this.state.shouldShowDrafts,errors:this.state.errors,isVideoUploaded:this.props.isVideoUploaded,enableFeatures:this.state.enableFeatures}),m)};function l(){j.apply(this,arguments)}f.exports=c("FluxContainer").create(l)}),null);
__d("VideoComposerDialogCaptionsTabContainer.react",["FluxContainer","React","VideoComposerDialogCaptionsTabConfig","VideoComposerDialogTabItem.react","VideoComposerDialogTab","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogUIStore")]};j.calculateState=function(){var k=c("VideoComposerDialogUIStore").getState(),l=k.selectedTab;return{isSelected:l===c("VideoComposerDialogTab").CAPTIONS}};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({tabConfig:c("VideoComposerDialogCaptionsTabConfig")},this.state))};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogLandingScreenDefaultLanguageSection.react",["cx","fbt","InlineFbtResult","immutable","React","SUIDropdownMenu.react","SUIBusinessTheme"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.$VideoComposerDialogLandingScreenDefaultLanguageSection1=function(m){this.props.onSelectLocale(m)};l.prototype.render=function(){var m=i._("Default Language"),n=i._("If the user's preferred caption language isn't available, captions in this language will be used instead.");return c("React").createElement("div",{className:"_2a8-"},c("React").createElement("span",{className:"_1lt4"+(!this.props.enableSection?" _2sq3":"")},c("React").createElement("div",{className:"_1lt5"},m),c("React").createElement("div",{className:"_1lt6"},n)),c("React").createElement("span",null,this.getDropdownMenu()))};l.prototype.getDropdownMenu=function(){return c("React").createElement(c("SUIDropdownMenu.react"),{items:this.getListItems(),disabled:!this.props.enableSection,theme:c("SUIBusinessTheme"),label:this.props.defaultLocale?this.props.defaultLocale:i._("Choose language")})};l.prototype.getListItems=function(){var m=this.props.captionLocales.map(function(n){return{type:"item",label:n.fbt,onClick:function(){return this.$VideoComposerDialogLandingScreenDefaultLanguageSection1(n.locale)}.bind(this)}}.bind(this));return m.toArray()};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogLandingScreenDefaultLanguageContainer.react",["FluxContainer","immutable","InlineFbtResult","React","VideoComposerDialogCaptionEditorUtils","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabActions","VideoComposerDialogLandingScreenDefaultLanguageSection.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogCaptionsStore")]};j.calculateState=function(){var k=c("VideoComposerDialogCaptionsStore").getState(),l=k.captionFiles,m=null,n=[];l.forEach(function(p){if(p.getIsDefault())m=p.getLocaleName();n.push({locale:p.getLocale(),fbt:p.getLocaleName()})});n=c("immutable").List(n);var o=c("VideoComposerDialogCaptionsStore").isSpokenLanguageSelected()||n.size>0;return{defaultLocale:m,captionLocales:n,enableSection:o}};j.prototype.$VideoComposerDialogLandingScreenDefaultLanguageContainer1=function(k){c("VideoComposerDialogCaptionsTabActions").setDefaultLocale(k)};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogLandingScreenDefaultLanguageSection.react"),{captionLocales:this.state.captionLocales,defaultLocale:this.state.defaultLocale,enableSection:this.state.enableSection,onSelectLocale:function(k){return this.$VideoComposerDialogLandingScreenDefaultLanguageContainer1(k)}.bind(this)})};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoSubtitlePublishedStatusType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DRAFT:0,PUBLISHED:1,PUBLISH_PENDING:2})}),null);
__d("VideoComposerDialogCaptionEditorPublishStateEnum",["keyMirrorRecursive","VideoSubtitlePublishedStatusType"],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze(c("keyMirrorRecursive")(c("VideoSubtitlePublishedStatusType")));f.exports=h}),null);
__d("VideoComposerDialogLandingScreenItem.react",["ix","cx","VideoComposerDialogCaptionEditorConstants","React","SUIButton.react","SUIAtlasTheme","XUIText.react","asset","Image.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:(this.props.visibility?"_35ly":"")+(!this.props.visibility?" _4s3p":"")},c("React").createElement("span",{className:"_35lz"},c("React").createElement("span",{className:"_35m9",title:this.props.hoverText},c("React").createElement(c("SUIButton.react"),{borderedSides:[],hasHoverState:false,label:"ChangeState",labelIsHidden:true,icon:this.props.icon,height:"tall",theme:c("SUIAtlasTheme"),uniformOverride:c("VideoComposerDialogCaptionEditorConstants").BUTTON_UNIFORM,onClick:this.props.onChangeState,use:"default"})),c("React").createElement("span",{className:"_35ma"},c("React").createElement(c("XUIText.react"),{size:"meta1",weigh:"bold"},this.props.text))),c("React").createElement("span",{className:"_35mg"},c("React").createElement("span",{className:"_35mh"+(!this.props.enableFeatures?" _4qg8":"")},c("React").createElement(c("SUIButton.react"),{borderedSides:[],hasHoverState:false,label:"Edit",labelIsHidden:true,icon:c("React").createElement(c("Image.react"),{src:h("359076")}),style:{marginRight:19},theme:c("SUIAtlasTheme"),uniformOverride:c("VideoComposerDialogCaptionEditorConstants").BUTTON_UNIFORM,onClick:function(){return this.props.onEdit()}.bind(this),use:"default"})),c("React").createElement("span",{className:"_35mi"},c("React").createElement(c("SUIButton.react"),{borderedSides:[],hasHoverState:false,label:"Delete",labelIsHidden:true,icon:c("React").createElement(c("Image.react"),{src:h("393803")}),onClick:function(){return this.props.onDelete()}.bind(this),uniformOverride:c("VideoComposerDialogCaptionEditorConstants").BUTTON_UNIFORM,theme:c("SUIAtlasTheme"),use:"default"}))))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogLandingScreenDraftListContainer.react",["ix","fbt","FluxContainer","VideoComposerDialogCaptionEditorActions","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogLandingScreenGeneratePillContainer.react","VideoComposerDialogLandingScreenItem.react","fbglyph","Image.react","immutable","React","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabActions","VideoComposerDialogCaptionEditorPublishStateEnum"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.getStores=function(){return[c("VideoComposerDialogCaptionsStore")]};l.calculateState=function(){var m=c("VideoComposerDialogCaptionsStore").getState();return{drafts:m.drafts,isAutoGenerating:m.isAutoGenerating,enableFeatures:m.enableAdvancedCaptionsFeatures}};l.prototype.$VideoComposerDialogLandingScreenDraftListContainer1=function(m){c("VideoComposerDialogCaptionsTabActions").editCaptionsDraft(m);c("VideoComposerDialogCaptionEditorActions").setLanguage()};l.prototype.$VideoComposerDialogLandingScreenDraftListContainer2=function(m){c("VideoComposerDialogCaptionsTabActions").deleteCaptionsDraft(m)};l.prototype.$VideoComposerDialogLandingScreenDraftListContainer3=function(m,n){__p&&__p();var o=null,p=null,q=null,r=true;if(m.creationMethod===c("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATED)o=i._("{language}: auto-generated",[i.param("language",m.language)]);else if(m.creationMethod===c("VideoComposerDialogCaptionEditorConstants").SPEECH_NON_SPEECH||m.creationMethod===c("VideoComposerDialogCaptionEditorConstants").MANUAL)o=i._("{language}: written",[i.param("language",m.language)]);else o=i._("{language}: uploaded",[i.param("language",m.language)]);if(m.publishedState===c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISHED){p=c("React").createElement(c("Image.react"),{src:h("119371")});q=i._("Published")}else if(m.publishedState===c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING){p=c("React").createElement(c("Image.react"),{src:h("132187")});q=i._("Publishing pending")}else{p=c("React").createElement(c("Image.react"),{src:h("125832")});q=i._("Draft")}if(m.locale===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)r=false;return c("React").createElement(c("VideoComposerDialogLandingScreenItem.react"),{enableFeatures:this.state.enableFeatures,hoverText:q,icon:p,id:n,key:n,text:o,visibility:r,onChangeState:function s(){return c("VideoComposerDialogCaptionsTabActions").changePublishedState(n)},onEdit:function(){return this.$VideoComposerDialogLandingScreenDraftListContainer1(n)}.bind(this),onDelete:function(){return this.$VideoComposerDialogLandingScreenDraftListContainer2(n)}.bind(this)})};l.prototype.render=function(){var m=this.state.isAutoGenerating?{}:{display:"none"},n=this.state.drafts?this.state.drafts.map(function(o,p){return this.$VideoComposerDialogLandingScreenDraftListContainer3(o,p)}.bind(this)):null;return c("React").createElement("div",null,c("React").createElement("span",{style:m},c("React").createElement(c("VideoComposerDialogLandingScreenGeneratePillContainer.react"),null)),c("React").createElement("div",null,n))};function l(){j.apply(this,arguments)}f.exports=c("FluxContainer").create(l)}),null);
__d("VideoComposerDialogLandingScreenGeneratePill.react",["ix","cx","fbt","SUIAtlasTheme","SUIButton.react","VideoComposerDialogCaptionEditorConstants","Image.react","React","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){var n=c("React").createElement(c("Image.react"),{src:h("116818")}),o=c("React").createElement(c("SUIButton.react"),{borderedSides:[],hasHoverState:false,label:"Delete",labelIsHidden:true,icon:c("React").createElement(c("Image.react"),{src:h("116302")}),onClick:function(){return this.props.onCancel()}.bind(this),uniformOverride:c("VideoComposerDialogCaptionEditorConstants").BUTTON_UNIFORM,theme:c("SUIAtlasTheme"),use:"default"});return c("React").createElement("div",{className:"_3re4"},c("React").createElement("div",{style:{width:this.props.progress*c("VideoComposerDialogCaptionEditorConstants").GENERATION_PILL_WIDTH/100},className:"_3re6"}),c("React").createElement("span",{className:"_3re7"},c("React").createElement("span",{className:"_3re9"},c("React").createElement("span",{className:"_3reh"},n),c("React").createElement("span",{className:"_3req"},j._("{percentage}",[j.param("percentage",Math.round(this.props.progress)+"%")])),c("React").createElement("span",{className:"_3req"},this.props.text)),c("React").createElement("div",{className:"_3rer"},o)))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("VideoComposerDialogLandingScreenGeneratePillContainer.react",["fbt","FluxContainer","React","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabActions","VideoComposerDialogLandingScreenGeneratePill.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.getStores=function(){return[c("VideoComposerDialogCaptionsStore")]};k.calculateState=function(){var l=c("VideoComposerDialogCaptionsStore").getState();return{text:h._("Generating captions in {spokenLanguage}",[h.param("spokenLanguage",l.spokenLanguage)]),progress:l.progress}};k.prototype.$VideoComposerDialogLandingScreenGeneratePillContainer1=function(){c("VideoComposerDialogCaptionsTabActions").cancelGenerate()};k.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogLandingScreenGeneratePill.react"),{text:this.state.text,progress:this.state.progress,onCancel:function(){return this.$VideoComposerDialogLandingScreenGeneratePillContainer1()}.bind(this)})};function k(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(k)}),null);
__d("VideoComposerDialogLandingScreenSpokenLanguageSection.react",["cx","fbt","VideoComposerDialogCaptionEditorConstants","LanguageDialectRenderStyle","LanguageDialectSetTypes","React","VideoComposerDialogLandingScreenLanguageSelector.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){var m=i._("Video language"),n=i._("Choose the main language spoken in the video.");return c("React").createElement("div",{className:"_2a8-"},c("React").createElement("span",{className:"_1lt4"},c("React").createElement("div",{className:"_1lt5"},m),c("React").createElement("div",{className:"_1lt6"},n)),c("React").createElement("span",null,c("React").createElement(c("VideoComposerDialogLandingScreenLanguageSelector.react"),{dialectType:c("LanguageDialectSetTypes").LANGUAGE_DETECTION,dialectName:this.props.spokenLanguage,isLanguageSelected:this.props.isSpokenLanguageSelected,placeholder:c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED,renderStyle:c("LanguageDialectRenderStyle").DEFAULT,onSetDialectName:function(o){return this.props.onSelectLanguage(o)}.bind(this),onSetDialect:function(o){return this.props.onSelectLocale(o)}.bind(this)})))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComposerDialogLandingScreenSpokenLanguageContainer.react",["FluxContainer","React","VideoComposerDialogCaptionEditorUtils","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionsTabActions","VideoComposerDialogLandingScreenSpokenLanguageSection.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogCaptionsStore")]};j.calculateState=function(){return{spokenLanguage:c("VideoComposerDialogCaptionsStore").getSpokenLanguage(),isSpokenLanguageSelected:c("VideoComposerDialogCaptionsStore").isSpokenLanguageSelected()}};j.prototype.$VideoComposerDialogLandingScreenSpokenLanguageContainer1=function(k){c("VideoComposerDialogCaptionsTabActions").selectSpokenLanguage(k)};j.prototype.$VideoComposerDialogLandingScreenSpokenLanguageContainer2=function(k){c("VideoComposerDialogCaptionsTabActions").selectSpokenLocale(k)};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogLandingScreenSpokenLanguageSection.react"),{spokenLanguage:this.state.spokenLanguage,isSpokenLanguageSelected:this.state.isSpokenLanguageSelected,onSelectLanguage:function(k){return this.$VideoComposerDialogLandingScreenSpokenLanguageContainer1(k)}.bind(this),onSelectLocale:function(k){return this.$VideoComposerDialogLandingScreenSpokenLanguageContainer2(k)}.bind(this)})};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogSphericalDirectorContainer.react",["FluxContainer","React","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogSphericalDirectorActions","VideoComposerDialogSphericalDirectorSection.react","VideoComposerDialogSphericalDirectorStore","VideoComposerDialogUploadStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogSphericalDirectorStore"),c("VideoComposerDialogUploadStore"),c("VideoComposerDialogMetadataStore")]};j.calculateState=function(){var k=c("VideoComposerDialogSphericalDirectorStore").getState(),l=k.contextConfig,m=k.showOmnistabSection,n=k.spherical,o=c("VideoComposerDialogUploadStore").getState(),p=o.videoFile,q=c("VideoComposerDialogMetadataStore").getState(),r=q.dialogMode,s=q.videoID;return{contextConfig:l,dialogMode:r,spherical:n,showOmnistabSection:m,videoFile:p,videoID:s}};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores(j.getStores())};j.prototype.render=function(){return c("React").createElement(c("VideoComposerDialogSphericalDirectorSection.react"),{contextConfig:this.state.contextConfig,dialogMode:this.state.dialogMode,ontoggleSpherical:this.$VideoComposerDialogSphericalDirectorContainer1,showOmnistabSection:this.state.showOmnistabSection,spherical:this.state.spherical,videoFile:this.state.videoFile,videoID:this.state.videoID})};j.prototype.$VideoComposerDialogSphericalDirectorContainer1=function(k){c("VideoComposerDialogSphericalDirectorActions").toggleSpherical(k)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("VideoComposerDialogSphericalDirectorTabContainer.react",["FluxContainer","React","VideoComposerDialogMode","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogSphericalDirectorStore","VideoComposerDialogSphericalDirectorTabConfig","VideoComposerDialogTabItem.react","VideoComposerDialogTab","VideoComposerDialogUIStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getStores=function(){return[c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUIStore")]};j.calculateState=function(){var k=c("VideoComposerDialogMetadataStore").getState(),l=k.dialogMode,m=k.isSpherical,n=c("VideoComposerDialogUIStore").getState(),o=n.selectedTab;return{dialogMode:l,isSelected:o===c("VideoComposerDialogTab").SPHERICAL_DIRECTOR,isSpherical:m}};j.prototype.componentWillMount=function(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogSphericalDirectorStore")])};j.prototype.render=function(){if(this.state.dialogMode===c("VideoComposerDialogMode").VIDEO_EDIT&&!this.state.isSpherical)return c("React").createElement("div",null);return c("React").createElement(c("VideoComposerDialogTabItem.react"),babelHelpers["extends"]({tabConfig:c("VideoComposerDialogSphericalDirectorTabConfig")},this.state))};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("XVideoComposerDialogFetchCrosspostPagesController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/crosspost_pages/",{page_id:{type:"FBID",required:true}})}),null);
__d("VideoComposerDialogDistributionStore",["Promise","ActorURI","AsyncRequest","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","FluxReduceStore","VideoComposerDialogDistributionActions","VideoComposerDialogMetadataStore","VideoComposerDialogTab","immutable","XVideoComposerDialogFetchCrosspostPagesController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={showInNewsFeed:true,allowEmbedding:true,addAsSecretVideo:false,disableShowInNewsFeed:false,crosspostPages:null,enableCrosspostRefresh:false,allowGraphicWarningOption:false,showGraphicWarning:false,blockSocial:false};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("VideoComposerDialogActionTypes").BOOTLOAD_DISTRIBUTION_TAB:return o.set("allowGraphicWarningOption",p.data.allowGraphicWarningOption);case c("VideoComposerDialogActionTypes").TOGGLE_NEWS_FEED:return o.set("showInNewsFeed",!o.get("showInNewsFeed"));case c("VideoComposerDialogActionTypes").TOGGLE_EMBEDDING:return o.set("allowEmbedding",!o.get("allowEmbedding"));case c("VideoComposerDialogActionTypes").TOGGLE_SECRET_VIDEO:var q=!o.get("addAsSecretVideo");o=o.set("addAsSecretVideo",q);if(q){o=o.set("showInNewsFeed",false);o=o.set("disableShowInNewsFeed",true);o=o.set("blockSocial",true)}else{o=o.set("disableShowInNewsFeed",false);o=o.set("blockSocial",false)}return o;case c("VideoComposerDialogActionTypes").SELECT_TAB:if(p.tab===c("VideoComposerDialogTab").DISTRIBUTION&&!Array.isArray(o.crosspostPages)){var r=c("VideoComposerDialogMetadataStore").getState();if(r.targetID)this.$VideoComposerDialogDistributionStore1(r.targetID)}return o;case c("VideoComposerDialogActionTypes").CROSSPOST_PAGES_FETCHED:return o.set("crosspostPages",p.pages);case c("VideoComposerDialogActionTypes").CROSSPOST_LINK_CLICKED:return o.set("enableCrosspostRefresh",true);case c("VideoComposerDialogActionTypes").REFRESH_CROSSPOST_PAGES:var s=c("VideoComposerDialogMetadataStore").getState();if(s.targetID){this.$VideoComposerDialogDistributionStore1(s.targetID);o=o.set("crosspostPages",null)}return o;case c("VideoComposerDialogActionTypes").TOGGLE_CROSSPOST_PAGE:var t=p.pageID;o=o.set("crosspostPages",o.get("crosspostPages").map(function(u){if(u.id===t)u.allow=!u.allow;return u}));return o;case c("VideoComposerDialogActionTypes").TOGGLE_GRAPHIC_WARNING:return o.set("showGraphicWarning",!o.get("showGraphicWarning"));case c("VideoComposerDialogActionTypes").TOGGLE_BLOCK_SOCIAL:return o.set("blockSocial",!o.get("blockSocial"));case c("VideoComposerDialogActionTypes").RESET_COMPOSER:return this.getInitialState();default:return o}};n.prototype.$VideoComposerDialogDistributionStore1=function(o){var p=c("XVideoComposerDialogFetchCrosspostPagesController").getURIBuilder().setFBID("page_id",o).getURI();p=c("ActorURI").create(p,o);new(c("AsyncRequest"))().setURI(p).setHandler(function(q){c("VideoComposerDialogDistributionActions").crosspostPagesFetched(q.getPayload())}).send()};n.prototype.getPostData=function(){var o=this.getState();return c("Promise").resolve({hide_from_newsfeed:!o.showInNewsFeed,embeddable:o.allowEmbedding,secret:o.addAsSecretVideo,crossposting_config:o.crosspostPages||[],disturbing:o.showGraphicWarning,social_actions:!o.blockSocial})};function n(){j.apply(this,arguments)}f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogEditStore",["FluxReduceStore","immutable","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","VideoComposerDialogEditUtils","VideoComposerDialogMetadataStore","VideoComposerDialogVideoTypeConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={editTabsLoaded:false,isSaving:false};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("VideoComposerDialogActionTypes").EDIT_TABS_LOADED:o=o.set("editTabsLoaded",true);return o;case c("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO:o=o.set("isSaving",true);var q=c("VideoComposerDialogMetadataStore").getState(),r=q.actorID,s=q.videoID,t=q.videoType;if(r&&s)c("VideoComposerDialogEditUtils").onSave(r,s,c("VideoComposerDialogVideoTypeConfig").typeConfig[t].displayedTabs);return o;case c("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO_FAILURE:o=o.set("isSaving",false);return o;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:o=this.getInitialState();return o;default:return o}};function n(){j.apply(this,arguments)}f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogLoggingStore",["FluxReduceStore","immutable","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogMode","VideoComposerDialogTab","VideoComposerDialogUIEvent","VideoComposerDialogUIStore","VideoComposerDialogUITypedLogger","VideoComposerDialogUploadStore","VideoComposerDialogVersion","uuid"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={actorID:"",composerEntryPointRef:null,dialogMode:null,hasBeenReset:false,hasPlayedPreview:false,selectedTab:c("VideoComposerDialogTab").BASIC,sessionID:"",videoID:""};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("VideoComposerDialogActionTypes").INITIALIZE_COMPOSER:o=o.set("actorID",p.actorID);o=o.set("composerEntryPointRef",p.composerEntryPointRef);o=o.set("sessionID",c("uuid")());o=o.set("dialogMode",c("VideoComposerDialogMode").VIDEO_UPLOAD);this.logEvent(o,c("VideoComposerDialogUIEvent").DIALOG_OPENED);return o;case c("VideoComposerDialogActionTypes").INITIALIZE_EDIT_COMPOSER:o=o.set("actorID",p.editParams.actorID);o=o.set("videoID",p.editParams.videoID);o=o.set("dialogMode",c("VideoComposerDialogMode").VIDEO_EDIT);this.logEvent(o,c("VideoComposerDialogUIEvent").DIALOG_OPENED);return o;case c("VideoComposerDialogActionTypes").SELECT_TAB:this.logEvent(o,c("VideoComposerDialogUIEvent").TAB_SWITCHED,null,p.tab);o=o.set("selectedTab",p.tab);return o;case c("VideoComposerDialogActionTypes").METADATA_LOADED_FROM_VIDEO_UPLOADER:if(p.data)this.logEvent(o,c("VideoComposerDialogUIEvent").METADATA_LOAD_SUCCESS);else this.logEvent(o,c("VideoComposerDialogUIEvent").METADATA_LOAD_FAILED);return o;case c("VideoComposerDialogActionTypes").UPLOAD_FAILED:this.logEvent(o,c("VideoComposerDialogUIEvent").UPLOAD_FAILURE,p.errorData.error_description);return o;case c("VideoComposerDialogActionTypes").UPLOAD_FINISHED:this.logEvent(o,c("VideoComposerDialogUIEvent").UPLOAD_FINISHED);return o;case c("VideoComposerDialogActionTypes").POST_FAILED:this.logEvent(o,c("VideoComposerDialogUIEvent").POST_FAILURE,p.errorData.error_description);return o;case c("VideoComposerDialogActionTypes").FILE_ADDED:this.logEvent(o,c("VideoComposerDialogUIEvent").FILE_REPLACED);return o;case c("VideoComposerDialogActionTypes").BACKDATE_CONFIRM:this.logEvent(o,c("VideoComposerDialogUIEvent").POST_BACKDATE_ATTEMPT);return o;case c("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_CONFIRM:this.logEvent(o,c("VideoComposerDialogUIEvent").POST_DRAFT_ATTEMPT);return o;case c("VideoComposerDialogActionTypes").NAVIGATED_FROM_PAGE:var q=c("VideoComposerDialogUIStore").getState(),r=q.dialogShown;if(r)this.logEvent(o,c("VideoComposerDialogUIEvent").NAVIGATED_FROM_PAGE);return o;case c("VideoComposerDialogActionTypes").PUBLISH_POST:var s=c("VideoComposerDialogMetadataStore").getState(),t=s.showRightsConfirmationDialog,u=c("VideoComposerDialogUploadStore").getState(),v=u.isDraft;if(!(t&&!v))this.logEvent(o,c("VideoComposerDialogUIEvent").POST_PUBLISH_ATTEMPT);else this.logEvent(o,c("VideoComposerDialogUIEvent").RIGHTS_DIALOG_SHOWN);return o;case c("VideoComposerDialogActionTypes").SCHEDULE_CONFIRM:this.logEvent(o,c("VideoComposerDialogUIEvent").POST_SCHEDULE_ATTEMPT);return o;case c("VideoComposerDialogActionTypes").POST_FINISHED:this.logEvent(o,c("VideoComposerDialogUIEvent").POST_SUCCESS);return o;case c("VideoComposerDialogActionTypes").CONFIRM_RIGHTS:this.logEvent(o,c("VideoComposerDialogUIEvent").RIGHTS_DIALOG_CONFIRM);return o;case c("VideoComposerDialogActionTypes").CLOSE_PUBLISH_CONFIRM_DIALOG:this.logEvent(o,c("VideoComposerDialogUIEvent").CONFIRMATION_DIALOG_CLOSE);return o;case c("VideoComposerDialogActionTypes").EXIT_DIALOG_ATTEMPT:this.logEvent(o,c("VideoComposerDialogUIEvent").EXIT_COMPOSER_ATTEMPT);return o;case c("VideoComposerDialogActionTypes").CLOSE_CONFIRM_DIALOG:this.logEvent(o,c("VideoComposerDialogUIEvent").EXIT_COMPOSER_CANCEL);return o;case c("VideoComposerDialogActionTypes").EXIT_DIALOG:this.logEvent(o,c("VideoComposerDialogUIEvent").EXIT_COMPOSER_CONFIRM);return o;case c("VideoComposerDialogActionTypes").USER_PLAYED_VIDEO_PREVIEW:if(!o.hasPlayedPreview){this.logEvent(o,c("VideoComposerDialogUIEvent").USER_PLAYED_VIDEO_PREVIEW);o=o.set("hasPlayedPreview",true)}return o;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:var w=this.getState();o=this.getInitialState();o=o.set("actorID",w.actorID);o=o.set("hasBeenReset",true);return o;default:return o}};n.prototype.logEvent=function(o,event,p,q){new(c("VideoComposerDialogUITypedLogger"))().setEvent(event).setActorID(o.actorID).setSessionID(o.sessionID).setComposerDialogVersion(c("VideoComposerDialogVersion").V2).setComposerEntryPoint(o.composerEntryPointRef).setCurrentTab(o.selectedTab).setNextTab(q).setErrorMessage(p).setHasBeenReset(o.hasBeenReset).log()};function n(){j.apply(this,arguments)}f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("XVideoComposerDialogBootloadDistributionTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/bootload_distribution_tab/",{})}),null);
__d("VideoComposerDialogDistributionUtils",["ActorURI","AsyncRequest","VideoComposerDialogDistributionActions","XVideoComposerDialogBootloadDistributionTabController"],(function a(b,c,d,e,f,g){"use strict";var h=function h(i){var j=c("XVideoComposerDialogBootloadDistributionTabController").getURIBuilder().getURI(),k=c("ActorURI").create(j,i);new(c("AsyncRequest"))(k).setHandler(function(l){c("VideoComposerDialogDistributionActions").bootloadTab(l.payload)}).send()};f.exports={beginBootloadingDistributionTab:h}}),null);
__d("XVideoComposerDialogBootloadRightsTabController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/bootload_rights/",{target_id:{type:"FBID",required:true}})}),null);
__d("VideoComposerDialogRightsUtils",["ActorURI","AsyncRequest","AsyncResponse","VideoComposerDialogRightsActions","XVideoComposerDialogBootloadRightsTabController"],(function a(b,c,d,e,f,g){"use strict";var h=function h(i){var j=c("XVideoComposerDialogBootloadRightsTabController").getURIBuilder().setFBID("target_id",i).getURI(),k=c("ActorURI").create(j,i);new(c("AsyncRequest"))(k).setHandler(function(l){c("VideoComposerDialogRightsActions").bootloadParameters(l.payload)}).send()};f.exports={beginBootloadingRightsTab:h}}),null);
__d("VideoComposerDialogVideoType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BASIC_VIDEO:"basic_video"})}),null);
__d("VideoComposerDialogMetadataStore",["Promise","FluxReduceStore","immutable","VideoComposerDialogActions","VideoComposerDialogActionTypes","VideoComposerDialogAdBreakUtils","VideoComposerDialogBasicUtils","VideoComposerDialogCaptionEditorUtils","VideoComposerDialogDispatcher","VideoComposerDialogDistributionUtils","VideoComposerDialogMode","VideoComposerDialogRightsUtils","VideoComposerDialogSphericalDirectorUtils","VideoComposerDialogTabUtils","VideoComposerDialogUploadStore","VideoComposerDialogUtils","VideoComposerDialogVideoType","VideoPlayerMetaData"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={accessToken:"",actorID:null,boostedPostButtonConfig:null,composerEntryPointRef:null,dialogMode:null,isSpherical:false,profileDisplayName:"",profilePictureURI:"",showCaptionsTab:false,showRightsConfirmationDialog:false,showRightsTab:false,targetID:null,title:"",videoAssetID:null,videoDataForID:null,videoDuration:null,videoHeight:null,videoWidth:null,videoID:null,videoType:c("VideoComposerDialogVideoType").BASIC_VIDEO,minBackdateTime:null};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("VideoComposerDialogActionTypes").INITIALIZE_COMPOSER:o=o.set("actorID",p.actorID);o=o.set("targetID",p.targetID);o=o.set("composerEntryPointRef",p.composerEntryPointRef);o=o.set("videoType",c("VideoComposerDialogVideoType").BASIC_VIDEO);o=o.set("dialogMode",c("VideoComposerDialogMode").VIDEO_UPLOAD);c("VideoComposerDialogUtils").beginBootloading(p.actorID);c("VideoComposerDialogBasicUtils").beginBootloadingDefaultTab(p.actorID);c("VideoComposerDialogDistributionUtils").beginBootloadingDistributionTab(p.actorID);c("VideoComposerDialogAdBreakUtils").beginBootloadingAdBreaksTab(p.actorID);c("VideoComposerDialogSphericalDirectorUtils").beginBootloadingSphericalDirectorUploadTab(p.actorID);c("VideoComposerDialogCaptionEditorUtils").beginBootloadingCaptionsTab(p.actorID);c("VideoComposerDialogRightsUtils").beginBootloadingRightsTab(p.actorID);return o;case c("VideoComposerDialogActionTypes").INITIALIZE_CROSSPOST_COMPOSER:o=o.set("videoType",c("VideoComposerDialogVideoType").BASIC_VIDEO);o=o.set("accessToken",p.params.accessToken);o=o.set("profileDisplayName",p.params.profileDisplayName);o=o.set("profilePictureURI",p.params.profilePictureURI);o=o.set("actorID",p.params.actorID);o=o.set("videoAssetID",p.params.videoAssetID);o=o.set("title",p.params.title);o=o.set("boostedPostButtonConfig",p.params.boostedPostButtonConfig);o=o.set("dialogMode",c("VideoComposerDialogMode").VIDEO_CROSSPOST);c("VideoPlayerMetaData").genVideoData(o.videoAssetID).then(function(w){return c("VideoComposerDialogActions").loadVideoDataForID(w)}).done();c("VideoComposerDialogTabUtils").fetchCrosspostParameters(o.videoType,p.params);return o;case c("VideoComposerDialogActionTypes").INITIALIZE_EDIT_COMPOSER:o=o.set("actorID",p.editParams.actorID);o=o.set("targetID",p.editParams.actorID);o=o.set("title",p.editParams.title);o=o.set("videoDuration",p.editParams.videoDuration);o=o.set("videoID",p.editParams.videoID);o=o.set("accessToken",p.editParams.accessToken);o=o.set("profileDisplayName",p.editParams.profileDisplayName);o=o.set("profilePictureURI",p.editParams.profilePictureURI);o=o.set("isSpherical",p.editParams.isSpherical);o=o.set("videoType",c("VideoComposerDialogVideoType").BASIC_VIDEO);o=o.set("dialogMode",c("VideoComposerDialogMode").VIDEO_EDIT);c("VideoPlayerMetaData").genVideoData(o.videoID).then(function(w){return c("VideoComposerDialogActions").loadVideoDataForID(w)}).done();c("VideoComposerDialogTabUtils").fetchEditPostParameters(o.videoType,p.editParams);return o;case c("VideoComposerDialogActionTypes").LOAD_VIDEO_DATA_FOR_ID:o=o.set("videoDataForID",p.videoData);return o;case c("VideoComposerDialogActionTypes").METADATA_LOADED_FROM_HTML_PLAYER:var q=p.videoPlayer;o=o.set("videoDuration",q.duration?q.duration:null);o=o.set("videoHeight",q.videoHeight?q.videoHeight:null);o=o.set("videoWidth",q.videoWidth?q.videoWidth:null);return o;case c("VideoComposerDialogActionTypes").BOOTLOAD_PARAMETERS:o=o.set("accessToken",p.data.accessToken);o=o.set("profileDisplayName",p.data.profileDisplayName);o=o.set("profilePictureURI",p.data.profilePictureURI);o=o.set("showCaptionsTab",p.data.showCaptionsTab);o=o.set("showRightsTab",p.data.showRightsTab);o=o.set("showRightsConfirmationDialog",p.data.showRightsConfirmationDialog);o=o.set("minBackdateTime",p.data.minBackdateTime);return o;case c("VideoComposerDialogActionTypes").UPDATE_TITLE:o=o.set("title",p.title);return o;case c("VideoComposerDialogActionTypes").UPLOAD_PROGRESSED:var r=c("VideoComposerDialogUploadStore").getState(),s=r.videoUploader;if(s&&this.getState().get("videoID")===null){var t=s.getUploadSession();if(t){var u=t.getVideoID();o=o.set("videoID",u)}}return o;case c("VideoComposerDialogActionTypes").VIDEO_TYPE_CHANGED:o=o.set("videoType",p.videoType);return o;case c("VideoComposerDialogActionTypes").CONFIRM_RIGHTS:o=o.set("showRightsConfirmationDialog",false);setTimeout(function(){return c("VideoComposerDialogActions").publishPost()},1);return o;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:var v=this.getState();o=this.getInitialState();o=o.set("actorID",v.actorID);o=o.set("targetID",v.targetID);o=o.set("composerEntryPointRef",v.composerEntryPointRef);return o;default:return o}};n.prototype.getPostData=function(){var o=this.getState();return c("Promise").resolve({video_title:o.title})};n.prototype.getEditRequestDataToSend=function(){var o=this.getState();return c("Promise").resolve({title:o.title})};function n(){j.apply(this,arguments)}f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogRightsStore",["fbt","Promise","VideoComposerDialogDispatcher","FluxReduceStore","immutable","VideoComposerDialogActions","VideoComposerDialogRightsActions","VideoComposerDialogTab","VideoCopyrightAPI","VideoCopyrightMonitoringType","VideoComposerDialogActionTypes","VideoComposerDialogMetadataStore","VideoCopyrightUploadSettings"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l,m={areCountriesIncluded:true,attributionID:null,category:null,fbWhitelistedUsers:[],igWhitelistedUsers:[],isIgRightsManagementEnabled:false,matchRuleID:null,monitoringType:c("VideoCopyrightMonitoringType").VIDEO_AND_AUDIO.value,ownershipCountries:[],shouldDetectMatches:false,showAttributionSelector:false,showCategoryRequiredError:false};i=babelHelpers.inherits(n,c("immutable").Record(m));j=i&&i.prototype;function n(){i.apply(this,arguments)}k=babelHelpers.inherits(o,c("FluxReduceStore"));l=k&&k.prototype;o.prototype.getInitialState=function(){return new n()};o.prototype.reduce=function(p,q){__p&&__p();switch(q.type){case c("VideoComposerDialogActionTypes").BOOTLOAD_RIGHTS_PARAMETERS:p=p.set("isIgRightsManagementEnabled",q.data.isIgRightsManagementEnabled).set("showAttributionSelector",q.data.showAttributionSelector);var r=q.data.defaultSettings;if(r&&r[c("VideoCopyrightUploadSettings").USE_CUSTOM])p=p.set("monitoringType",r[c("VideoCopyrightUploadSettings").MONITORING_TYPE]).set("matchRuleID",r[c("VideoCopyrightUploadSettings").MATCH_RULE]).set("ownershipCountries",r[c("VideoCopyrightUploadSettings").OWNERSHIP_COUNTRIES]).set("areCountriesIncluded",r[c("VideoCopyrightUploadSettings").ARE_COUNTRIES_INCLUDED]);return p;case c("VideoComposerDialogActionTypes").UPDATE_MONITORING_TYPE:p=p.set("monitoringType",q.monitoringType);return p;case c("VideoComposerDialogActionTypes").UPDATE_CATEGORY:p=p.set("category",q.category).set("showCategoryRequiredError",false);return p;case c("VideoComposerDialogActionTypes").UPDATE_CATEGORY_REQUIRED_ERROR:p=p.set("showCategoryRequiredError",true);return p;case c("VideoComposerDialogActionTypes").UPDATE_OWNERSHIP_COUNTRIES:p=p.set("ownershipCountries",q.ownershipCountries).set("areCountriesIncluded",q.areCountriesIncluded);return p;case c("VideoComposerDialogActionTypes").UPDATE_SHOULD_DETECT_MATCHES:p=p.set("shouldDetectMatches",q.shouldDetectMatches);return p;case c("VideoComposerDialogActionTypes").UPDATE_MATCH_RULE:p=p.set("matchRuleID",q.matchRuleID);return p;case c("VideoComposerDialogActionTypes").UPDATE_ATTRIBUTION:p=p.set("attributionID",q.attributionID);return p;case c("VideoComposerDialogActionTypes").UPDATE_FB_WHITELISTED_USERS:p=p.set("fbWhitelistedUsers",q.fbWhitelistedUsers);return p;case c("VideoComposerDialogActionTypes").UPDATE_IG_WHITELISTED_USERS:p=p.set("igWhitelistedUsers",q.igWhitelistedUsers);return p;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:p=this.getInitialState();return p;default:return p}};o.prototype.getPostData=function(){__p&&__p();var p=this.getState(),q=p.attributionID,r=p.category,s=p.monitoringType,t=p.ownershipCountries,u=p.areCountriesIncluded,v=p.shouldDetectMatches,w=p.matchRuleID,x=p.fbWhitelistedUsers,y=p.igWhitelistedUsers;if(!v)return c("Promise").resolve({});if(r===null){setTimeout(function(){c("VideoComposerDialogRightsActions").updateShowCategoryRequiredError();c("VideoComposerDialogActions").selectTab(c("VideoComposerDialogTab").RIGHTS)},1);return c("Promise").reject(h._("Media category is required for copyrighted content"))}var z=c("VideoComposerDialogMetadataStore").getState(),A=z.accessToken,B=z.targetID,C=z.videoID;if(!B||!C)return c("Promise").reject(h._("Monitoring matches failed"));return c("VideoCopyrightAPI").copyrightVideo(A,B,C,{areCopyrightCountriesIncluded:u,copyrightAttributionID:q,copyrightRuleID:w,copyrightMonitoringType:s,copyrightOwnershipCountries:t,copyrightWhitelistedIGUserNames:y,copyrightWhitelistedPartners:x,selectedCategory:r},"video_upload_composer").then(function(D){return{}},function(D){return c("Promise").reject(D.error_user_title)})};function o(){k.apply(this,arguments)}f.exports=new o(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogUIStore",["ComposerXVideoUploadDialogController","DOM","FluxReduceStore","immutable","React","ReactDOM","VideoComposerDialogActions","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","VideoComposerDialogTab","VideoComposerDialogWrapperContainer.react","VideoComposerDialogUploadStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={dialogShown:false,initialized:false,oneClickPublish:false,selectedTab:c("VideoComposerDialogTab").BASIC,showExitConfirmDialog:false,publishConfirmDialogShown:false,publishConfirmDialogData:null,saveAsDraftDialogShown:false};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){__p&&__p();switch(p.type){case c("VideoComposerDialogActionTypes").INITIALIZE_COMPOSER:o=o.set("oneClickPublish",p.oneClickPublish);case c("VideoComposerDialogActionTypes").INITIALIZE_CROSSPOST_COMPOSER:case c("VideoComposerDialogActionTypes").INITIALIZE_EDIT_COMPOSER:if(!o.initialized){setTimeout(function(){var y=c("DOM").create("div");c("ReactDOM").render(c("React").createElement(c("VideoComposerDialogWrapperContainer.react"),null),y)},0);o=o.set("initialized",true)}o=o.set("dialogShown",true);return o;case c("VideoComposerDialogActionTypes").CLOSE_CONFIRM_DIALOG:o=o.set("showExitConfirmDialog",false);return o;case c("VideoComposerDialogActionTypes").POST_FINISHED:o=o.set("publishConfirmDialogShown",true);var q=c("VideoComposerDialogUploadStore").getState(),r=q.isDraft,s=q.scheduleDate,t=q.expireDate,u=q.postEndDate;o=o.set("publishConfirmDialogData",{isDraft:r,scheduleDate:s,expireDate:t,postEndDate:u});o=o.set("showExitConfirmDialog",false);o=o.set("dialogShown",false);this.$VideoComposerDialogUIStore1();return o;case c("VideoComposerDialogActionTypes").EXIT_DIALOG:o=o.set("showExitConfirmDialog",false);o=o.set("dialogShown",false);this.$VideoComposerDialogUIStore1();return o;case c("VideoComposerDialogActionTypes").EXIT_DIALOG_ATTEMPT:o=o.set("showExitConfirmDialog",true);return o;case c("VideoComposerDialogActionTypes").CLOSE_PUBLISH_CONFIRM_DIALOG:o=o.set("publishConfirmDialogShown",false);return o;case c("VideoComposerDialogActionTypes").SELECT_TAB:o=o.set("selectedTab",p.tab);return o;case c("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_ATTEMPT:o=o.set("saveAsDraftDialogShown",true);return o;case c("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_ABORT:case c("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_CONFIRM:o=o.set("saveAsDraftDialogShown",false);return o;case c("VideoComposerDialogActionTypes").SAVE_EDITED_VIDEO_SUCCESS:o=o.set("showExitConfirmDialog",false);o=o.set("dialogShown",false);this.$VideoComposerDialogUIStore1();return o;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:var v=o,w=v.publishConfirmDialogShown,x=v.publishConfirmDialogData;c("ComposerXVideoUploadDialogController").clearInstances();o=this.getInitialState();o=o.set("publishConfirmDialogShown",w);o=o.set("publishConfirmDialogData",x);o=o.set("initialized",true);return o;default:return o}};n.prototype.$VideoComposerDialogUIStore1=function(){setTimeout(c("VideoComposerDialogActions").resetComposer,1)};function n(){j.apply(this,arguments)}f.exports=new n(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogUploadStore",["Promise","Arbiter","FluxReduceStore","immutable","SubscriptionsHandler","VideoComposerDialogActions","VideoComposerDialogActionTypes","VideoComposerDialogDispatcher","VideoComposerDialogMetadataStore","VideoComposerDialogUploadUtils","VideoComposerDialogUtils","VideoComposerDialogVideoTypeConfig","VideoUploadFile","LiftTimeUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l=c("LiftTimeUtils").MS_IN_SEC,m={backdateYear:null,backdateMonth:null,backdateDay:null,composerID:"",disablePublish:false,errorMessage:null,hideFromNewsFeed:false,fileInput:null,isPosting:false,isPostPending:false,subscriptionsHandler:new(c("SubscriptionsHandler"))(),videoData:null,videoFile:null,videoSize:null,videoUploader:null,uploadFinished:false,uploadProgress:0,isDraft:false,scheduleDate:null,expireDate:null,expireType:null,postEndDate:null};h=babelHelpers.inherits(n,c("immutable").Record(m));i=h&&h.prototype;function n(){h.apply(this,arguments)}j=babelHelpers.inherits(o,c("FluxReduceStore"));k=j&&j.prototype;o.prototype.getInitialState=function(){return new n()};o.prototype.reduce=function(p,q){__p&&__p();var r=c("VideoComposerDialogMetadataStore").getState(),s=r.actorID,t=r.targetID,u=r.composerEntryPointRef;switch(q.type){case c("VideoComposerDialogActionTypes").INITIALIZE_COMPOSER:p=p.set("composerID",q.composerID);p=p.set("fileInput",q.fileInput);p=p.set("videoFile",q.file);var v=c("VideoUploadFile").fromFile(q.file);p=p.set("videoSize",v.getSize());return p;case c("VideoComposerDialogActionTypes").BOOTLOAD_PARAMETERS:if(s&&t)c("VideoComposerDialogUploadUtils").loadVideoUploader(s,t,u);return p;case c("VideoComposerDialogActionTypes").FILE_ADDED:if(p.videoUploader)p.videoUploader.cancel();this.$VideoComposerDialogUploadStore1(p);if(s&&t)c("VideoComposerDialogUploadUtils").loadVideoUploader(s,t,u);p=p.set("disablePublish",false);p=p.set("errorMessage",null);p=p.set("uploadProgress",0);p=p.set("fileInput",q.fileInput);p=p.set("videoFile",q.file);var w=c("VideoUploadFile").fromFile(q.file);p=p.set("videoSize",w.getSize());return p;case c("VideoComposerDialogActionTypes").BACKDATE_CONFIRM:p=p.set("backdateYear",q.year);p=p.set("backdateMonth",q.month);p=p.set("backdateDay",q.day);p=p.set("hideFromNewsFeed",q.hideFromNewsFeed);setTimeout(function(){return c("VideoComposerDialogActions").publishPost()},1);return p;case c("VideoComposerDialogActionTypes").INIT_VIDEO_UPLOADER:p=p.set("videoUploader",q.videoUploader);p=p.set("subscriptionsHandler",new(c("SubscriptionsHandler"))());c("VideoComposerDialogUploadUtils").addUploadSubscriptions(p.subscriptionsHandler,q.videoUploader);c("VideoComposerDialogUploadUtils").beginUpload(p.videoFile,q.videoUploader);p=p.set("videoData",c("VideoComposerDialogUploadUtils").createVideoData(p.videoFile));return p;case c("VideoComposerDialogActionTypes").NAVIGATED_FROM_PAGE:if(p.videoUploader)p.videoUploader.abandon();return p;case c("VideoComposerDialogActionTypes").POST_FAILED:p=this.$VideoComposerDialogUploadStore2(p);p=p.set("errorMessage",q.errorData.error_summary+": "+q.errorData.error_description);p=p.set("isPosting",false);p=p.set("isPostPending",false);return p;case c("VideoComposerDialogActionTypes").PUBLISH_POST:var x=c("VideoComposerDialogMetadataStore").getState(),y=x.showRightsConfirmationDialog;if(p.videoUploader&&!(y&&!p.isDraft))p.videoUploader.postUserRequest();if(p.uploadFinished){p=p.set("isPosting",true);this.$VideoComposerDialogUploadStore3()}else p=p.set("isPostPending",true);p=p.set("errorMessage",null);return p;case c("VideoComposerDialogActionTypes").UPLOAD_FAILED:p=this.$VideoComposerDialogUploadStore2(p);p=p.set("errorMessage",q.errorData.error_summary+": "+q.errorData.error_description);p=p.set("disablePublish",true);p=p.set("isPostPending",false);return p;case c("VideoComposerDialogActionTypes").UPLOAD_FINISHED:p=p.set("uploadFinished",true);if(p.isPostPending){p=p.set("isPostPending",false);p=p.set("isPosting",true);this.$VideoComposerDialogUploadStore3()}return p;case c("VideoComposerDialogActionTypes").UPLOAD_PROGRESSED:p=p.set("uploadProgress",q.progress);return p;case c("VideoComposerDialogActionTypes").SCHEDULE_CONFIRM:if(q.scheduleDate)p=p.set("scheduleDate",q.scheduleDate);if(q.expireDate){p=p.set("expireDate",q.expireDate);p=p.set("expireType",q.expirationType)}if(q.postEndDate)p=p.set("postEndDate",q.postEndDate);setTimeout(function(){return c("VideoComposerDialogActions").publishPost()},1);return p;case c("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_ATTEMPT:p=p.set("isDraft",true);return p;case c("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_ABORT:p=p.set("isDraft",false);return p;case c("VideoComposerDialogActionTypes").SAVE_AS_DRAFT_CONFIRM:setTimeout(function(){return c("VideoComposerDialogActions").publishPost()},1);return p;case c("VideoComposerDialogActionTypes").POST_FINISHED:c("VideoComposerDialogUploadUtils").postFinished(q.data,p.composerID);return p;case c("VideoComposerDialogActionTypes").CANCEL_UPLOAD:p=this.$VideoComposerDialogUploadStore2(p);p=p.set("isPostPending",false).set("isPosting",false);return p;case c("VideoComposerDialogActionTypes").EXIT_DIALOG:c("Arbiter").inform("videoUpload/cancel",{composerID:p.composerID});if(p.videoUploader)p.videoUploader.cancel();return p;case c("VideoComposerDialogActionTypes").RESET_COMPOSER:this.$VideoComposerDialogUploadStore1(p);p=this.getInitialState();return p;default:return p}};o.prototype.$VideoComposerDialogUploadStore1=function(p){if(p.fileInput&&p.fileInput.input)p.fileInput.clear();if(p.videoUploader)p.videoUploader.abandon();p.subscriptionsHandler.release()};o.prototype.$VideoComposerDialogUploadStore2=function(p){__p&&__p();p=p.set("backdateYear",null);p=p.set("backdateMonth",null);p=p.set("backdateDay",null);p=p.set("hideFromNewsFeed",false);p=p.set("isDraft",false);p=p.set("scheduleDate",null);p=p.set("expireDate",null);p=p.set("expireType",null);p=p.set("postEndDate",null);return p};o.prototype.getPostData=function(){__p&&__p();var p=this.getState(),q={draft:p.isDraft};if(p.scheduleDate){var r=c("VideoComposerDialogUtils").formatDateAndTime(p.scheduleDate),s=r.dateStr,t=r.timeSec;q.scheduled=true;q.future_date=s;q.future_time=t}if(p.expireDate){q.expiring=true;q.expire_type=p.expireType;q.expire_time=p.expireDate&&p.expireDate.getTime()/l}if(p.postEndDate){var u=c("VideoComposerDialogUtils").formatDateAndTime(p.postEndDate),v=u.dateStr,w=u.timeSec;q["feed_targeted_data[relevant-until-date]"]=v;q["feed_targeted_data[relevant-until-time]"]=w}if(p.backdateYear){q["backdated_date[year]"]=p.backdateYear;q["backdated_date[month]"]=p.backdateMonth;q["backdated_date[day]"]=p.backdateDay;q.hide_from_newsfeed=p.hideFromNewsFeed}return c("Promise").resolve(q)};o.prototype.$VideoComposerDialogUploadStore3=function(){var p=c("VideoComposerDialogMetadataStore").getState(),q=p.showRightsConfirmationDialog,r=p.videoType,s=this.getState(),t=s.isDraft,u=s.videoUploader;if(q&&!t)return;c("VideoComposerDialogUploadUtils").doPost(u,c("VideoComposerDialogVideoTypeConfig").typeConfig[r].displayedTabs)};function o(){j.apply(this,arguments)}f.exports=new o(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoCaptionEditEventTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:VideoCaptionEditEventLoggerConfig",this.$VideoCaptionEditEventTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:VideoCaptionEditEventLoggerConfig",this.$VideoCaptionEditEventTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$VideoCaptionEditEventTypedLogger1={};return this};h.prototype.updateData=function(j){this.$VideoCaptionEditEventTypedLogger1=babelHelpers["extends"]({},this.$VideoCaptionEditEventTypedLogger1,j);return this};h.prototype.setAdGroupID=function(j){this.$VideoCaptionEditEventTypedLogger1.ad_group_id=j;return this};h.prototype.setAppID=function(j){this.$VideoCaptionEditEventTypedLogger1.app_id=j;return this};h.prototype.setCaptionID=function(j){this.$VideoCaptionEditEventTypedLogger1.caption_id=j;return this};h.prototype.setErrorMessage=function(j){this.$VideoCaptionEditEventTypedLogger1.error_message=j;return this};h.prototype.setEvent=function(j){this.$VideoCaptionEditEventTypedLogger1.event=j;return this};h.prototype.setPlacement=function(j){this.$VideoCaptionEditEventTypedLogger1.placement=j;return this};h.prototype.setTranscription=function(j){this.$VideoCaptionEditEventTypedLogger1.transcription=j;return this};h.prototype.setVC=function(j){this.$VideoCaptionEditEventTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$VideoCaptionEditEventTypedLogger1.video_id=j;return this};var i={ad_group_id:true,app_id:true,caption_id:true,error_message:true,event:true,placement:true,transcription:true,vc:true,video_id:true};f.exports=h}),null);
__d("VideoCaptionEditorLogger",["VideoCaptionEditEventTypedLogger","VideoCaptionPlacements"],(function a(b,c,d,e,f,g){"use strict";h.prototype.log=function(event,i,j,k,l,m){new(c("VideoCaptionEditEventTypedLogger"))().setEvent(event).setVideoID(j).setCaptionID(i).setAppID(k).setErrorMessage(l).setPlacement(m||c("VideoCaptionPlacements").CREATE_AD).log()};h.prototype.logWithData=function(i){new(c("VideoCaptionEditEventTypedLogger"))().updateData(i).log()};function h(){}f.exports=h}),null);
__d("VideoCaptionsLoggerEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CAPTION_UPLOAD_BUTTON_CLICKED:"caption_upload_button_clicked",CAPTION_SELECTED:"caption_selected",CAPTION_REMOVED:"caption_removed",CAPTION_DEFAULT_LOCALE_CHANGED:"caption_default_locale_changed",CAPTION_ERROR:"caption_error",CONTENT_TAGS_SELECTED:"content_tags_selected",CONTENT_TAGS_REMOVED:"content_tags_removed",PERMISSIONS_CHANGED:"permissions_changed",CAPTION_GENERATE_BUTTON_CLICKED:"caption_generate_button_clicked",CAPTION_GENERATE_COMPLETE:"caption_generate_complete",CAPTION_GENERATE_CANCEL:"caption_generate_cancel",CAPTION_CREATE_BUTTON_CLICKED:"caption_create_button_clicked",CAPTION_CREATE_COMPLETE:"caption_create_complete",CAPTION_UPLOAD_COMPLETE:"caption_upload_complete",VIDEO_LANGUAGE_SELECTED:"video_language_selected",CAPTION_DRAFT_EDITED:"caption_draft_edited",CAPTION_DRAFT_DELETED:"caption_draft_deleted",CAPTION_PUBLISHED_EDITED:"caption_published_edited",CAPTION_PUBLISHED_DELETED:"caption_published_deleted",CAPTION_GENERATE_RETRY:"caption_generate_retry",CHANGE_PUBLISHED_STATE:"change_published_state",CAPTION_EDITOR_SAVE:"caption_editor_save",CAPTION_EDITOR_CLOSE:"caption_editor_close",CAPTION_EDITOR_SET_LANGUAGE:"caption_editor_set_language",CAPTION_TAB_OPENED:"caption_tab_opened",COMPOSER_SAVE:"composer_save"})}),null);
__d("VideoComposerDialogCaptionEditorStore",["VideoComposerDialogActionTypes","VideoComposerDialogCaptionsStore","VideoComposerDialogDispatcher","FluxReduceStore","immutable","ImmutableObject","VideoCaptionEditorLanguages","VideoPlayerController","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorUtils","VideoCaptionEditorLogger","WebApiApplication","VideoCaptionsLoggerEvents","VideoCaptionEditorStateEnums"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l=c("VideoCaptionEditorStateEnums").EditorStateEnum,m=1e3,n=-1,o={captions:c("immutable").List(),language:c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED,locale:"",availableLanguages:c("immutable").List(c("VideoCaptionEditorLanguages").languagesInEnglish),captionsChangeSet:c("immutable").List(),captionID:"",captionLocale:"",editorState:l.INIT,editSectionState:{selected:-1},previewEntry:null,captionSelected:n,nextEntryIdx:0,videoID:"",vpc:null,videoDuration:0,currentPlayPositionInMs:0,shouldShowExitDialog:false,captionFile:null,isPlaying:false};h=babelHelpers.inherits(p,c("immutable").Record(o));i=h&&h.prototype;function p(){h.apply(this,arguments)}j=babelHelpers.inherits(q,c("FluxReduceStore"));k=j&&j.prototype;function q(r){k.constructor.call(this,r);this.$VideoComposerDialogCaptionEditorStore1=new(c("VideoCaptionEditorLogger"))()}q.prototype.getInitialState=function(){return new p()};q.prototype.reduce=function(r,s){__p&&__p();var t=null;switch(s.type){case c("VideoComposerDialogActionTypes").RESET_CAPTION_EDITOR:return this.getInitialState();case c("VideoComposerDialogActionTypes").SET_CAPTIONS:r=this.$VideoComposerDialogCaptionEditorStore4(r,s);break;case c("VideoComposerDialogActionTypes").EDIT_CAPTION_ENTRY:r=this.$VideoComposerDialogCaptionEditorStore5(r,s);break;case c("VideoComposerDialogActionTypes").REMOVE_CAPTION_ENTRY:r=this.$VideoComposerDialogCaptionEditorStore6(r,s);break;case c("VideoComposerDialogActionTypes").ADD_CAPTION_ENTRY:r=this.$VideoComposerDialogCaptionEditorStore7(r,s);break;case c("VideoComposerDialogActionTypes").RESET_PLAYER:r=r.set("previewEntry",null).set("captionSelected",n).set("nextEntryIdx",0).set("videoDuration",null).set("currentPlayPositionInMs",0);break;case c("VideoComposerDialogActionTypes").SET_DURATION:r=r.set("videoDuration",s.duration);break;case c("VideoComposerDialogActionTypes").SET_PLAYER_STATE:r=r.set("isPlaying",s.isPlaying);break;case c("VideoComposerDialogActionTypes").SET_PREVIEW_ENTRY:r=r.set("captionSelected",s.idx);if(s.idx===n)r=r.set("previewEntry",null);else r=r.set("previewEntry",new(c("ImmutableObject"))(this.getCaptions().get(s.idx)));r=r.set("nextEntryIdx",(s.idx+1)%r.captions.size);break;case c("VideoComposerDialogActionTypes").SET_EDITOR_LANGUAGE:if(r.get("captionID"))r=r.set("editorState",l.UNSAVED);r=r.set("language",s.language);this.$VideoComposerDialogCaptionEditorStore8(c("VideoCaptionsLoggerEvents").CAPTION_EDITOR_SET_LANGUAGE);break;case c("VideoComposerDialogActionTypes").SET_EDITOR_LOCALE:if(r.get("captionID"))r=r.set("editorState",l.UNSAVED);r=r.set("locale",s.locale);break;case c("VideoComposerDialogActionTypes").INITIALIZE_EDITOR_LANGUAGE:t=c("VideoComposerDialogCaptionsStore").getState().get("selectedCaption");r=r.set("language",t.language).set("locale",t.locale);break;case c("VideoComposerDialogActionTypes").PLAY_PREVIEW_ENTRY:r=this.$VideoComposerDialogCaptionEditorStore9(r,s);break;case c("VideoComposerDialogActionTypes").SET_NEXT_ENTRY:r=r.set("nextEntryIdx",s.idx);break;case c("VideoComposerDialogActionTypes").SET_VPC:r=r.set("vpc",s.vpc);break;case c("VideoComposerDialogActionTypes").SET_CURRENT_PLAY_POSITION:r=r.set("currentPlayPositionInMs",s.position);break;case c("VideoComposerDialogActionTypes").CONFIRM_CLOSE_DIALOG:r=r.set("editorState",l.EXIT);r=r.set("shouldShowExitDialog",false);this.$VideoComposerDialogCaptionEditorStore8(c("VideoCaptionsLoggerEvents").CAPTION_EDITOR_CLOSE);break;case c("VideoComposerDialogActionTypes").CANCEL_CLOSE_DIALOG:r=r.set("shouldShowExitDialog",false);break;case c("VideoComposerDialogActionTypes").SHOW_EXIT_DIALOG:r=r.set("shouldShowExitDialog",true);break;case c("VideoComposerDialogActionTypes").START_SAVE_CAPTION_CHANGESET:r=r.set("editorState",l.SAVING);c("VideoComposerDialogCaptionEditorUtils").saveCaptionChangeset(r.get("captionID"),r.get("captions"),r.get("captionsChangeSet"),r.get("locale"),c("VideoComposerDialogCaptionsStore").getState().get("pageID"));this.$VideoComposerDialogCaptionEditorStore8(c("VideoCaptionsLoggerEvents").CAPTION_EDITOR_SAVE);break;case c("VideoComposerDialogActionTypes").FINISH_SAVE_CAPTION_CHANGESET:r=this.$VideoComposerDialogCaptionEditorStore10(r);break}return r};q.prototype.$VideoComposerDialogCaptionEditorStore8=function(r,s,t){c("VideoComposerDialogCaptionsStore").getLogger().setEvent(r).setError(t).setSubtitleID(this.getState().get("captionID")).setIsCaptionEditor(true).updateExtraData({language:this.getLanguage()}).log()};q.prototype.$VideoComposerDialogCaptionEditorStore4=function(r,s){__p&&__p();var t=s.captions;if(t.size===0)t=c("immutable").List([{node:{text:" ",start_time_in_ms:0,duration_in_ms:m,confidence:1,left:0,width:m*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT}}]);r=r.set("captions",t).set("captionsChangeSet",c("immutable").List(new Array(t.size)));var u=!c("VideoComposerDialogCaptionEditorUtils").areHeadLocalesEqual(r.get("locale"),s.captionLocale);if(u)r=r.set("editorState",l.UNSAVED);this.$VideoComposerDialogCaptionEditorStore2=s.appID||c("WebApiApplication").getClientID();this.$VideoComposerDialogCaptionEditorStore3=s.placement;return r.merge({captionID:s.captionID,captionLocale:s.captionLocale,videoID:s.videoID})};q.prototype.$VideoComposerDialogCaptionEditorStore10=function(r){r=r.set("editorState",l.SAVED).set("captionLocale",r.get("locale"));var s=r.get("locale"),t=s!==c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE&&s!==c("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE;if(!t)return r;var u=c("VideoComposerDialogCaptionEditorUtils").makeNewCaptionFile(r.get("captions"),c("VideoComposerDialogCaptionEditorUtils").getHeadLocale(s),r.get("language"));return r.set("captionFile",u)};q.prototype.$VideoComposerDialogCaptionEditorStore5=function(r,s){var t=r.get("captions");t=t.splice(s.idx,1,s.caption);var u=r.get("captionsChangeSet").splice(s.idx,1,s.caption);r=r.set("captions",t).set("captionsChangeSet",u);return r.set("editorState",l.UNSAVED)};q.prototype.$VideoComposerDialogCaptionEditorStore6=function(r,s){__p&&__p();var t=r.get("captions"),u=t.get(s.idx);t=t["delete"](s.idx);var v=r.get("captionsChangeSet")["delete"](s.idx);if(u&&u.node)v=v.push({node:{id:u.node.id}});r=r.set("captions",t).set("captionsChangeSet",v);var w=r.get("previewEntry");if(w&&r.get("captionSelected")===s.idx)r=r.set("previewEntry",null);return r.set("editorState",l.UNSAVED)};q.prototype.$VideoComposerDialogCaptionEditorStore7=function(r,s){var t=r.get("captions").splice(s.idx,0,s.caption),u=r.get("captionsChangeSet").splice(s.idx,0,s.caption);r=r.set("captions",t).set("captionsChangeSet",u);return r.set("editorState",l.UNSAVED)};q.prototype.$VideoComposerDialogCaptionEditorStore9=function(r,s){__p&&__p();r=r.set("captionSelected",s.idx);if(s.idx===n)r=r.set("previewEntry",null);else{r=r.set("previewEntry",new(c("ImmutableObject"))(this.getCaptions().get(s.idx)));r=r.set("nextEntryIdx",(s.idx+1)%r.captions.size)}var t=r.get("vpc");if(t){var u=r.get("previewEntry");t.emit("captionsList/preview",{startTime:u?u.node.start_time_in_ms:0,endTime:u?u.node.start_time_in_ms+u.node.duration_in_ms:r.videoDuration})}r=r.set("isPlaying",true);return r};q.prototype.getLanguage=function(){return this.getState().get("language")};q.prototype.getCaptions=function(){return this.getState().get("captions")};q.prototype.getLanguages=function(){return this.getState().get("availableLanguages")};q.prototype.getVPC=function(){return this.getState().get("vpc")};f.exports=new q(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoCaptionDeletionCache",["immutable"],(function a(b,c,d,e,f,g){__p&&__p();function h(){"use strict";this.cache=c("immutable").Map()}h.prototype.add=function(i){"use strict";this.cache=this.cache.set(i.id,i)};h.prototype.remove=function(i){"use strict";this.cache=this.cache["delete"](i)};h.prototype.has=function(i){"use strict";return this.cache.get(i)!==undefined};f.exports=h}),null);
__d("VideoCaptionsPublishTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:VideoCaptionsPublishLoggerConfig",this.$VideoCaptionsPublishTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:VideoCaptionsPublishLoggerConfig",this.$VideoCaptionsPublishTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$VideoCaptionsPublishTypedLogger1={};return this};h.prototype.updateData=function(j){this.$VideoCaptionsPublishTypedLogger1=babelHelpers["extends"]({},this.$VideoCaptionsPublishTypedLogger1,j);return this};h.prototype.setError=function(j){this.$VideoCaptionsPublishTypedLogger1.error=j;return this};h.prototype.setEvent=function(j){this.$VideoCaptionsPublishTypedLogger1.event=j;return this};h.prototype.setIsCaptionEditor=function(j){this.$VideoCaptionsPublishTypedLogger1.is_caption_editor=j;return this};h.prototype.setIsCaptionsEditor=function(j){this.$VideoCaptionsPublishTypedLogger1.is_captions_editor=j;return this};h.prototype.setPublishPhase=function(j){this.$VideoCaptionsPublishTypedLogger1.publish_phase=j;return this};h.prototype.setSubtitleID=function(j){this.$VideoCaptionsPublishTypedLogger1.subtitle_id=j;return this};h.prototype.setVC=function(j){this.$VideoCaptionsPublishTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$VideoCaptionsPublishTypedLogger1.video_id=j;return this};h.prototype.setVideoLanguage=function(j){this.$VideoCaptionsPublishTypedLogger1.video_language=j;return this};h.prototype.setVideoLocale=function(j){this.$VideoCaptionsPublishTypedLogger1.video_locale=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$VideoCaptionsPublishTypedLogger1=babelHelpers["extends"]({},this.$VideoCaptionsPublishTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={error:true,event:true,is_caption_editor:true,is_captions_editor:true,publish_phase:true,subtitle_id:true,vc:true,video_id:true,video_language:true,video_locale:true};f.exports=h}),null);
__d("VideoComposerDialogCaptionEditorActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({ADD_CAPTION_ENTRY:"",REMOVE_CAPTION_ENTRY:"",EDIT_CAPTION_ENTRY:"",SET_PREVIEW_ENTRY:"",SET_EDITOR_LANGUAGE:"",SET_EDITOR_LOCALE:"",SET_CAPTIONS:"",SET_NEXT_ENTRY:"",PLAY_PREVIEW_ENTRY:"",CONFIRM_CLOSE_DIALOG:"",CANCEL_CLOSE_DIALOG:"",SHOW_EXIT_DIALOG:"",START_SAVE_CAPTION_CHANGESET:"",FINISH_SAVE_CAPTION_CHANGESET:"",INITIALIZE_EDITOR_LANGUAGE:"",RESET_CAPTION_EDITOR:""});f.exports=h}),null);
__d("VideoComposerDialogCaptionsTabActionTypes",["keyMirror","immutable"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({SHOW_CAPTION_EDITOR:"",HIDE_CAPTION_EDITOR:"",INITIALIZE_CAPTION_LANDING_SCREEN:"",GENERATE:"",CANCEL_GENERATE:"",CREATE:"",EDIT_CAPTIONS_DRAFT:"",DELETE_CAPTIONS_DRAFT:"",START_SRT_UPLOAD:"",FINISH_SRT_UPLOAD:"",GENERATE_COMPLETE:"",CREATE_COMPLETE:"",SELECT_SPOKEN_LANGUAGE:"",SELECT_SPOKEN_LOCALE:"",FINISHED_FETCH_DRAFTS:"",GENERATE_PROGRESS_UPDATE:"",UPDATE_CAPTION_FILES:"",UPDATE_ERROR_STATE:"",SET_AUTO_GENERATED_CAPTIONS:"",RESET_CAPTIONS_LANDING_TAB:"",RETRY_AUTO_GENERATION:"",RESUME_AUTO_GENERATION:"",RESET_AUTO_GENERATING_LOCALE:"",TRY_RESUME_AUTO_GENERATION:"",INITIALIZE_ALL_CAPTION_FILES:"",BOOTLOAD_PARAMETERS_CAPTIONS_TAB:"",CHANGE_PUBLISHED_STATE:"",PENDING_TO_PUBLISHED:"",CAPTION_LANDING_SCREEN_OPEN_EVENT:"",OLD_COMPOSER_CAPTION_TAB_OPEN_EVENT:"",RESET_OPEN_LANDING_SCREEN_STATE:""});f.exports=h}),null);
__d("XVideoCaptionSpeechDetectionAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/captioneditor/speechnonspeech/getresults/",{video_id:{type:"Int",required:true},locale:{type:"String",defaultValue:""}})}),null);
__d("XVideoCaptionUploadAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/captioneditor/captionupload/",{video_id:{type:"Int",required:true}})}),null);
__d("VideoComposerDialogCaptionsStore",["Promise","ActorURI","AsyncRequest","ComposerVideoUploadActions","VideoComposerDialogActionTypes","VideoComposerDialogCaptionEditorConstants","VideoCaptionFile","VideoComposerDialogCaptionEditorStore","VideoComposerDialogCaptionEditorActionTypes","VideoComposerDialogCaptionEditorUtils","VideoComposerDialogCaptionsTabActions","VideoComposerDialogDispatcher","FluxReduceStore","VideoComposerDialogUploadUtils","immutable","VideoComposerDialogCaptionsTabActionTypes","XVideoCaptionGenerateAsyncController","XVideoCaptionSpeechDetectionAsyncController","RTISubscriptionManager","XVideoCaptionUploadAsyncController","VideoUploadUIError","VideoCaptionsPublishTypedLogger","VideoCaptionsLoggerEvents","VideoCaptionDeletionCache","InsightsLocaleNamesSwitch"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l=c("InsightsLocaleNamesSwitch").module,m={accessToken:null,drafts:c("immutable").List(),isSpokenLanguageSelected:false,publishedStateChangeset:c("immutable").Map(),deletionCache:new(c("VideoCaptionDeletionCache"))(),selectedCaption:null,show_caption_editor:false,videoFile:null,video_id:null,videoData:null,isAutoGenerating:false,isCreating:false,spokenLanguage:c("VideoComposerDialogCaptionEditorConstants").NO_LANGUAGE_SELECTED,autoGeneratingLocale:null,autoGeneratingLanguage:null,spokenLocale:c("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE,progress:0,autoGenProcessRate:c("VideoComposerDialogCaptionEditorConstants").DEFAULT_PROCESSING_SPEED,generateStarted:0,composerID:"",pageID:"",captionFiles:c("immutable").Map(),isSRTUploading:false,videoDurationInSec:0,errors:c("immutable").List(),numAutoGenerationRetries:0,enableAdvancedCaptionsFeatures:true,isEditFlow:false,isOldComposer:false,wasOldComposerCaptionTabClicked:false,timeFirstInitialized:null},n=5*1e3,o=50,p=1e3,q=15*1e3;h=babelHelpers.inherits(r,c("immutable").Record(m));i=h&&h.prototype;function r(){h.apply(this,arguments)}j=babelHelpers.inherits(s,c("FluxReduceStore"));k=j&&j.prototype;s.prototype.getInitialState=function(){return new r()};s.prototype.getAllCaptions=function(){return new(c("immutable").List)(this.getState().get("drafts"))};s.prototype.getSpokenLanguage=function(){return this.getState().get("spokenLanguage")};s.prototype.getSpokenLocale=function(){return this.getState().get("spokenLocale")};s.prototype.getAutoGeneratingLocale=function(){return this.getState().get("autoGeneratingLocale")};s.prototype.isSpokenLanguageSelected=function(){return this.getState().get("isSpokenLanguageSelected")};s.prototype.getLogger=function(){var t=this.getState(),u=t.get("isEditFlow")===true?"post-publish":"pre-publish";return new(c("VideoCaptionsPublishTypedLogger"))().setVideoID(t.get("video_id")).setVideoLanguage(t.get("spokenLanguage")).setVideoLocale(t.get("spokenLocale")).setPublishPhase(u)};s.prototype.getEnableAdvancedCaptionsFeatures=function(){return this.getState().get("enableAdvancedCaptionsFeatures")};s.prototype.getpublishedStateChangeset=function(){return this.getState().get("publishedStateChangeset")};s.prototype.wasTabOpenedInOldComposer=function(){var t=this.getState();return t.get("isOldComposer")&&t.get("wasOldComposerCaptionTabClicked")};s.prototype.logComposerSaveEvent=function(){var t=this.getState();if(t.get("timeFirstInitialized")===null||t.get("video_id")===null||t.get("video_id")==="")return;var u=t.get("drafts"),v=c("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(t.get("captionFiles"),u||c("immutable").List());this.$VideoComposerDialogCaptionsStore1(v)};s.prototype.$VideoComposerDialogCaptionsStore1=function(t){var u=this.getState(),v=u.get("drafts");this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").COMPOSER_SAVE,{session_id:u.get("timeFirstInitialized"),num_captions:String(v.size),num_published_captions:String(t.size)});setTimeout(function(){return c("VideoComposerDialogCaptionsTabActions").resetOpenLandingScreenState()},0)};s.prototype.$VideoComposerDialogCaptionsStore3=function(t,u){__p&&__p();var v,w,x=true;switch(t.type){case c("VideoComposerDialogCaptionsTabActionTypes").SHOW_CAPTION_EDITOR:case c("VideoComposerDialogCaptionsTabActionTypes").CREATE:case c("VideoComposerDialogCaptionsTabActionTypes").EDIT_CAPTIONS_DRAFT:case c("VideoComposerDialogCaptionsTabActionTypes").SELECT_SPOKEN_LANGUAGE:case c("VideoComposerDialogCaptionsTabActionTypes").SELECT_SPOKEN_LOCALE:case c("VideoComposerDialogCaptionsTabActionTypes").DELETE_CAPTIONS_DRAFT:case c("VideoComposerDialogCaptionsTabActionTypes").FINISH_SRT_UPLOAD:return true;case c("VideoComposerDialogCaptionsTabActionTypes").GENERATE:x=true;if(u.size>0)(function(){var y=c("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(c("VideoUploadUIError").AUTOGENERATE_FAIL_RETRY);u.forEach(function(z){if(z.toString().localeCompare(y.toString())===0){x=false;return}})})();return x;case c("VideoComposerDialogCaptionsTabActionTypes").GENERATE_COMPLETE:x=false;if(u.size>0)(function(){var y=c("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(c("VideoUploadUIError").AUTOGENERATE_FAIL_RETRY);u.forEach(function(z){if(z.toString().localeCompare(y.toString())===0){x=true;return}})})();return x}return false};s.prototype.reduce=function(t,u){__p&&__p();var v=null,w=null,x=null,y=true,z=null;if(this.$VideoComposerDialogCaptionsStore3(u,t.get("errors"))&&t.get("errors").size>0)t=t.set("errors",c("immutable").List());switch(u.type){case c("VideoComposerDialogActionTypes").RESET_COMPOSER:t=this.getInitialState();return t;case c("VideoComposerDialogCaptionsTabActionTypes").RESET_CAPTIONS_LANDING_TAB:y=t.get("enableAdvancedCaptionsFeatures");t=this.getInitialState().set("enableAdvancedCaptionsFeatures",y);return t;case c("VideoComposerDialogCaptionsTabActionTypes").SHOW_CAPTION_EDITOR:t=t.set("show_caption_editor",true);return t;case c("VideoComposerDialogCaptionEditorActionTypes").CONFIRM_CLOSE_DIALOG:t=t.set("show_caption_editor",false);t=this.$VideoComposerDialogCaptionsStore4(t);return t;case c("VideoComposerDialogCaptionEditorActionTypes").FINISH_SAVE_CAPTION_CHANGESET:return this.$VideoComposerDialogCaptionsStore5(t);case c("VideoComposerDialogCaptionsTabActionTypes").OLD_COMPOSER_CAPTION_TAB_OPEN_EVENT:return t.set("wasOldComposerCaptionTabClicked",true);case c("VideoComposerDialogCaptionsTabActionTypes").CAPTION_LANDING_SCREEN_OPEN_EVENT:var A=t.get("video_id"),B=t.get("timeFirstInitialized")===null&&A!==null&&A!=="";if(!B)return t;var C=String(Date.now());this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_TAB_OPENED,{session_id:C});return t.set("timeFirstInitialized",C);case c("VideoComposerDialogCaptionsTabActionTypes").RESET_OPEN_LANDING_SCREEN_STATE:return t.set("isOldComposer",false).set("wasOldComposerCaptionTabClicked",false).set("timeFirstInitialized",null);case c("VideoComposerDialogCaptionsTabActionTypes").INITIALIZE_CAPTION_LANDING_SCREEN:var D=u.isOldComposer?u.isOldComposer:false;t=this.$VideoComposerDialogCaptionsStore6(t,u.videoFile,u.video_id,u.accessToken,u.composerID,u.pageID,u.videoDurationInSec,u.isEditFlow===true,D);this.$VideoComposerDialogCaptionsStore7(t.get("video_id"));this.$VideoComposerDialogCaptionsStore8(t.get("video_id"),true);return t;case c("VideoComposerDialogCaptionsTabActionTypes").TRY_RESUME_AUTO_GENERATION:var E=t.get("autoGeneratingLocale")!==null?c("VideoComposerDialogCaptionEditorUtils").getHeadLocale(t.get("autoGeneratingLocale")):null;this.$VideoComposerDialogCaptionsStore9(t.get("video_id"),E);return t;case c("VideoComposerDialogCaptionsTabActionTypes").FINISHED_FETCH_DRAFTS:z=c("VideoComposerDialogCaptionEditorUtils").updateToChangesetValues(u.drafts,t.get("publishedStateChangeset"));z=c("VideoComposerDialogCaptionEditorUtils").filterOutDeletions(z,t.get("deletionCache"));return t.set("drafts",z);case c("VideoComposerDialogCaptionsTabActionTypes").RESET_AUTO_GENERATING_LOCALE:return t.set("autoGeneratingLocale",null).set("autoGeneratingLanguage",null);case c("VideoComposerDialogCaptionsTabActionTypes").GENERATE:t=t.set("isAutoGenerating",true).set("progress",0).set("generateStarted",Date.now()).set("autoGeneratingLocale",t.get("spokenLocale")).set("autoGeneratingLanguage",t.get("spokenLanguage"));w=this.$VideoComposerDialogCaptionsStore10(t.get("video_id"),t.get("spokenLanguage"),t.get("spokenLocale"));if(!w)t=t.set("isAutoGenerating",false).set("autoGeneratingLocale",null).set("autoGeneratingLanguage",null);return t;case c("VideoComposerDialogCaptionsTabActionTypes").CREATE:t=t.set("isCreating",true);t=t.set("selectedCaption",null).set("show_caption_editor",true);this.$VideoComposerDialogCaptionsStore11(t.get("video_id"));return t;case c("VideoComposerDialogCaptionsTabActionTypes").GENERATE_COMPLETE:var F=t.get("spokenLanguage");x=c("VideoComposerDialogCaptionEditorUtils").makeNewCaptionFile(u.captions,u.locale,F);var G=x!==null&&F!==""&&u.subtitlesID!==null;if(G){t=this.$VideoComposerDialogCaptionsStore12(t,String(u.subtitlesID));t=this.$VideoComposerDialogCaptionsStore13(t,x,u.locale);t=t.set("numAutoGenerationRetries",0)}t=t.set("isAutoGenerating",false).set("autoGenProcessRate",c("VideoComposerDialogCaptionEditorConstants").DEFAULT_PROCESSING_SPEED).set("progress",0).set("autoGeneratingLocale",null).set("autoGeneratingLanguage",null);return t;case c("VideoComposerDialogCaptionsTabActionTypes").CREATE_COMPLETE:t=t.set("isCreating",false);return t;case c("VideoComposerDialogCaptionsTabActionTypes").GENERATE_PROGRESS_UPDATE:t=this.$VideoComposerDialogCaptionsStore14(t,u.progress);return t;case c("VideoComposerDialogCaptionsTabActionTypes").EDIT_CAPTIONS_DRAFT:t=t.set("show_caption_editor",true);v=t.get("drafts").get(u.id);t=t.set("selectedCaption",v);this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_DRAFT_EDITED,{},null,v.id);return t;case c("VideoComposerDialogCaptionsTabActionTypes").DELETE_CAPTIONS_DRAFT:z=t.get("drafts");v=t.get("drafts").get(u.id);z=c("VideoComposerDialogCaptionEditorUtils").filterOutDeletions(z["delete"](u.id),t.get("deletionCache"));var H=t.get("captionFiles");H=H["delete"](v.locale);var I=t.get("composerID");if(I){var J=c("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(H,z);c("ComposerVideoUploadActions").updateCaptions(I,Array.from(J.values()))}c("VideoComposerDialogCaptionEditorUtils").deleteSubtitles(t.get("video_id"),v,t.get("pageID"),t.get("deletionCache"),this.$VideoComposerDialogCaptionsStore15.bind(this));this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_DRAFT_DELETED,{},null,v.id);return t.set("drafts",z).set("captionFiles",H).set("publishedStateChangeset",t.get("publishedStateChangeset")["delete"](v.id));case c("VideoComposerDialogCaptionsTabActionTypes").SELECT_SPOKEN_LANGUAGE:this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").VIDEO_LANGUAGE_SELECTED);t=t.set("spokenLanguage",u.language).set("isSpokenLanguageSelected",true);return t;case c("VideoComposerDialogCaptionsTabActionTypes").SELECT_SPOKEN_LOCALE:t=t.set("spokenLocale",u.locale);return t;case c("VideoComposerDialogCaptionsTabActionTypes").CANCEL_GENERATE:t=t.set("isAutoGenerating",false);this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_GENERATE_CANCEL);return t;case c("VideoComposerDialogCaptionsTabActionTypes").START_SRT_UPLOAD:t=t.set("isSRTUploading",true);this.$VideoComposerDialogCaptionsStore16(t.get("video_id"),u.captions,t.get("accessToken"));return t;case c("VideoComposerDialogCaptionsTabActionTypes").FINISH_SRT_UPLOAD:t=t.set("isSRTUploading",false);this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_UPLOAD_COMPLETE,{},u.error);if(!u.success||u.error){var K=t.get("errors");K.append(u.error);t=t.set("errors",K);return t}var L=u.uploadedVideoSubtitles.size>0;if(!L)return t;u.uploadedVideoSubtitles.forEach(function(U,V){t=this.$VideoComposerDialogCaptionsStore12(t,U.subtitlesID);x=c("VideoComposerDialogCaptionEditorUtils").makeNewCaptionFile(c("immutable").List(U.captions),V,l[V]);t=this.$VideoComposerDialogCaptionsStore13(t,x,V)}.bind(this));return t;case c("VideoComposerDialogCaptionsTabActionTypes").UPDATE_CAPTION_FILES:x=c("VideoComposerDialogCaptionEditorStore").getState().get("captionFile");var M=c("VideoComposerDialogCaptionEditorStore").getState().get("locale"),N=M!==c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE&&M!==c("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE;if(N)t=this.$VideoComposerDialogCaptionsStore12(t,c("VideoComposerDialogCaptionEditorStore").getState().get("captionID"));var O=x!==null;if(O&&N)return this.$VideoComposerDialogCaptionsStore13(t,x,M);if(N)return this.$VideoComposerDialogCaptionsStore17(t,M);return t;case c("VideoComposerDialogCaptionsTabActionTypes").UPDATE_ERROR_STATE:t=t.set("errors",u.errors).set("show_caption_editor",false);return t;case c("VideoComposerDialogCaptionsTabActionTypes").RETRY_AUTO_GENERATION:var P=c("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(c("VideoUploadUIError").AUTOGENERATE_FAIL_RETRY);t=t.set("isAutoGenerating",false).set("autoGenProcessRate",c("VideoComposerDialogCaptionEditorConstants").DEFAULT_PROCESSING_SPEED).set("progress",0).set("numAutoGenerationRetries",t.get("numAutoGenerationRetries")+1).set("errors",c("immutable").List([P]));this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_GENERATE_RETRY,{},P.toString());setTimeout(c("VideoComposerDialogCaptionsTabActions").generate,c("VideoComposerDialogCaptionEditorConstants").POLL_FAKE_FREQUENCY_GENERATE_MS);return t;case c("VideoComposerDialogCaptionsTabActionTypes").RESUME_AUTO_GENERATION:if(t.get("autoGeneratingLanguage")!==null){this.$VideoComposerDialogCaptionsStore18(t.get("video_id"));this.$VideoComposerDialogCaptionsStore19(t.get("video_id"),t.get("autoGeneratingLanguage"));this.$VideoComposerDialogCaptionsStore20()}return t;case c("VideoComposerDialogCaptionsTabActionTypes").INITIALIZE_ALL_CAPTION_FILES:u.subtitles.forEach(function(U,V){if(U.locale===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)return;x=c("VideoComposerDialogCaptionEditorUtils").makeNewCaptionFile(c("immutable").List(U),V,l[V]);if(x===null)return;t=this.$VideoComposerDialogCaptionsStore13(t,x,V)}.bind(this));return t;case c("VideoComposerDialogCaptionsTabActionTypes").BOOTLOAD_PARAMETERS_CAPTIONS_TAB:t=t.set("enableAdvancedCaptionsFeatures",!u.data.disableAdvancedCaptionsFeatures);return t;case c("VideoComposerDialogCaptionsTabActionTypes").CHANGE_PUBLISHED_STATE:z=t.get("drafts");v=t.get("drafts").get(u.id);var Q=v.publishedState;v.publishedState=c("VideoComposerDialogCaptionEditorUtils").getUpdatedPublishState(v.publishedState);z=c("VideoComposerDialogCaptionEditorUtils").filterOutDeletions(z.splice(u.id,1,v),t.get("deletionCache"));var R=t.get("publishedStateChangeset").set(v.id,v.publishedState);if(t.get("composerID")){var S=c("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(t.get("captionFiles"),t.get("drafts")||c("immutable").List());c("ComposerVideoUploadActions").updateCaptions(t.get("composerID"),Array.from(S.values()))}this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CHANGE_PUBLISHED_STATE,{previous_state:Q,new_state:v.publishedState},null,v.id);return t.set("drafts",z).set("publishedStateChangeset",R);case c("VideoComposerDialogCaptionsTabActionTypes").PENDING_TO_PUBLISHED:return t.set("drafts",c("VideoComposerDialogCaptionEditorUtils").changeAllPendingToPublished(t.get("drafts"))).set("publishedStateChangeset",c("immutable").Map());case c("VideoComposerDialogActionTypes").SET_DEFAULT_CAPTION_LOCALE:var T=u.locale;return t.set("captionFiles",t.get("captionFiles").map(function(U){U.setIsDefault(T==U.getLocale());return U}));default:return t}};s.prototype.getPostData=function(){var t=this.getState();c("VideoComposerDialogCaptionEditorUtils").updatePublishedStatesOnServer(t.get("video_id"),t.get("pageID"),this.getpublishedStateChangeset());var u=t.get("drafts"),v=c("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(t.get("captionFiles"),u||c("immutable").List());this.logComposerSaveEvent();if(this.getSpokenLocale()===c("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE)return c("Promise").resolve({captions:Array.from(v.values())});else return c("Promise").resolve({captions:Array.from(v.values()),spoken_locale:this.getSpokenLocale()})};s.prototype.$VideoComposerDialogCaptionsStore6=function(t,u,v,w,x,y,z,A,B){t=t.set("videoFile",u);if(u)t=t.set("videoData",c("VideoComposerDialogUploadUtils").createVideoData(u));return t.set("video_id",v).set("accessToken",w).set("composerID",x).set("pageID",y).set("videoDurationInSec",z?z:0).set("isEditFlow",A).set("isOldComposer",B)};s.prototype.$VideoComposerDialogCaptionsStore21=function(t,u){if(!t)return;this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_TAB_OPENED,{session_id:u})};s.prototype.$VideoComposerDialogCaptionsStore5=function(t){__p&&__p();var u=c("VideoComposerDialogCaptionEditorStore").getState().get("locale"),v=c("VideoComposerDialogCaptionEditorStore").getState().get("language"),w=c("VideoComposerDialogCaptionEditorStore").getState().get("captionID"),x=t.get("drafts"),y=x.toArray();for(var z=0;z<x.size;z++){var A=x.get(z);if(A.id===w){A.locale=u;A.language=v;y[z]=A;break}}var B=c("VideoComposerDialogCaptionEditorUtils").filterOutDeletions(c("immutable").List(y),t.get("deletionCache"));return t.set("drafts",B)};s.prototype.$VideoComposerDialogCaptionsStore4=function(t){var u=t.get("drafts"),v=c("immutable").List();for(var w=0;w<u.size;w++){var x=u.get(w);if(x.locale===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)c("VideoComposerDialogCaptionEditorUtils").silentlyDeleteSubtitle(t.get("video_id"),x,t.get("pageID"));else v=v.push(x)}return t.set("drafts",v)};s.prototype.$VideoComposerDialogCaptionsStore12=function(t,u){var v=c("VideoComposerDialogCaptionEditorUtils").addLocaleAsPublishPending(t.get("publishedStateChangeset"),u),w=c("VideoComposerDialogCaptionEditorUtils").updateToChangesetValues(t.get("drafts"),v);return t.set("publishedStateChangeset",v).set("drafts",w)};s.prototype.$VideoComposerDialogCaptionsStore22=function(){return{sessionID:this.getState().get("timeFirstInitialized")}};s.prototype.$VideoComposerDialogCaptionsStore2=function(t,u,v,w){var x=this.getLogger().setEvent(t).setError(v).setSubtitleID(w);if(u!==null)for(var y in u){if(y===null||u[y]===null)return;x.addToExtraData(y,u[y])}x.log()};s.prototype.$VideoComposerDialogCaptionsStore14=function(t,u){var v=t.get("videoDurationInSec");if(v===0)return t;var w=100*u/v;w=Math.min(w,99);if(w>t.get("progress"))t=t.set("progress",w);var x=(Date.now()-t.get("generateStarted"))/1e3;return t.set("autoGenProcessRate",u/x)};s.prototype.$VideoComposerDialogCaptionsStore13=function(t,u,v){var w=c("VideoComposerDialogCaptionEditorUtils").getHeadLocale(v),x=t.get("captionFiles").set(w,u),y=t.get("composerID");if(y){var z=t.get("drafts"),A=c("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(x,z||c("immutable").List());c("ComposerVideoUploadActions").updateCaptions(y,Array.from(A.values()))}return t.set("captionFiles",x)};s.prototype.$VideoComposerDialogCaptionsStore17=function(t,u){var v=c("VideoComposerDialogCaptionEditorUtils").getHeadLocale(u),w=t.get("captionFiles")["delete"](v),x=t.get("composerID");if(x){var y=t.get("drafts"),z=c("VideoComposerDialogCaptionEditorUtils").getPublishedCaptionFiles(w,y||c("immutable").List());c("ComposerVideoUploadActions").updateCaptions(x,Array.from(z.values()))}return t.set("captionFiles",w)};s.prototype.$VideoComposerDialogCaptionsStore7=function(t){__p&&__p();c("VideoComposerDialogCaptionEditorUtils").fetchCaptions(t,function(u){__p&&__p();if(u&&u.video&&u.video.spoken_language)c("VideoComposerDialogCaptionsTabActions").selectSpokenLanguage(u.video.spoken_language);c("VideoComposerDialogCaptionEditorUtils").convertFetchToObject(t,false,u,function(v){__p&&__p();var w=c("VideoComposerDialogCaptionEditorUtils").makeAllSRTCaptionPromises(v);c("Promise").all(w).then(function(x){__p&&__p();var y=c("immutable").Map(),z="";x.forEach(function(A){if(!A)return;y=y.set(A.locale,A.captions);if(A.isDefault)z=A.locale});c("VideoComposerDialogCaptionsTabActions").initializeAllCaptionFiles(y);if(z!=="")c("VideoComposerDialogCaptionsTabActions").setDefaultLocale(z)}).done()})})};s.prototype.$VideoComposerDialogCaptionsStore15=function(t){var u=t.payload,v=u&&u.success;if(!v)this.$VideoComposerDialogCaptionsStore23()};s.prototype.$VideoComposerDialogCaptionsStore24=function(t,u,v){var w=c("XVideoCaptionGenerateAsyncController").getURIBuilder().setInt("video_id",t).setBool("regenerate",true).setBool("is_new_editor",true);if(u!==c("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE)w=w.setString("locale_override",u).setString("locale",u);var x=w.getURI(),y=c("ActorURI").create(x,this.getState().get("pageID"));new(c("AsyncRequest"))(y).setMethod("POST").setHandler(v).send()};s.prototype.$VideoComposerDialogCaptionsStore10=function(t,u,v){__p&&__p();if(!c("VideoComposerDialogCaptionEditorUtils").isAutoGenerateable(v))return false;this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_GENERATE_BUTTON_CLICKED);this.$VideoComposerDialogCaptionsStore24(t,v,function(w){var x=w.payload,y=x&&x.status!==0;if(y){this.$VideoComposerDialogCaptionsStore18(t);this.$VideoComposerDialogCaptionsStore19(t,u);this.$VideoComposerDialogCaptionsStore20()}else this.$VideoComposerDialogCaptionsStore25(u)}.bind(this));return true};s.prototype.$VideoComposerDialogCaptionsStore18=function(t){if(t)c("RTISubscriptionManager").subscribe("shortwave/captions/"+t,this.$VideoComposerDialogCaptionsStore26.bind(this))};s.prototype.$VideoComposerDialogCaptionsStore26=function(t){var u=t&&t.payload;if(!u)return;var v=JSON.parse(t.payload);if(!v.progress_ms)return;c("VideoComposerDialogCaptionsTabActions").updateGenerateProgress(v.progress_ms/1e3)};s.prototype.$VideoComposerDialogCaptionsStore27=function(){var t=(new Date()-this.getState().get("generateStarted"))/1e3;return c("VideoComposerDialogCaptionEditorUtils").shouldRetryAutoGeneration(this.getState().get("videoDurationInSec"),t)};s.prototype.$VideoComposerDialogCaptionsStore28=function(){return this.getState().get("numAutoGenerationRetries")>0};s.prototype.$VideoComposerDialogCaptionsStore29=function(t){if(this.$VideoComposerDialogCaptionsStore28()){this.$VideoComposerDialogCaptionsStore25(t);c("VideoComposerDialogCaptionsTabActions").generateComplete(c("immutable").List(),this.getState().get("spokenLocale"),null);return}c("VideoComposerDialogCaptionsTabActions").retryAutoGeneration()};s.prototype.$VideoComposerDialogCaptionsStore19=function(t,u){__p&&__p();var v=false,w=0,x=setInterval(function(){__p&&__p();w++;if(v)return;v=true;if(this.$VideoComposerDialogCaptionsStore27()){clearInterval(x);this.$VideoComposerDialogCaptionsStore29(u);return}c("VideoComposerDialogCaptionEditorUtils").fetchCaptions(t,function(y){__p&&__p();var z=y&&y.video&&y.video.video_subtitles;if(z){var A=y.video.video_subtitles,B=A.map(function(D,E){return{id:D.id,language:D.display_language,locale:D.locale,creationMethod:D.subtitle_creation_method}}),C=c("VideoComposerDialogCaptionEditorUtils").findAutoGeneratedCaption(B,u);if(C){clearInterval(x);this.$VideoComposerDialogCaptionsStore8(t,false);this.$VideoComposerDialogCaptionsStore30(C.id,C.locale);return}if(w===p){this.$VideoComposerDialogCaptionsStore25(u);c("VideoComposerDialogCaptionsTabActions").generateComplete(c("immutable").List(),this.getState().get("spokenLocale"),null);clearInterval(x);return}v=false}}.bind(this))}.bind(this),q)};s.prototype.$VideoComposerDialogCaptionsStore20=function(){var t=0,u=this.getState().get("videoDurationInSec"),v=setInterval(function(){t++;var w=!this.getState().get("isAutoGenerating")||t>=c("VideoComposerDialogCaptionEditorConstants").MAX_FAKE_POLL_ITERATIONS;if(w){clearInterval(v);return}var x=this.getState().get("progress"),y=x*u/100,z=this.getState().get("autoGenProcessRate"),A=y+z*c("VideoComposerDialogCaptionEditorConstants").POLL_FAKE_FREQUENCY_GENERATE_MS*c("VideoComposerDialogCaptionEditorConstants").AUTO_GEN_PROGRESS_RATE_FACTOR/1e3;c("VideoComposerDialogCaptionsTabActions").updateGenerateProgress(A)}.bind(this),c("VideoComposerDialogCaptionEditorConstants").POLL_FAKE_FREQUENCY_GENERATE_MS)};s.prototype.$VideoComposerDialogCaptionsStore11=function(t){this.$VideoComposerDialogCaptionsStore24(t,c("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE,function(u){var v=u.payload,w=v&&v.status!==0;if(w)this.$VideoComposerDialogCaptionsStore31(t);else this.$VideoComposerDialogCaptionsStore32()}.bind(this))};s.prototype.$VideoComposerDialogCaptionsStore31=function(t){__p&&__p();var u=false,v=0,w=setInterval(function(){__p&&__p();v++;if(u)return;var x=c("XVideoCaptionSpeechDetectionAsyncController").getURIBuilder().setInt("video_id",t);u=true;var y=x.getURI(),z=c("ActorURI").create(y,this.getState().get("pageID"));new(c("AsyncRequest"))(z).setMethod("POST").setHandler(function(A){__p&&__p();var B=A.payload,C=B&&B.status===2;if(C){clearInterval(w);this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_CREATE_COMPLETE);c("VideoComposerDialogCaptionEditorUtils").fetchCaptionedLocales(t,false,function(E){__p&&__p();c("VideoComposerDialogCaptionEditorUtils").finishCaptionsFetch(E);c("VideoComposerDialogCaptionsTabActions").createComplete();if(this.getState().show_caption_editor){var F=E.findIndex(function(G){return G.language===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE});c("VideoComposerDialogCaptionsTabActions").editCaptionsDraft(F)}else E.forEach(function(G,F){if(G.language===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)c("VideoComposerDialogCaptionsTabActions").deleteCaptionsDraft(F)})}.bind(this));return}var D=B===null||B&&B.status===0;if(D){this.$VideoComposerDialogCaptionsStore32();clearInterval(w);return}if(v===o){this.$VideoComposerDialogCaptionsStore32();clearInterval(w);return}u=false}.bind(this)).send()}.bind(this),n)};s.prototype.$VideoComposerDialogCaptionsStore8=function(t,u){c("VideoComposerDialogCaptionEditorUtils").fetchCaptionedLocales(t,u,c("VideoComposerDialogCaptionEditorUtils").finishCaptionsFetch)};s.prototype.$VideoComposerDialogCaptionsStore9=function(t,u){c("VideoComposerDialogCaptionEditorUtils").fetchCaptionedLocales(t,false,function(v){var w=u!==null;if(w)this.$VideoComposerDialogCaptionsStore33(v,u);c("VideoComposerDialogCaptionEditorUtils").finishCaptionsFetch(v)}.bind(this))};s.prototype.$VideoComposerDialogCaptionsStore33=function(t,u){var v=t.some(function(w){w.locale===u});if(v)c("VideoComposerDialogCaptionsTabActions").resetAutoGeneratingLocale();else c("VideoComposerDialogCaptionsTabActions").resumeAutoGeneration()};s.prototype.$VideoComposerDialogCaptionsStore16=function(t,u,v){var w=c("XVideoCaptionUploadAsyncController").getURIBuilder().setInt("video_id",t),x=new FormData();u.forEach(function(A,B){var C=A.getIsDefault()?"captions_default":"captions_file"+B;x.append(C,A.getFile())});var y=w.getURI(),z=c("ActorURI").create(y,this.getState().get("pageID"));new(c("AsyncRequest"))(z).setMethod("POST").setHandler(function(A){this.$VideoComposerDialogCaptionsStore34(A,t,u)}.bind(this)).setRawData(x).send()};s.prototype.$VideoComposerDialogCaptionsStore34=function(t,u,v){__p&&__p();var w=t.payload,x=w&&w.success==="true"&&w.error==="";if(!x){var y=w?w.error:c("VideoComposerDialogCaptionEditorConstants").NO_PAYLOAD;c("VideoComposerDialogCaptionsTabActions").finishSRTUpload(x,y,c("immutable").Map());return}c("VideoComposerDialogCaptionEditorUtils").fetchCaptions(u,function(z){__p&&__p();c("VideoComposerDialogCaptionEditorUtils").convertFetchToObject(u,false,z,function(A){c("VideoComposerDialogCaptionEditorUtils").finishCaptionsFetch(A);var B=c("VideoComposerDialogCaptionEditorUtils").makeSRTCaptionPromises(v,A);c("Promise").all(B).then(function(C){var D=c("immutable").Map();C.forEach(function(E){if(!E)return;D=D.set(E.locale,{subtitlesID:E.subtitlesID,captions:E.captions})});c("VideoComposerDialogCaptionsTabActions").finishSRTUpload(x,w.error,D)}).done()})})};s.prototype.$VideoComposerDialogCaptionsStore25=function(t){var u=c("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(c("VideoUploadUIError").CAPTION_ERROR_GENERATE_FAIL,t);this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_GENERATE_COMPLETE,{},u.toString());this.$VideoComposerDialogCaptionsStore35(u)};s.prototype.$VideoComposerDialogCaptionsStore32=function(){var t=c("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(c("VideoUploadUIError").CAPTION_ERROR_CREATE_FAIL);this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_CREATE_COMPLETE,{},t.toString());this.$VideoComposerDialogCaptionsStore35(t)};s.prototype.$VideoComposerDialogCaptionsStore23=function(){var t=c("VideoComposerDialogCaptionEditorUtils").getCaptionErrorMessage(c("VideoUploadUIError").CAPTION_ERROR_DELETE_FAIL);this.$VideoComposerDialogCaptionsStore35(t)};s.prototype.$VideoComposerDialogCaptionsStore35=function(t){var u=c("immutable").List([t]),v={type:c("VideoComposerDialogCaptionsTabActionTypes").UPDATE_ERROR_STATE,errors:u};c("VideoComposerDialogDispatcher").dispatch(v)};s.prototype.$VideoComposerDialogCaptionsStore30=function(t,u){this.$VideoComposerDialogCaptionsStore2(c("VideoCaptionsLoggerEvents").CAPTION_GENERATE_COMPLETE);c("VideoComposerDialogCaptionEditorUtils").fetchCaptionByID(t,function(v){var w=v&&v.video_subtitle&&v.video_subtitle.captions&&v.video_subtitle.captions.edges;if(w){var x=v.video_subtitle.captions.edges;c("VideoComposerDialogCaptionsTabActions").generateComplete(c("immutable").List(x),u,t)}})};function s(){j.apply(this,arguments)}f.exports=new s(c("VideoComposerDialogDispatcher"))}),null);
__d("VideoComposerDialogEditUtils",["Promise","ActorURI","AsyncRequest","VideoComposerDialogActions","VideoComposerDialogMetadataStore","VideoComposerDialogTabs","XVideoEditDialogSaveController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(j,k,l){__p&&__p();var m=new FormData(),n=[];for(var o=l,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;n.push(c("VideoComposerDialogTabs").get(s).getEditRequestDataToSend().then(function(t){if(t)Object.keys(t).forEach(function(u){if(t)m.append(u,t[u])})}))}[c("VideoComposerDialogMetadataStore").getEditRequestDataToSend()].forEach(function(t){return n.push(t.then(function(u){if(u)Object.keys(u).forEach(function(v){m.append(v,u[v])})}))});c("Promise").all(n).done(function(){i(j,k,m)},function(t){c("VideoComposerDialogActions").saveEditedVideoFailure()})},i=function i(j,k,l){var m=c("XVideoEditDialogSaveController").getURIBuilder().setInt("v",k).getURI();m=c("ActorURI").create(m,j);new(c("AsyncRequest"))(m).setRawData(l).setHandler(function(n){var o=n.payload.error;if(!o)c("VideoComposerDialogActions").saveEditedVideoSuccess();else c("VideoComposerDialogActions").saveEditedVideoFailure()}).send()};f.exports={onSave:h}}),null);
__d("VideoComposerDialogTabUtils",["Promise","React","VideoComposerDialogActions","VideoComposerDialogTabs","VideoComposerDialogVideoTypeConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(k,l){__p&&__p();var m=c("VideoComposerDialogVideoTypeConfig").typeConfig[k].displayedTabs,n=[];for(var o=m,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;n.push(c("VideoComposerDialogTabs").get(s).fetchCrosspostData(l))}c("Promise").all(n).done()},i=function i(k,l){__p&&__p();var m=c("VideoComposerDialogVideoTypeConfig").typeConfig[k].displayedTabs,n=[];for(var o=m,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;n.push(c("VideoComposerDialogTabs").get(s).fetchEditPostData(l))}c("Promise").all(n).done(function(){c("VideoComposerDialogActions").editTabsLoaded()})},j=function j(k){return k.map(function(l){var m=c("VideoComposerDialogTabs").get(l).tabContainer;return c("React").createElement(m,{key:l})})};f.exports={fetchCrosspostParameters:h,fetchEditPostParameters:i,getTabContainers:j}}),null);
__d("XVideoComposerDialogInitUploadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/init_upload/",{target_id:{type:"FBID",required:true},composer_entry_point_ref:{type:"Enum",required:true,enumType:1}})}),null);
__d("VideoComposerDialogUploadUtils",["Promise","ActorURI","Arbiter","AsyncRequest","VideoComposerDialogActions","VideoComposerDialogConstants","VideoComposerDialogMetadataStore","VideoComposerDialogSphericalDirectorActions","VideoComposerDialogTabs","VideoComposerDialogUploadStore","VideoData","VideoUploader","VideoUploadFile","XVideoComposerDialogInitUploadController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(n,o){n.addSubscriptions(o.subscribe("upload-finished",c("VideoComposerDialogActions").uploadFinished),o.subscribe("upload-failed",function(event,p){setTimeout(function(){return c("VideoComposerDialogActions").uploadFailed(event,p)},0)}),o.subscribe("upload-progressed",c("VideoComposerDialogActions").uploadProgressed),o.subscribe("post-failed",c("VideoComposerDialogActions").postFailed),o.subscribe("post-finished",c("VideoComposerDialogActions").postFinished),o.subscribe("metadata-parsed",function(event,p){setTimeout(function(){return c("VideoComposerDialogActions").metadataLoadedFromVideoUploader(p)},0)}))},i=function i(n,o){var p=c("VideoUploadFile").fromFile(n);o.upload(p)},j=function j(n,o){__p&&__p();var p={},q=[];for(var r=o,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u;q.push(c("VideoComposerDialogTabs").get(v).getPostData().then(function(w){Object.assign(p,w)}))}[c("VideoComposerDialogMetadataStore").getPostData(),c("VideoComposerDialogUploadStore").getPostData()].forEach(function(w){return q.push(w.then(function(x){Object.assign(p,x)}))});c("Promise").all(q).done(function(){n.post(p)},function(w){setTimeout(function(){return c("VideoComposerDialogActions").cancelUpload()},1)})},k=function k(n,o,p){var q=c("XVideoComposerDialogInitUploadController").getURIBuilder().setFBID("target_id",o).setEnum("composer_entry_point_ref",p).getURI(),r=c("ActorURI").create(q,n);new(c("AsyncRequest"))(r).setHandler(function(s){c("VideoComposerDialogActions").initVideoUploader(new(c("VideoUploader"))(s.payload.videoUploader[0]))}).send()},l=function l(n){var o=b.URL.createObjectURL(n);return new(c("VideoData"))({aspect_ratio:c("VideoComposerDialogConstants").SIXTEEN_NINE,original_height:c("VideoComposerDialogConstants").PLAYER_HEIGHT,original_width:c("VideoComposerDialogConstants").PLAYER_WIDTH,player_version_overwrite:"pleasantville",sd_src:o,stream_type:"progressive",video_id:""})},m=function m(n,o){var p=c("VideoComposerDialogMetadataStore").getState(),q=p.actorID,r=p.profileDisplayName,s=p.profilePictureURI;c("Arbiter").inform("videoUpload/complete",{videoID:n.video_id,containerType:n.video_container,copyrighted:n.copyrighted,videoAssetID:n.video_asset_id,videoTitle:n.video_title,videoDescription:n.xhpc_message_text,videoThumbnailBlob:n.thumb,isScheduledPost:!!n.scheduled,isHiddenFromTimeline:n.no_story,isSecret:n.secret,isDraft:n.draft=="true",isPageToPage:true,originalComposerID:o,pageID:q,isEpisode:n.episode_data_json!==null&&n.episode_data_json!==undefined&&JSON.parse(n.episode_data_json).isEpisode,userDisplayName:r,userProfilePictureURI:s});c("Arbiter").inform("videoUpload/"+o+"/done");c("Arbiter").inform("Pages/composeFinished",{composerID:o})};f.exports={addUploadSubscriptions:h,beginUpload:i,createVideoData:l,doPost:j,loadVideoUploader:k,postFinished:m}}),null);
__d("XVideoComposerDialogBootloadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/bootload_params/",{})}),null);
__d("VideoComposerDialogUtils",["ActorURI","AsyncRequest","ComposerEntryPointRef","ComposerXVideoUploadDialogController","PagesSettingsInstreamAdsBlockListContentStore","PagesSettingsInstreamAdsBlockListDispatcher","PagesSettingsInstreamAdsBlockListStore","VideoComposerDialogActions","VideoComposerDialogAdBreakStore","VideoComposerDialogCaptionsStore","VideoComposerDialogDispatcher","VideoComposerDialogDistributionStore","VideoComposerDialogEditStore","VideoComposerDialogLoggingStore","VideoComposerDialogMetadataStore","VideoComposerDialogUIStore","VideoComposerDialogUploadStore","VideoUploadFile","XVideoComposerDialogBootloadController","formatDate"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(n){var o=c("XVideoComposerDialogBootloadController").getURIBuilder().getURI(),p=c("ActorURI").create(o,n);new(c("AsyncRequest"))(p).setHandler(function(q){c("VideoComposerDialogActions").bootloadParameters(q.payload)}).send()},i=function i(n){var o=c("formatDate")(n,"m/d/Y",{skipPatternLocalization:true}),p=60*(n.getHours()*60+n.getMinutes());return{dateStr:o,timeSec:p}},j=function j(n){m();c("VideoComposerDialogActions").initializeCrosspostComposer(n)},k=function k(n){m();c("VideoComposerDialogActions").initializeEditComposer(n)},l=function l(n){var o=n.composerEntryPointRef?c("ComposerEntryPointRef")[n.composerEntryPointRef.toUpperCase()]:null;if(o===null)return;var p=c("ComposerXVideoUploadDialogController").getComposerInstance(n.composerID).getFileInput(),q=c("VideoUploadFile").fromFileInput(p.getInput());if(!q)return;m();c("VideoComposerDialogActions").initializeComposer(n.actorID,n.targetID,n.oneClickPublish,o,n.composerID,p,q.getFile())},m=function m(){c("VideoComposerDialogDispatcher").explicitlyRegisterStores([c("VideoComposerDialogEditStore"),c("VideoComposerDialogLoggingStore"),c("VideoComposerDialogMetadataStore"),c("VideoComposerDialogUploadStore"),c("VideoComposerDialogUIStore"),c("VideoComposerDialogCaptionsStore"),c("VideoComposerDialogAdBreakStore"),c("VideoComposerDialogDistributionStore")]);c("PagesSettingsInstreamAdsBlockListDispatcher").explicitlyRegisterStores([c("PagesSettingsInstreamAdsBlockListContentStore"),c("PagesSettingsInstreamAdsBlockListStore")])};f.exports={beginBootloading:h,formatDateAndTime:i,openCrosspostDialog:function n(o){j(o)},openEditDialog:function n(o){k(o)},openUploadDialog:function n(o){l(o)}}}),null);
__d("VideoSubtitlesCaptionsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1771789996207101"};j.getQueryID=function(){"use strict";return"1479412692112455"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("VideoSubtitlesDetailQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1464334463602332"};j.getQueryID=function(){"use strict";return"1972054256453533"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("XVideoCaptionDeleteAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/captioneditor/delete/",{video_id:{type:"Int",required:true},subtitle_id:{type:"Int",required:true}})}),null);
__d("XVideoCaptionPublishedStateUpdateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/captioneditor/publishedstate/update/",{video_id:{type:"Int",required:true},subtitles_id:{type:"Int",required:true},new_published_state:{type:"Enum",required:true,enumType:0}})}),null);
__d("XVideoCaptionSaveAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/videos/captioneditor/save/",{caption_id:{type:"Int",required:true},caption:{type:"String"},caption_changeset:{type:"String"},source_app_id:{type:"FBID"},locale:{type:"String"},placement:{type:"Enum",enumType:0}})}),null);
__d("XVideoComposerDialogCaptionsTabBootloadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/composer/captions_tab/bootload_params/",{})}),null);
__d("VideoComposerDialogCaptionEditorUtils",["fbt","Promise","ActorURI","AsyncRequest","VideoCaptionFile","VideoCaptionUtil","VideoComposerDialogCaptionEditorActions","VideoComposerDialogCaptionEditorConstants","VideoComposerDialogCaptionEditorPublishStateEnum","VideoComposerDialogCaptionsStore","VideoSubtitlePublishedStatusType","VideoComposerDialogCaptionsTabActions","XVideoCaptionDeleteAsyncController","immutable","XVideoCaptionSaveAsyncController","moment.instagram","WebGraphQL","VideoSubtitlesCaptionsQueryWebGraphQLQuery","VideoCaptionDeletionCache","VideoUploadUIError","XVideoComposerDialogCaptionsTabBootloadController","XVideoCaptionPublishedStateUpdateController","VideoSubtitlesDetailQueryWebGraphQLQuery"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();i.prototype.saveCaptionChangeset=function(j,k,l,m,n){if(!this.$VideoComposerDialogCaptionEditorUtils1(k))return;var o=c("XVideoCaptionSaveAsyncController").getURIBuilder().setInt("caption_id",j).setString("locale",m).getURI(),p=c("ActorURI").create(o,n);new(c("AsyncRequest"))(p).setMethod("POST").setData({caption:JSON.stringify(k.toArray()),caption_changeset:JSON.stringify(l.toArray())}).setHandler(function(q){c("VideoComposerDialogCaptionEditorActions").finishSaveCaptionChangeset(q);c("VideoComposerDialogCaptionEditorActions").confirmCloseDialog();c("VideoComposerDialogCaptionsTabActions").updateCaptionFiles();c("VideoComposerDialogCaptionEditorActions").resetCaptionEditor()}).send()};i.prototype.$VideoComposerDialogCaptionEditorUtils1=function(j){return j.size>0};i.prototype.getTimeStamp=function(j){var k=Math.floor(j/1e3),l=k>=3599?"hh:mm:ss:SSS":"mm:ss:SS";return c("moment.instagram").utc(j).format(l)};i.prototype.getWidth=function(j,k){return j*c("VideoComposerDialogCaptionEditorConstants").SMALLEST_UNIT*k};i.prototype.fetchCaptions=function(j,k){c("WebGraphQL").exec(new(c("VideoSubtitlesCaptionsQueryWebGraphQLQuery"))({video_id:j})).done(k)};i.prototype.makeNewCaptionFile=function(j,k,l){if(j.size===0)return null;var m=j.filter(function(o){return o.node.text!==c("VideoComposerDialogCaptionEditorConstants").EMPTY_CAPTION_TEXT});if(m.size===0)return null;var n=c("VideoCaptionUtil").saveToFile(j.toArray(),k);return new(c("VideoCaptionFile"))(n,k,l)};i.prototype.finishCaptionsFetch=function(j){c("VideoComposerDialogCaptionsTabActions").finishedFetchDrafts(c("immutable").List(j))};i.prototype.fetchCaptionedLocales=function(j,k,l){if(!j)return;this.fetchCaptions(j,function(m){this.convertFetchToObject(j,k,m,l)}.bind(this))};i.prototype.convertFetchToObject=function(j,k,l,m){__p&&__p();var n,o=this,p=l&&l.video&&l.video.video_subtitles;if(p)(function(){var q=c("VideoComposerDialogCaptionsStore").getState(),r=l.video.video_subtitles,s=l.video.default_video_caption_locale,t=[];r.forEach(function(u,v){var w={id:u.id,locale:u.locale,language:u.display_language,creationMethod:u.subtitle_creation_method,publishedState:u.published_state,isDefault:u.locale===s};if(k&&w.locale===c("VideoComposerDialogCaptionEditorConstants").EMPTY_LOCALE)this.silentlyDeleteSubtitle(j,w,q.get("pageID"));else t.push(w)}.bind(o));m(t)})()};i.prototype.fetchCaptionByID=function(j,k){if(!j)return;c("WebGraphQL").exec(new(c("VideoSubtitlesDetailQueryWebGraphQLQuery"))({subtitles_id:j})).done(k)};i.prototype.findAutoGeneratedCaption=function(j,k){return j.find(function(l){return l.language===k&&l.creationMethod===c("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATED})};i.prototype.findSRTUploadCaption=function(j,k){return j.find(function(l){return l.locale===k&&l.creationMethod===c("VideoComposerDialogCaptionEditorConstants").SRT_UPLOAD})};i.prototype.getCaptionErrorMessage=function(j,k){__p&&__p();switch(j){case c("VideoUploadUIError").CAPTION_ERROR_WRONG_FORMAT:return h._("You uploaded a .SRT file with an incorrect file name. Please use this format: filename{suffix}",[h.param("suffix",".en_US.srt")]);case c("VideoUploadUIError").CAPTION_ERROR_DUPLICATE_LOCALE:return h._("You have already added a caption file for {language}. Please remove the older caption file before adding a new one.",[h.param("language",k)]);case c("VideoUploadUIError").CAPTION_ERROR_GENERATE_FAIL:if(k==null)return h._("The caption generation has failed.");return h._("We're unable to auto-generate captions for {language}. You can still write them yourself or upload a file.",[h.param("language",k)]);case c("VideoUploadUIError").CAPTION_ERROR_CREATE_FAIL:return h._("The caption creation has failed.");case c("VideoUploadUIError").CAPTION_ERROR_DELETE_FAIL:return h._("The caption deletion has failed.");case c("VideoUploadUIError").AUTOGENERATE_FAIL_RETRY:return h._("The caption generation has failed. Retrying to generate.");default:return h._("There was an error uploading your caption file.")}};i.prototype.isAutoGenerateable=function(j){var k=this.getHeadLocale(j);return c("VideoComposerDialogCaptionEditorConstants").AUTO_GENERATABLE_HEAD_LOCALES.has(k)};i.prototype.getHeadLocale=function(j){if(j.slice(3,5)!=="XX")return j;var k=c("VideoComposerDialogCaptionEditorConstants").GENERAL_LOCALES_TO_HEAD.get(j);if(k)return k;return""};i.prototype.areHeadLocalesEqual=function(j,k){return this.getHeadLocale(j)===this.getHeadLocale(k)};i.prototype.getGenericLocale=function(j){var k=c("VideoComposerDialogCaptionEditorConstants").HEAD_TO_GENERAL_LOCALES.get(j);if(k)return k;return j};i.prototype.makeSRTCaptionPromises=function(j,k){__p&&__p();var l=[];j.forEach(function(m,n){l.push(new(c("Promise"))(function(o,p){var q=this.findSRTUploadCaption(k,m.getLocale()),r=q!==-1;if(!r){o();return}this.srtSubtitleIDToSubtitles(q.id,q.locale,q.publishedState,false,o)}.bind(this)))}.bind(this));return l};i.prototype.makeAllSRTCaptionPromises=function(j){var k=[];j.forEach(function(l){k.push(new(c("Promise"))(function(m,n){this.srtSubtitleIDToSubtitles(l.id,l.locale,l.publishedState,l.isDefault,m)}.bind(this)))}.bind(this));return k};i.prototype.srtSubtitleIDToSubtitles=function(j,k,l,m,n){this.fetchCaptionByID(j,function(o){var p=o&&o.video_subtitle&&o.video_subtitle.captions&&o.video_subtitle.captions.edges;if(p){var q=o.video_subtitle.captions.edges;n({captions:q,locale:k,publishedState:l,subtitlesID:j,isDefault:m})}else n()})};i.prototype.shouldRetryAutoGeneration=function(j,k){var l=j*c("VideoComposerDialogCaptionEditorConstants").GENERATION_RETRY_THRESHOLD.PCT/100,m=c("VideoComposerDialogCaptionEditorConstants").GENERATION_RETRY_THRESHOLD.TIME_S;return k>Math.max(l,m)};i.prototype.deleteSubtitles=function(j,k,l,m,n){m.add(k);var o=c("XVideoCaptionDeleteAsyncController").getURIBuilder().setInt("video_id",j).setInt("subtitle_id",k.id).getURI(),p=c("ActorURI").create(o,l);new(c("AsyncRequest"))(p).setMethod("POST").setHandler(function(q){m.remove(k.id);n(q)}).send()};i.prototype.silentlyDeleteSubtitle=function(j,k,l){var m=c("XVideoCaptionDeleteAsyncController").getURIBuilder().setInt("video_id",j).setInt("subtitle_id",k.id).getURI(),n=c("ActorURI").create(m,l);new(c("AsyncRequest"))(n).setMethod("POST").send()};i.prototype.beginBootloadingCaptionsTab=function(j){var k=c("XVideoComposerDialogCaptionsTabBootloadController").getURIBuilder().getURI(),l=c("ActorURI").create(k,j);new(c("AsyncRequest"))(l).setHandler(function(m){c("VideoComposerDialogCaptionsTabActions").bootloadParametersCaptionsTab(m.payload)}).send()};i.prototype.getUpdatedPublishState=function(j){if(j===c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISHED||j===c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING)return c("VideoComposerDialogCaptionEditorPublishStateEnum").DRAFT;else return c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING};i.prototype.updateToChangesetValues=function(j,k){var l=j.toArray();for(var m=0;m<j.size;m++){var n=j.get(m),o=k.get(n.id);if(o!==undefined){n.publishedState=o;l[m]=n}}return c("immutable").List(l)};i.prototype.getPublishedStateForServer=function(j){switch(j){case c("VideoComposerDialogCaptionEditorPublishStateEnum").DRAFT:return c("VideoSubtitlePublishedStatusType")[j];default:return c("VideoSubtitlePublishedStatusType")[c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISHED]}};i.prototype.updatePublishedStatesOnServer=function(j,k,l){__p&&__p();var m=false;l.forEach(function(n,o){__p&&__p();var p=c("VideoSubtitlePublishedStatusType")[n]!==undefined;if(!p)return;var q=c("XVideoCaptionPublishedStateUpdateController").getURIBuilder().setInt("video_id",j).setInt("subtitles_id",o).setEnum("new_published_state",this.getPublishedStateForServer(n)),r=q.getURI(),s=c("ActorURI").create(r,String(k));new(c("AsyncRequest"))(s).setMethod("POST").setHandler(function(t){var u=t.payload&&t.payload.success;if(u&&!m){c("VideoComposerDialogCaptionsTabActions").changePublishedStatePendingToPublished();m=true}}).send()}.bind(this))};i.prototype.changeAllPendingToPublished=function(j){var k=j.toArray();for(var l=0;l<j.size;l++)k[l]=this.changeOnePendingToPublished(j.get(l));return c("immutable").List(k)};i.prototype.changeOnePendingToPublished=function(j){var k=j.publishedState===c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING;if(k)j.publishedState=c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISHED;return j};i.prototype.subtitlesListToMap=function(j){var k={};j.forEach(function(l){var m=this.getHeadLocale(l.locale);k[m]=l}.bind(this));return c("immutable").Map(k)};i.prototype.getPublishedCaptionFiles=function(j,k){var l=this.subtitlesListToMap(k);return j.filter(function(m,n){var o=l.get(n);return o&&o.publishedState!==c("VideoComposerDialogCaptionEditorPublishStateEnum").DRAFT})};i.prototype.addLocaleAsPublishPending=function(j,k){return j.set(k,c("VideoComposerDialogCaptionEditorPublishStateEnum").PUBLISH_PENDING)};i.prototype.filterOutDeletions=function(j,k){var l=c("immutable").List();j.forEach(function(m){if(!k.has(m.id))l=l.push(m)});return l};function i(){}f.exports=new i()}),null);
__d("ComposerVideoShowsActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirrorRecursive")({SET_IS_EPISODE:"",SET_PLAYLISTS:"",SET_SEASON:"",SET_PLAYLIST_OPTIONS:"",SET_SEASON_OPTIONS:"",REQUEST_VIDEO_LIST_OPTIONS:"",INITIALIZE:"",LOAD_EPISODE_DATA:""});f.exports=h}),null);
__d("ComposerVideoShowsDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationReactDispatcher"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:true})}),null);
__d("ComposerVideoShowsActions",["ComposerVideoShowsActionTypes","ComposerVideoShowsDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={initialize:function i(j,k,l){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").INITIALIZE,composerID:j,composerEntryPoint:k,isEditing:l})},setIsEpisode:function i(j){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").SET_IS_EPISODE,isEpisode:j})},setPlaylists:function i(j){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").SET_PLAYLISTS,playlistIDs:j})},setSeason:function i(j){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").SET_SEASON,seasonID:j})},setPlaylistOptions:function i(j){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").SET_PLAYLIST_OPTIONS,value:j})},setSeasonOptions:function i(j){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").SET_SEASON_OPTIONS,value:j})},requestVideoListOptions:function i(j){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").REQUEST_VIDEO_LIST_OPTIONS,pageID:j})},loadEpisodeData:function i(j,k){c("ComposerVideoShowsDispatcher").dispatch({type:c("ComposerVideoShowsActionTypes").LOAD_EPISODE_DATA,composerID:j,isEpisode:k.isEpisode,seasonID:k.seasonID,playlistIDs:k.playlistIDs})}};f.exports=h}),null);
__d("ComposerVideoShowsState",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j={composerID:null,isEpisode:null,shouldShowPlaylistSelector:false,playlistIDs:[],seasonID:null,playlistOptions:{},seasonOptions:{}};h=babelHelpers.inherits(k,c("immutable").Record(j));i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("PageContentTabShowsStore",["EventEmitter","GraphAPI","PageContentTabConstants","PageContentTabDispatcher","PageContentTabAccessToken"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("PageContentTabConstants").ACTION_TYPES;h=babelHelpers.inherits(k,c("EventEmitter"));i=h&&h.prototype;function k(){i.constructor.call(this);this.$PageContentTabShowsStore1=undefined;this.$PageContentTabShowsStore2={videoListDescription:null,videoListTitle:null,videosCount:0};c("PageContentTabDispatcher").register(this.handleDispatcherPayload.bind(this))}k.prototype.getVideoListID=function(){return this.$PageContentTabShowsStore1};k.prototype.getVideoListHeaderInfo=function(){return this.$PageContentTabShowsStore2};k.prototype.handleDispatcherPayload=function(l){__p&&__p();var m=l.action;switch(m.actionType){case j.SET_VIDEO_LIST_ID:this.$PageContentTabShowsStore1=m.videoListID;break;case j.SET_VIDEO_LIST_HEADER_INFO:this.$PageContentTabShowsStore2=m.headerInfo;break;case j.REQUEST_VIDEO_LIST_HEADER_INFO:this.$PageContentTabShowsStore3(m.tab);break;default:return}this.emit("changed",m.pageID,m.tab)};k.prototype.$PageContentTabShowsStore3=function(l){var m=this.$PageContentTabShowsStore1;if(!m)return;c("GraphAPI")("2.8").object("video_list",m).get({access_token:c("PageContentTabAccessToken").getAccessToken(),fields:["id","videos_count","thumbnail","season_number","description","title"]}).then(function(n){c("PageContentTabDispatcher").handleSetVideoListHeaderInfo(l,{videoListDescription:n.description,videoListTitle:n.title,videosCount:n.videos_count,seasonNumber:n.season_number,thumbnail:n.thumbnail})}).done()};f.exports=new k()}),null);
__d("ReactComposerLiveBroadcastPreviewActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SET_BROADCAST_CONFIG:null,SET_CONTENT_TAGS:null,SET_HAS_VIDEO_STREAM:null,SET_SELECTED_TAB:null,SET_TITLE:null,SET_COPYRIGHTED:null,SET_COPYRIGHT_CONTENT_CATEGORY:null,SET_COPYRIGHT_MONITORING_TYPE:null,SET_COPYRIGHT_RULE_ID:null,SET_COPYRIGHT_OWNERSHIP_COUNTRIES:null,SET_COPYRIGHT_WHITELISTED_FB_USERS:null,SET_COPYRIGHT_WHITELISTED_IG_USERNAMES:null,SET_DID_CLICK_SAVE:null,SET_POST_FINISHED:null,SET_BROADCAST_TYPE:null,SET_EMBEDDABLE:null,SET_VOD_DISABLED:null,SET_DISTURBING:null,SET_MANUAL_GO_LIVE:null,SET_ATTRIBUTION_TAG:null,SET_EPISODE_DATA:null,SET_ATTRIBUTION_APP_ID:null},"LIVE_BROADCASTS")}),null);
__d("ComposerVideoTabsIdentifiers",[],(function a(b,c,d,e,f,g){f.exports={ADBREAKS:"ad-breaks-tab",ATTRIBUTIONS:"attributions-tab",BASIC:"basic-tab",DESTINATION:"destination-tab",ADVANCED:"advanced-tab",CAPTIONS:"captions-tab",SPHERICAL:"spherical-controls-tab",PERMISSIONS:"permissions-tab",RIGHTS:"rights-tab",WHITELIST:"whitelist-tab",SUMMARY:"summary-tab"}}),null);
__d("ReactComposerLiveBroadcastPreviewStore",["ComposerVideoTabsIdentifiers","PrivacyConst","ReactComposerAudienceActionTypes","ReactComposerLiveBroadcastPreviewActionType","ReactComposerStoreBase","VideoBroadcastType","VideoCopyrightUtils"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{accessToken:"",attributionAppID:"",areCopyrightCountriesIncluded:true,broadcastID:"",broadcastType:"",contentTags:[],attributionTag:null,composerType:"",copyrighted:false,copyrightMonitoringType:c("VideoCopyrightUtils").DEFAULT_LIVE_MONITORING_TYPE,copyrightRuleID:null,copyrightWhitelistedFBUsers:[],copyrightWhitelistedIGUserNames:[],copyrightOwnershipCountries:[],disturbing:false,embeddable:true,embeddedHtml:"",embedUrl:"",hasVideoStream:false,isEditing:false,isLive:false,isScheduled:false,isManualMode:false,isManualGoLive:false,privacy:null,postFinished:false,selectedTab:c("ComposerVideoTabsIdentifiers").BASIC,showKey:false,streamURL:"",secureStreamURL:"",title:"",videoID:"",vodDisabled:false,plannedStartTime:null,scheduleLobbyOpenTime:null,scheduleExpirationTime:null,selectedCategory:null,didClickSave:false}},function(l){__p&&__p();switch(l.type){case c("ReactComposerLiveBroadcastPreviewActionType").SET_BROADCAST_CONFIG:k&&k.$ReactComposerLiveBroadcastPreviewStore1(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_CONTENT_TAGS:k&&k.$ReactComposerLiveBroadcastPreviewStore2(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_ATTRIBUTION_TAG:k&&k.$ReactComposerLiveBroadcastPreviewStore3(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_HAS_VIDEO_STREAM:k&&k.$ReactComposerLiveBroadcastPreviewStore4(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_SELECTED_TAB:k&&k.$ReactComposerLiveBroadcastPreviewStore5(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_TITLE:k&&k.$ReactComposerLiveBroadcastPreviewStore6(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_SHOW_KEY:k&&k.$ReactComposerLiveBroadcastPreviewStore7(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHTED:k&&k.$ReactComposerLiveBroadcastPreviewStore8(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_CONTENT_CATEGORY:k&&k.$ReactComposerLiveBroadcastPreviewStore9(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_MONITORING_TYPE:k&&k.$ReactComposerLiveBroadcastPreviewStore10(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_RULE_ID:k&&k.$ReactComposerLiveBroadcastPreviewStore11(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_WHITELISTED_FB_USERS:k&&k.$ReactComposerLiveBroadcastPreviewStore12(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_WHITELISTED_IG_USERNAMES:k&&k.$ReactComposerLiveBroadcastPreviewStore13(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_OWNERSHIP_COUNTRIES:k&&k.$ReactComposerLiveBroadcastPreviewStore14(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_DID_CLICK_SAVE:k&&k.$ReactComposerLiveBroadcastPreviewStore15(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_POST_FINISHED:k&&k.$ReactComposerLiveBroadcastPreviewStore16(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_BROADCAST_TYPE:k&&k.$ReactComposerLiveBroadcastPreviewStore17(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_EMBEDDABLE:k&&k.$ReactComposerLiveBroadcastPreviewStore18(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_VOD_DISABLED:k&&k.$ReactComposerLiveBroadcastPreviewStore19(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_DISTURBING:k&&k.$ReactComposerLiveBroadcastPreviewStore20(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_MANUAL_GO_LIVE:k&&k.$ReactComposerLiveBroadcastPreviewStore21(l);break;case c("ReactComposerAudienceActionTypes").SET_AUDIENCE:k&&k.$ReactComposerLiveBroadcastPreviewStore22(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_EPISODE_DATA:k&&k.$ReactComposerLiveBroadcastPreviewStore23(l);break;case c("ReactComposerLiveBroadcastPreviewActionType").SET_ATTRIBUTION_APP_ID:k&&k.$ReactComposerLiveBroadcastPreviewStore24(l);break}});k=this}j.prototype.getSelectedTab=function(k){"use strict";return this.getComposerData(k).selectedTab};j.prototype.getTitle=function(k){"use strict";return this.getComposerData(k).title};j.prototype.shouldShowKey=function(k){"use strict";return this.getComposerData(k).showKey};j.prototype.getAccessToken=function(k){"use strict";return this.getComposerData(k).accessToken};j.prototype.getStreamURL=function(k){"use strict";return this.getComposerData(k).streamURL};j.prototype.getSecureStreamURL=function(k){"use strict";return this.getComposerData(k).secureStreamURL};j.prototype.getVideoID=function(k){"use strict";return this.getComposerData(k).videoID};j.prototype.getEmbeddable=function(k){"use strict";return this.getComposerData(k).embeddable};j.prototype.getVodDisabled=function(k){"use strict";return this.getComposerData(k).vodDisabled};j.prototype.getDisturbing=function(k){"use strict";return this.getComposerData(k).disturbing};j.prototype.getCopyrighted=function(k){"use strict";return this.getComposerData(k).copyrighted};j.prototype.getCopyrightID=function(k){"use strict";return this.getComposerData(k).copyrightID};j.prototype.getCopyrightContentCategory=function(k){"use strict";return this.getComposerData(k).selectedCategory};j.prototype.getCopyrightMonitoringType=function(k){"use strict";return this.getComposerData(k).copyrightMonitoringType};j.prototype.getCopyrightRuleID=function(k){"use strict";return this.getComposerData(k).copyrightRuleID};j.prototype.getCopyrightWhitelistedFBUsers=function(k){"use strict";return this.getComposerData(k).copyrightWhitelistedFBUsers};j.prototype.getCopyrightWhitelistedIGUserNames=function(k){"use strict";return this.getComposerData(k).copyrightWhitelistedIGUserNames};j.prototype.getCopyrightOwnershipCountries=function(k){"use strict";return this.getComposerData(k).copyrightOwnershipCountries};j.prototype.getAreCopyrightCountriesIncluded=function(k){"use strict";return this.getComposerData(k).areCopyrightCountriesIncluded};j.prototype.getBroadcastID=function(k){"use strict";return this.getComposerData(k).broadcastID};j.prototype.getComposerType=function(k){"use strict";return this.getComposerData(k).composerType};j.prototype.getContentTags=function(k){"use strict";return this.getComposerData(k).contentTags};j.prototype.getAttributionTag=function(k){"use strict";return this.getComposerData(k).attributionTag};j.prototype.getEmbeddedHtml=function(k){"use strict";return this.getComposerData(k).embeddedHtml};j.prototype.getEmbedUrl=function(k){"use strict";return this.getComposerData(k).embedUrl};j.prototype.getPlannedStartTime=function(k){"use strict";return this.getComposerData(k).plannedStartTime};j.prototype.getScheduleLobbyOpenTime=function(k){"use strict";return this.getComposerData(k).scheduleLobbyOpenTime};j.prototype.getScheduleExpirationTime=function(k){"use strict";return this.getComposerData(k).scheduleExpirationTime};j.prototype.getBroadcastType=function(k){"use strict";return this.getComposerData(k).broadcastType};j.prototype.getPrivacy=function(k){"use strict";return this.getComposerData(k).privacy};j.prototype.getAttributionAppID=function(k){"use strict";return this.getComposerData(k).attributionAppID};j.prototype.hasVideoStream=function(k){"use strict";return this.getComposerData(k).hasVideoStream};j.prototype.isEditing=function(k){"use strict";return this.getComposerData(k).isEditing};j.prototype.isLive=function(k){"use strict";return this.getComposerData(k).isLive};j.prototype.isScheduled=function(k){"use strict";return this.getComposerData(k).isScheduled};j.prototype.isManualMode=function(k){"use strict";return this.getComposerData(k).isManualMode};j.prototype.isManualGoLive=function(k){"use strict";return this.getComposerData(k).isManualGoLive};j.prototype.getEpisodeData=function(k){"use strict";return this.getComposerData(k).episodeData};j.prototype.postFinished=function(k){"use strict";return this.getComposerData(k).postFinished};j.prototype.saveClicked=function(k){"use strict";return this.getComposerData(k).didClickSave};j.prototype.$ReactComposerLiveBroadcastPreviewStore1=function(k){"use strict";__p&&__p();var l=this.validateAction(k,["composerID","config"]),m=l[0],n=l[1];this.getComposerData(m).accessToken=n.accessToken;this.getComposerData(m).broadcastID=n.broadcastID;this.getComposerData(m).isEditing=n.isEditing;this.getComposerData(m).isLive=n.isLive;this.getComposerData(m).isScheduled=n.isScheduled;this.getComposerData(m).isManualMode=n.isManualMode;this.getComposerData(m).streamURL=n.streamURL;this.getComposerData(m).secureStreamURL=n.secureStreamURL;this.getComposerData(m).videoID=n.videoID;this.getComposerData(m).embeddable=n.embeddable;this.getComposerData(m).vodDisabled=n.vodDisabled;this.getComposerData(m).disturbing=n.disturbing;this.getComposerData(m).broadcastType=c("VideoBroadcastType").VALUE_TO_NAME[n.broadcastType];this.getComposerData(m).embeddedHtml=n.embeddedHtml;this.getComposerData(m).embedUrl=n.embedUrl;this.getComposerData(m).composerType=n.composerType;this.getComposerData(m).attributionAppID=n.attributionAppID;if(n.copyrightData){var o=n.copyrightData;this.getComposerData(m).copyrighted=o.copyrighted;this.getComposerData(m).copyrightID=o.copyrightID;this.getComposerData(m).copyrightMonitoringType=o.monitoringType;this.getComposerData(m).copyrightOwnershipCountries=o.ownershipCountries;this.getComposerData(m).areCopyrightCountriesIncluded=o.areCountriesIncluded;this.getComposerData(m).copyrightRuleID=o.ruleID;this.getComposerData(m).copyrightWhitelistedFBUsers=o.whitelistedFBUsers;this.getComposerData(m).copyrightWhitelistedIGUserNames=o.whitelistedIGUserNames;this.getComposerData(m).selectedCategory=o.selectedCategory}if(n.scheduleData){var p=n.scheduleData;this.getComposerData(m).plannedStartTime=p.plannedStartTime;this.getComposerData(m).scheduleLobbyOpenTime=p.scheduleLobbyOpenTime;this.getComposerData(m).scheduleExpirationTime=p.scheduleExpirationTime}this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore2=function(k){"use strict";var l=this.validateAction(k,["composerID","contentTags"]),m=l[0],n=l[1];this.getComposerData(m).contentTags=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore3=function(k){"use strict";var l=this.validateAction(k,["composerID","attributionTag"]),m=l[0],n=l[1];this.getComposerData(m).attributionTag=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore4=function(k){"use strict";var l=this.validateAction(k,["composerID","hasVideoStream"]),m=l[0],n=l[1];this.getComposerData(m).hasVideoStream=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore22=function(k){"use strict";if(!k.audience)return;var l=this.validateAction(k,["composerID","audience"]),m=l[0],n=l[1];this.getComposerData(m).privacy=Number(n);if(Number(n)===c("PrivacyConst").PostParam.ONLY_ME)this.getComposerData(m).embeddable=false;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore5=function(k){"use strict";var l=this.validateAction(k,["composerID","key"]),m=l[0],n=l[1];this.getComposerData(m).selectedTab=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore6=function(k){"use strict";var l=this.validateAction(k,["composerID","title"]),m=l[0],n=l[1];this.getComposerData(m).title=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore17=function(k){"use strict";var l=this.validateAction(k,["composerID","ambientChecked"]),m=l[0],n=l[1];this.getComposerData(m).broadcastType=n?c("VideoBroadcastType").VALUE_TO_NAME[1]:c("VideoBroadcastType").VALUE_TO_NAME[0];this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore7=function(k){"use strict";var l=this.validateAction(k,["composerID","showKey"]),m=l[0],n=l[1];this.getComposerData(m).showKey=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore8=function(k){"use strict";var l=this.validateAction(k,["composerID","copyrighted"]),m=l[0],n=l[1];this.getComposerData(m).copyrighted=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore10=function(k){"use strict";var l=this.validateAction(k,["composerID","copyrightMonitoringType"]),m=l[0],n=l[1];this.getComposerData(m).copyrightMonitoringType=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore9=function(k){"use strict";var l=this.validateAction(k,["composerID","selectedCategory"]),m=l[0],n=l[1];this.getComposerData(m).selectedCategory=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore11=function(k){"use strict";var l=this.validateAction(k,["composerID","copyrightRuleID"]),m=l[0],n=l[1];this.getComposerData(m).copyrightRuleID=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore12=function(k){"use strict";var l=this.validateAction(k,["composerID","copyrightWhitelistedFBUsers"]),m=l[0],n=l[1];this.getComposerData(m).copyrightWhitelistedFBUsers=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore13=function(k){"use strict";var l=this.validateAction(k,["composerID","copyrightWhitelistedIGUserNames"]),m=l[0],n=l[1];this.getComposerData(m).copyrightWhitelistedIGUserNames=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore14=function(k){"use strict";var l=this.validateAction(k,["composerID","copyrightOwnershipCountries","areCopyrightCountriesIncluded"]),m=l[0],n=l[1],o=l[2];this.getComposerData(m).copyrightOwnershipCountries=n;this.getComposerData(m).areCopyrightCountriesIncluded=o;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore15=function(k){"use strict";var l=this.validateAction(k,["composerID","didClickSave"]),m=l[0],n=l[1];this.getComposerData(m).didClickSave=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore16=function(k){"use strict";var l=this.validateAction(k,["composerID","postFinished"]),m=l[0],n=l[1];this.getComposerData(m).postFinished=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore18=function(k){"use strict";var l=this.validateAction(k,["composerID","embeddable"]),m=l[0],n=l[1];this.getComposerData(m).embeddable=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore19=function(k){"use strict";var l=this.validateAction(k,["composerID","vodDisabled"]),m=l[0],n=l[1];this.getComposerData(m).vodDisabled=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore20=function(k){"use strict";var l=this.validateAction(k,["composerID","disturbing"]),m=l[0],n=l[1];this.getComposerData(m).disturbing=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore21=function(k){"use strict";var l=this.validateAction(k,["composerID","isManualGoLive"]),m=l[0],n=l[1];this.getComposerData(m).isManualGoLive=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore23=function(k){"use strict";var l=this.validateAction(k,["composerID","episodeData"]),m=l[0],n=l[1];this.getComposerData(m).episodeData=n;this.emitChange(m)};j.prototype.$ReactComposerLiveBroadcastPreviewStore24=function(k){"use strict";var l=this.validateAction(k,["composerID","attributionAppID"]),m=l[0],n=l[1];this.getComposerData(m).attributionAppID=n;this.emitChange(m)};f.exports=new j()}),null);
__d("ReactComposerLiveBroadcastPreviewActions",["ReactComposerDispatcher","ReactComposerLiveBroadcastPreviewActionType","ReactComposerLiveBroadcastPreviewStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerLiveBroadcastPreviewStore");h.prototype.setBroadcastConfig=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_BROADCAST_CONFIG,config:j})};h.prototype.setContentTags=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_CONTENT_TAGS,contentTags:j})};h.prototype.setAttributionTag=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_ATTRIBUTION_TAG,attributionTag:j})};h.prototype.setHasVideoStream=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_HAS_VIDEO_STREAM,hasVideoStream:j})};h.prototype.setSelectedTab=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_SELECTED_TAB,key:j})};h.prototype.setTitle=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_TITLE,title:j})};h.prototype.setShouldBlockComments=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_SHOULD_BLOCK_COMMENTS,shouldBlockComments:j})};h.prototype.setCopyrighted=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHTED,copyrighted:j})};h.prototype.setEmbeddable=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_EMBEDDABLE,embeddable:j})};h.prototype.setDisturbing=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_DISTURBING,disturbing:j})};h.prototype.setVodDisabled=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_VOD_DISABLED,vodDisabled:j})};h.prototype.setCopyrightContentCategory=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_CONTENT_CATEGORY,selectedCategory:j})};h.prototype.setDidClickSave=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_DID_CLICK_SAVE,didClickSave:j})};h.prototype.setCopyrightMonitoringType=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_MONITORING_TYPE,copyrightMonitoringType:j})};h.prototype.setCopyrightRuleID=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_RULE_ID,copyrightRuleID:j})};h.prototype.setCopyrightWhitelistedFBUsers=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_WHITELISTED_FB_USERS,copyrightWhitelistedFBUsers:j})};h.prototype.setCopyrightWhitelistedIGUserNames=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_WHITELISTED_IG_USERNAMES,copyrightWhitelistedIGUserNames:j})};h.prototype.setCopyrightOwnershipCountries=function(i,j,k){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_COPYRIGHT_OWNERSHIP_COUNTRIES,copyrightOwnershipCountries:j,areCopyrightCountriesIncluded:k})};h.prototype.setPostFinished=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_POST_FINISHED,postFinished:j})};h.prototype.setBroadcastType=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_BROADCAST_TYPE,ambientChecked:j})};h.prototype.setManualGoLive=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_MANUAL_GO_LIVE,isManualGoLive:j})};h.prototype.setEpisodeData=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerLiveBroadcastPreviewActionType").SET_EPISODE_DATA,episodeData:j})};function h(){"use strict"}f.exports=new h()}),null);
__d("XShowPagesVideoListsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/showpages/video_lists/",{page_id:{type:"FBID",required:true}})}),null);
__d("ComposerVideoShowsStore",["ComposerVideoShowsActions","ComposerVideoShowsActionTypes","ComposerVideoShowsDispatcher","ComposerVideoShowsState","ComposerVideoUploadActions","LiveVideoBroadcastActions","PageContentTabShowsStore","ComposerEntryPointRef","FluxReduceStore","ReactComposerLiveBroadcastPreviewActions","AsyncRequest","XShowPagesVideoListsController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return new(c("ComposerVideoShowsState"))()};j.prototype.initialize=function(k,l,m){__p&&__p();var n=void 0;if(this.getState().composerID===k&&m){n=this.getState();n=n.set("shouldShowPlaylistSelector",true)}else{n=this.getInitialState();n=n.set("composerID",k);n=n.set("shouldShowPlaylistSelector",false)}if(l===c("ComposerEntryPointRef").PAGE_CONTENT_TAB_SEASON_DETAILS){n=n.set("isEpisode",true);n=n.set("seasonID",c("PageContentTabShowsStore").getVideoListID()||null)}if(l===c("ComposerEntryPointRef").PAGE_CONTENT_TAB_PLAYLIST_DETAILS){var o=c("PageContentTabShowsStore").getVideoListID();n=n.set("playlistIDs",o?[o]:[]);n=n.set("shouldShowPlaylistSelector",true)}if(l===c("ComposerEntryPointRef").SHOWS_HOME_EPISODES_CARD||l===c("ComposerEntryPointRef").PAGE_COMPOSER_EPISODE_CARD)n=n.set("isEpisode",true);if(l===c("ComposerEntryPointRef").LIVE_BROADCAST)n=n.set("shouldShowPlaylistSelector",true);return n};j.prototype.reduce=function(k,l){__p&&__p();switch(l.type){case c("ComposerVideoShowsActionTypes").INITIALIZE:k=this.initialize(l.composerID,l.composerEntryPoint,l.isEditing);this.$ComposerVideoShowsStore1(k);break;case c("ComposerVideoShowsActionTypes").SET_IS_EPISODE:k=k.set("isEpisode",l.isEpisode);if(!l.isEpisode)k=k.set("seasonID",null);this.$ComposerVideoShowsStore1(k);break;case c("ComposerVideoShowsActionTypes").SET_PLAYLISTS:k=k.set("playlistIDs",l.playlistIDs);this.$ComposerVideoShowsStore1(k);break;case c("ComposerVideoShowsActionTypes").SET_SEASON:k=k.set("seasonID",l.seasonID);this.$ComposerVideoShowsStore1(k);break;case c("ComposerVideoShowsActionTypes").LOAD_EPISODE_DATA:k=this.initialize(l.composerID,"",true);k=k.set("isEpisode",l.isEpisode);k=k.set("seasonID",l.seasonID);k=k.set("playlistIDs",l.playlistIDs);this.$ComposerVideoShowsStore1(k);break;case c("ComposerVideoShowsActionTypes").SET_PLAYLIST_OPTIONS:return k.set("playlistOptions",l.value);case c("ComposerVideoShowsActionTypes").SET_SEASON_OPTIONS:return k.set("seasonOptions",l.value);case c("ComposerVideoShowsActionTypes").REQUEST_VIDEO_LIST_OPTIONS:this.$ComposerVideoShowsStore2(l.pageID)}return k};j.prototype.$ComposerVideoShowsStore1=function(k){c("ComposerVideoUploadActions").updateEpisodeData(k.get("composerID"),{isEpisode:k.get("isEpisode"),seasonID:k.get("seasonID"),playlistIDs:k.get("playlistIDs")});c("ReactComposerLiveBroadcastPreviewActions").setEpisodeData(k.get("composerID"),{isEpisode:k.get("isEpisode"),seasonID:k.get("seasonID"),playlistIDs:k.get("playlistIDs")});c("LiveVideoBroadcastActions").setEpisodeData({isEpisode:k.get("isEpisode"),seasonID:k.get("seasonID"),playlistIDs:k.get("playlistIDs")})};j.prototype.$ComposerVideoShowsStore2=function(k){var l=c("XShowPagesVideoListsController").getURIBuilder().setFBID("page_id",k).getURI();new(c("AsyncRequest"))(l).setHandler(function(m){var n=m.payload.seasonOptions||{},o=m.payload.playlistOptions||{};c("ComposerVideoShowsActions").setSeasonOptions(n);c("ComposerVideoShowsActions").setPlaylistOptions(o)}).send()};function j(){h.apply(this,arguments)}f.exports=new j(c("ComposerVideoShowsDispatcher"))}),null);
__d("ComposerVideoAdBreakActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({DELETE_AD_BREAK:"",INSERT_CURRENT_AD_BREAK:"",SET_AD_BREAKS_EXPERIMENT_ENABLED:"",SET_AD_BREAKS_EXPERIMENT_REVENUE_LOSS_THRESHOLD:"",SET_CURRENT_AD_BREAK:"",SET_EXISTING_AD_BREAKS:"",SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED:"",SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED:"",SET_THUMBNAIL_URL_FOR_AD_BREAK:"",SET_RIGHT_AGREEMENT:"",SET_VIDEO_DURATION:"",UPDATE_AD_BREAKS_STATUS:""});f.exports=h}),null);
__d("ComposerVideoAdBreakStore",["AdBreakStatus","ReactComposerStoreBase","ComposerVideoAdBreakActionTypes","DateConsts","ReactComposerTaggerActionType","VideoInstreamUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){__p&&__p();var k=void 0;i.constructor.call(this,function(){return{adBreaksDisabled:false,adBreaksExperimentEnabled:false,adBreaksExperimentRevenueLossThreshold:0,currentAdBreak:0,insertedAdBreaks:[],isAdBreakAutoAdjustmentEnabled:false,isAdBreakAutoInsertionEnabled:false,isBrandedContentVideo:false,lastInsertedAdBreak:null,videoDuration:0,videoRightsAgreed:false}},function(l){__p&&__p();switch(l.type){case c("ComposerVideoAdBreakActionTypes").DELETE_AD_BREAK:k&&k.$ComposerVideoAdBreakStore1(l);break;case c("ComposerVideoAdBreakActionTypes").UPDATE_AD_BREAKS_STATUS:k&&k.$ComposerVideoAdBreakStore2(l);break;case c("ComposerVideoAdBreakActionTypes").INSERT_CURRENT_AD_BREAK:k&&k.$ComposerVideoAdBreakStore3(l);break;case c("ComposerVideoAdBreakActionTypes").SET_AD_BREAKS_EXPERIMENT_ENABLED:k&&k.$ComposerVideoAdBreakStore4(l);break;case c("ComposerVideoAdBreakActionTypes").SET_AD_BREAKS_EXPERIMENT_REVENUE_LOSS_THRESHOLD:k&&k.$ComposerVideoAdBreakStore5(l);break;case c("ComposerVideoAdBreakActionTypes").SET_CURRENT_AD_BREAK:k&&k.$ComposerVideoAdBreakStore6(l);break;case c("ComposerVideoAdBreakActionTypes").SET_EXISTING_AD_BREAKS:k&&k.$ComposerVideoAdBreakStore7(l);break;case c("ComposerVideoAdBreakActionTypes").SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED:k&&k.$ComposerVideoAdBreakStore8(l);break;case c("ComposerVideoAdBreakActionTypes").SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED:k&&k.$ComposerVideoAdBreakStore9(l);break;case c("ComposerVideoAdBreakActionTypes").SET_THUMBNAIL_URL_FOR_AD_BREAK:k&&k.$ComposerVideoAdBreakStore10(l);break;case c("ComposerVideoAdBreakActionTypes").SET_VIDEO_DURATION:k&&k.$ComposerVideoAdBreakStore11(l);break;case c("ComposerVideoAdBreakActionTypes").SET_RIGHT_AGREEMENT:k&&k.$ComposerVideoAdBreakStore12(l);break;case c("ReactComposerTaggerActionType").SET_IS_BRANDED_CONTENT_VIDEO:k&&k.$ComposerVideoAdBreakStore13(l);break}});k=this}j.prototype.clearComposerData=function(k){i.clearComposerData.call(this,k);this.emitChange(k)};j.prototype.getAdBreaksExperimentEnabled=function(k){return this.getComposerData(k).adBreaksExperimentEnabled};j.prototype.getAdBreaksExperimentRevenueLossThreshold=function(k){return this.getComposerData(k).adBreaksExperimentRevenueLossThreshold};j.prototype.getAdBreaksStatus=function(k){return this.getComposerData(k).adBreaksDisabled};j.prototype.getCurrentAdBreak=function(k){return this.getComposerData(k).currentAdBreak};j.prototype.getInsertedAdBreaks=function(k){return this.getComposerData(k).insertedAdBreaks};j.prototype.getLastInsertedAdBreak=function(k){return this.getComposerData(k).lastInsertedAdBreak};j.prototype.getIsAdBreakAutoAdjustmentEnabled=function(k){return this.getComposerData(k).isAdBreakAutoAdjustmentEnabled};j.prototype.getIsAdBreakAutoInsertionEnabled=function(k){return this.getComposerData(k).isAdBreakAutoInsertionEnabled};j.prototype.getIsBrandedContentVideo=function(k){return this.getComposerData(k).isBrandedContentVideo};j.prototype.getVideoDuration=function(k){return this.getComposerData(k).videoDuration};j.prototype.getVideoRightsAgreed=function(k){return this.getComposerData(k).videoRightsAgreed};j.prototype.getAdBreakTabState=function(k,l,m){return c("VideoInstreamUtils").getAdBreakTabState(l,this.getIsBrandedContentVideo(k),this.getVideoDuration(k),m)};j.prototype.getShouldDisableAdBreakInsertion=function(k,l,m){return this.getAdBreakTabState(k,l,m).disabled};j.prototype.getHasAdBreaksInserted=function(k){var l=this.getInsertedAdBreaks(k),m=this.getAdBreaksStatus(k);return l.length!==0&&!m};j.prototype.getPostData=function(k){var l=this.getAdBreaksStatus(k),m=this.getIsBrandedContentVideo(k),n=l||m?c("AdBreakStatus").DISABLED:c("AdBreakStatus").ENABLED,o=this.getInsertedAdBreaks(k),p=o.map(function(v){return{time_offset:v.timeOffset*c("DateConsts").MS_PER_SEC,status:n}}),q=this.getAdBreaksExperimentEnabled(k),r=this.getAdBreaksExperimentRevenueLossThreshold(k),s=this.getIsAdBreakAutoAdjustmentEnabled(k),t=this.getIsAdBreakAutoInsertionEnabled(k),u={ad_breaks:p,ad_breaks_experiment_revenue_loss_threshold:r,enable_ad_breaks_experiment:q,should_auto_adjust_manual_ad_breaks:s,should_auto_insert_ad_breaks:t};return u};j.prototype.$ComposerVideoAdBreakStore11=function(k){var l=this.getComposerData(k.composerID);l.videoDuration=k.duration;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore7=function(k){__p&&__p();var l=this.getComposerData(k.composerID);l.currentAdBreak=null;var m=false,n=k.existingAdBreaks.map(function(o){m=o.status===c("AdBreakStatus").DISABLED;return{timeOffset:o.time_offset/c("DateConsts").MS_PER_SEC,thumbnailURL:null}});n.sort(function(o,p){return o.timeOffset-p.timeOffset});l.insertedAdBreaks=n;l.videoRightsAgreed=l.videoRightsAgreed||n.length>0;l.adBreaksDisabled=m;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore8=function(k){var l=this.getComposerData(k.composerID);l.isAdBreakAutoAdjustmentEnabled=k.enabled;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore9=function(k){var l=this.getComposerData(k.composerID);l.isAdBreakAutoInsertionEnabled=k.enabled;l.videoRightsAgreed=l.videoRightsAgreed||l.isAdBreakAutoInsertionEnabled;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore10=function(k){var l=this.getComposerData(k.composerID),m=this.getInsertedAdBreaks(k.composerID),n=m.map(function(o){k.adBreaks.forEach(function(p){if(o.timeOffset===p.timeOffset)o.thumbnailURL=p.thumbnailURL});return Object.assign({},o)});l.insertedAdBreaks=n;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore1=function(k){var l=this.getComposerData(k.composerID);l.lastInsertedAdBreak=null;var m=l.insertedAdBreaks;m.splice(k.adBreakIndex,1);var n=m.map(function(o){return Object.assign({},o)});l.insertedAdBreaks=n;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore2=function(k){var l=this.getComposerData(k.composerID);l.adBreaksDisabled=k.adBreaksDisabled;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore3=function(k){__p&&__p();var l=this.getComposerData(k.composerID),m=this.getCurrentAdBreak(k.composerID),n=this.getInsertedAdBreaks(k.composerID);if(m===null)return;if(n.findIndex(function(r){return r.timeOffset===m})>=0)return;m=Number(m);var o=this.$ComposerVideoAdBreakStore14(n,m),p={timeOffset:m,thumbnailURL:null};l.lastInsertedAdBreak=p;n.splice(o,0,p);var q=n.map(function(r){return Object.assign({},r)});l.insertedAdBreaks=q;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore6=function(k){var l=this.getComposerData(k.composerID);l.currentAdBreak=k.adBreak;l.lastInsertedAdBreak=null;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore13=function(k){var l=this.getComposerData(k.composerID);l.isBrandedContentVideo=k.isBrandedContentVideo;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore4=function(k){var l=this.getComposerData(k.composerID);l.adBreaksExperimentEnabled=k.adBreaksExperimentEnabled;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore5=function(k){var l=this.getComposerData(k.composerID);l.adBreaksExperimentRevenueLossThreshold=k.adBreaksExperimentRevenueLossThreshold;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore12=function(k){var l=this.getComposerData(k.composerID);l.videoRightsAgreed=k.agree;this.emitChange(k.composerID)};j.prototype.$ComposerVideoAdBreakStore14=function(k,l){var m=void 0;for(m=0;m<k.length;m++)if(k[m].timeOffset>l)break;return m};f.exports=new j()}),null);
__d("ComposerVideoAdBreakActions",["ReactComposerDispatcher","ComposerVideoAdBreakActionTypes","ComposerVideoAdBreakStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();c("ComposerVideoAdBreakStore");var h={deleteAdBreak:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").DELETE_AD_BREAK,composerID:j,adBreakIndex:k})},setAdBreaksExperimentEnabled:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_AD_BREAKS_EXPERIMENT_ENABLED,composerID:j,adBreaksExperimentEnabled:k})},setAdBreaksExperimentRevenueLossThreshold:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_AD_BREAKS_EXPERIMENT_REVENUE_LOSS_THRESHOLD,composerID:j,adBreaksExperimentRevenueLossThreshold:k})},updateAdBreaksStatus:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").UPDATE_AD_BREAKS_STATUS,composerID:j,adBreaksDisabled:k})},setIsAdBreakAutoAdjustmentEnabled:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_IS_AD_BREAK_AUTO_ADJUSTMENT_ENABLED,composerID:j,enabled:k})},setIsAdBreakAutoInsertionEnabled:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_IS_AD_BREAK_AUTO_INSERTION_ENABLED,composerID:j,enabled:k})},insertCurrentAdBreak:function i(j){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").INSERT_CURRENT_AD_BREAK,composerID:j})},setCurrentAdBreak:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_CURRENT_AD_BREAK,composerID:j,adBreak:k})},setExistingAdBreaks:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_EXISTING_AD_BREAKS,composerID:j,existingAdBreaks:k})},setThumbnailURLForAdBreak:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_THUMBNAIL_URL_FOR_AD_BREAK,composerID:j,adBreaks:k})},setVideoDuration:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_VIDEO_DURATION,composerID:j,duration:k})},setVideoRightsAgreed:function i(j,k){c("ReactComposerDispatcher").dispatch({type:c("ComposerVideoAdBreakActionTypes").SET_RIGHT_AGREEMENT,composerID:j,agree:k})}};f.exports=h}),null);
__d("ShowsVideoDataTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:ShowsVideoDataLoggerConfig",this.$ShowsVideoDataTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:ShowsVideoDataLoggerConfig",this.$ShowsVideoDataTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$ShowsVideoDataTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$ShowsVideoDataTypedLogger1)};h.prototype.updateData=function(j){this.$ShowsVideoDataTypedLogger1=babelHelpers["extends"]({},this.$ShowsVideoDataTypedLogger1,j);return this};h.prototype.setAutoCrosspostToParent=function(j){this.$ShowsVideoDataTypedLogger1.auto_crosspost_to_parent=j;return this};h.prototype.setIsEpisode=function(j){this.$ShowsVideoDataTypedLogger1.is_episode=j;return this};h.prototype.setPageID=function(j){this.$ShowsVideoDataTypedLogger1.page_id=j;return this};h.prototype.setPlaylistIds=function(j){this.$ShowsVideoDataTypedLogger1.playlist_ids=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setSeasonID=function(j){this.$ShowsVideoDataTypedLogger1.season_id=j;return this};h.prototype.setSource=function(j){this.$ShowsVideoDataTypedLogger1.source=j;return this};h.prototype.setSquareThumbnailDimensions=function(j){this.$ShowsVideoDataTypedLogger1.square_thumbnail_dimensions=j;return this};h.prototype.setVC=function(j){this.$ShowsVideoDataTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$ShowsVideoDataTypedLogger1.video_id=j;return this};var i={auto_crosspost_to_parent:true,is_episode:true,page_id:true,playlist_ids:true,season_id:true,source:true,square_thumbnail_dimensions:true,vc:true,video_id:true};f.exports=h}),null);
__d("VideoUploadSphericalControlsAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CREATE_THUMBNAIL:"create_thumbnail",DRAG_VIDEO_PREVIEW:"drag_video_preview",SCROLL_VIDEO_PREVIEW:"scroll_video_preview",RESET:"reset",CHANGE_VIEWPORT:"change_viewport",CHANGE_FOV:"change_fov",TOGGLE_DIRECTORS_CUT:"toggle_directors_cut",ADD_POINT_OF_INTEREST:"add_point_of_interest",REMOVE_POINT_OF_INTEREST:"remove_point_of_interest",EDIT_POINT_OF_INTEREST:"edit_point_of_interest",CLEAR_POINTS_OF_INTEREST:"clear_points_of_interest",SEARCH_POINT_OF_INTEREST:"search_point_of_interest",TAB_IMPRESSION:"tab_impression",SAVE_EDITS:"save_edits",UPLOAD:"upload"})}),null);
__d("XSphericalMediaNUXController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ajax/spherical_media/show_nux/",{})}),null);
__d("ComposerVideoPostUtils",["Promise","regeneratorRuntime","AsyncRequest","BasicVector","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","ComposerVideoAdBreakActions","ComposerVideoAdBreakStore","PagesSettingsInstreamAdsBlockListStore","ComposerVideoUploadActions","ComposerVideoUploadStore","VideoUploadSphericalLogger","VideoUploadSphericalControlsAction","FileVideoThumbnail","ComposerVideoUploadSphericalGuideKeyframeData","immutable","SearchableEntry","VideoCaptionFile","VideoContentCategoryType","VideoCopyrightUtils","XSphericalMediaNUXController","ComposerVideoUploadSphericalAction","ComposerVideoUploadSphericalStore","ComposerVideoShowsActions","ComposerVideoShowsStore","ShowsVideoDataTypedLogger","VideoComposerDialogCaptionsStore","VideoComposerDialogCaptionEditorConstants","flattenPHPQueryData","isEmpty","idx"],(function aa(ba,a,ca,da,b,ea){__p&&__p();var c=a("immutable").List,d=1e3,e=60*d,f={updateStore:function g(h,i){__p&&__p();var j=i.locationEntry?new(a("SearchableEntry"))(i.locationEntry):null;j=j?{place:j,implicitLocation:{}}:null;a("ComposerVideoUploadActions").updateTitle(h,i.title);a("ComposerVideoUploadActions").updateDescription(h,i.description);a("ComposerVideoUploadActions").updateFeedType(h,i.feedType);a("ComposerVideoUploadActions").updateCategory(h,i.category);a("ComposerVideoUploadActions").updateContentTags(h,i.contentTags);a("ComposerVideoUploadActions").updateThumbnail(h,i.thumbnail);a("ComposerVideoUploadActions").updateCaptions(h,i.captions);a("ComposerVideoUploadActions").updateLiveCaptions(h,i.liveCaptions);a("ComposerVideoUploadActions").updateSpherical(h,i.isSpherical);a("ComposerVideoUploadActions").updateExpiration(h,i.expirationTime,i.expirationType);a("ComposerVideoUploadActions").updatePublish(h,false);a("ComposerVideoUploadActions").updateExpire(h,false);a("ComposerVideoUploadActions").updateScheduledPublishTime(h,i.scheduledPublishTime);a("ReactComposerTaggerActions").setTaggerDataWithoutLogging(h,a("ReactComposerTaggerType").PEOPLE,i.tags);if(i.sponsorData)a("ReactComposerTaggerActions").setTaggerDataWithoutLogging(h,a("ReactComposerTaggerType").SPONSOR,i.sponsorData);if(j)a("ReactComposerTaggerActions").setTaggerDataWithoutLogging(h,a("ReactComposerTaggerType").LOCATION,j);if(i.productTags)a("ReactComposerTaggerActions").setTaggerDataWithoutLogging(h,a("ReactComposerTaggerType").PRODUCT,i.productTags);if(i.backdate)a("ReactComposerTaggerActions").setTaggerDataWithoutLogging(h,a("ReactComposerTaggerType").BACKDATE,i.backdate);if(i.episodeData&&i.isShowPage)a("ComposerVideoShowsActions").loadEpisodeData(h,i.episodeData);a("ReactComposerTaggerActions").setTaggerDataWithoutLogging(h,a("ReactComposerTaggerType").OG,null);a("ComposerVideoUploadActions").updateEmbeddable(h,i.embeddable);a("ComposerVideoUploadActions").updateIsFeaturedVideo(h,i.isFeaturedVideo?i.isFeaturedVideo:false);a("ComposerVideoUploadActions").updateCopyrighted(h,i.isCopyrighted?i.isCopyrighted:false);a("ComposerVideoUploadActions").updateCopyrightOwnershipCountries(h,i.ownershipCountries||[],!!i.areCountriesIncluded);a("ComposerVideoUploadActions").updateCopyrightAttributionID(h,i.attributionID);a("ComposerVideoUploadActions").updateCopyrightWhitelistedFBUsers(h,i.whitelistedFBUsers||[]);a("ComposerVideoUploadActions").updateCopyrightWhitelistedIGUserNames(h,i.whitelistedIGUserNames||[]);a("ComposerVideoUploadActions").updateCopyrightRuleID(h,i.ruleIDs&&i.ruleIDs.length?i.ruleIDs[0].toString():null);a("ComposerVideoUploadActions").updateCopyrightMonitoringType(h,i.monitoringType||a("VideoCopyrightUtils").DEFAULT_MONITORING_TYPE);a("ComposerVideoUploadActions").updateCopyrightReferenceCategory(h,i.selectedCategory);a("ComposerVideoUploadActions").updateInternalVideoSettings(h,i.isInternalVideo);a("ComposerVideoUploadActions").updateFTEOnly(h,i.isFTEOnly);a("ComposerVideoUploadActions").updatePermissions(h,i.permissions);a("ComposerVideoUploadActions").updateExternalVideoID(h,i.externalVideoID);a("ComposerVideoUploadActions").updateCustomLabels(h,i.customLabels);a("ComposerVideoUploadActions").updateVideoDurationInSec(h,i.duration);a("ComposerVideoUploadActions").updateEnableThumbnailExperiment(h,i.enableThumbnailExperiment);a("ComposerVideoUploadSphericalStore").clearComposerData(h);a("ComposerVideoUploadSphericalAction").updateEnableOmnistab(h,i.enableOmnistab);a("ComposerVideoUploadSphericalAction").updateFOV(h,i.fov);a("ComposerVideoUploadSphericalAction").updateCurrentViewport(h,i.initialPitch,i.initialHeading);a("ComposerVideoUploadSphericalAction").updateGuideEnabled(h,i.guideEnabled);a("ComposerVideoUploadSphericalAction").updateProjection(h,i.projection);a("ComposerVideoUploadSphericalAction").updateStereoMode(h,i.stereoMode);a("ComposerVideoUploadSphericalAction").updateHasSpatialAudio(h,i.hasSpatialAudio);var k=[[0,i.initialPitch,i.initialHeading]].concat(i.guideKeyframes).map(function(l){return a("ComposerVideoUploadSphericalGuideKeyframeData").getFromLegacyParams(l)});a("ComposerVideoUploadSphericalAction").updateGuideKeyframes(h,c(k));a("ComposerVideoAdBreakStore").clearComposerData(h);if(i.existingAdBreaks)a("ComposerVideoAdBreakActions").setExistingAdBreaks(h,i.existingAdBreaks);a("ComposerVideoAdBreakActions").setAdBreaksExperimentEnabled(h,i.enableAdBreaksExperiment);a("ComposerVideoAdBreakActions").setAdBreaksExperimentRevenueLossThreshold(h,i.adBreaksExperimentRevenueLossThreshold);a("ComposerVideoAdBreakActions").setIsAdBreakAutoAdjustmentEnabled(h,i.isAdBreakAutoAdjustmentEnabled);a("ComposerVideoAdBreakActions").setIsAdBreakAutoInsertionEnabled(h,i.isAdBreakAutoInsertionEnabled)},getDetailsFromStore:function g(h){__p&&__p();var i,j=a("ComposerVideoUploadStore").getTitle(h),k=a("ComposerVideoUploadStore").getExternalVideoID(h),l=a("ComposerVideoUploadStore").getCustomLabels(h),m=a("ComposerVideoUploadStore").getEnableThumbnailExperiment(h),n=a("ComposerVideoUploadStore").getFeedType(h),o=a("ComposerVideoUploadStore").getCallToAction(h),p=a("ComposerVideoUploadStore").getCategory(h),q=a("ComposerVideoUploadStore").getContentTags(h),r=a("ComposerVideoUploadStore").getThumbnail(h),s=a("ComposerVideoUploadStore").getDescription(h),t=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").PEOPLE)||[],u=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").LOCATION)||{};u=u?u.place:{};var v=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").BACKDATE),w=t.map(function($){return $.getUniqueID()}),x=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").ACTIVITY),y=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").TARGETING),z=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").SPONSOR)||{},A={directShareStatus:z.directShareStatus,sponsorRelationship:z.sponsorRelationship,sponsors:[]};(z.sponsors||[]).map(function($){A.sponsors.push($.getUniqueID())});var B=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").PRODUCT)||[],C=B.map(function($){return $.getUniqueID()}),D=a("ComposerVideoUploadStore").getCaptions(h),E=a("ComposerVideoUploadStore").getLiveCaptions(h),F=a("ComposerVideoUploadStore").getExpirationTime(h),G=a("ComposerVideoUploadStore").getExpirationType(h),H=a("ComposerVideoUploadStore").getScheduledPublishTime(h),I=a("ComposerVideoUploadStore").getPublish(h),J=a("ComposerVideoUploadStore").getSpherical(h),K=void 0,L=void 0,M=void 0,N=void 0,O=void 0,P=void 0,Q=a("ComposerVideoUploadSphericalStore").getPostData(h)||{};K=Q.initialHeading;L=Q.initialPitch;M=Q.fov;N=Q.guide_enabled;O=Q.guide_keyframes;P=Q.enable_omnistab;var R=a("ComposerVideoUploadStore").getExpire(h),S=a("ComposerVideoUploadStore").getEmbeddable(h),T=a("ComposerVideoUploadStore").getExcludeNewsfeed(h),U=a("ComposerVideoUploadStore").getIsSecretVideo(h),V=a("ComposerVideoUploadStore").getBlockSocialActions(h),W=a("ComposerVideoUploadStore").getCopyrighted(h),X=a("ComposerVideoUploadStore").getCopyrightMonitoringType(h),Y=a("ComposerVideoUploadStore").getCopyrightRuleID(h),fa=a("ComposerVideoUploadStore").getCopyrightOwnershipCountries(h),ga=a("ComposerVideoUploadStore").getAreCopyrightCountriesIncluded(h),ha=a("ComposerVideoUploadStore").getCopyrightWhitelistedFBUsers(h),ia=a("ComposerVideoUploadStore").getCopyrightWhitelistedIGUserNames(h),ja=a("ComposerVideoUploadStore").getCopyrightAttributionID(h),ka=a("ComposerVideoUploadStore").getCopyrightReferenceCategory(h),la=a("ComposerVideoUploadStore").getInternalSetting(h),ma=a("ComposerVideoUploadStore").getFteOnly(h),na=a("ComposerVideoUploadStore").getPermissions(h),oa=a("ComposerVideoUploadStore").getEpisodeData(h),pa=a("ComposerVideoUploadStore").getSquareThumbnailDimensions(h),Z=a("ComposerVideoAdBreakStore").getPostData(h)||{},qa=Z.ad_breaks,ra=Z.ad_breaks_experiment_revenue_loss_threshold,sa=Z.enable_ad_breaks_experiment,ta=Z.should_auto_adjust_manual_ad_breaks,ua=Z.should_auto_insert_ad_breaks,va=a("PagesSettingsInstreamAdsBlockListStore").getComposerBlockListIdsToApply(),wa=a("ReactComposerTaggerStore").getTaggerData(h,a("ReactComposerTaggerType").FUNDRAISER),xa=(i=wa)!=null?i.charityID:i;return{adBreaks:qa,adBreaksBlockListsToApply:va,title:j,externalVideoID:k,callToAction:o,captions:D,customLabels:l,enableAdBreaksExperiment:sa,enableThumbnailExperiment:m,adBreaksExperimentRevenueLossThreshold:ra,isAdBreakAutoAdjustmentEnabled:ta,isAdBreakAutoInsertionEnabled:ua,liveCaptions:E,category:p,contentTags:q,isCopyrighted:W,copyrightMonitoringType:X,copyrightRuleID:Y,copyrightAttributionID:ja,copyrightOwnershipCountries:fa,copyrightWhitelistedFBUsers:ha,copyrightWhitelistedIGUserNames:ia,areCopyrightCountriesIncluded:ga,thumbnail:r,description:s,guideEnabled:N,guideKeyframes:O,backdate:v,feedType:n,fov:M,initialHeading:K,initialPitch:L,isSpherical:J,locationEntry:u,expirationTime:F,expirationType:G,scheduledPublishTime:H,selectedCategory:ka,sponsorData:A,tags:w,productTags:C,activity:x,targeting:y,publish:I,expire:R,embeddable:S,noStory:T,isSecret:U,blockSocialActions:V,isInternalVideo:la,isFTEOnly:ma,permissions:na,enableOmnistab:P,episodeData:oa,squareThumbnailDimensions:pa,charityID:xa}},logSphericalComposerDataIfNeeded:function g(h){var i=arguments.length<=1||arguments[1]===undefined?false:arguments[1],j=f.getDetailsFromStore(h),k=j.isSpherical,l=j.guideKeyframes;if(k){var m=i?a("VideoUploadSphericalControlsAction").UPLOAD:a("VideoUploadSphericalControlsAction").SAVE_EDITS,n=l.length>0;a("VideoUploadSphericalLogger").setUserAction(m).setFinalGuideEnabled(n).setFinalNumGuidePoints(l.length).log()}},logShowsVideoData:function g(h,i,j,k){var l=a("ComposerVideoUploadStore").getEpisodeData(h),m=JSON.stringify(this.calculateSquareThumbnailDimensions(a("ComposerVideoUploadStore").getSquareThumbnailDimensions(h)));if(l){var n=l.isEpisode&&j==="upload"?a("ComposerVideoUploadStore").getShareToParentPageOptionSelected(h):false;new(a("ShowsVideoDataTypedLogger"))().setVideoID(i).setSource(j).setIsEpisode(l.isEpisode).setSeasonID(l.seasonID).setPlaylistIds(l.playlistIDs).setSquareThumbnailDimensions(m).setAutoCrosspostToParent(n).setPageID(k).log()}},createFormData:function g(h,i,j,k,l,m,n,o,p,q,r,s,t){__p&&__p();var u,v,w=h.thumbnail,x=new FormData(),y=a("flattenPHPQueryData")({ad_breaks:h.adBreaks});Object.keys(y).forEach(function(W){x.append(W,y[W])});if(h.adBreaksBlockListsToApply!==null){x.append("has_ad_breaks_block_lists","true");x.append("ad_breaks_block_lists",h.adBreaksBlockListsToApply)}x.append("content_category",h.category);x.append("content_tags",this.getContentTagEntryIDs(h.contentTags));x.append("free_form_tags",this.getFreeFormContentTags(h.contentTags));x.append("description",h.description);x.append("tags",h.tags);x.append("title",h.title);x.append("external_video_id",h.externalVideoID);x.append("custom_labels",h.customLabels);x.append("enable_ad_breaks_experiment",h.enableAdBreaksExperiment);x.append("ad_breaks_experiment_revenue_loss_threshold",h.adBreaksExperimentRevenueLossThreshold);x.append("should_auto_adjust_manual_ad_breaks",h.isAdBreakAutoAdjustmentEnabled);x.append("should_auto_insert_ad_breaks",h.isAdBreakAutoInsertionEnabled);x.append("enable_thumbnail_experiment",h.enableThumbnailExperiment);x.append("feed_type",h.feedType);var z=h.locationEntry?h.locationEntry.getUniqueID():null,A=h.locationEntry&&!h.locationEntry.getUniqueID()?h.locationEntry.getTitle():null;if(z)x.append("place_id",z);else if(A)x.append("place_name",A);if(h.sponsorData&&h.sponsorData.sponsors){x.append("sponsor_tags",h.sponsorData.sponsors);x.append("direct_share_status",h.sponsorData.directShareStatus);x.append("sponsor_relationship",h.sponsorData.sponsorRelationship)}if(h.productTags)x.append("product_tags",h.productTags);if(h.backdate.year)x.append("backtime_year",h.backdate.year);if(h.backdate.month)x.append("backtime_month",h.backdate.month);if(h.backdate.day)x.append("backtime_day",h.backdate.day);if(h.backdate.hour)x.append("backtime_hour",h.backdate.hour);if(h.backdate.minute)x.append("backtime_minute",h.backdate.minute);if(h.expire)x.append("expire",h.expire);if(h.publish)x.append("publish",h.publish);var B=j.scheduledPublishTime,C=h.scheduledPublishTime;if(C!==B){var D=this._isTwoTimesAlmostTheSame(B,C);if(!D)x.append("scheduled_publish_time",String(C/1e3))}var E=j.expirationTime,F=j.expirationType,G=h.expirationTime,H=h.expirationType;this._isTwoTimesAlmostTheSame(E,G);if(E!==G){var I=this._isTwoTimesAlmostTheSame(E,G);if(!I)x.append("expiration_time",String(G/1e3))}if(F!==H)x.append("expiration_type",H);var J=h.embeddable;if(m!=J){x.append("has_embeddable","true");x.append("embeddable",J)}var K=h.permissions;if(K&&K.length===1){var L=K[0],M=L.allow;if(q!=M){x.append("has_shared_with_business","true");x.append("shared_with_business",M)}}if(s&&K&&K.length>0)(function(){var W=a("flattenPHPQueryData")({crossposting_config:K});Object.keys(W).forEach(function(X){x.append(X,W[X])})})();var N=h.captions.concat(h.liveCaptions),O=[],P=null;if(N)N.forEach(function(W,X){if(W instanceof a("VideoCaptionFile")){var Y=W.getIsDefault()?"captions_default":W.getIsAutoGenerated()?"captions_file"+X:"captions_auto"+X;x.append(Y,W.getFile())}if(W.getIsDefault())P=W.getLocale()});if(P)x.append("default_captions_locale",P);if(l)l.forEach(function(W){if(N.indexOf(W)==-1)O.push(W.getLocale())});O.forEach(function(W,X){x.append("remove_caption["+X+"]",W)});if(h.isSpherical)(function(){x.append("spherical",h.isSpherical);x.append("initial_heading",h.initialHeading);x.append("initial_pitch",h.initialPitch);x.append("fov",h.fov);x.append("guide_enabled",!!h.guideEnabled);var W=a("flattenPHPQueryData")({guide_keyframes:h.guideKeyframes});Object.keys(W).forEach(function(X){x.append(X,W[X])});x.append("enable_omnistab",h.enableOmnistab)})();if(h.episodeData)x.append("episode_data",JSON.stringify(h.episodeData));if(h.squareThumbnailDimensions)x.append("square_thumb_dimensions",JSON.stringify(this.calculateSquareThumbnailDimensions(h.squareThumbnailDimensions)));if(o)x.append("source",o);x.append("copyrighted",h.isCopyrighted);if(h.copyrightMonitoringType)x.append("monitoring_type",h.copyrightMonitoringType);if(h.selectedCategory)x.append("video_copyright_content_category",h.selectedCategory);if(n!=h.isFTEOnly){x.append("has_fte_only","true");x.append("fte_only",h.isFTEOnly)}var Q=i.multilingual_specified_lang;if(Q)x.append("multilingual_specified_lang",Q);var R=i.multilingual_statuses;if(R)R.forEach(function(W,X){x.append("multilingual_statuses["+X+"]",W)});var S=i.multilingual_status_langs;if(S)S.forEach(function(W,X){x.append("multilingual_status_langs["+X+"]",W)});var T=a("Promise").resolve(null);if(p){var U=k.indexOf(w);if(U!=-1)x.append("preferred_thumbnail_index",U+1);if(w instanceof a("FileVideoThumbnail")){T=w.getData();x.append("preferred_thumbnail_index",k.length+1)}}var V=h.spokenLocale;if(!V)V=a("VideoComposerDialogCaptionsStore").getSpokenLocale();if(V&&V!==a("VideoComposerDialogCaptionEditorConstants").INITIAL_SPOKEN_LOCALE)x.append("spoken_locale",V);T.then(function(W){if(W)x.append("custom_thumbnail",W);var X=r&&r(h);if(X)X.done(function(){return t(x)},function(Y){});else t(x)}).done()},getContentCategory:function g(h){var i=Object.keys(a("VideoContentCategoryType"));for(var j=0;j<i.length;j++)if(a("VideoContentCategoryType")[i[j]].value===h)return i[j];return""},getContentTagEntryIDs:function g(h){if(!h||h.length<=0)return[];return h.filter(function(i){return!i.getAuxiliaryData().isFreeForm}).map(function(i){return i.getUniqueID()})},getFreeFormContentTags:function g(h){if(!h||h.length<=0)return[];return h.filter(function(i){return i.getAuxiliaryData().isFreeForm}).map(function(i){return i.getUniqueID()})},getVideoTJAppID:function g(h){if(!h)return null;return h.getUniqueID()},getAttributionTagID:function g(h){if(!h)return null;return h.getUniqueID()},getGameID:function g(h){if(!h)return null;return h.getUniqueID()},getGroupIDs:function g(h){if(!h||h.size<=0)return[];return h.map(function(i){return i.getUniqueID()}).toArray()},convertContentTagToEntryArray:function g(h){var i=[];if(h&&!a("isEmpty")(h))for(var j in h)i.push(h[j]);return i},convertFreeFormTagsToEntryArray:function g(h){if(h&&!a("isEmpty")(h))return h.map(function(i){return new(a("SearchableEntry"))({uniqueID:i,title:i,auxiliaryData:{isFreeForm:true}})});return[]},hasInvalidBackdate:function g(h,i){var j=new Date(h.year,h.month-1,h.day,h.hour,h.minute),k=new Date(i*d);return k.getTime()<j.getTime()},calculateSquareThumbnailDimensions:function g(h){if(!h)return null;var i=h.getArea(),j=h.getPosition(),k=new(a("BasicVector"))(j.width,j.height).div(h.getZoom());return{width:i.width/k.x,height:i.height/k.y,left:i.x/k.x,top:i.y/k.y}},_isTwoTimesAlmostTheSame:function g(h,i){if(!h)return false;var j=h-e,k=h+e;return i>j&&i<k},convertBaseTargeting:function g(h){__p&&__p();if(!h)return{};var i={};if(h.age_min)i.age_min=h.age_min;if(h.age_max)i.age_max=h.age_max;if(h.fan_of)i.interests=h.fan_of.map(function(k){return k.id});if(h.genders)i.genders=h.genders;if(h.geo_locations){var j=h.geo_locations;if(j.countries)i.countries=j.countries;if(j.cities)i.cities=j.cities;if(j.regions)i.regions=j.regions;if(j.zips)i.zipcodes=j.zips}if(h.locales)i.locales=h.locales;if(h.relationship_statuses)i.relationship_statuses=h.relationship_statuses;if(h.education_statuses)i.education_statuses=h.education_statuses;return i},convertExcludedLocations:function g(h){__p&&__p();if(h&&h.excluded_geo_locations){var i=h.excluded_geo_locations;if(i.countries)h.excluded_countries=i.countries;if(i.cities)h.excluded_cities=i.cities.map(function(j){return j.key});if(i.regions)h.excluded_regions=i.regions;if(i.zips)h.excluded_zipcodes=i.zips;delete h.excluded_geo_locations}},shouldShowNux:function g(h){__p&&__p();var i,j;return a("regeneratorRuntime").async(function k(l){while(1)switch(l.prev=l.next){case 0:i=a("XSphericalMediaNUXController").getURIBuilder().getURI();j=new(a("AsyncRequest"))().setURI(i).setData({nux_id:h});l.next=4;return a("regeneratorRuntime").awrap(j.exec(true));case 4:return l.abrupt("return",l.sent.payload.showNux);case 5:case"end":return l.stop()}},null,this)}};b.exports=f}),null);
__d("ComposerVideoUploadActionType",[],(function a(b,c,d,e,f,g){f.exports={SET_SOURCES:"SET_SOURCES",UPDATE_BLOCK_SOCIAL_ACTIONS:"UPDATE_BLOCK_SOCIAL_ACTIONS",UPDATE_CALL_TO_ACTION:"UPDATE_CALL_TO_ACTION",UPDATE_CAN_GENERATE_THUMBNAILS:"UPDATE_CAN_GENERATE_THUMBNAILS",UPDATE_CAPTIONS:"UPDATE_CAPTIONS",UPDATE_CATEGORY:"UPDATE_CATEGORY",UPDATE_CONTENT_TAGS:"UPDATE_CONTENT_TAGS",UPDATE_COPYRIGHTED:"UPDATE_COPYRIGHTED",UPDATE_COPYRIGHT_ATTRIBUTION_ID:"UPDATE_COPYRIGHT_ATTRIBUTION_ID",UPDATE_COPYRIGHT_MONITORING_TYPE:"UPDATE_COPYRIGHT_MONITORING_TYPE",UPDATE_COPYRIGHT_REFERENCE_FILE_STATUS:"UPDATE_COPYRIGHT_REFERENCE_FILE_STATUS",UPDATE_COPYRIGHT_RULE_ID:"UPDATE_COPYRIGHT_RULE_ID",UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES:"UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES",UPDATE_COPYRIGHT_WHITELISTED_FB_USERS:"UPDATE_COPYRIGHT_WHITELISTED_FB_USERS",UPDATE_COPYRIGHT_WHITELISTED_IG_USERS:"UPDATE_COPYRIGHT_WHITELISTED_IG_USERS",UPDATE_COPYRIGHT_EXCLUDED_SEGMENTS:"UPDATE_COPYRIGHT_EXCLUDED_SEGMENTS",UPDATE_CUSTOM_LABELS:"UPDATE_CUSTOM_LABELS",UPDATE_CUSTOM_THUMBNAIL:"UPDATE_CUSTOM_THUMBNAIL",UPDATE_DESCRIPTION:"UPDATE_DESCRIPTION",UPDATE_DISTURBING:"UPDATE_DISTURBING",UPDATE_EMBEDDABLE:"UPDATE_EMBEDDABLE",UPDATE_EXCLUDE_NEWSFEED:"UPDATE_EXCLUDE_NEWSFEED",UPDATE_EXPIRATION:"UPDATE_EXPIRATION",UPDATE_EXPIRE:"UPDATE_EXPIRE",UPDATE_FEED_TYPE:"UPDATE_FEED_TYPE",UPDATE_FTE_ONLY:"UPDATE_FTE_ONLY",UPDATE_GAME:"UPDATE_GAME",UPDATE_GENERATED_THUMBNAILS:"UPDATE_GENERATED_THUMBNAILS",UPDATE_INTERNAL_VIDEO_SETTINGS:"UPDATE_INTERNAL_VIDEO_SETTINGS",UPDATE_IS_SECRET_VIDEO:"UPDATE_IS_SECRET_VIDEO",UPDATE_IS_FEATURED_VIDEO:"UPDATE_IS_FEATURED_VIDEO",UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE:"UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE",UPDATE_OPT_OUT_MONETIZATION:"UPDATE_OPT_OUT_MONETIZATION",UPDATE_PERMISSIONS:"UPDATE_PERMISSIONS",UPDATE_PUBLISH:"update_publish",UPDATE_SCHEDULED_PUBLISH_TIME:"UPDATE_SCHEDULED_PUBLISH_TIME",UPDATE_SCRUBBED_THUMBNAIL:"UPDATE_SCRUBBED_THUMBNAIL",UPDATE_SCRUBBED_THUMBNAIL_TIMESTAMP:"UPDATE_SCRUBBED_THUMBNAIL_TIMESTAMP",UPDATE_SPHERICAL:"UPDATE_SPHERICAL",UPDATE_TAGS:"UPDATE_TAGS",UPDATE_THUMBNAIL:"UPDATE_THUMBNAIL",UPDATE_SQUARE_THUMBNAIL_DIMENSIONS:"UPDATE_SQUARE_THUMBNAIL_DIMENSIONS",UPDATE_THUMBNAIL_FROM_SPHERICAL_PREVIEW:"UPDATE_THUMBNAIL_FROM_SPHERICAL_PREVIEW",UPDATE_TITLE:"UPDATE_TITLE",UPDATE_EXTERNAL_VIDEO_ID:"UPDATE_EXTERNAL_VIDEO_ID",UPDATE_LIVE_CAPTIONS:"UPDATE_LIVE_CAPTIONS",UPDATE_SPONSOR_RELATIONSHIP:"UPDATE_SPONSOR_RELATIONSHIP",UPDATE_EPISODE_DATA:"UPDATE_EPISODE_DATA",UPDATE_DIRECT_SHARE_STATUS:"UPDATE_DIRECT_SHARE_STATUS",UPDATE_VIDEO_DURATION_IN_SEC:"UPDATE_VIDEO_DURATION_IN_SEC",UPDATE_COPYRIGHT_REFERENCE_CATEGORY:"UPDATE_COPYRIGHT_REFERENCE_CATEGORY",UPDATE_PLAYER_SEEK_POSITION:"UPDATE_PLAYER_SEEK_POSITION",UPDATE_ENABLE_THUMBNAIL_EXPERIMENT:"UPDATE_ENABLE_THUMBNAIL_EXPERIMENT",UPDATE_FUNDRAISER_FOR_STORY_CHARITY_ID:"UPDATE_FUNDRAISER_FOR_STORY_CHARITY_ID",UPDATE_SHARE_TO_PARENT_PAGE_OPTION_SELECTED:"UPDATE_SHARE_TO_PARENT_PAGE_OPTION_SELECTED",UPDATE_SHARE_TO_PARENT_PAGE_TEXT:"UPDATE_SHARE_TO_PARENT_PAGE_TEXT",UPDATE_NUMBER_PRODUCTS:"UPDATE_NUMBER_PRODUCTS"}}),null);
__d("ComposerVideoUploadActions",["ComposerVideoUploadStore","ComposerVideoUploadActionType","ReactComposerDispatcher"],(function a(b,c,d,e,f,g){__p&&__p();c("ComposerVideoUploadStore");h.prototype.updateBlockSocialActions=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_BLOCK_SOCIAL_ACTIONS,blockSocialActions:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCallToAction=function(i,j,k,l){"use strict";var m={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_CALL_TO_ACTION,ctaType:j,ctaLink:k,ctaCaption:l};c("ReactComposerDispatcher").dispatch(m)};h.prototype.updateCategory=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_CATEGORY,category:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateContentTags=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_CONTENT_TAGS,contentTags:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrighted=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHTED,copyrighted:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrightMonitoringType=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_MONITORING_TYPE,copyrightMonitoringType:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrightRuleID=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_RULE_ID,copyrightRuleID:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrightAttributionID=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_ATTRIBUTION_ID,copyrightAttributionID:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrightWhitelistedFBUsers=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_WHITELISTED_FB_USERS,copyrightWhitelistedFBUsers:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrightWhitelistedIGUserNames=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_WHITELISTED_IG_USERS,copyrightWhitelistedIGUserNames:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrightOwnershipCountries=function(i,j){var k=arguments.length<=2||arguments[2]===undefined?true:arguments[2];"use strict";var l={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES,copyrightOwnershipCountries:j,areCopyrightCountriesIncluded:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.updateCopyrightExcludedSegments=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_EXCLUDED_SEGMENTS,copyrightExcludedSegments:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCopyrightReferenceFileDisabled=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_REFERENCE_FILE_STATUS,isReferenceFileDisabled:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCustomThumbnail=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_CUSTOM_THUMBNAIL,customThumbnail:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateDescription=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_DESCRIPTION,description:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateDisturbing=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_DISTURBING,disturbing:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateEmbeddable=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_EMBEDDABLE,embeddable:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateExcludeNewsfeed=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_EXCLUDE_NEWSFEED,excludeNewsfeed:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateExpiration=function(i,j,k){"use strict";var l={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_EXPIRATION,expirationTime:j,expirationType:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.updateExpire=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_EXPIRE,expire:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateFTEOnly=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_FTE_ONLY,fteOnly:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateInternalVideoSettings=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_INTERNAL_VIDEO_SETTINGS,internalSetting:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateIsSecretVideo=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_IS_SECRET_VIDEO,isSecretVideo:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateIsFeaturedVideo=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_IS_FEATURED_VIDEO,isFeaturedVideo:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updatePublish=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_PUBLISH,publish:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateScheduledPublishTime=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SCHEDULED_PUBLISH_TIME,scheduledPublishTime:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateTags=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_TAGS,tags:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateGame=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_GAME,gameID:Number.parseInt(j.getUniqueID(),10)};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateNumProducts=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_NUMBER_PRODUCTS,numProducts:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateSpherical=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SPHERICAL,spherical:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateThumbnail=function(i,j){var k=arguments.length<=2||arguments[2]===undefined?false:arguments[2];"use strict";var l={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_THUMBNAIL,thumbnail:j,isSelectedByUser:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.updateSquareThumbnailDimensions=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SQUARE_THUMBNAIL_DIMENSIONS,dimensions:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateThumbnailFromSphericalPreview=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_THUMBNAIL_FROM_SPHERICAL_PREVIEW,customThumbnail:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateTitle=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_TITLE,title:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateFeedType=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_FEED_TYPE,feedType:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateGeneratedThumbnails=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_GENERATED_THUMBNAILS,generatedThumbnails:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateScrubbedThumbnail=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SCRUBBED_THUMBNAIL,scrubbedThumbnail:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateScrubbedThumbnailTimestamp=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SCRUBBED_THUMBNAIL_TIMESTAMP,timestamp:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setSources=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").SET_SOURCES,sources:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCaptions=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_CAPTIONS,captions:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateLiveCaptions=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_LIVE_CAPTIONS,liveCaptions:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateLastCaptionUploadErrorMessage=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE,lastCaptionUploadErrorMessage:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updatePermissions=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_PERMISSIONS,permissions:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateExternalVideoID=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_EXTERNAL_VIDEO_ID,externalVideoID:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateCustomLabels=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_CUSTOM_LABELS,customLabels:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateSponsorRelationship=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SPONSOR_RELATIONSHIP,sponsorRelationship:j})};h.prototype.updateEpisodeData=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_EPISODE_DATA,episodeData:j})};h.prototype.updateSharedToSponsorStatus=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_DIRECT_SHARE_STATUS,sharedToSponsorStatus:j})};h.prototype.updateVideoDurationInSec=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_VIDEO_DURATION_IN_SEC,videoDurationInSec:j})};h.prototype.updateCopyrightReferenceCategory=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_REFERENCE_CATEGORY,selectedCategory:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updatePlayerSeekPosition=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_PLAYER_SEEK_POSITION,seekPositionInMs:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateEnableThumbnailExperiment=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_ENABLE_THUMBNAIL_EXPERIMENT,enableThumbnailExperiment:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateFundraiserForStoryCharityID=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_FUNDRAISER_FOR_STORY_CHARITY_ID,fundraiserForStoryCharityID:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateShareToParentPageOptionSelected=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SHARE_TO_PARENT_PAGE_OPTION_SELECTED,shareToParentPageOptionSelected:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.updateShareToParentPageText=function(i,j){"use strict";var k={composerID:i,type:c("ComposerVideoUploadActionType").UPDATE_SHARE_TO_PARENT_PAGE_TEXT,shareToParentPageText:j};c("ReactComposerDispatcher").dispatch(k)};function h(){"use strict"}f.exports=new h()}),null);
__d("ComposerVideoUploadStore",["Promise","ComposerVideoUploadActionType","BasicVector","BrandedContentSharedToSponsorStatus","BrandedContentSponsorRelationship","ReactComposerStoreBase","ComposerVideoPostUtils","FileVideoThumbnail","VideoCopyrightMonitoringType","VideoCopyrightSegmentSource","VideoCopyrightUtils","VideoFeedType","VideoThumbnailSource"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k;i.constructor.call(this,function(){return{areCopyrightCountriesIncluded:true,blockSocialActions:true,captions:[],liveCaptions:[],content_tags:[],copyrighted:false,copyrightMonitoringType:c("VideoCopyrightUtils").DEFAULT_MONITORING_TYPE,copyrightRuleID:null,copyrightWhitelistedFBUsers:[],copyrightWhitelistedIGUserNames:[],copyrightOwnershipCountries:[],copyrightExcludedSegments:[],customThumbnail:null,description:"",disturbing:false,embeddable:true,enableThumbnailExperiment:false,excludeNewsfeed:false,expirationType:null,expire:false,feedType:c("VideoFeedType").NOT_HIGHLIGHTED.index,fteOnly:false,gameID:null,generatedThumbnails:[],internalSetting:false,isSecretVideo:false,isFeaturedVideo:false,isReferenceFileDisabled:false,lastCaptionUploadErrorMessage:"",numProducts:0,permissions:[],publish:false,scheduledPublishTime:null,scrubbedThumbnail:null,scrubbedThumbnailTimestamp:null,sources:{},spherical:false,tags:[],thumbnail:null,squareThumbnailDimensions:null,title:"",externalVideoID:"",customLabels:[],sponsorRelationship:c("BrandedContentSponsorRelationship").WITH,episodeData:null,sharedToSponsorStatus:c("BrandedContentSharedToSponsorStatus").NOT_SHARED,videoDurationInSec:0,selectedCategory:null,seekPositionInMs:0,fundraiserForStoryCharityID:null,shareToParentPageOptionSelected:false,shareToParentPageText:""}},function(l){__p&&__p();switch(l.type){case c("ComposerVideoUploadActionType").UPDATE_BLOCK_SOCIAL_ACTIONS:k&&k.$ComposerVideoUploadStore1(l);break;case c("ComposerVideoUploadActionType").UPDATE_CALL_TO_ACTION:k&&k.$ComposerVideoUploadStore2(l);break;case c("ComposerVideoUploadActionType").UPDATE_CATEGORY:k&&k.$ComposerVideoUploadStore3(l);break;case c("ComposerVideoUploadActionType").UPDATE_CONTENT_TAGS:k&&k.$ComposerVideoUploadStore4(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHTED:k&&k.$ComposerVideoUploadStore5(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_MONITORING_TYPE:k&&k.$ComposerVideoUploadStore6(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_ATTRIBUTION_ID:k&&k.$ComposerVideoUploadStore7(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_REFERENCE_FILE_STATUS:k&&k.$ComposerVideoUploadStore8(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_RULE_ID:k&&k.$ComposerVideoUploadStore9(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_WHITELISTED_FB_USERS:k&&k.$ComposerVideoUploadStore10(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_WHITELISTED_IG_USERS:k&&k.$ComposerVideoUploadStore11(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_OWNERSHIP_COUNTRIES:k&&k.$ComposerVideoUploadStore12(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_EXCLUDED_SEGMENTS:k&&k.$ComposerVideoUploadStore13(l);break;case c("ComposerVideoUploadActionType").UPDATE_CUSTOM_THUMBNAIL:k&&k.$ComposerVideoUploadStore14(l);break;case c("ComposerVideoUploadActionType").UPDATE_DESCRIPTION:k&&k.$ComposerVideoUploadStore15(l);break;case c("ComposerVideoUploadActionType").UPDATE_DISTURBING:k&&k.$ComposerVideoUploadStore16(l);break;case c("ComposerVideoUploadActionType").UPDATE_EMBEDDABLE:k&&k.$ComposerVideoUploadStore17(l);break;case c("ComposerVideoUploadActionType").UPDATE_EXCLUDE_NEWSFEED:k&&k.$ComposerVideoUploadStore18(l);break;case c("ComposerVideoUploadActionType").UPDATE_EXPIRATION:k&&k.$ComposerVideoUploadStore19(l);break;case c("ComposerVideoUploadActionType").UPDATE_EXPIRE:k&&k.$ComposerVideoUploadStore20(l);break;case c("ComposerVideoUploadActionType").UPDATE_FTE_ONLY:k&&k.$ComposerVideoUploadStore21(l);break;case c("ComposerVideoUploadActionType").UPDATE_INTERNAL_VIDEO_SETTINGS:k&&k.$ComposerVideoUploadStore22(l);break;case c("ComposerVideoUploadActionType").UPDATE_IS_SECRET_VIDEO:k&&k.$ComposerVideoUploadStore23(l);break;case c("ComposerVideoUploadActionType").UPDATE_IS_FEATURED_VIDEO:k&&k.$ComposerVideoUploadStore24(l);break;case c("ComposerVideoUploadActionType").UPDATE_PUBLISH:k&&k.$ComposerVideoUploadStore25(l);break;case c("ComposerVideoUploadActionType").UPDATE_SCHEDULED_PUBLISH_TIME:k&&k.$ComposerVideoUploadStore26(l);break;case c("ComposerVideoUploadActionType").UPDATE_SPHERICAL:k&&k.$ComposerVideoUploadStore27(l);break;case c("ComposerVideoUploadActionType").UPDATE_TAGS:k&&k.$ComposerVideoUploadStore28(l);break;case c("ComposerVideoUploadActionType").UPDATE_THUMBNAIL:k&&k.$ComposerVideoUploadStore29(l);break;case c("ComposerVideoUploadActionType").UPDATE_SQUARE_THUMBNAIL_DIMENSIONS:k&&k.$ComposerVideoUploadStore30(l);break;case c("ComposerVideoUploadActionType").UPDATE_THUMBNAIL_FROM_SPHERICAL_PREVIEW:k&&k.$ComposerVideoUploadStore31(l);break;case c("ComposerVideoUploadActionType").UPDATE_SCRUBBED_THUMBNAIL:k&&k.$ComposerVideoUploadStore32(l);break;case c("ComposerVideoUploadActionType").UPDATE_SCRUBBED_THUMBNAIL_TIMESTAMP:k&&k.$ComposerVideoUploadStore33(l);break;case c("ComposerVideoUploadActionType").UPDATE_TITLE:k&&k.$ComposerVideoUploadStore34(l);break;case c("ComposerVideoUploadActionType").UPDATE_FEED_TYPE:k&&k.$ComposerVideoUploadStore35(l);break;case c("ComposerVideoUploadActionType").UPDATE_GENERATED_THUMBNAILS:k&&k.$ComposerVideoUploadStore36(l);break;case c("ComposerVideoUploadActionType").SET_SOURCES:k&&k.$ComposerVideoUploadStore37(l);break;case c("ComposerVideoUploadActionType").UPDATE_CAPTIONS:k&&k.$ComposerVideoUploadStore38(l);break;case c("ComposerVideoUploadActionType").UPDATE_LIVE_CAPTIONS:k&&k.$ComposerVideoUploadStore39(l);break;case c("ComposerVideoUploadActionType").UPDATE_LAST_CAPTION_UPLOAD_ERROR_MESSAGE:k&&k.$ComposerVideoUploadStore40(l);break;case c("ComposerVideoUploadActionType").UPDATE_PERMISSIONS:k&&k.$ComposerVideoUploadStore41(l);break;case c("ComposerVideoUploadActionType").UPDATE_EXTERNAL_VIDEO_ID:k&&k.$ComposerVideoUploadStore42(l);break;case c("ComposerVideoUploadActionType").UPDATE_CUSTOM_LABELS:k&&k.$ComposerVideoUploadStore43(l);break;case c("ComposerVideoUploadActionType").UPDATE_SPONSOR_RELATIONSHIP:k&&k.$ComposerVideoUploadStore44(l);break;case c("ComposerVideoUploadActionType").UPDATE_EPISODE_DATA:k&&k.$ComposerVideoUploadStore45(l);break;case c("ComposerVideoUploadActionType").UPDATE_DIRECT_SHARE_STATUS:k&&k.$ComposerVideoUploadStore46(l);break;case c("ComposerVideoUploadActionType").UPDATE_VIDEO_DURATION_IN_SEC:k&&k.$ComposerVideoUploadStore47(l);break;case c("ComposerVideoUploadActionType").UPDATE_COPYRIGHT_REFERENCE_CATEGORY:k&&k.$ComposerVideoUploadStore48(l);break;case c("ComposerVideoUploadActionType").UPDATE_PLAYER_SEEK_POSITION:k&&k.$ComposerVideoUploadStore49(l);break;case c("ComposerVideoUploadActionType").UPDATE_ENABLE_THUMBNAIL_EXPERIMENT:k&&k.$ComposerVideoUploadStore50(l);break;case c("ComposerVideoUploadActionType").UPDATE_FUNDRAISER_FOR_STORY_CHARITY_ID:k&&k.$ComposerVideoUploadStore51(l);break;case c("ComposerVideoUploadActionType").UPDATE_SHARE_TO_PARENT_PAGE_OPTION_SELECTED:k&&k.$ComposerVideoUploadStore52(l);break;case c("ComposerVideoUploadActionType").UPDATE_SHARE_TO_PARENT_PAGE_TEXT:k&&k.$ComposerVideoUploadStore53(l);break;case c("ComposerVideoUploadActionType").UPDATE_GAME:k&&k.$ComposerVideoUploadStore54(l);break;case c("ComposerVideoUploadActionType").UPDATE_NUMBER_PRODUCTS:k&&k.$ComposerVideoUploadStore55(l);break}});k=this}j.prototype.getBlockSocialActions=function(k){"use strict";return this.getComposerData(k).blockSocialActions};j.prototype.getCallToAction=function(k){"use strict";return this.getComposerData(k).callToAction};j.prototype.getCategory=function(k){"use strict";return this.getComposerData(k).category};j.prototype.getContentTags=function(k){"use strict";return this.getComposerData(k).contentTags};j.prototype.getCopyrighted=function(k){"use strict";return this.getComposerData(k).copyrighted};j.prototype.getCopyrightMonitoringType=function(k){"use strict";return this.getComposerData(k).copyrightMonitoringType};j.prototype.getCopyrightAttributionID=function(k){"use strict";return this.getComposerData(k).copyrightAttributionID};j.prototype.getCopyrightRuleID=function(k){"use strict";return this.getComposerData(k).copyrightRuleID};j.prototype.getCopyrightWhitelistedFBUsers=function(k){"use strict";return this.getComposerData(k).copyrightWhitelistedFBUsers};j.prototype.getCopyrightWhitelistedIGUserNames=function(k){"use strict";return this.getComposerData(k).copyrightWhitelistedIGUserNames};j.prototype.getCopyrightOwnershipCountries=function(k){"use strict";return this.getComposerData(k).copyrightOwnershipCountries};j.prototype.getAreCopyrightCountriesIncluded=function(k){"use strict";return this.getComposerData(k).areCopyrightCountriesIncluded};j.prototype.getCopyrightExcludedSegments=function(k){"use strict";var l=this.getComposerData(k).copyrightExcludedSegments;if(l.length===0)return[{start_time_in_sec:null,duration_in_sec:null,media_type:c("VideoCopyrightMonitoringType").VIDEO_AND_AUDIO.value,segment_source:c("VideoCopyrightSegmentSource").PUBLISHER_DEFINED,included:false}];return l};j.prototype.getIsCopyrightReferenceDisabled=function(k){"use strict";return this.getComposerData(k).isReferenceFileDisabled};j.prototype.getCustomThumbnail=function(k){"use strict";return this.getComposerData(k).customThumbnail};j.prototype.getScrubbedThumbnail=function(k){"use strict";return this.getComposerData(k).scrubbedThumbnail};j.prototype.getScrubbedThumbnailTimestamp=function(k){"use strict";return this.getComposerData(k).scrubbedThumbnailTimestamp};j.prototype.getDescription=function(k){"use strict";return this.getComposerData(k).description};j.prototype.getDisturbing=function(k){"use strict";return this.getComposerData(k).disturbing};j.prototype.getEmbeddable=function(k){"use strict";return this.getComposerData(k).embeddable};j.prototype.getExcludeNewsfeed=function(k){"use strict";return this.getComposerData(k).excludeNewsfeed};j.prototype.getExpirationTime=function(k){"use strict";return this.getComposerData(k).expirationTime};j.prototype.getExpirationType=function(k){"use strict";return this.getComposerData(k).expirationType};j.prototype.getExpire=function(k){"use strict";return this.getComposerData(k).expire};j.prototype.getFteOnly=function(k){"use strict";return this.getComposerData(k).fteOnly};j.prototype.getInternalSetting=function(k){"use strict";return this.getComposerData(k).internalSetting};j.prototype.getIsSecretVideo=function(k){"use strict";return this.getComposerData(k).isSecretVideo};j.prototype.getIsFeaturedVideo=function(k){"use strict";return this.getComposerData(k).isFeaturedVideo};j.prototype.getPublish=function(k){"use strict";return this.getComposerData(k).publish};j.prototype.getScheduledPublishTime=function(k){"use strict";return this.getComposerData(k).scheduledPublishTime};j.prototype.getSpherical=function(k){"use strict";return this.getComposerData(k).spherical};j.prototype.getTags=function(k){"use strict";return this.getComposerData(k).tags};j.prototype.getThumbnail=function(k){"use strict";return this.getComposerData(k).thumbnail};j.prototype.getSquareThumbnailDimensions=function(k){"use strict";return this.getComposerData(k).squareThumbnailDimensions};j.prototype.getTitle=function(k){"use strict";return this.getComposerData(k).title};j.prototype.getFeedType=function(k){"use strict";return this.getComposerData(k).feedType};j.prototype.getGeneratedThumbnails=function(k){"use strict";return this.getComposerData(k).generatedThumbnails};j.prototype.getSources=function(k){"use strict";return this.getComposerData(k).sources};j.prototype.getCaptions=function(k){"use strict";return this.getComposerData(k).captions};j.prototype.getLiveCaptions=function(k){"use strict";return this.getComposerData(k).liveCaptions};j.prototype.getLastCaptionUploadErrorMessage=function(k){"use strict";return this.getComposerData(k).lastCaptionUploadErrorMessage};j.prototype.getPermissions=function(k){"use strict";return this.getComposerData(k).permissions};j.prototype.getExternalVideoID=function(k){"use strict";return this.getComposerData(k).externalVideoID};j.prototype.getCustomLabels=function(k){"use strict";return this.getComposerData(k).customLabels};j.prototype.getEnableThumbnailExperiment=function(k){"use strict";return this.getComposerData(k).enableThumbnailExperiment};j.prototype.getSponsorRelationship=function(k){"use strict";return this.getComposerData(k).sponsorRelationship};j.prototype.getEpisodeData=function(k){"use strict";return this.getComposerData(k).episodeData};j.prototype.getSharedToSponsorStatus=function(k){"use strict";return this.getComposerData(k).sharedToSponsorStatus};j.prototype.getVideoDurationInSec=function(k){"use strict";return this.getComposerData(k).videoDurationInSec};j.prototype.getCopyrightReferenceCategory=function(k){"use strict";return this.getComposerData(k).selectedCategory};j.prototype.getPlayerSeekPositionInMs=function(k){"use strict";return this.getComposerData(k).seekPositionInMs||0};j.prototype.getFundraiserForStoryCharityID=function(k){"use strict";return this.getComposerData(k).fundraiserForStoryCharityID};j.prototype.getShareToParentPageOptionSelected=function(k){"use strict";return this.getComposerData(k).shareToParentPageOptionSelected};j.prototype.getShareToParentPageText=function(k){"use strict";return this.getComposerData(k).shareToParentPageText};j.prototype.getNumProducts=function(k){"use strict";return this.getComposerData(k).numProducts};j.prototype.$ComposerVideoUploadStore56=function(k){"use strict";var l=this.getComposerData(k.composerID);l.shouldDisableAdBreakInsertion=k.shouldDisableAdBreakInsertion;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore1=function(k){"use strict";var l=this.getComposerData(k.composerID);l.blockSocialActions=k.blockSocialActions;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore2=function(k){"use strict";var l=this.getComposerData(k.composerID);l.callToAction={ctaType:k.ctaType,ctaLink:k.ctaLink,ctaCaption:k.ctaCaption};this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore3=function(k){"use strict";var l=this.getComposerData(k.composerID);l.category=k.category;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore4=function(k){"use strict";var l=this.getComposerData(k.composerID);l.contentTags=k.contentTags;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore5=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrighted=k.copyrighted;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore6=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrightMonitoringType=k.copyrightMonitoringType;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore7=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrightAttributionID=k.copyrightAttributionID;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore9=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrightRuleID=k.copyrightRuleID;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore10=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrightWhitelistedFBUsers=k.copyrightWhitelistedFBUsers;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore11=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrightWhitelistedIGUserNames=k.copyrightWhitelistedIGUserNames;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore12=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrightOwnershipCountries=k.copyrightOwnershipCountries;l.areCopyrightCountriesIncluded=k.areCopyrightCountriesIncluded;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore13=function(k){"use strict";var l=this.getComposerData(k.composerID);l.copyrightExcludedSegments=k.copyrightExcludedSegments;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore8=function(k){"use strict";var l=this.getComposerData(k.composerID);l.isReferenceFileDisabled=k.isReferenceFileDisabled;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore14=function(k){"use strict";var l=this.getComposerData(k.composerID);l.customThumbnail=k.customThumbnail;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore15=function(k){"use strict";var l=this.getComposerData(k.composerID);l.description=k.description;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore16=function(k){"use strict";var l=this.getComposerData(k.composerID);l.disturbing=k.disturbing;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore17=function(k){"use strict";var l=this.getComposerData(k.composerID);l.embeddable=k.embeddable;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore18=function(k){"use strict";var l=this.getComposerData(k.composerID);l.excludeNewsfeed=k.excludeNewsfeed;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore20=function(k){"use strict";var l=this.getComposerData(k.composerID);l.expire=k.expire;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore22=function(k){"use strict";var l=this.getComposerData(k.composerID);l.internalSetting=k.internalSetting;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore21=function(k){"use strict";var l=this.getComposerData(k.composerID);l.fteOnly=k.fteOnly;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore23=function(k){"use strict";var l=this.getComposerData(k.composerID);l.isSecretVideo=k.isSecretVideo;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore24=function(k){"use strict";var l=this.getComposerData(k.composerID);l.isFeaturedVideo=k.isFeaturedVideo;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore25=function(k){"use strict";var l=this.getComposerData(k.composerID);l.publish=k.publish;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore26=function(k){"use strict";var l=this.getComposerData(k.composerID);l.scheduledPublishTime=k.scheduledPublishTime;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore27=function(k){"use strict";var l=this.getComposerData(k.composerID);l.spherical=k.spherical;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore28=function(k){"use strict";var l=this.getComposerData(k.composerID);l.tags=k.tags;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore29=function(k){"use strict";var l=this.getComposerData(k.composerID);l.thumbnail=k.thumbnail;l.isThumbnailSelectedByUser=k.isSelectedByUser;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore30=function(k){"use strict";var l=this.getComposerData(k.composerID);l.squareThumbnailDimensions=k.dimensions;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore31=function(k){"use strict";var l=this.getComposerData(k.composerID);l.customThumbnail=k.customThumbnail;l.thumbnail=k.customThumbnail;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore32=function(k){"use strict";var l=this.getComposerData(k.composerID);l.scrubbedThumbnail=k.scrubbedThumbnail;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore33=function(k){"use strict";var l=this.getComposerData(k.composerID);l.scrubbedThumbnailTimestamp=k.timestamp;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore34=function(k){"use strict";var l=this.getComposerData(k.composerID);l.title=k.title;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore35=function(k){"use strict";var l=this.getComposerData(k.composerID);l.feedType=k.feedType;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore36=function(k){"use strict";var l=this.getComposerData(k.composerID);l.generatedThumbnails=k.generatedThumbnails;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore37=function(k){"use strict";var l=this.getComposerData(k.composerID);l.sources=k.sources;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore38=function(k){"use strict";var l=this.getComposerData(k.composerID);l.captions=k.captions;l.lastCaptionUploadErrorMessage="";this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore39=function(k){"use strict";var l=this.getComposerData(k.composerID);l.liveCaptions=k.liveCaptions;l.lastCaptionUploadErrorMessage="";this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore40=function(k){"use strict";var l=this.getComposerData(k.composerID);l.lastCaptionUploadErrorMessage=k.lastCaptionUploadErrorMessage;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore19=function(k){"use strict";var l=this.getComposerData(k.composerID);l.expirationTime=k.expirationTime;l.expirationType=k.expirationType;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore41=function(k){"use strict";var l=this.getComposerData(k.composerID);l.permissions=k.permissions;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore42=function(k){"use strict";var l=this.getComposerData(k.composerID);l.externalVideoID=k.externalVideoID;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore43=function(k){"use strict";var l=this.getComposerData(k.composerID);l.customLabels=k.customLabels;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore50=function(k){"use strict";var l=this.getComposerData(k.composerID);l.enableThumbnailExperiment=k.enableThumbnailExperiment;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore44=function(k){"use strict";var l=this.getComposerData(k.composerID);l.sponsorRelationship=k.sponsorRelationship;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore46=function(k){"use strict";var l=this.getComposerData(k.composerID);l.sharedToSponsorStatus=k.sharedToSponsorStatus;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore47=function(k){"use strict";var l=this.getComposerData(k.composerID);l.videoDurationInSec=k.videoDurationInSec;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore45=function(k){"use strict";var l=this.getComposerData(k.composerID);l.episodeData=k.episodeData;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore48=function(k){"use strict";var l=this.getComposerData(k.composerID);l.selectedCategory=k.selectedCategory;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore49=function(k){"use strict";var l=this.getComposerData(k.composerID);l.seekPositionInMs=k.seekPositionInMs;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore51=function(k){"use strict";var l=this.getComposerData(k.composerID);l.fundraiserForStoryCharityID=k.fundraiserForStoryCharityID;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore52=function(k){"use strict";var l=this.getComposerData(k.composerID);l.shareToParentPageOptionSelected=k.shareToParentPageOptionSelected;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore53=function(k){"use strict";var l=this.getComposerData(k.composerID);l.shareToParentPageText=k.shareToParentPageText;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore54=function(k){"use strict";var l=this.getComposerData(k.composerID);l.gameID=k.gameID;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore55=function(k){"use strict";var l=this.getComposerData(k.composerID);l.numProducts=k.numProducts;this.emitChange(k.composerID)};j.prototype.$ComposerVideoUploadStore57=function(k){"use strict";if(!k)return null;var l=k.getArea(),m=k.getPosition(),n=new(c("BasicVector"))(m.width,m.height).div(k.getZoom());return{width:l.width/n.x,height:l.height/n.y,left:l.x/n.x,top:l.y/n.y}};j.prototype.getPostData=function(k){"use strict";__p&&__p();var l=this.getComposerData(k),m=l.tags.map(function(q){return q.getUniqueID()}),n=l.permissions.length>0?l.permissions[0].allow:false,o={areCopyrightCountriesIncluded:l.areCopyrightCountriesIncluded,composertags_with:undefined,content_category:l.category,content_tags:c("ComposerVideoPostUtils").getContentTagEntryIDs(l.contentTags||[]),copyrighted:l.copyrighted,copyrightAttributionID:l.copyrightAttributionID,copyrightMonitoringType:l.copyrightMonitoringType,copyrightRuleID:l.copyrightRuleID,copyrightWhitelistedFBUsers:l.copyrightWhitelistedFBUsers,copyrightWhitelistedIGUserNames:l.copyrightWhitelistedIGUserNames,copyrightOwnershipCountries:l.copyrightOwnershipCountries,copyrightExcludedSegments:l.copyrightExcludedSegments,isReferenceFileDisabled:l.isReferenceFileDisabled,video_title:l.title,feed_type:l.feedType,free_form_tags:c("ComposerVideoPostUtils").getFreeFormContentTags(l.contentTags||[]),xhpc_message:l.description,thumbnail_type:undefined,user_uploaded_custom_thumbnail_timestamp:undefined,user_scrubbed_thumbnail_timestamp:undefined,thumb:undefined,disturbing:l.disturbing,embeddable:l.embeddable,no_story:l.excludeNewsfeed,secret:l.isSecretVideo,social_actions:!l.blockSocialActions,spherical:l.spherical,internal_video:l.internalSetting,fte_only:l.fteOnly,captions:l.captions,monitoring_type:l.copyrightMonitoringType,shared_with_business:n,crossposting_config:l.permissions,external_video_id:l.externalVideoID,custom_labels:l.customLabels,enable_thumbnail_experiment:l.enableThumbnailExperiment,sponsor_relationship:l.sponsorRelationship,episode_data_json:undefined,direct_share_status:l.sharedToSponsorStatus,square_custom_thumbnail_dimensions:undefined,videoDurationInSec:l.videoDurationInSec,selectedCategory:l.selectedCategory,fundraiser_for_story_charity_id:undefined,share_to_parent_page_option_selected:l.shareToParentPageOptionSelected,share_to_parent_page_text:l.shareToParentPageText,gameID:l.gameID,numProducts:l.numProducts},p=c("ComposerVideoPostUtils").calculateSquareThumbnailDimensions(l.squareThumbnailDimensions);if(p)o.square_custom_thumbnail_dimensions=JSON.stringify(p);else delete o.square_custom_thumbnail_dimensions;if(l.gameID)o.gameID=l.gameID;else delete o.gameID;if(l.numProducts)o.numProducts=l.numProducts;else delete o.numProducts;if(l.episodeData)o.episode_data_json=JSON.stringify(l.episodeData);else delete o.episode_data_json;if(l.fundraiserForStoryCharityID)o.fundraiser_for_story_charity_id=l.fundraiserForStoryCharityID;else delete o.fundraiser_for_story_charity_id;if(m.length>0)o.composertags_with=m;else delete o.composertags_with;if(l.thumbnail){if(l.thumbnail instanceof c("FileVideoThumbnail"))o.thumbnail_type=c("VideoThumbnailSource").CUSTOM;else if(l.scrubbedThumbnail!==null&&l.scrubbedThumbnail===l.thumbnail){o.thumbnail_type=c("VideoThumbnailSource").SCRUBBER_SELECTED;o.user_scrubbed_thumbnail_timestamp=l.thumbnail.getTime()}else if(l.isThumbnailSelectedByUser){o.thumbnail_type=c("VideoThumbnailSource").GENERATED_SELECTED;o.user_uploaded_custom_thumbnail_timestamp=l.thumbnail.getTime()}else o.thumbnail_type=c("VideoThumbnailSource").GENERATED_DEFAULT;return l.thumbnail.getData().then(function(l){o.thumb=l;return o})}else return c("Promise").resolve(o)};f.exports=new j()}),null);
__d("VideoUploadLeaveConfirmationDialog.react",["fbt","PublishingToolsWebdriverTestDataIDs","React","XUIDialog.react","XUIDialogTitle.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogButton.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes,l=700,m=360;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;n.prototype.render=function(){"use strict";__p&&__p();var o=void 0,p=void 0,q=void 0,r=void 0,s=void 0;if(this.props.isProfileVideo){o=m;p=h._("Cancel profile video?");q=h._("Your profile video won't be saved if you leave this page.");r=h._("Stay on This Page");s=h._("Leave This Page")}else{o=l;p=h._("Discard post?");q=h._("If you leave now, this post will be discarded. To save your post, choose one of the options under the Publish button.");r=h._("Return to Post");s=h._("Discard")}return c("React").createElement(c("XUIDialog.react"),{shown:true,layerHideOnBlur:false,width:o,key:"dialog"},c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:false},p),c("React").createElement(c("XUIDialogBody.react"),null,q),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{label:r,onClick:this.props.onContinue}),c("React").createElement(c("XUIDialogButton.react"),{use:"confirm",action:"cancel",label:s,onClick:this.props.onCancel,"data-testid":c("PublishingToolsWebdriverTestDataIDs").VIDEO_UPLOAD_DIALOG_CLOSE_CONFIRM_BUTTON})))};function n(){"use strict";i.apply(this,arguments)}n.propTypes={onContinue:k.func.isRequired,onCancel:k.func.isRequired,isProfileVideo:k.bool};f.exports=n}),null);
__d("ComposerXVideoUploadDialog.react",["csx","cx","ix","fbt","Arbiter","ComposerVideoShowsStore","DOM","DOMContainer.react","FluxContainer","Image.react","ProfileVideoWWWFrontendActionTypedLogger","PublishingToolsWebdriverTestDataIDs","React","ReactDOM","SubscriptionsHandler","VideoComposerDialogUIEvent","VideoComposerDialogUITypedLogger","VideoComposerDialogVersion","VideoUploadProcessingDialog.react","XUICloseButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","VideoUploadLeaveConfirmationDialog.react","OptimisticVideoPostUtils","containsNode","setImmediate","getViewportDimensions"],(function a(b,c,d,e,f,g,h,i,j,k){__p&&__p();var l,m,n=c("React").PropTypes,o=770,p=489,q=550;l=babelHelpers.inherits(r,c("React").Component);m=l&&l.prototype;function r(){__p&&__p();var s,t;"use strict";for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=m.constructor).call.apply(s,[this].concat(v)),this.state={stage:"editing",videoID:null,showLeaveConfirmationDialog:false,showThrobber:false,shouldShowNewEditDialog:false,pageID:null,isSecretVideo:false,shouldShowVideoLibrary:false,isEpisode:false},this.$ComposerXVideoUploadDialog1=null,this.$ComposerXVideoUploadDialog3=null,this.onCancelPostingClick=function(){this.setState({showLeaveConfirmationDialog:false});if(this.props&&this.props.onCancel)this.props.onCancel();if(this.props.isProfileVideo)this.$ComposerXVideoUploadDialog2.setEvent("leave_this_page_click").setSessionID(this.props.composerID).log();this.$ComposerXVideoUploadDialog4(c("VideoComposerDialogUIEvent").EXIT_COMPOSER_CONFIRM)}.bind(this),this.onContinuePostingClick=function(){this.setState({showLeaveConfirmationDialog:false});if(this.props.isProfileVideo)this.$ComposerXVideoUploadDialog2.setEvent("stay_on_this_page_click").setSessionID(this.props.composerID).log();this.$ComposerXVideoUploadDialog4(c("VideoComposerDialogUIEvent").EXIT_COMPOSER_CANCEL)}.bind(this),this.onComposerClick=function(x){if(this.props.isProfileVideo&&x.nativeEvent&&x.nativeEvent.target)if(c("containsNode")(this.$ComposerXVideoUploadDialog3,x.nativeEvent.target))this.onComposerDialogClose()}.bind(this),this.onComposerDialogClose=function(){this.setState({showLeaveConfirmationDialog:true});if(this.props.isProfileVideo)this.$ComposerXVideoUploadDialog2.setEvent("cancel_button_click").setSessionID(this.props.composerID).log();this.$ComposerXVideoUploadDialog4(c("VideoComposerDialogUIEvent").EXIT_COMPOSER_ATTEMPT)}.bind(this),this.onDone=function(){if(this.props&&this.props.onDone){var x=this.props.onDone;c("setImmediate")(function(){return x({videoID:this.state.videoID})}.bind(this))}}.bind(this),this.renderThrobber=function(){return c("React").createElement(c("Image.react"),{className:"_2z4p"+(this.state.showThrobber?" _2z4q":""),src:j("85428")})}.bind(this),t}r.getStores=function(){"use strict";return[c("ComposerVideoShowsStore")]};r.calculateState=function(){"use strict";var s=c("ComposerVideoShowsStore").getState().toObject(),t=s.isEpisode;return{isEpisode:t}};r.prototype.componentDidMount=function(){"use strict";__p&&__p();if(this.props.isProfileVideo)this.$ComposerXVideoUploadDialog2=new(c("ProfileVideoWWWFrontendActionTypedLogger"))();var s=new(c("SubscriptionsHandler"))();this.$ComposerXVideoUploadDialog1=s;s.addSubscriptions(c("Arbiter").subscribe("videoUpload/started",function(t){this.setState({stage:"editing",videoID:null})}.bind(this)),c("Arbiter").subscribe("videoUpload/complete",function(t,u){if(this.props.onComplete)this.props.onComplete(u.videoID);var v=this.props.showProcessingDialog&&(!this.props.canShowOptimisticPost||!c("OptimisticVideoPostUtils").shouldShowOptimisticPost(u));this.setState({stage:"finished",videoID:u.videoID,shouldShowVideoUploadProcessingDialog:v,shouldShowNewEditDialog:!!u.shouldShowNewEditDialog,pageID:u.pageID,isSecretVideo:u.isSecret,shouldShowVideoLibrary:!!u.shouldShowVideoLibrary})}.bind(this)),c("Arbiter").subscribe("videoUpload/showThrobber",function(t,u){if(this.props.composerID===u.composerID)this.setState({showThrobber:true})}.bind(this)),c("Arbiter").subscribe("videoUpload/hideThrobber",function(t,u){if(this.props.composerID===u.composerID)this.setState({showThrobber:false})}.bind(this)));if(this.props.showDialogCancelButton)this.$ComposerXVideoUploadDialog3=c("DOM").find(c("ReactDOM").findDOMNode(this.props.composer),"._306")};r.prototype.componentWillUnmount=function(){"use strict";if(this.$ComposerXVideoUploadDialog1)this.$ComposerXVideoUploadDialog1.release()};r.prototype.$ComposerXVideoUploadDialog4=function(event){"use strict";new(c("VideoComposerDialogUITypedLogger"))().setEvent(event).setActorID(this.state.pageID).setComposerDialogVersion(c("VideoComposerDialogVersion").V1).setComposerEntryPoint(this.props.composerEntryPointRef).log()};r.prototype.renderLayers=function(){"use strict";__p&&__p();if(this.state.stage=="finished"){if(!this.state.shouldShowVideoUploadProcessingDialog){this.onDone();return null}return c("React").createElement(c("VideoUploadProcessingDialog.react"),{videoID:this.state.videoID,onClose:this.onDone,show:true,shouldShowNewEditDialog:this.state.shouldShowNewEditDialog,pageID:this.state.pageID,isReferenceVideo:this.props.isReferenceVideo,isSecretVideo:this.state.isSecretVideo,shouldShowVideoLibrary:this.state.shouldShowVideoLibrary,key:"dialog"})}else{var s;if(this.props.isReferenceVideo)s=k._("Add reference file");else if(this.props.isProfileVideo)s=k._("Create profile video");else if(this.props.isPageTrailer)s=k._("Add trailer");else if(this.state.isEpisode)s=k._("Upload episode");else s=k._("Upload video");var t=null;if(!this.props.showDialogCancelButton)t=c("React").createElement(c("XUICloseButton.react"),{className:"_51-t",onClick:this.onComposerDialogClose,"data-testid":c("PublishingToolsWebdriverTestDataIDs").VIDEO_UPLOAD_DIALOG_CLOSE_BUTTON});var u=c("getViewportDimensions")().height>q?100:30;return c("React").createElement(c("XUIDialog.react"),{shown:true,layerHideOnBlur:false,width:this.props.compactMode?p:o,fixedTopPosition:u,key:"dialog"},c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:false},s,c("React").createElement("div",{className:"_51-u"},this.renderThrobber(),t)),c("React").createElement(c("XUIDialogBody.react"),{useCustomPadding:true},c("React").createElement(c("DOMContainer.react"),{onClick:this.onComposerClick},this.props.composer)))}};r.prototype.render=function(){"use strict";var s;if(this.state.showLeaveConfirmationDialog)s=c("React").createElement(c("VideoUploadLeaveConfirmationDialog.react"),{isProfileVideo:this.props.isProfileVideo,onContinue:this.onContinuePostingClick,onCancel:this.onCancelPostingClick});return c("React").createElement("div",null,s,this.renderLayers())};r.propTypes={composer:n.object.isRequired,composerID:n.string.isRequired,canShowOptimisticPost:n.bool,showProcessingDialog:n.bool,onCancel:n.func,onComplete:n.func,onDone:n.func,compactMode:n.bool,isReferenceVideo:n.bool,isProfileVideo:n.bool,isPageTrailer:n.bool};r.defaultProps={canShowOptimisticPost:false,showProcessingDialog:true,compactMode:false,isReferenceVideo:false,isProfileVideo:false};f.exports=c("FluxContainer").create(r)}),null);
__d("ComposerVideoUploadSphericalEvents",[],(function a(b,c,d,e,f,g){"use strict";f.exports={GUIDE:{KEYFRAMES_UPDATE:"ComposerVideoUploadSphericalVideoPreviewGuide/keyframesUpdate",CURRENT_POI_UPDATE:"ComposerVideoUploadSphericalVideoPreviewGuide/currentPOIUpdate"},PREVIEW:{INITAL_VIEWPORT_UPDATE:"ComposerVideoUploadSphericalVideoPreview/initialViewportUpdate",GUIDE_KEYFRAMES_UPDATE:"ComposerVideoUploadSphericalVideoPreview/guideKeyframesUpdate",GUIDE_STATE_UPDATE:"ComposerVideoUploadSphericalVideoPreview/guideStateUpdate",GUIDE_VISIBILITY_UPDATE:"ComposerVideoUploadSphericalVideoPreview/guideVisibilityUpdate",KEYFRAME_EDITING_STATE_UPDATE:"ComposerVideoUploadSphericalVideoPreview/keyframeEditingStateUpdate",FIELD_OF_VIEW_UPDATE:"ComposerVideoUploadSphericalVideoPreview/fieldOfViewUpdate",MOBILE_PREVIEW_UPDATE:"ComposerVideoUploadSphericalVideoPreview/mobilePreviewUpdate"},OVERLAY_BUTTONS:{ADD_POI:"ComposerVideoUploadSphericalVideoPreviewOverlayButtons/addPOI",SAVE_POI:"ComposerVideoUploadSphericalVideoPreviewOverlayButtons/savePOI",EDIT_POI:"ComposerVideoUploadSphericalVideoPreviewOverlayButtons/editPOI",REMOVE_POI:"ComposerVideoUploadSphericalVideoPreviewOverlayButtons/removePOI",CLEAR_POI:"ComposerVideoUploadSphericalVideoPreviewOverlayButtons/clearPOI",CREATE_THUMBNAIL:"ComposerVideoUploadSphericalVideoPreviewOverlayButtons/createThumbnail"},VIEWPORT_CONTROL:{VIEWPORT_UPDATE:"ComposerVideoUploadSphericalVideoPreviewViewportControl/viewportUpdate",FIELD_OF_VIEW_UPDATE:"ComposerVideoUploadSphericalVideoPreviewViewportControl/fieldOfViewUpdate"},MEDIA_TOOLKIT:{SAVE_HOTSPOT:"composerVideoUploadSphericalMediaToolkit/saveHotspot"}}}),null);
__d("ComposerVideoUploadSphericalMediaToolkitButton.react",["cx","React","Image.react","ShimButton.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement(c("ShimButton.react"),{className:c("joinClasses")(this.props.className,"_h6s"),onClick:this.props.onClick},c("React").createElement(c("Image.react"),{className:"_2k7z",src:this.props.thumbnail}))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalVideoPreviewOverlayButtons",["cx","fbt","ix","regeneratorRuntime","BasicFBNux","ComposerVideoPostUtils","ComposerVideoUploadSphericalEvents","FlexLayout.react","Image.react","ComposerVideoUploadSphericalMediaToolkitButton.react","React","ReactDOM","ShimButton.react","SubscriptionsHandler","XUIAmbientNUX.react","XUIText.react","asset","destroyOnUnload","fbglyph","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m,n,o=4593,p=i._("Direct viewers' attention to a specific time and place.");k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;function q(t){"use strict";l.constructor.call(this,t)}q.prototype.render=function(){"use strict";var t=void 0;if(this.props.thumbnail)t=c("React").createElement(c("Image.react"),{className:"_4a9p",src:this.props.thumbnail});return c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_3qv6")},c("React").createElement(c("ShimButton.react"),{className:"_3qvi",onClick:this.props.callback},t,c("React").createElement("span",{className:"_3qvj"},this.props.text)))};m=babelHelpers.inherits(r,c("React").Component);n=m&&m.prototype;function r(t){"use strict";__p&&__p();n.constructor.call(this,t);this.state={guideEnabled:this.props.guideEnabled,guideVisible:true,guideKeyframes:this.props.guideKeyframes,currentKeyframe:this.props.controller.getOption("ComposerVideoUploadSphericalVideoPreviewGuide","getCurrentPointOfInterest"),isEditingKeyframe:this.props.isEditingKeyframe,isMobilePreview:this.props.isMobilePreview,isViewportOnKeyframe:true,showNux:false};this.$OverlayButtonsLayer3=function(){this.setState({currentKeyframe:this.$OverlayButtonsLayer2.getOption("ComposerVideoUploadSphericalVideoPreviewGuide","getCurrentPointOfInterest")})}.bind(this);this.$OverlayButtonsLayer4=function(u){this.setState({guideEnabled:u})}.bind(this);this.$OverlayButtonsLayer5=function(u){this.setState({guideVisible:u})}.bind(this);this.$OverlayButtonsLayer6=function(u){this.setState({guideKeyframes:u})}.bind(this);this.$OverlayButtonsLayer7=function(u){this.setState({isEditingKeyframe:u})}.bind(this);this.$OverlayButtonsLayer9=function(u){this.setState({isMobilePreview:u})}.bind(this);this.$OverlayButtonsLayer10=function(){this.props.controller.emit(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.ADD_POI)}.bind(this);this.$OverlayButtonsLayer11=function(){this.props.controller.emit(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.REMOVE_POI)}.bind(this);this.$OverlayButtonsLayer12=function(){this.props.controller.emit(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.CLEAR_POI)}.bind(this);this.$OverlayButtonsLayer13=function(){this.props.controller.emit("SphericalHeadingIndicator/click")}.bind(this);this.$OverlayButtonsLayer14=function(){this.props.controller.emit(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.SAVE_POI)}.bind(this);this.$OverlayButtonsLayer15=function(){this.props.controller.emit(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.EDIT_POI)}.bind(this);this.$OverlayButtonsLayer8=function(){if(!(this.props.isRedesign&&this.state.currentKeyframe&&this.state.isEditingKeyframe)){if(this.state.isViewportOnKeyframe)this.setState({isViewportOnKeyframe:false});return}var u=this.state.currentKeyframe,v=this.$OverlayButtonsLayer2.getOption("ComposerVideoUploadSphericalVideoPreviewViewportControl","getCurrentViewport"),w=Math.abs(v.pitch-u[1]),x=Math.abs(v.yaw-u[2]),y=w<1&&(x<1||x>359);if(y!==this.state.isViewportOnKeyframe)this.setState({isViewportOnKeyframe:y})}.bind(this);this.$OverlayButtonsLayer2=t.controller;this.$OverlayButtonsLayer1=new(c("SubscriptionsHandler"))();this.$OverlayButtonsLayer1.addSubscriptions(this.$OverlayButtonsLayer2.addListener(c("ComposerVideoUploadSphericalEvents").GUIDE.CURRENT_POI_UPDATE,this.$OverlayButtonsLayer3),this.$OverlayButtonsLayer2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_STATE_UPDATE,this.$OverlayButtonsLayer4),this.$OverlayButtonsLayer2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_VISIBILITY_UPDATE,this.$OverlayButtonsLayer5),this.$OverlayButtonsLayer2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_KEYFRAMES_UPDATE,this.$OverlayButtonsLayer6),this.$OverlayButtonsLayer2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.KEYFRAME_EDITING_STATE_UPDATE,this.$OverlayButtonsLayer7),this.$OverlayButtonsLayer2.addListener(c("ComposerVideoUploadSphericalEvents").VIEWPORT_CONTROL.VIEWPORT_UPDATE,this.$OverlayButtonsLayer8),this.$OverlayButtonsLayer2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.MOBILE_PREVIEW_UPDATE,this.$OverlayButtonsLayer9))}r.prototype.componentWillUnmount=function(){"use strict";this.$OverlayButtonsLayer1.release()};r.prototype.componentDidMount=function(){"use strict";__p&&__p();(function t(){__p&&__p();var u;return c("regeneratorRuntime").async(function v(w){while(1)switch(w.prev=w.next){case 0:w.next=2;return c("regeneratorRuntime").awrap(c("ComposerVideoPostUtils").shouldShowNux(o));case 2:u=w.sent;if(this.state.showNux!==u)this.setState({showNux:u});case 4:case"end":return w.stop()}},null,this)}).bind(this)().done()};r.prototype.componentDidUpdate=function(){"use strict";this.$OverlayButtonsLayer8()};r.prototype.$OverlayButtonsLayer16=function(){"use strict";this.props.controller.emit(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.CREATE_THUMBNAIL)};r.prototype.render=function(){"use strict";__p&&__p();var t=this.props.enableComposerRedesign,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0,z=void 0,A=void 0,B=void 0;if(this.props.isRedesign)if(this.state.currentKeyframe)if(this.state.isEditingKeyframe){if(this.state.currentKeyframe[0]===0)v=i._("Drag to adjust the starting view point");else v=i._("Drag to adjust the view");x=this.$OverlayButtonsLayer14;z=i._("Done");if(!this.state.isViewportOnKeyframe){w=this.$OverlayButtonsLayer13;y=i._("Reset")}}else{v=i._("Click to remove or adjust this interest point");x=this.$OverlayButtonsLayer15;z=i._("Edit Point");B=j("140971")}else{v=i._("Click to add a point of interest at this time");x=this.$OverlayButtonsLayer10;z=i._("+ Add Point");u=true}else if(this.state.guideEnabled){if(this.state.guideKeyframes.length){x=this.$OverlayButtonsLayer12;z=i._("- Delete All")}if(this.state.currentKeyframe){w=this.$OverlayButtonsLayer11;y=i._("- Delete Point")}else{w=this.$OverlayButtonsLayer10;y=i._("+ Add Point")}}else{v=i._("Drag and scroll to set camera orientation");x=this.$OverlayButtonsLayer13;z=i._("Reset")}var C=v?c("React").createElement(c("XUIText.react"),{className:"_2w21",size:"meta1",weight:"bold"},v):null,D=!t?c("React").createElement("div",{className:"_2w20"},c("React").createElement("div",{className:"_4n8x"}),C):null,E=!t&&z?c("React").createElement(q,{className:"_3qvk",callback:x,text:z,thumbnail:B,ref:"topRightButton"}):null,F=!t&&y?c("React").createElement(q,{className:"_3qvl",callback:w,text:y,thumbnail:A}):null,G=null;if(t&&u&&E){if(this.state.showNux)c("BasicFBNux").onView(o);G=c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.topRightButton}.bind(this),shown:this.state.showNux,position:"below",alignment:"center",onCloseButtonClick:function(){c("BasicFBNux").onDismiss(o);this.setState({showNux:false})}.bind(this)},c("React").createElement(c("XUIText.react"),{size:"meta1",display:"block"},p))}var H=this.props.isRedesign&&!this.state.currentKeyframe,I=this.props.isRedesign&&this.state.currentKeyframe&&!this.state.isEditingKeyframe,J=this.props.isRedesign&&this.state.currentKeyframe&&this.state.isEditingKeyframe,K=i._("Set guide point"),L=i._("Replace guide point"),M=t&&(H||I)?c("React").createElement(c("ShimButton.react"),{className:"_1sne",onClick:H?this.$OverlayButtonsLayer10:this.$OverlayButtonsLayer15},c("React").createElement(c("FlexLayout.react"),{className:"_1snf",align:"center",justify:"all"},c("React").createElement("div",{className:"_1sng"},H?K:L),c("React").createElement(c("Image.react"),{className:"_1sni",src:j("415891")}))):null,N=this.state.isMobilePreview?j("425575"):j("425576"),O=t&&J?c("React").createElement(c("Image.react"),{className:"_1snj"+(this.state.isMobilePreview?" _19y8":""),src:N}):null,P=t&&J?c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_1snk",thumbnail:j("393776"),onClick:this.$OverlayButtonsLayer14}):null;return c("React").createElement("div",{className:"_64a8"+(!this.state.guideVisible?" _4em9":"")},G,D,E,F,M,O,P)};function s(t,u,v,w){var x=arguments.length<=4||arguments[4]===undefined?false:arguments[4],y=arguments.length<=5||arguments[5]===undefined?false:arguments[5],z=arguments.length<=6||arguments[6]===undefined?false:arguments[6],A=arguments.length<=7||arguments[7]===undefined?false:arguments[7];"use strict";c("ReactDOM").render(c("React").createElement(r,{controller:t,guideEnabled:v,guideKeyframes:w,isEditingKeyframe:x,isMobilePreview:y,isRedesign:z,enableComposerRedesign:A}),u);c("destroyOnUnload")(function(){return c("ReactDOM").unmountComponentAtNode(u)})}f.exports=s}),null);
__d("ComposerVideoUploadSphericalEnhancementsSection.react",["cx","fbt","ComposerVideoUploadTooltip.react","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","React","XUICard.react","XUICardSection.react","XUIText.react","XUICheckboxInput.react","XUIGrayText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=i._("Make your video appear less shaky"),m=i._("360 audio is detected automatically");j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;n.prototype.render=function(){var o=this.props.showOmnistabSection?c("React").createElement("div",{className:"_3aaf"},c("React").createElement("div",{className:"_41vn"},c("React").createElement(c("XUIGrayText.react"),{size:"meta1",weight:"bold",shade:"medium"},i._("Stabilisation")),c("React").createElement(c("ComposerVideoUploadTooltip.react"),{light:true,tooltip:l})),c("React").createElement("div",{className:"_41vo"},c("React").createElement(c("InputLabel_DEPRECATED.react"),null,c("React").createElement(c("XUICheckboxInput.react"),{disabled:!this.props.allowOmnistabToggle,checked:this.props.omnistabEnabled,onChange:this.props.onToggleEnableOmnistab}),c("React").createElement(c("InputLabelLabel_DEPRECATED.react"),{className:"_2t3p"},c("React").createElement(c("XUIText.react"),{weight:"normal"},i._("Apply stabilisation to the video when it's been uploaded")))),c("React").createElement(c("XUIGrayText.react"),{size:"meta1",shade:"light"},i._("If you upload your video without stabilisation, you won't be able to add it later.")))):null,p=c("React").createElement("div",{className:"_3aag"},c("React").createElement("div",{className:"_41vn"},c("React").createElement(c("XUIGrayText.react"),{size:"meta1",weight:"bold",shade:"medium"},i._("Audio")),c("React").createElement(c("ComposerVideoUploadTooltip.react"),{light:true,tooltip:m})),c("React").createElement("div",{className:"_41vo"},c("React").createElement(c("XUIText.react"),{size:"meta1",shade:"light"},i._("If your video has 360 audio, you'll be able to hear it after the video has been posted."))));return c("React").createElement(c("XUICard.react"),{className:"_41vm"},c("React").createElement(c("XUICardSection.react"),null,o,p))};function n(){j.apply(this,arguments)}f.exports=n}),null);
__d("ComposerVideoUploadSphericalPOICarouselItem.react",["ix","cx","fbt","Image.react","React","ShimButton.react","Tooltip.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=1e3,n=60,o=60,p=o*n*m,q=n*m,r=function r(t){t=Math.ceil(t/m)*m;var u=Math.floor(t/p),v=Math.floor(t/q)%o,w=Math.floor(t/m)%n,x=u>0?""+u:"",y=u>0?":"+(v<10?"0":"")+v:""+v,z=":"+(w<10?"0":"")+w;return x+y+z};k=babelHelpers.inherits(s,c("React").PureComponent);l=k&&k.prototype;s.prototype.render=function(){__p&&__p();var t=this.props,u=t.enableComposerRedesign,v=t.isSelected,w=t.thumbnailURI,x=t.timestamp,y=t.isEditingKeyframe,z=t.isSelectedForDeletion,A=void 0;if(x===0)A=u?null:c("React").createElement(c("Tooltip.react"),{tooltip:j._("Starting view can't be deleted"),position:"above",alignH:"center",className:"_3v87"+(u?" _2q6b":"")},c("React").createElement("div",{className:"_jgd"},c("React").createElement(c("Image.react"),{src:h("129545")})));else if(z)if(u)A=c("React").createElement("div",{className:"_3v89 _2q6b"});else A=c("React").createElement("div",{className:"_jge"},c("React").createElement("div",{className:"_jgd"},c("React").createElement(c("Image.react"),{onClick:this.props.onSelectForDeletion,src:h("133788")})));else if(u)A=c("React").createElement("div",{className:"_3v8a _2q6b"});else A=c("React").createElement(c("ShimButton.react"),{onClick:this.props.onSelectForDeletion,className:"_3v8a"});var B=u?76:61,C=u?76:97,D=w?c("React").createElement(c("Image.react"),{className:v&&y?"_8e9":"",width:C,height:B,src:w}):c("React").createElement("div",{className:"_64g7"+(u?" _2q6b":"")});return c("React").createElement(c("ShimButton.react"),{className:"_3ocy"+(v?" _3od0":"")+(u?" _2q6b":"")+(this.props.timestamp===0?" _64g8":""),onClick:function(E){return this.$ComposerVideoUploadSphericalPOICarouselItem1(E,u)}.bind(this)},D,c("React").createElement("div",{className:"_1hi_"+(u?" _2q6b":"")},r(x)),A)};s.prototype.$ComposerVideoUploadSphericalPOICarouselItem1=function(event,t){event.preventDefault();if(!t)this.props.onGuideKeyframeSelected();if(t&&this.props.timestamp!==0)this.props.onSelectForDeletion()};function s(){k.apply(this,arguments)}f.exports=s}),null);
__d("ComposerVideoUploadSphericalPOICarousel.react",["ix","cx","ComposerVideoUploadSphericalPOICarouselItem.react","Image.react","Locale","React","ShimButton.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={itemOffsetIndex:0,justifyRight:false},n}l.prototype.$ComposerVideoUploadSphericalPOICarousel1=function(m){return function(){this.setState({itemOffsetIndex:this.state.itemOffsetIndex+m,justifyRight:m>0})}.bind(this)};l.prototype.$ComposerVideoUploadSphericalPOICarousel2=function(m,n,o,p){if(m===p-n)this.setState({itemOffsetIndex:Math.max(m,0),justifyRight:true});else if(m<o)this.setState({itemOffsetIndex:Math.max(m,0),justifyRight:false});else if(m>o+n-1)this.setState({itemOffsetIndex:Math.min(m-n+1,p-1),justifyRight:true})};l.prototype.componentWillReceiveProps=function(m){__p&&__p();var n=this.state.itemOffsetIndex,o=m.enableComposerRedesign?8:7,p=m.items,q=this.props.items,r=p.size;if(r>=q.size){var s=q.findIndex(function(u){return u.isSelected}),t=p.findIndex(function(u){return u.isSelected});if(t>=0&&t!==s)this.$ComposerVideoUploadSphericalPOICarousel2(t,o,n,r)}else if(r<this.props.items.size)if(n>m.items.size-o)this.$ComposerVideoUploadSphericalPOICarousel2(r-o,o,n,r);else if(r<o)this.$ComposerVideoUploadSphericalPOICarousel2(0,o,n,r)};l.prototype.render=function(){__p&&__p();var m=this.props,n=m.items,o=m.enableComposerRedesign,p=this.state,q=p.itemOffsetIndex,r=p.justifyRight,s=o?8:7,t=o?80:99,u=15,v=o?32:29,w=16,x=n.map(function(H,I){var J=H.thumbnailURI,K=H.timestamp,L=H.isSelected,M=H.isSelectedForDeletion;return c("React").createElement(c("ComposerVideoUploadSphericalPOICarouselItem.react"),{enableComposerRedesign:o,isSelected:L,isSelectedForDeletion:M,thumbnailURI:J,timestamp:K,key:I,onGuideKeyframeSelected:function(){return this.props.onGuideKeyframeSelected(H)}.bind(this),onSelectForDeletion:function(){return this.props.onItemSelectedForDeletion(K)}.bind(this),isEditingKeyframe:this.props.isEditingKeyframe})}.bind(this)),y=x.size,z=y>s,A=void 0,B=void 0,C=void 0,D=void 0;C=h("124201");D=h("124211");if(c("Locale").isRTL()){var E=[D,C];C=E[0];D=E[1]}var F=0;if(z){if(q>0){F++;A=c("React").createElement(c("ShimButton.react"),{className:"_5h02"+(!o?" _3wmd":""),onClick:this.$ComposerVideoUploadSphericalPOICarousel1(-1)},c("React").createElement("div",{className:"_5h03"},c("React").createElement(c("Image.react"),{src:C})))}if(q<y-s){F++;B=c("React").createElement(c("ShimButton.react"),{className:"_5h02"+(!o?" _3wme":""),onClick:this.$ComposerVideoUploadSphericalPOICarousel1(1)},c("React").createElement("div",{className:"_5h03"},c("React").createElement(c("Image.react"),{src:D})))}}var G=q*t;if(F>0)G+=G>0?r?v:u:0;if(F>1)G+=r?w:0;G*=c("Locale").isRTL()?1:-1;return c("React").createElement("div",{className:"_1kds"+(o?" _2q6b":"")},A,c("React").createElement("div",{className:"_2ojc"+(F===1?" _2ojd":"")+(F===2?" _2oje":"")+(o?" _2q6b":"")},c("React").createElement("div",{className:"_1kdt"+(o?" _2q6b":""),style:{transform:"translateX("+G+"px)"}},x.toJS())),B)};f.exports=l}),null);
__d("ComposerVideoUploadSphericalGuideSection.react",["ix","cx","fbt","ComposerVideoUploadTooltip.react","ComposerVideoUploadSphericalMediaToolkitButton.react","ComposerVideoUploadSphericalPOICarousel.react","React","XUIButton.react","XUICardSection.react","XUIText.react","XUIGrayText.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=j._("Delete Points"),n=j._("Direct viewers' attention to specific points in your video");k=babelHelpers.inherits(o,c("React").PureComponent);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$ComposerVideoUploadSphericalGuideSection2=function(u){if(this.$ComposerVideoUploadSphericalGuideSection1()<1)return;u.preventDefault();this.props.onPointsOfInterestRemoved()}.bind(this),q}o.prototype.render=function(){var p=this.props,q=p.keyframes,r=p.enableComposerRedesign,s=q.size-1,t=j._({"*":"Points of interest added: {number of points}"},[j.param("number of points",s,[0])]),u=this.$ComposerVideoUploadSphericalGuideSection1(),v=j._({"*":{"*":"{number of points to be deleted} of {number of points} points selected"}},[j.param("number of points to be deleted",u,[0]),j.param("number of points",s,[0])]),w=m;if(u>0)w=j._({"*":"Delete Points ({number of points to be deleted})"},[j.param("number of points to be deleted",u,[0])]);return c("React").createElement("div",{className:"_4zkp"+(r?" _61-4":"")},!r&&c("React").createElement(c("XUICardSection.react"),{className:"_4zkq"},c("React").createElement("div",{className:"_4zkr"},c("React").createElement("div",null,c("React").createElement(c("XUIGrayText.react"),{size:"meta1",weight:"bold",shade:"medium",display:"inline"},j._("Edit or remove points of interest")),c("React").createElement(c("ComposerVideoUploadTooltip.react"),{light:true,tooltip:n})),c("React").createElement(c("XUIGrayText.react"),{size:"meta1",shade:"light"},j._("Choose a thumbnail to edit the point of interest. To delete, use the checkmarks then click Delete Points.")))),c("React").createElement(c("XUICardSection.react"),{className:"_4zkt"+(r?" _61-4":"")},c("React").createElement("div",{className:"_4zku"},c("React").createElement(c("ComposerVideoUploadSphericalPOICarousel.react"),{enableComposerRedesign:r,isEditingKeyframe:this.props.isEditingKeyframe,items:q,onGuideKeyframeSelected:this.props.onGuideKeyframeSelected,onItemSelectedForDeletion:this.props.onToggleGuideKeyframeForDeletion}),r&&c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_1yxe"+(u<1?" _1yxf":""),thumbnail:u<1?h("396629"):h("402967"),onClick:this.$ComposerVideoUploadSphericalGuideSection2}))),!r&&c("React").createElement("div",{className:"_2wyg"},c("React").createElement(c("XUIGrayText.react"),{size:"meta1",weight:"bold",shade:"medium",display:"block"},t),c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{className:"_2wyh",size:"meta1"},v),c("React").createElement(c("XUIButton.react"),{label:w,disabled:u<1,use:"default",tabIndex:0,onClick:this.$ComposerVideoUploadSphericalGuideSection2}))))};o.prototype.$ComposerVideoUploadSphericalGuideSection1=function(){return this.props.keyframes.reduce(function(p,q){return p+(q.isSelectedForDeletion?1:0)},0)};f.exports=o}),null);
__d("ComposerVideoUploadSphericalControlsTab.react",["cx","ComposerVideoUploadSphericalConstants","ComposerVideoUploadSphericalVideo.react","ComposerVideoUploadSphericalEnhancementsSection.react","ComposerVideoUploadSphericalGuideSection.react","React","SimpleXUIDialog"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.componentDidUpdate=function(){if(this.props.errorMessageText){var l=this.props.errorMessageConfirmOnly?c("SimpleXUIDialog").show.bind(c("SimpleXUIDialog")):c("SimpleXUIDialog").showConfirm.bind(c("SimpleXUIDialog"));l(this.props.errorMessageText,this.props.errorMessageTitle,this.props.onAcceptErrorMessage);this.props.onClearErrorMessage()}};k.prototype.render=function(){var l=this.props.componentSource===c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.PAGE_COMPOSER_V1||this.props.componentSource===c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.EDIT_DIALOG_V1||this.props.componentSource===c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.CROSSPOST_DIALOG_V1;return c("React").createElement("div",{className:"_9_2"+(!this.props.shown?" _2oq6":"")+(l?" _l_-":"")},c("React").createElement("div",{className:"_4zj0"+(l?" _l_-":"")+(this.props.enableComposerRedesign?" _61-4":"")},c("React").createElement(c("ComposerVideoUploadSphericalVideo.react"),{fov:this.props.fov,guideEnabled:this.props.guideEnabled,guideVisible:this.props.guideVisible,isEditingKeyframe:this.props.isEditingKeyframe,keyframes:this.props.keyframes,hotspots:this.props.hotspots,nextHotspotId:this.props.nextHotspotId,onCreateThumbnail:this.props.onCreateThumbnail,onFOVUpdate:this.props.onFOVUpdate,onGuideVisibilityUpdate:this.props.onGuideVisibilityUpdate,onHotspotAdded:this.props.onHotspotAdded,onHotspotDeleted:this.props.onHotspotDeleted,onLoadVideoError:this.props.onLoadVideoError,onLoadVideoSuccess:this.props.onLoadVideoSuccess,onPointOfInterestAdded:this.props.onPointOfInterestAdded,onPointOfInterestSaved:this.props.onPointOfInterestSaved,onPointOfInterestsCleared:this.props.onPointOfInterestsCleared,onPointOfInterestRemoved:this.props.onPointOfInterestRemoved,onPointsOfInterestRemoved:this.props.onPointsOfInterestRemoved,onViewportUpdate:this.props.onViewportUpdate,onProjectionSelected:this.props.onProjectionSelected,onStereoModeSelected:this.props.onStereoModeSelected,onToggleSpatialAudio:this.props.onToggleSpatialAudio,pitch:this.props.pitch,shouldLoadVideo:this.props.shouldLoadVideo,togglePointOfInterestEdit:this.props.togglePointOfInterestEdit,updateActiveGuideKeyframe:this.props.updateActiveGuideKeyframe,videoFile:this.props.videoFile,videoID:this.props.videoID,videoLoading:this.props.videoLoading,videoUnavailable:this.props.videoUnavailable,yaw:this.props.yaw,allowOmnistabToggle:this.props.allowOmnistabToggle,omnistabEnabled:this.props.omnistabEnabled,showOmnistabSection:this.props.showOmnistabSection,onToggleEnableOmnistab:this.props.onToggleEnableOmnistab,projection:this.props.projection,stereoMode:this.props.stereoMode,hasSpatialAudio:this.props.hasSpatialAudio,isEditing:this.props.isEditing,componentSource:this.props.componentSource,enableComposerRedesign:this.props.enableComposerRedesign,enableTextHotspots:this.props.enableTextHotspots,enableImageHotspots:this.props.enableImageHotspots}),c("React").createElement(c("ComposerVideoUploadSphericalGuideSection.react"),{enableComposerRedesign:this.props.enableComposerRedesign,fov:this.props.fov,isEditingKeyframe:this.props.isEditingKeyframe,keyframes:this.props.keyframes,onFOVUpdate:this.props.onFOVUpdate,onGuideKeyframeSelected:this.props.onGuideKeyframeSelected,onPitchUpdate:this.props.onPitchUpdate,onPointOfInterestAdded:this.props.onPointOfInterestAdded,onPointsOfInterestRemoved:this.props.onPointsOfInterestRemoved,onPointOfInterestRemoved:this.props.onPointOfInterestRemoved,onSelectThumbnail:this.props.onSelectThumbnail,onToggleGuideKeyframeForDeletion:this.props.onToggleGuideKeyframeForDeletion,onYawUpdate:this.props.onYawUpdate,pitch:this.props.pitch,yaw:this.props.yaw}),!this.props.enableComposerRedesign&&c("React").createElement(c("ComposerVideoUploadSphericalEnhancementsSection.react"),{allowOmnistabToggle:this.props.allowOmnistabToggle,omnistabEnabled:this.props.omnistabEnabled,onToggleEnableOmnistab:this.props.onToggleEnableOmnistab,showOmnistabSection:this.props.showOmnistabSection})))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("easeInOutInterpolate",["invariant"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){j>=0&&j<=1||h(0);return Math.cos((j+1)*Math.PI)/2+.5};f.exports=i}),null);
/**
 * License: https://www.facebook.com/legal/license/sp9U-49Yqrm/
 */
__d("gl-matrix-2.4.0",[],(function aa(ba,ca,da,ea,fa,a){"use strict";__p&&__p();var ga={},ha={exports:ga},ia;function ja(){__p&&__p();(function b(na,c){if(typeof ga==="object"&&typeof ha==="object")ha.exports=c();else if(typeof ia==="function"&&ia.amd)ia([],c);else{var d=c();for(var e in d)(typeof ga==="object"?ga:na)[e]=d[e]}})(this,function(){__p&&__p();return function(b){__p&&__p();var na={};function c(d){if(na[d])return na[d].exports;var fa=na[d]={i:d,l:false,exports:{}};b[d].call(fa.exports,fa,fa.exports,c);fa.l=true;return fa.exports}c.m=b;c.c=na;c.d=function(a,d,e){if(!c.o(a,d))Object.defineProperty(a,d,{configurable:false,enumerable:true,get:e})};c.n=function(fa){var d=fa&&fa.__esModule?function e(){return fa["default"]}:function e(){return fa};c.d(d,"a",d);return d};c.o=function(d,e){return Object.prototype.hasOwnProperty.call(d,e)};c.p="";return c(c.s=4)}([function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.setMatrixArrayType=e;a.toRadian=pa;a.equals=qa;var na=a.EPSILON=1e-6,c=a.ARRAY_TYPE=typeof Float32Array!=="undefined"?Float32Array:Array,d=a.RANDOM=Math.random;function e(f){a.ARRAY_TYPE=c=f}var oa=Math.PI/180;function pa(f){return f*oa}function qa(f,ra){return Math.abs(f-ra)<=na*Math.max(1,Math.abs(f),Math.abs(ra))}},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.sub=a.mul=undefined;a.create=e;a.fromMat4=oa;a.clone=pa;a.copy=qa;a.fromValues=f;a.set=ra;a.identity=sa;a.transpose=ta;a.invert=ua;a.adjoint=va;a.determinant=wa;a.multiply=xa;a.translate=g;a.rotate=ya;a.scale=h;a.fromTranslation=i;a.fromRotation=za;a.fromScaling=Aa;a.fromMat2d=Ba;a.fromQuat=Ca;a.normalFromMat4=Da;a.projection=Ea;a.str=Fa;a.frob=Ga;a.add=Ha;a.subtract=j;a.multiplyScalar=k;a.multiplyScalarAndAdd=l;a.exactEquals=m;a.equals=n;var na=b(0),c=d(na);function d(q){__p&&__p();if(q&&q.__esModule)return q;else{var r={};if(q!=null)for(var s in q)if(Object.prototype.hasOwnProperty.call(q,s))r[s]=q[s];r["default"]=q;return r}}function e(){__p&&__p();var q=new c.ARRAY_TYPE(9);q[0]=1;q[1]=0;q[2]=0;q[3]=0;q[4]=1;q[5]=0;q[6]=0;q[7]=0;q[8]=1;return q}function oa(q,r){__p&&__p();q[0]=r[0];q[1]=r[1];q[2]=r[2];q[3]=r[4];q[4]=r[5];q[5]=r[6];q[6]=r[8];q[7]=r[9];q[8]=r[10];return q}function pa(q){__p&&__p();var r=new c.ARRAY_TYPE(9);r[0]=q[0];r[1]=q[1];r[2]=q[2];r[3]=q[3];r[4]=q[4];r[5]=q[5];r[6]=q[6];r[7]=q[7];r[8]=q[8];return r}function qa(q,r){__p&&__p();q[0]=r[0];q[1]=r[1];q[2]=r[2];q[3]=r[3];q[4]=r[4];q[5]=r[5];q[6]=r[6];q[7]=r[7];q[8]=r[8];return q}function f(q,r,s,t,u,v,w,x,y){__p&&__p();var z=new c.ARRAY_TYPE(9);z[0]=q;z[1]=r;z[2]=s;z[3]=t;z[4]=u;z[5]=v;z[6]=w;z[7]=x;z[8]=y;return z}function ra(q,r,s,t,u,v,w,x,y,z){__p&&__p();q[0]=r;q[1]=s;q[2]=t;q[3]=u;q[4]=v;q[5]=w;q[6]=x;q[7]=y;q[8]=z;return q}function sa(q){__p&&__p();q[0]=1;q[1]=0;q[2]=0;q[3]=0;q[4]=1;q[5]=0;q[6]=0;q[7]=0;q[8]=1;return q}function ta(q,r){__p&&__p();if(q===r){var s=r[1],t=r[2],u=r[5];q[1]=r[3];q[2]=r[6];q[3]=s;q[5]=r[7];q[6]=t;q[7]=u}else{q[0]=r[0];q[1]=r[3];q[2]=r[6];q[3]=r[1];q[4]=r[4];q[5]=r[7];q[6]=r[2];q[7]=r[5];q[8]=r[8]}return q}function ua(q,r){__p&&__p();var s=r[0],t=r[1],u=r[2],v=r[3],w=r[4],x=r[5],y=r[6],z=r[7],A=r[8],B=A*w-x*z,C=-A*v+x*y,D=z*v-w*y,E=s*B+t*C+u*D;if(!E)return null;E=1/E;q[0]=B*E;q[1]=(-A*t+u*z)*E;q[2]=(x*t-u*w)*E;q[3]=C*E;q[4]=(A*s-u*y)*E;q[5]=(-x*s+u*v)*E;q[6]=D*E;q[7]=(-z*s+t*y)*E;q[8]=(w*s-t*v)*E;return q}function va(q,r){__p&&__p();var s=r[0],t=r[1],u=r[2],v=r[3],w=r[4],x=r[5],y=r[6],z=r[7],A=r[8];q[0]=w*A-x*z;q[1]=u*z-t*A;q[2]=t*x-u*w;q[3]=x*y-v*A;q[4]=s*A-u*y;q[5]=u*v-s*x;q[6]=v*z-w*y;q[7]=t*y-s*z;q[8]=s*w-t*v;return q}function wa(q){var r=q[0],s=q[1],t=q[2],u=q[3],v=q[4],w=q[5],x=q[6],y=q[7],z=q[8];return r*(z*v-w*y)+s*(-z*u+w*x)+t*(y*u-v*x)}function xa(q,r,s){__p&&__p();var t=r[0],u=r[1],v=r[2],w=r[3],x=r[4],y=r[5],z=r[6],A=r[7],B=r[8],C=s[0],D=s[1],E=s[2],F=s[3],G=s[4],H=s[5],I=s[6],J=s[7],K=s[8];q[0]=C*t+D*w+E*z;q[1]=C*u+D*x+E*A;q[2]=C*v+D*y+E*B;q[3]=F*t+G*w+H*z;q[4]=F*u+G*x+H*A;q[5]=F*v+G*y+H*B;q[6]=I*t+J*w+K*z;q[7]=I*u+J*x+K*A;q[8]=I*v+J*y+K*B;return q}function g(q,r,s){__p&&__p();var t=r[0],u=r[1],v=r[2],w=r[3],x=r[4],y=r[5],z=r[6],A=r[7],B=r[8],C=s[0],D=s[1];q[0]=t;q[1]=u;q[2]=v;q[3]=w;q[4]=x;q[5]=y;q[6]=C*t+D*w+z;q[7]=C*u+D*x+A;q[8]=C*v+D*y+B;return q}function ya(q,r,s){__p&&__p();var t=r[0],u=r[1],v=r[2],w=r[3],x=r[4],y=r[5],z=r[6],A=r[7],B=r[8],C=Math.sin(s),D=Math.cos(s);q[0]=D*t+C*w;q[1]=D*u+C*x;q[2]=D*v+C*y;q[3]=D*w-C*t;q[4]=D*x-C*u;q[5]=D*y-C*v;q[6]=z;q[7]=A;q[8]=B;return q}function h(q,r,s){__p&&__p();var t=s[0],u=s[1];q[0]=t*r[0];q[1]=t*r[1];q[2]=t*r[2];q[3]=u*r[3];q[4]=u*r[4];q[5]=u*r[5];q[6]=r[6];q[7]=r[7];q[8]=r[8];return q}function i(q,r){__p&&__p();q[0]=1;q[1]=0;q[2]=0;q[3]=0;q[4]=1;q[5]=0;q[6]=r[0];q[7]=r[1];q[8]=1;return q}function za(q,r){__p&&__p();var s=Math.sin(r),t=Math.cos(r);q[0]=t;q[1]=s;q[2]=0;q[3]=-s;q[4]=t;q[5]=0;q[6]=0;q[7]=0;q[8]=1;return q}function Aa(q,r){__p&&__p();q[0]=r[0];q[1]=0;q[2]=0;q[3]=0;q[4]=r[1];q[5]=0;q[6]=0;q[7]=0;q[8]=1;return q}function Ba(q,r){__p&&__p();q[0]=r[0];q[1]=r[1];q[2]=0;q[3]=r[2];q[4]=r[3];q[5]=0;q[6]=r[4];q[7]=r[5];q[8]=1;return q}function Ca(q,r){__p&&__p();var s=r[0],t=r[1],u=r[2],v=r[3],w=s+s,x=t+t,y=u+u,z=s*w,A=t*w,B=t*x,C=u*w,D=u*x,E=u*y,F=v*w,G=v*x,H=v*y;q[0]=1-B-E;q[3]=A-H;q[6]=C+G;q[1]=A+H;q[4]=1-z-E;q[7]=D-F;q[2]=C-G;q[5]=D+F;q[8]=1-z-B;return q}function Da(q,r){__p&&__p();var s=r[0],t=r[1],u=r[2],v=r[3],w=r[4],x=r[5],y=r[6],z=r[7],A=r[8],B=r[9],C=r[10],D=r[11],E=r[12],F=r[13],G=r[14],H=r[15],I=s*x-t*w,J=s*y-u*w,K=s*z-v*w,L=t*y-u*x,M=t*z-v*x,N=u*z-v*y,O=A*F-B*E,P=A*G-C*E,Q=A*H-D*E,R=B*G-C*F,S=B*H-D*F,T=C*H-D*G,U=I*T-J*S+K*R+L*Q-M*P+N*O;if(!U)return null;U=1/U;q[0]=(x*T-y*S+z*R)*U;q[1]=(y*Q-w*T-z*P)*U;q[2]=(w*S-x*Q+z*O)*U;q[3]=(u*S-t*T-v*R)*U;q[4]=(s*T-u*Q+v*P)*U;q[5]=(t*Q-s*S-v*O)*U;q[6]=(F*N-G*M+H*L)*U;q[7]=(G*K-E*N-H*J)*U;q[8]=(E*M-F*K+H*I)*U;return q}function Ea(q,r,s){__p&&__p();q[0]=2/r;q[1]=0;q[2]=0;q[3]=0;q[4]=-2/s;q[5]=0;q[6]=-1;q[7]=1;q[8]=1;return q}function Fa(q){return"mat3("+q[0]+", "+q[1]+", "+q[2]+", "+q[3]+", "+q[4]+", "+q[5]+", "+q[6]+", "+q[7]+", "+q[8]+")"}function Ga(q){return Math.sqrt(Math.pow(q[0],2)+Math.pow(q[1],2)+Math.pow(q[2],2)+Math.pow(q[3],2)+Math.pow(q[4],2)+Math.pow(q[5],2)+Math.pow(q[6],2)+Math.pow(q[7],2)+Math.pow(q[8],2))}function Ha(q,r,s){__p&&__p();q[0]=r[0]+s[0];q[1]=r[1]+s[1];q[2]=r[2]+s[2];q[3]=r[3]+s[3];q[4]=r[4]+s[4];q[5]=r[5]+s[5];q[6]=r[6]+s[6];q[7]=r[7]+s[7];q[8]=r[8]+s[8];return q}function j(q,r,s){__p&&__p();q[0]=r[0]-s[0];q[1]=r[1]-s[1];q[2]=r[2]-s[2];q[3]=r[3]-s[3];q[4]=r[4]-s[4];q[5]=r[5]-s[5];q[6]=r[6]-s[6];q[7]=r[7]-s[7];q[8]=r[8]-s[8];return q}function k(q,r,s){__p&&__p();q[0]=r[0]*s;q[1]=r[1]*s;q[2]=r[2]*s;q[3]=r[3]*s;q[4]=r[4]*s;q[5]=r[5]*s;q[6]=r[6]*s;q[7]=r[7]*s;q[8]=r[8]*s;return q}function l(q,r,s,h){__p&&__p();q[0]=r[0]+s[0]*h;q[1]=r[1]+s[1]*h;q[2]=r[2]+s[2]*h;q[3]=r[3]+s[3]*h;q[4]=r[4]+s[4]*h;q[5]=r[5]+s[5]*h;q[6]=r[6]+s[6]*h;q[7]=r[7]+s[7]*h;q[8]=r[8]+s[8]*h;return q}function m(q,r){return q[0]===r[0]&&q[1]===r[1]&&q[2]===r[2]&&q[3]===r[3]&&q[4]===r[4]&&q[5]===r[5]&&q[6]===r[6]&&q[7]===r[7]&&q[8]===r[8]}function n(q,r){var s=q[0],t=q[1],u=q[2],v=q[3],w=q[4],x=q[5],y=q[6],z=q[7],A=q[8],B=r[0],C=r[1],D=r[2],E=r[3],F=r[4],G=r[5],H=r[6],I=r[7],J=r[8];return Math.abs(s-B)<=c.EPSILON*Math.max(1,Math.abs(s),Math.abs(B))&&Math.abs(t-C)<=c.EPSILON*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(u-D)<=c.EPSILON*Math.max(1,Math.abs(u),Math.abs(D))&&Math.abs(v-E)<=c.EPSILON*Math.max(1,Math.abs(v),Math.abs(E))&&Math.abs(w-F)<=c.EPSILON*Math.max(1,Math.abs(w),Math.abs(F))&&Math.abs(x-G)<=c.EPSILON*Math.max(1,Math.abs(x),Math.abs(G))&&Math.abs(y-H)<=c.EPSILON*Math.max(1,Math.abs(y),Math.abs(H))&&Math.abs(z-I)<=c.EPSILON*Math.max(1,Math.abs(z),Math.abs(I))&&Math.abs(A-J)<=c.EPSILON*Math.max(1,Math.abs(A),Math.abs(J))}var o=a.mul=xa,p=a.sub=j},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.forEach=a.sqrLen=a.len=a.sqrDist=a.dist=a.div=a.mul=a.sub=undefined;a.create=e;a.clone=oa;a.length=pa;a.fromValues=qa;a.copy=f;a.set=ra;a.add=sa;a.subtract=ta;a.multiply=ua;a.divide=va;a.ceil=wa;a.floor=xa;a.min=g;a.max=ya;a.round=h;a.scale=i;a.scaleAndAdd=za;a.distance=Aa;a.squaredDistance=Ba;a.squaredLength=Ca;a.negate=Da;a.inverse=Ea;a.normalize=Fa;a.dot=Ga;a.cross=Ha;a.lerp=j;a.hermite=k;a.bezier=l;a.random=m;a.transformMat4=n;a.transformMat3=o;a.transformQuat=p;a.rotateX=q;a.rotateY=r;a.rotateZ=s;a.angle=t;a.str=u;a.exactEquals=v;a.equals=w;var na=b(0),c=d(na);function d(F){__p&&__p();if(F&&F.__esModule)return F;else{var G={};if(F!=null)for(var H in F)if(Object.prototype.hasOwnProperty.call(F,H))G[H]=F[H];G["default"]=F;return G}}function e(){var F=new c.ARRAY_TYPE(3);F[0]=0;F[1]=0;F[2]=0;return F}function oa(F){var G=new c.ARRAY_TYPE(3);G[0]=F[0];G[1]=F[1];G[2]=F[2];return G}function pa(F){var G=F[0],H=F[1],I=F[2];return Math.sqrt(G*G+H*H+I*I)}function qa(F,G,H){var I=new c.ARRAY_TYPE(3);I[0]=F;I[1]=G;I[2]=H;return I}function f(F,G){F[0]=G[0];F[1]=G[1];F[2]=G[2];return F}function ra(F,G,H,I){F[0]=G;F[1]=H;F[2]=I;return F}function sa(F,G,H){F[0]=G[0]+H[0];F[1]=G[1]+H[1];F[2]=G[2]+H[2];return F}function ta(F,G,H){F[0]=G[0]-H[0];F[1]=G[1]-H[1];F[2]=G[2]-H[2];return F}function ua(F,G,H){F[0]=G[0]*H[0];F[1]=G[1]*H[1];F[2]=G[2]*H[2];return F}function va(F,G,H){F[0]=G[0]/H[0];F[1]=G[1]/H[1];F[2]=G[2]/H[2];return F}function wa(F,G){F[0]=Math.ceil(G[0]);F[1]=Math.ceil(G[1]);F[2]=Math.ceil(G[2]);return F}function xa(F,G){F[0]=Math.floor(G[0]);F[1]=Math.floor(G[1]);F[2]=Math.floor(G[2]);return F}function g(F,G,H){F[0]=Math.min(G[0],H[0]);F[1]=Math.min(G[1],H[1]);F[2]=Math.min(G[2],H[2]);return F}function ya(F,G,H){F[0]=Math.max(G[0],H[0]);F[1]=Math.max(G[1],H[1]);F[2]=Math.max(G[2],H[2]);return F}function h(F,G){F[0]=Math.round(G[0]);F[1]=Math.round(G[1]);F[2]=Math.round(G[2]);return F}function i(F,G,H){F[0]=G[0]*H;F[1]=G[1]*H;F[2]=G[2]*H;return F}function za(F,G,H,i){F[0]=G[0]+H[0]*i;F[1]=G[1]+H[1]*i;F[2]=G[2]+H[2]*i;return F}function Aa(F,G){var H=G[0]-F[0],I=G[1]-F[1],J=G[2]-F[2];return Math.sqrt(H*H+I*I+J*J)}function Ba(F,G){var H=G[0]-F[0],I=G[1]-F[1],J=G[2]-F[2];return H*H+I*I+J*J}function Ca(F){var G=F[0],H=F[1],I=F[2];return G*G+H*H+I*I}function Da(F,G){F[0]=-G[0];F[1]=-G[1];F[2]=-G[2];return F}function Ea(F,G){F[0]=1/G[0];F[1]=1/G[1];F[2]=1/G[2];return F}function Fa(F,G){var H=G[0],I=G[1],J=G[2],C=H*H+I*I+J*J;if(C>0){C=1/Math.sqrt(C);F[0]=G[0]*C;F[1]=G[1]*C;F[2]=G[2]*C}return F}function Ga(F,G){return F[0]*G[0]+F[1]*G[1]+F[2]*G[2]}function Ha(F,G,H){var I=G[0],J=G[1],K=G[2],L=H[0],M=H[1],N=H[2];F[0]=J*N-K*M;F[1]=K*L-I*N;F[2]=I*M-J*L;return F}function j(F,G,H,I){var J=G[0],K=G[1],L=G[2];F[0]=J+I*(H[0]-J);F[1]=K+I*(H[1]-K);F[2]=L+I*(H[2]-L);return F}function k(F,G,H,I,J,K){var L=K*K,M=L*(2*K-3)+1,N=L*(K-2)+K,O=L*(K-1),P=L*(3-2*K);F[0]=G[0]*M+H[0]*N+I[0]*O+J[0]*P;F[1]=G[1]*M+H[1]*N+I[1]*O+J[1]*P;F[2]=G[2]*M+H[2]*N+I[2]*O+J[2]*P;return F}function l(F,G,H,I,J,K){var L=1-K,M=L*L,N=K*K,O=M*L,P=3*K*M,Q=3*N*L,R=N*K;F[0]=G[0]*O+H[0]*P+I[0]*Q+J[0]*R;F[1]=G[1]*O+H[1]*P+I[1]*Q+J[1]*R;F[2]=G[2]*O+H[2]*P+I[2]*Q+J[2]*R;return F}function m(F,i){i=i||1;var G=c.RANDOM()*2*Math.PI,H=c.RANDOM()*2-1,I=Math.sqrt(1-H*H)*i;F[0]=Math.cos(G)*I;F[1]=Math.sin(G)*I;F[2]=H*i;return F}function n(F,G,H){var I=G[0],J=G[1],K=G[2],L=H[3]*I+H[7]*J+H[11]*K+H[15];L=L||1;F[0]=(H[0]*I+H[4]*J+H[8]*K+H[12])/L;F[1]=(H[1]*I+H[5]*J+H[9]*K+H[13])/L;F[2]=(H[2]*I+H[6]*J+H[10]*K+H[14])/L;return F}function o(F,G,H){var I=G[0],J=G[1],K=G[2];F[0]=I*H[0]+J*H[3]+K*H[6];F[1]=I*H[1]+J*H[4]+K*H[7];F[2]=I*H[2]+J*H[5]+K*H[8];return F}function p(F,G,H){var I=G[0],J=G[1],K=G[2],L=H[0],M=H[1],N=H[2],O=H[3],P=O*I+M*K-N*J,Q=O*J+N*I-L*K,R=O*K+L*J-M*I,S=-L*I-M*J-N*K;F[0]=P*O+S*-L+Q*-N-R*-M;F[1]=Q*O+S*-M+R*-L-P*-N;F[2]=R*O+S*-N+P*-M-Q*-L;return F}function q(F,G,H,I){__p&&__p();var J=[],K=[];J[0]=G[0]-H[0];J[1]=G[1]-H[1];J[2]=G[2]-H[2];K[0]=J[0];K[1]=J[1]*Math.cos(I)-J[2]*Math.sin(I);K[2]=J[1]*Math.sin(I)+J[2]*Math.cos(I);F[0]=K[0]+H[0];F[1]=K[1]+H[1];F[2]=K[2]+H[2];return F}function r(F,G,H,I){__p&&__p();var J=[],K=[];J[0]=G[0]-H[0];J[1]=G[1]-H[1];J[2]=G[2]-H[2];K[0]=J[2]*Math.sin(I)+J[0]*Math.cos(I);K[1]=J[1];K[2]=J[2]*Math.cos(I)-J[0]*Math.sin(I);F[0]=K[0]+H[0];F[1]=K[1]+H[1];F[2]=K[2]+H[2];return F}function s(F,G,H,I){__p&&__p();var J=[],K=[];J[0]=G[0]-H[0];J[1]=G[1]-H[1];J[2]=G[2]-H[2];K[0]=J[0]*Math.cos(I)-J[1]*Math.sin(I);K[1]=J[0]*Math.sin(I)+J[1]*Math.cos(I);K[2]=J[2];F[0]=K[0]+H[0];F[1]=K[1]+H[1];F[2]=K[2]+H[2];return F}function t(F,G){var H=qa(F[0],F[1],F[2]),I=qa(G[0],G[1],G[2]);Fa(H,H);Fa(I,I);var J=Ga(H,I);if(J>1)return 0;else if(J<-1)return Math.PI;else return Math.acos(J)}function u(F){return"vec3("+F[0]+", "+F[1]+", "+F[2]+")"}function v(F,G){return F[0]===G[0]&&F[1]===G[1]&&F[2]===G[2]}function w(F,G){var H=F[0],I=F[1],J=F[2],K=G[0],L=G[1],M=G[2];return Math.abs(H-K)<=c.EPSILON*Math.max(1,Math.abs(H),Math.abs(K))&&Math.abs(I-L)<=c.EPSILON*Math.max(1,Math.abs(I),Math.abs(L))&&Math.abs(J-M)<=c.EPSILON*Math.max(1,Math.abs(J),Math.abs(M))}var x=a.sub=ta,y=a.mul=ua,z=a.div=va,A=a.dist=Aa,B=a.sqrDist=Ba,C=a.len=pa,D=a.sqrLen=Ca,E=a.forEach=function(){__p&&__p();var F=e();return function(G,H,I,J,K,L){__p&&__p();var M=void 0,N=void 0;if(!H)H=3;if(!I)I=0;if(J)N=Math.min(J*H+I,G.length);else N=G.length;for(M=I;M<N;M+=H){F[0]=G[M];F[1]=G[M+1];F[2]=G[M+2];K(F,F,L);G[M]=F[0];G[M+1]=F[1];G[M+2]=F[2]}return G}}()},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.forEach=a.sqrLen=a.len=a.sqrDist=a.dist=a.div=a.mul=a.sub=undefined;a.create=e;a.clone=oa;a.fromValues=pa;a.copy=qa;a.set=f;a.add=ra;a.subtract=sa;a.multiply=ta;a.divide=ua;a.ceil=va;a.floor=wa;a.min=xa;a.max=g;a.round=ya;a.scale=h;a.scaleAndAdd=i;a.distance=za;a.squaredDistance=Aa;a.length=Ba;a.squaredLength=Ca;a.negate=Da;a.inverse=Ea;a.normalize=Fa;a.dot=Ga;a.lerp=Ha;a.random=j;a.transformMat4=k;a.transformQuat=l;a.str=m;a.exactEquals=n;a.equals=o;var na=b(0),c=d(na);function d(x){__p&&__p();if(x&&x.__esModule)return x;else{var y={};if(x!=null)for(var z in x)if(Object.prototype.hasOwnProperty.call(x,z))y[z]=x[z];y["default"]=x;return y}}function e(){var x=new c.ARRAY_TYPE(4);x[0]=0;x[1]=0;x[2]=0;x[3]=0;return x}function oa(x){var y=new c.ARRAY_TYPE(4);y[0]=x[0];y[1]=x[1];y[2]=x[2];y[3]=x[3];return y}function pa(x,y,z,A){var B=new c.ARRAY_TYPE(4);B[0]=x;B[1]=y;B[2]=z;B[3]=A;return B}function qa(x,y){x[0]=y[0];x[1]=y[1];x[2]=y[2];x[3]=y[3];return x}function f(x,y,z,A,B){x[0]=y;x[1]=z;x[2]=A;x[3]=B;return x}function ra(x,y,z){x[0]=y[0]+z[0];x[1]=y[1]+z[1];x[2]=y[2]+z[2];x[3]=y[3]+z[3];return x}function sa(x,y,z){x[0]=y[0]-z[0];x[1]=y[1]-z[1];x[2]=y[2]-z[2];x[3]=y[3]-z[3];return x}function ta(x,y,z){x[0]=y[0]*z[0];x[1]=y[1]*z[1];x[2]=y[2]*z[2];x[3]=y[3]*z[3];return x}function ua(x,y,z){x[0]=y[0]/z[0];x[1]=y[1]/z[1];x[2]=y[2]/z[2];x[3]=y[3]/z[3];return x}function va(x,y){x[0]=Math.ceil(y[0]);x[1]=Math.ceil(y[1]);x[2]=Math.ceil(y[2]);x[3]=Math.ceil(y[3]);return x}function wa(x,y){x[0]=Math.floor(y[0]);x[1]=Math.floor(y[1]);x[2]=Math.floor(y[2]);x[3]=Math.floor(y[3]);return x}function xa(x,y,z){x[0]=Math.min(y[0],z[0]);x[1]=Math.min(y[1],z[1]);x[2]=Math.min(y[2],z[2]);x[3]=Math.min(y[3],z[3]);return x}function g(x,y,z){x[0]=Math.max(y[0],z[0]);x[1]=Math.max(y[1],z[1]);x[2]=Math.max(y[2],z[2]);x[3]=Math.max(y[3],z[3]);return x}function ya(x,y){x[0]=Math.round(y[0]);x[1]=Math.round(y[1]);x[2]=Math.round(y[2]);x[3]=Math.round(y[3]);return x}function h(x,y,z){x[0]=y[0]*z;x[1]=y[1]*z;x[2]=y[2]*z;x[3]=y[3]*z;return x}function i(x,y,z,h){x[0]=y[0]+z[0]*h;x[1]=y[1]+z[1]*h;x[2]=y[2]+z[2]*h;x[3]=y[3]+z[3]*h;return x}function za(x,y){var z=y[0]-x[0],A=y[1]-x[1],B=y[2]-x[2],C=y[3]-x[3];return Math.sqrt(z*z+A*A+B*B+C*C)}function Aa(x,y){var z=y[0]-x[0],A=y[1]-x[1],B=y[2]-x[2],C=y[3]-x[3];return z*z+A*A+B*B+C*C}function Ba(x){var y=x[0],z=x[1],A=x[2],B=x[3];return Math.sqrt(y*y+z*z+A*A+B*B)}function Ca(x){var y=x[0],z=x[1],A=x[2],B=x[3];return y*y+z*z+A*A+B*B}function Da(x,y){x[0]=-y[0];x[1]=-y[1];x[2]=-y[2];x[3]=-y[3];return x}function Ea(x,y){x[0]=1/y[0];x[1]=1/y[1];x[2]=1/y[2];x[3]=1/y[3];return x}function Fa(x,y){var z=y[0],A=y[1],B=y[2],C=y[3],u=z*z+A*A+B*B+C*C;if(u>0){u=1/Math.sqrt(u);x[0]=z*u;x[1]=A*u;x[2]=B*u;x[3]=C*u}return x}function Ga(x,y){return x[0]*y[0]+x[1]*y[1]+x[2]*y[2]+x[3]*y[3]}function Ha(x,y,z,A){var B=y[0],C=y[1],D=y[2],E=y[3];x[0]=B+A*(z[0]-B);x[1]=C+A*(z[1]-C);x[2]=D+A*(z[2]-D);x[3]=E+A*(z[3]-E);return x}function j(x,y){y=y||1;x[0]=c.RANDOM();x[1]=c.RANDOM();x[2]=c.RANDOM();x[3]=c.RANDOM();Fa(x,x);h(x,x,y);return x}function k(x,y,z){var A=y[0],B=y[1],C=y[2],D=y[3];x[0]=z[0]*A+z[4]*B+z[8]*C+z[12]*D;x[1]=z[1]*A+z[5]*B+z[9]*C+z[13]*D;x[2]=z[2]*A+z[6]*B+z[10]*C+z[14]*D;x[3]=z[3]*A+z[7]*B+z[11]*C+z[15]*D;return x}function l(x,y,z){var A=y[0],B=y[1],C=y[2],D=z[0],E=z[1],F=z[2],G=z[3],H=G*A+E*C-F*B,I=G*B+F*A-D*C,J=G*C+D*B-E*A,K=-D*A-E*B-F*C;x[0]=H*G+K*-D+I*-F-J*-E;x[1]=I*G+K*-E+J*-D-H*-F;x[2]=J*G+K*-F+H*-E-I*-D;x[3]=y[3];return x}function m(x){return"vec4("+x[0]+", "+x[1]+", "+x[2]+", "+x[3]+")"}function n(x,y){return x[0]===y[0]&&x[1]===y[1]&&x[2]===y[2]&&x[3]===y[3]}function o(x,y){var z=x[0],A=x[1],B=x[2],C=x[3],D=y[0],E=y[1],F=y[2],G=y[3];return Math.abs(z-D)<=c.EPSILON*Math.max(1,Math.abs(z),Math.abs(D))&&Math.abs(A-E)<=c.EPSILON*Math.max(1,Math.abs(A),Math.abs(E))&&Math.abs(B-F)<=c.EPSILON*Math.max(1,Math.abs(B),Math.abs(F))&&Math.abs(C-G)<=c.EPSILON*Math.max(1,Math.abs(C),Math.abs(G))}var p=a.sub=sa,q=a.mul=ta,r=a.div=ua,s=a.dist=za,t=a.sqrDist=Aa,u=a.len=Ba,v=a.sqrLen=Ca,w=a.forEach=function(){__p&&__p();var x=e();return function(y,z,A,B,C,D){__p&&__p();var E=void 0,F=void 0;if(!z)z=4;if(!A)A=0;if(B)F=Math.min(B*z+A,y.length);else F=y.length;for(E=A;E<F;E+=z){x[0]=y[E];x[1]=y[E+1];x[2]=y[E+2];x[3]=y[E+3];C(x,x,D);y[E]=x[0];y[E+1]=x[1];y[E+2]=x[2];y[E+3]=x[3]}return y}}()},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.vec4=a.vec3=a.vec2=a.quat=a.mat4=a.mat3=a.mat2d=a.mat2=a.glMatrix=undefined;var na=b(0),c=i(na),d=b(5),e=i(d),oa=b(6),pa=i(oa),qa=b(1),f=i(qa),ra=b(7),sa=i(ra),ta=b(8),ua=i(ta),va=b(9),wa=i(va),xa=b(2),g=i(xa),ya=b(3),h=i(ya);function i(za){__p&&__p();if(za&&za.__esModule)return za;else{var Aa={};if(za!=null)for(var Ba in za)if(Object.prototype.hasOwnProperty.call(za,Ba))Aa[Ba]=za[Ba];Aa["default"]=za;return Aa}}a.glMatrix=c;a.mat2=e;a.mat2d=pa;a.mat3=f;a.mat4=sa;a.quat=ua;a.vec2=wa;a.vec3=g;a.vec4=h},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.sub=a.mul=undefined;a.create=e;a.clone=oa;a.copy=pa;a.identity=qa;a.fromValues=f;a.set=ra;a.transpose=sa;a.invert=ta;a.adjoint=ua;a.determinant=va;a.multiply=wa;a.rotate=xa;a.scale=g;a.fromRotation=ya;a.fromScaling=h;a.str=i;a.frob=za;a.LDU=Aa;a.add=Ba;a.subtract=Ca;a.exactEquals=Da;a.equals=Ea;a.multiplyScalar=Fa;a.multiplyScalarAndAdd=Ga;var na=b(0),c=d(na);function d(k){__p&&__p();if(k&&k.__esModule)return k;else{var l={};if(k!=null)for(var m in k)if(Object.prototype.hasOwnProperty.call(k,m))l[m]=k[m];l["default"]=k;return l}}function e(){var k=new c.ARRAY_TYPE(4);k[0]=1;k[1]=0;k[2]=0;k[3]=1;return k}function oa(k){var l=new c.ARRAY_TYPE(4);l[0]=k[0];l[1]=k[1];l[2]=k[2];l[3]=k[3];return l}function pa(k,l){k[0]=l[0];k[1]=l[1];k[2]=l[2];k[3]=l[3];return k}function qa(k){k[0]=1;k[1]=0;k[2]=0;k[3]=1;return k}function f(k,l,m,n){var o=new c.ARRAY_TYPE(4);o[0]=k;o[1]=l;o[2]=m;o[3]=n;return o}function ra(k,l,m,n,o){k[0]=l;k[1]=m;k[2]=n;k[3]=o;return k}function sa(k,l){__p&&__p();if(k===l){var m=l[1];k[1]=l[2];k[2]=m}else{k[0]=l[0];k[1]=l[2];k[2]=l[1];k[3]=l[3]}return k}function ta(k,l){var m=l[0],n=l[1],o=l[2],p=l[3],q=m*p-o*n;if(!q)return null;q=1/q;k[0]=p*q;k[1]=-n*q;k[2]=-o*q;k[3]=m*q;return k}function ua(k,l){var m=l[0];k[0]=l[3];k[1]=-l[1];k[2]=-l[2];k[3]=m;return k}function va(k){return k[0]*k[3]-k[2]*k[1]}function wa(k,l,m){var n=l[0],o=l[1],p=l[2],q=l[3],r=m[0],s=m[1],t=m[2],u=m[3];k[0]=n*r+p*s;k[1]=o*r+q*s;k[2]=n*t+p*u;k[3]=o*t+q*u;return k}function xa(k,l,m){var n=l[0],o=l[1],p=l[2],q=l[3],r=Math.sin(m),s=Math.cos(m);k[0]=n*s+p*r;k[1]=o*s+q*r;k[2]=n*-r+p*s;k[3]=o*-r+q*s;return k}function g(k,l,m){var n=l[0],o=l[1],p=l[2],q=l[3],r=m[0],s=m[1];k[0]=n*r;k[1]=o*r;k[2]=p*s;k[3]=q*s;return k}function ya(k,l){var m=Math.sin(l),n=Math.cos(l);k[0]=n;k[1]=m;k[2]=-m;k[3]=n;return k}function h(k,l){k[0]=l[0];k[1]=0;k[2]=0;k[3]=l[1];return k}function i(k){return"mat2("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+")"}function za(k){return Math.sqrt(Math.pow(k[0],2)+Math.pow(k[1],2)+Math.pow(k[2],2)+Math.pow(k[3],2))}function Aa(k,l,m,n){k[2]=n[2]/n[0];m[0]=n[0];m[1]=n[1];m[3]=n[3]-k[2]*m[1];return[k,l,m]}function Ba(k,l,m){k[0]=l[0]+m[0];k[1]=l[1]+m[1];k[2]=l[2]+m[2];k[3]=l[3]+m[3];return k}function Ca(k,l,m){k[0]=l[0]-m[0];k[1]=l[1]-m[1];k[2]=l[2]-m[2];k[3]=l[3]-m[3];return k}function Da(k,l){return k[0]===l[0]&&k[1]===l[1]&&k[2]===l[2]&&k[3]===l[3]}function Ea(k,l){var m=k[0],n=k[1],o=k[2],p=k[3],q=l[0],r=l[1],s=l[2],t=l[3];return Math.abs(m-q)<=c.EPSILON*Math.max(1,Math.abs(m),Math.abs(q))&&Math.abs(n-r)<=c.EPSILON*Math.max(1,Math.abs(n),Math.abs(r))&&Math.abs(o-s)<=c.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(p-t)<=c.EPSILON*Math.max(1,Math.abs(p),Math.abs(t))}function Fa(k,l,m){k[0]=l[0]*m;k[1]=l[1]*m;k[2]=l[2]*m;k[3]=l[3]*m;return k}function Ga(k,l,m,g){k[0]=l[0]+m[0]*g;k[1]=l[1]+m[1]*g;k[2]=l[2]+m[2]*g;k[3]=l[3]+m[3]*g;return k}var Ha=a.mul=wa,j=a.sub=Ca},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.sub=a.mul=undefined;a.create=e;a.clone=oa;a.copy=pa;a.identity=qa;a.fromValues=f;a.set=ra;a.invert=sa;a.determinant=ta;a.multiply=ua;a.rotate=va;a.scale=wa;a.translate=xa;a.fromRotation=g;a.fromScaling=ya;a.fromTranslation=h;a.str=i;a.frob=za;a.add=Aa;a.subtract=Ba;a.multiplyScalar=Ca;a.multiplyScalarAndAdd=Da;a.exactEquals=Ea;a.equals=Fa;var na=b(0),c=d(na);function d(j){__p&&__p();if(j&&j.__esModule)return j;else{var k={};if(j!=null)for(var l in j)if(Object.prototype.hasOwnProperty.call(j,l))k[l]=j[l];k["default"]=j;return k}}function e(){var j=new c.ARRAY_TYPE(6);j[0]=1;j[1]=0;j[2]=0;j[3]=1;j[4]=0;j[5]=0;return j}function oa(j){var k=new c.ARRAY_TYPE(6);k[0]=j[0];k[1]=j[1];k[2]=j[2];k[3]=j[3];k[4]=j[4];k[5]=j[5];return k}function pa(j,k){j[0]=k[0];j[1]=k[1];j[2]=k[2];j[3]=k[3];j[4]=k[4];j[5]=k[5];return j}function qa(j){j[0]=1;j[1]=0;j[2]=0;j[3]=1;j[4]=0;j[5]=0;return j}function f(j,k,l,m,n,o){var p=new c.ARRAY_TYPE(6);p[0]=j;p[1]=k;p[2]=l;p[3]=m;p[4]=n;p[5]=o;return p}function ra(j,k,l,m,n,o,p){j[0]=k;j[1]=l;j[2]=m;j[3]=n;j[4]=o;j[5]=p;return j}function sa(j,k){__p&&__p();var l=k[0],m=k[1],n=k[2],o=k[3],p=k[4],q=k[5],r=l*o-m*n;if(!r)return null;r=1/r;j[0]=o*r;j[1]=-m*r;j[2]=-n*r;j[3]=l*r;j[4]=(n*q-o*p)*r;j[5]=(m*p-l*q)*r;return j}function ta(j){return j[0]*j[3]-j[1]*j[2]}function ua(j,k,l){var m=k[0],n=k[1],o=k[2],p=k[3],q=k[4],r=k[5],s=l[0],t=l[1],u=l[2],v=l[3],w=l[4],x=l[5];j[0]=m*s+o*t;j[1]=n*s+p*t;j[2]=m*u+o*v;j[3]=n*u+p*v;j[4]=m*w+o*x+q;j[5]=n*w+p*x+r;return j}function va(j,k,l){var m=k[0],n=k[1],o=k[2],p=k[3],q=k[4],r=k[5],s=Math.sin(l),t=Math.cos(l);j[0]=m*t+o*s;j[1]=n*t+p*s;j[2]=m*-s+o*t;j[3]=n*-s+p*t;j[4]=q;j[5]=r;return j}function wa(j,k,l){var m=k[0],n=k[1],o=k[2],p=k[3],q=k[4],r=k[5],s=l[0],t=l[1];j[0]=m*s;j[1]=n*s;j[2]=o*t;j[3]=p*t;j[4]=q;j[5]=r;return j}function xa(j,k,l){var m=k[0],n=k[1],o=k[2],p=k[3],q=k[4],r=k[5],s=l[0],t=l[1];j[0]=m;j[1]=n;j[2]=o;j[3]=p;j[4]=m*s+o*t+q;j[5]=n*s+p*t+r;return j}function g(j,k){var l=Math.sin(k),m=Math.cos(k);j[0]=m;j[1]=l;j[2]=-l;j[3]=m;j[4]=0;j[5]=0;return j}function ya(j,k){j[0]=k[0];j[1]=0;j[2]=0;j[3]=k[1];j[4]=0;j[5]=0;return j}function h(j,k){j[0]=1;j[1]=0;j[2]=0;j[3]=1;j[4]=k[0];j[5]=k[1];return j}function i(j){return"mat2d("+j[0]+", "+j[1]+", "+j[2]+", "+j[3]+", "+j[4]+", "+j[5]+")"}function za(j){return Math.sqrt(Math.pow(j[0],2)+Math.pow(j[1],2)+Math.pow(j[2],2)+Math.pow(j[3],2)+Math.pow(j[4],2)+Math.pow(j[5],2)+1)}function Aa(j,k,l){j[0]=k[0]+l[0];j[1]=k[1]+l[1];j[2]=k[2]+l[2];j[3]=k[3]+l[3];j[4]=k[4]+l[4];j[5]=k[5]+l[5];return j}function Ba(j,k,l){j[0]=k[0]-l[0];j[1]=k[1]-l[1];j[2]=k[2]-l[2];j[3]=k[3]-l[3];j[4]=k[4]-l[4];j[5]=k[5]-l[5];return j}function Ca(j,k,l){j[0]=k[0]*l;j[1]=k[1]*l;j[2]=k[2]*l;j[3]=k[3]*l;j[4]=k[4]*l;j[5]=k[5]*l;return j}function Da(j,k,l,wa){j[0]=k[0]+l[0]*wa;j[1]=k[1]+l[1]*wa;j[2]=k[2]+l[2]*wa;j[3]=k[3]+l[3]*wa;j[4]=k[4]+l[4]*wa;j[5]=k[5]+l[5]*wa;return j}function Ea(j,k){return j[0]===k[0]&&j[1]===k[1]&&j[2]===k[2]&&j[3]===k[3]&&j[4]===k[4]&&j[5]===k[5]}function Fa(j,k){var l=j[0],m=j[1],n=j[2],o=j[3],p=j[4],q=j[5],r=k[0],s=k[1],t=k[2],u=k[3],v=k[4],w=k[5];return Math.abs(l-r)<=c.EPSILON*Math.max(1,Math.abs(l),Math.abs(r))&&Math.abs(m-s)<=c.EPSILON*Math.max(1,Math.abs(m),Math.abs(s))&&Math.abs(n-t)<=c.EPSILON*Math.max(1,Math.abs(n),Math.abs(t))&&Math.abs(o-u)<=c.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(p-v)<=c.EPSILON*Math.max(1,Math.abs(p),Math.abs(v))&&Math.abs(q-w)<=c.EPSILON*Math.max(1,Math.abs(q),Math.abs(w))}var Ga=a.mul=ua,Ha=a.sub=Ba},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.sub=a.mul=undefined;a.create=e;a.clone=oa;a.copy=pa;a.fromValues=qa;a.set=f;a.identity=ra;a.transpose=sa;a.invert=ta;a.adjoint=ua;a.determinant=va;a.multiply=wa;a.translate=xa;a.scale=g;a.rotate=ya;a.rotateX=h;a.rotateY=i;a.rotateZ=za;a.fromTranslation=Aa;a.fromScaling=Ba;a.fromRotation=Ca;a.fromXRotation=Da;a.fromYRotation=Ea;a.fromZRotation=Fa;a.fromRotationTranslation=Ga;a.getTranslation=Ha;a.getScaling=j;a.getRotation=k;a.fromRotationTranslationScale=l;a.fromRotationTranslationScaleOrigin=m;a.fromQuat=n;a.frustum=o;a.perspective=p;a.perspectiveFromFieldOfView=q;a.ortho=r;a.lookAt=s;a.targetTo=t;a.str=u;a.frob=v;a.add=w;a.subtract=x;a.multiplyScalar=y;a.multiplyScalarAndAdd=z;a.exactEquals=A;a.equals=B;var na=b(0),c=d(na);function d(E){__p&&__p();if(E&&E.__esModule)return E;else{var F={};if(E!=null)for(var G in E)if(Object.prototype.hasOwnProperty.call(E,G))F[G]=E[G];F["default"]=E;return F}}function e(){__p&&__p();var E=new c.ARRAY_TYPE(16);E[0]=1;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=1;E[6]=0;E[7]=0;E[8]=0;E[9]=0;E[10]=1;E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function oa(E){__p&&__p();var F=new c.ARRAY_TYPE(16);F[0]=E[0];F[1]=E[1];F[2]=E[2];F[3]=E[3];F[4]=E[4];F[5]=E[5];F[6]=E[6];F[7]=E[7];F[8]=E[8];F[9]=E[9];F[10]=E[10];F[11]=E[11];F[12]=E[12];F[13]=E[13];F[14]=E[14];F[15]=E[15];return F}function pa(E,F){__p&&__p();E[0]=F[0];E[1]=F[1];E[2]=F[2];E[3]=F[3];E[4]=F[4];E[5]=F[5];E[6]=F[6];E[7]=F[7];E[8]=F[8];E[9]=F[9];E[10]=F[10];E[11]=F[11];E[12]=F[12];E[13]=F[13];E[14]=F[14];E[15]=F[15];return E}function qa(E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T){__p&&__p();var U=new c.ARRAY_TYPE(16);U[0]=E;U[1]=F;U[2]=G;U[3]=H;U[4]=I;U[5]=J;U[6]=K;U[7]=L;U[8]=M;U[9]=N;U[10]=O;U[11]=P;U[12]=Q;U[13]=R;U[14]=S;U[15]=T;return U}function f(E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U){__p&&__p();E[0]=F;E[1]=G;E[2]=H;E[3]=I;E[4]=J;E[5]=K;E[6]=L;E[7]=M;E[8]=N;E[9]=O;E[10]=P;E[11]=Q;E[12]=R;E[13]=S;E[14]=T;E[15]=U;return E}function ra(E){__p&&__p();E[0]=1;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=1;E[6]=0;E[7]=0;E[8]=0;E[9]=0;E[10]=1;E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function sa(E,F){__p&&__p();if(E===F){var G=F[1],H=F[2],I=F[3],J=F[6],K=F[7],L=F[11];E[1]=F[4];E[2]=F[8];E[3]=F[12];E[4]=G;E[6]=F[9];E[7]=F[13];E[8]=H;E[9]=J;E[11]=F[14];E[12]=I;E[13]=K;E[14]=L}else{E[0]=F[0];E[1]=F[4];E[2]=F[8];E[3]=F[12];E[4]=F[1];E[5]=F[5];E[6]=F[9];E[7]=F[13];E[8]=F[2];E[9]=F[6];E[10]=F[10];E[11]=F[14];E[12]=F[3];E[13]=F[7];E[14]=F[11];E[15]=F[15]}return E}function ta(E,F){__p&&__p();var G=F[0],H=F[1],I=F[2],J=F[3],K=F[4],L=F[5],M=F[6],N=F[7],O=F[8],P=F[9],Q=F[10],R=F[11],S=F[12],T=F[13],U=F[14],V=F[15],W=G*L-H*K,X=G*M-I*K,Y=G*N-J*K,Z=H*M-I*L,$=H*N-J*L,Ia=I*N-J*M,Ja=O*T-P*S,Ka=O*U-Q*S,La=O*V-R*S,Ma=P*U-Q*T,Na=P*V-R*T,Oa=Q*V-R*U,Pa=W*Oa-X*Na+Y*Ma+Z*La-$*Ka+Ia*Ja;if(!Pa)return null;Pa=1/Pa;E[0]=(L*Oa-M*Na+N*Ma)*Pa;E[1]=(I*Na-H*Oa-J*Ma)*Pa;E[2]=(T*Ia-U*$+V*Z)*Pa;E[3]=(Q*$-P*Ia-R*Z)*Pa;E[4]=(M*La-K*Oa-N*Ka)*Pa;E[5]=(G*Oa-I*La+J*Ka)*Pa;E[6]=(U*Y-S*Ia-V*X)*Pa;E[7]=(O*Ia-Q*Y+R*X)*Pa;E[8]=(K*Na-L*La+N*Ja)*Pa;E[9]=(H*La-G*Na-J*Ja)*Pa;E[10]=(S*$-T*Y+V*W)*Pa;E[11]=(P*Y-O*$-R*W)*Pa;E[12]=(L*Ka-K*Ma-M*Ja)*Pa;E[13]=(G*Ma-H*Ka+I*Ja)*Pa;E[14]=(T*X-S*Z-U*W)*Pa;E[15]=(O*Z-P*X+Q*W)*Pa;return E}function ua(E,F){__p&&__p();var G=F[0],H=F[1],I=F[2],J=F[3],K=F[4],L=F[5],M=F[6],N=F[7],O=F[8],P=F[9],Q=F[10],R=F[11],S=F[12],T=F[13],U=F[14],V=F[15];E[0]=L*(Q*V-R*U)-P*(M*V-N*U)+T*(M*R-N*Q);E[1]=-(H*(Q*V-R*U)-P*(I*V-J*U)+T*(I*R-J*Q));E[2]=H*(M*V-N*U)-L*(I*V-J*U)+T*(I*N-J*M);E[3]=-(H*(M*R-N*Q)-L*(I*R-J*Q)+P*(I*N-J*M));E[4]=-(K*(Q*V-R*U)-O*(M*V-N*U)+S*(M*R-N*Q));E[5]=G*(Q*V-R*U)-O*(I*V-J*U)+S*(I*R-J*Q);E[6]=-(G*(M*V-N*U)-K*(I*V-J*U)+S*(I*N-J*M));E[7]=G*(M*R-N*Q)-K*(I*R-J*Q)+O*(I*N-J*M);E[8]=K*(P*V-R*T)-O*(L*V-N*T)+S*(L*R-N*P);E[9]=-(G*(P*V-R*T)-O*(H*V-J*T)+S*(H*R-J*P));E[10]=G*(L*V-N*T)-K*(H*V-J*T)+S*(H*N-J*L);E[11]=-(G*(L*R-N*P)-K*(H*R-J*P)+O*(H*N-J*L));E[12]=-(K*(P*U-Q*T)-O*(L*U-M*T)+S*(L*Q-M*P));E[13]=G*(P*U-Q*T)-O*(H*U-I*T)+S*(H*Q-I*P);E[14]=-(G*(L*U-M*T)-K*(H*U-I*T)+S*(H*M-I*L));E[15]=G*(L*Q-M*P)-K*(H*Q-I*P)+O*(H*M-I*L);return E}function va(E){var F=E[0],G=E[1],H=E[2],I=E[3],J=E[4],K=E[5],L=E[6],M=E[7],N=E[8],O=E[9],P=E[10],Q=E[11],R=E[12],S=E[13],T=E[14],U=E[15],V=F*K-G*J,W=F*L-H*J,X=F*M-I*J,Y=G*L-H*K,Z=G*M-I*K,$=H*M-I*L,Ia=N*S-O*R,Ja=N*T-P*R,Ka=N*U-Q*R,La=O*T-P*S,Ma=O*U-Q*S,Na=P*U-Q*T;return V*Na-W*Ma+X*La+Y*Ka-Z*Ja+$*Ia}function wa(E,F,G){__p&&__p();var H=F[0],I=F[1],J=F[2],K=F[3],L=F[4],M=F[5],N=F[6],O=F[7],P=F[8],Q=F[9],R=F[10],S=F[11],T=F[12],U=F[13],V=F[14],W=F[15],X=G[0],Y=G[1],Z=G[2],$=G[3];E[0]=X*H+Y*L+Z*P+$*T;E[1]=X*I+Y*M+Z*Q+$*U;E[2]=X*J+Y*N+Z*R+$*V;E[3]=X*K+Y*O+Z*S+$*W;X=G[4];Y=G[5];Z=G[6];$=G[7];E[4]=X*H+Y*L+Z*P+$*T;E[5]=X*I+Y*M+Z*Q+$*U;E[6]=X*J+Y*N+Z*R+$*V;E[7]=X*K+Y*O+Z*S+$*W;X=G[8];Y=G[9];Z=G[10];$=G[11];E[8]=X*H+Y*L+Z*P+$*T;E[9]=X*I+Y*M+Z*Q+$*U;E[10]=X*J+Y*N+Z*R+$*V;E[11]=X*K+Y*O+Z*S+$*W;X=G[12];Y=G[13];Z=G[14];$=G[15];E[12]=X*H+Y*L+Z*P+$*T;E[13]=X*I+Y*M+Z*Q+$*U;E[14]=X*J+Y*N+Z*R+$*V;E[15]=X*K+Y*O+Z*S+$*W;return E}function xa(E,F,G){__p&&__p();var H=G[0],I=G[1],J=G[2],K=void 0,L=void 0,M=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,R=void 0,S=void 0,T=void 0,U=void 0,V=void 0;if(F===E){E[12]=F[0]*H+F[4]*I+F[8]*J+F[12];E[13]=F[1]*H+F[5]*I+F[9]*J+F[13];E[14]=F[2]*H+F[6]*I+F[10]*J+F[14];E[15]=F[3]*H+F[7]*I+F[11]*J+F[15]}else{K=F[0];L=F[1];M=F[2];N=F[3];O=F[4];P=F[5];Q=F[6];R=F[7];S=F[8];T=F[9];U=F[10];V=F[11];E[0]=K;E[1]=L;E[2]=M;E[3]=N;E[4]=O;E[5]=P;E[6]=Q;E[7]=R;E[8]=S;E[9]=T;E[10]=U;E[11]=V;E[12]=K*H+O*I+S*J+F[12];E[13]=L*H+P*I+T*J+F[13];E[14]=M*H+Q*I+U*J+F[14];E[15]=N*H+R*I+V*J+F[15]}return E}function g(E,F,G){__p&&__p();var H=G[0],I=G[1],J=G[2];E[0]=F[0]*H;E[1]=F[1]*H;E[2]=F[2]*H;E[3]=F[3]*H;E[4]=F[4]*I;E[5]=F[5]*I;E[6]=F[6]*I;E[7]=F[7]*I;E[8]=F[8]*J;E[9]=F[9]*J;E[10]=F[10]*J;E[11]=F[11]*J;E[12]=F[12];E[13]=F[13];E[14]=F[14];E[15]=F[15];return E}function ya(E,F,G,H){__p&&__p();var I=H[0],J=H[1],K=H[2],L=Math.sqrt(I*I+J*J+K*K),M=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,R=void 0,S=void 0,T=void 0,U=void 0,V=void 0,W=void 0,X=void 0,Y=void 0,Z=void 0,$=void 0,Ia=void 0,Ja=void 0,Ka=void 0,La=void 0,Ma=void 0,Na=void 0,Oa=void 0,Pa=void 0,Qa=void 0;if(Math.abs(L)<c.EPSILON)return null;L=1/L;I*=L;J*=L;K*=L;M=Math.sin(G);N=Math.cos(G);O=1-N;P=F[0];Q=F[1];R=F[2];S=F[3];T=F[4];U=F[5];V=F[6];W=F[7];X=F[8];Y=F[9];Z=F[10];$=F[11];Ia=I*I*O+N;Ja=J*I*O+K*M;Ka=K*I*O-J*M;La=I*J*O-K*M;Ma=J*J*O+N;Na=K*J*O+I*M;Oa=I*K*O+J*M;Pa=J*K*O-I*M;Qa=K*K*O+N;E[0]=P*Ia+T*Ja+X*Ka;E[1]=Q*Ia+U*Ja+Y*Ka;E[2]=R*Ia+V*Ja+Z*Ka;E[3]=S*Ia+W*Ja+$*Ka;E[4]=P*La+T*Ma+X*Na;E[5]=Q*La+U*Ma+Y*Na;E[6]=R*La+V*Ma+Z*Na;E[7]=S*La+W*Ma+$*Na;E[8]=P*Oa+T*Pa+X*Qa;E[9]=Q*Oa+U*Pa+Y*Qa;E[10]=R*Oa+V*Pa+Z*Qa;E[11]=S*Oa+W*Pa+$*Qa;if(F!==E){E[12]=F[12];E[13]=F[13];E[14]=F[14];E[15]=F[15]}return E}function h(E,F,G){__p&&__p();var H=Math.sin(G),I=Math.cos(G),J=F[4],K=F[5],L=F[6],M=F[7],N=F[8],O=F[9],P=F[10],Q=F[11];if(F!==E){E[0]=F[0];E[1]=F[1];E[2]=F[2];E[3]=F[3];E[12]=F[12];E[13]=F[13];E[14]=F[14];E[15]=F[15]}E[4]=J*I+N*H;E[5]=K*I+O*H;E[6]=L*I+P*H;E[7]=M*I+Q*H;E[8]=N*I-J*H;E[9]=O*I-K*H;E[10]=P*I-L*H;E[11]=Q*I-M*H;return E}function i(E,F,G){__p&&__p();var H=Math.sin(G),I=Math.cos(G),J=F[0],K=F[1],L=F[2],M=F[3],N=F[8],O=F[9],P=F[10],Q=F[11];if(F!==E){E[4]=F[4];E[5]=F[5];E[6]=F[6];E[7]=F[7];E[12]=F[12];E[13]=F[13];E[14]=F[14];E[15]=F[15]}E[0]=J*I-N*H;E[1]=K*I-O*H;E[2]=L*I-P*H;E[3]=M*I-Q*H;E[8]=J*H+N*I;E[9]=K*H+O*I;E[10]=L*H+P*I;E[11]=M*H+Q*I;return E}function za(E,F,G){__p&&__p();var H=Math.sin(G),I=Math.cos(G),J=F[0],K=F[1],L=F[2],M=F[3],N=F[4],O=F[5],P=F[6],Q=F[7];if(F!==E){E[8]=F[8];E[9]=F[9];E[10]=F[10];E[11]=F[11];E[12]=F[12];E[13]=F[13];E[14]=F[14];E[15]=F[15]}E[0]=J*I+N*H;E[1]=K*I+O*H;E[2]=L*I+P*H;E[3]=M*I+Q*H;E[4]=N*I-J*H;E[5]=O*I-K*H;E[6]=P*I-L*H;E[7]=Q*I-M*H;return E}function Aa(E,F){__p&&__p();E[0]=1;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=1;E[6]=0;E[7]=0;E[8]=0;E[9]=0;E[10]=1;E[11]=0;E[12]=F[0];E[13]=F[1];E[14]=F[2];E[15]=1;return E}function Ba(E,F){__p&&__p();E[0]=F[0];E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=F[1];E[6]=0;E[7]=0;E[8]=0;E[9]=0;E[10]=F[2];E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function Ca(E,F,G){__p&&__p();var H=G[0],I=G[1],J=G[2],K=Math.sqrt(H*H+I*I+J*J),L=void 0,M=void 0,N=void 0;if(Math.abs(K)<c.EPSILON)return null;K=1/K;H*=K;I*=K;J*=K;L=Math.sin(F);M=Math.cos(F);N=1-M;E[0]=H*H*N+M;E[1]=I*H*N+J*L;E[2]=J*H*N-I*L;E[3]=0;E[4]=H*I*N-J*L;E[5]=I*I*N+M;E[6]=J*I*N+H*L;E[7]=0;E[8]=H*J*N+I*L;E[9]=I*J*N-H*L;E[10]=J*J*N+M;E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function Da(E,F){__p&&__p();var G=Math.sin(F),H=Math.cos(F);E[0]=1;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=H;E[6]=G;E[7]=0;E[8]=0;E[9]=-G;E[10]=H;E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function Ea(E,F){__p&&__p();var G=Math.sin(F),H=Math.cos(F);E[0]=H;E[1]=0;E[2]=-G;E[3]=0;E[4]=0;E[5]=1;E[6]=0;E[7]=0;E[8]=G;E[9]=0;E[10]=H;E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function Fa(E,F){__p&&__p();var G=Math.sin(F),H=Math.cos(F);E[0]=H;E[1]=G;E[2]=0;E[3]=0;E[4]=-G;E[5]=H;E[6]=0;E[7]=0;E[8]=0;E[9]=0;E[10]=1;E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function Ga(E,F,G){__p&&__p();var H=F[0],I=F[1],J=F[2],K=F[3],L=H+H,M=I+I,N=J+J,O=H*L,P=H*M,Q=H*N,R=I*M,S=I*N,T=J*N,U=K*L,V=K*M,W=K*N;E[0]=1-(R+T);E[1]=P+W;E[2]=Q-V;E[3]=0;E[4]=P-W;E[5]=1-(O+T);E[6]=S+U;E[7]=0;E[8]=Q+V;E[9]=S-U;E[10]=1-(O+R);E[11]=0;E[12]=G[0];E[13]=G[1];E[14]=G[2];E[15]=1;return E}function Ha(E,F){E[0]=F[12];E[1]=F[13];E[2]=F[14];return E}function j(E,F){var G=F[0],H=F[1],I=F[2],J=F[4],K=F[5],L=F[6],M=F[8],N=F[9],O=F[10];E[0]=Math.sqrt(G*G+H*H+I*I);E[1]=Math.sqrt(J*J+K*K+L*L);E[2]=Math.sqrt(M*M+N*N+O*O);return E}function k(E,F){__p&&__p();var G=F[0]+F[5]+F[10],H=0;if(G>0){H=Math.sqrt(G+1)*2;E[3]=.25*H;E[0]=(F[6]-F[9])/H;E[1]=(F[8]-F[2])/H;E[2]=(F[1]-F[4])/H}else if(F[0]>F[5]&F[0]>F[10]){H=Math.sqrt(1+F[0]-F[5]-F[10])*2;E[3]=(F[6]-F[9])/H;E[0]=.25*H;E[1]=(F[1]+F[4])/H;E[2]=(F[8]+F[2])/H}else if(F[5]>F[10]){H=Math.sqrt(1+F[5]-F[0]-F[10])*2;E[3]=(F[8]-F[2])/H;E[0]=(F[1]+F[4])/H;E[1]=.25*H;E[2]=(F[6]+F[9])/H}else{H=Math.sqrt(1+F[10]-F[0]-F[5])*2;E[3]=(F[1]-F[4])/H;E[0]=(F[8]+F[2])/H;E[1]=(F[6]+F[9])/H;E[2]=.25*H}return E}function l(E,F,G,H){__p&&__p();var I=F[0],J=F[1],K=F[2],L=F[3],M=I+I,N=J+J,O=K+K,P=I*M,Q=I*N,R=I*O,S=J*N,T=J*O,U=K*O,V=L*M,W=L*N,X=L*O,Y=H[0],Z=H[1],$=H[2];E[0]=(1-(S+U))*Y;E[1]=(Q+X)*Y;E[2]=(R-W)*Y;E[3]=0;E[4]=(Q-X)*Z;E[5]=(1-(P+U))*Z;E[6]=(T+V)*Z;E[7]=0;E[8]=(R+W)*$;E[9]=(T-V)*$;E[10]=(1-(P+S))*$;E[11]=0;E[12]=G[0];E[13]=G[1];E[14]=G[2];E[15]=1;return E}function m(E,F,G,H,I){__p&&__p();var J=F[0],K=F[1],L=F[2],M=F[3],N=J+J,O=K+K,P=L+L,Q=J*N,R=J*O,S=J*P,T=K*O,U=K*P,V=L*P,W=M*N,X=M*O,Y=M*P,Z=H[0],$=H[1],Ia=H[2],Ja=I[0],Ka=I[1],La=I[2];E[0]=(1-(T+V))*Z;E[1]=(R+Y)*Z;E[2]=(S-X)*Z;E[3]=0;E[4]=(R-Y)*$;E[5]=(1-(Q+V))*$;E[6]=(U+W)*$;E[7]=0;E[8]=(S+X)*Ia;E[9]=(U-W)*Ia;E[10]=(1-(Q+T))*Ia;E[11]=0;E[12]=G[0]+Ja-(E[0]*Ja+E[4]*Ka+E[8]*La);E[13]=G[1]+Ka-(E[1]*Ja+E[5]*Ka+E[9]*La);E[14]=G[2]+La-(E[2]*Ja+E[6]*Ka+E[10]*La);E[15]=1;return E}function n(E,F){__p&&__p();var G=F[0],H=F[1],I=F[2],J=F[3],K=G+G,L=H+H,M=I+I,N=G*K,O=H*K,P=H*L,Q=I*K,R=I*L,S=I*M,T=J*K,U=J*L,V=J*M;E[0]=1-P-S;E[1]=O+V;E[2]=Q-U;E[3]=0;E[4]=O-V;E[5]=1-N-S;E[6]=R+T;E[7]=0;E[8]=Q+U;E[9]=R-T;E[10]=1-N-P;E[11]=0;E[12]=0;E[13]=0;E[14]=0;E[15]=1;return E}function o(E,F,G,H,I,J,K){__p&&__p();var L=1/(G-F),M=1/(I-H),N=1/(J-K);E[0]=J*2*L;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=J*2*M;E[6]=0;E[7]=0;E[8]=(G+F)*L;E[9]=(I+H)*M;E[10]=(K+J)*N;E[11]=-1;E[12]=0;E[13]=0;E[14]=K*J*2*N;E[15]=0;return E}function p(E,F,G,H,I){__p&&__p();var J=1/Math.tan(F/2),K=1/(H-I);E[0]=J/G;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=J;E[6]=0;E[7]=0;E[8]=0;E[9]=0;E[10]=(I+H)*K;E[11]=-1;E[12]=0;E[13]=0;E[14]=2*I*H*K;E[15]=0;return E}function q(E,F,G,H){__p&&__p();var I=Math.tan(F.upDegrees*Math.PI/180),J=Math.tan(F.downDegrees*Math.PI/180),K=Math.tan(F.leftDegrees*Math.PI/180),L=Math.tan(F.rightDegrees*Math.PI/180),M=2/(K+L),N=2/(I+J);E[0]=M;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=N;E[6]=0;E[7]=0;E[8]=-((K-L)*M*.5);E[9]=(I-J)*N*.5;E[10]=H/(G-H);E[11]=-1;E[12]=0;E[13]=0;E[14]=H*G/(G-H);E[15]=0;return E}function r(E,F,G,H,I,J,K){__p&&__p();var L=1/(F-G),M=1/(H-I),N=1/(J-K);E[0]=-2*L;E[1]=0;E[2]=0;E[3]=0;E[4]=0;E[5]=-2*M;E[6]=0;E[7]=0;E[8]=0;E[9]=0;E[10]=2*N;E[11]=0;E[12]=(F+G)*L;E[13]=(I+H)*M;E[14]=(K+J)*N;E[15]=1;return E}function s(E,F,G,H){__p&&__p();var I=void 0,J=void 0,K=void 0,L=void 0,M=void 0,N=void 0,O=void 0,P=void 0,Q=void 0,R=void 0,S=F[0],T=F[1],U=F[2],V=H[0],W=H[1],X=H[2],Y=G[0],Z=G[1],$=G[2];if(Math.abs(S-Y)<c.EPSILON&&Math.abs(T-Z)<c.EPSILON&&Math.abs(U-$)<c.EPSILON)return mat4.identity(E);O=S-Y;P=T-Z;Q=U-$;R=1/Math.sqrt(O*O+P*P+Q*Q);O*=R;P*=R;Q*=R;I=W*Q-X*P;J=X*O-V*Q;K=V*P-W*O;R=Math.sqrt(I*I+J*J+K*K);if(!R){I=0;J=0;K=0}else{R=1/R;I*=R;J*=R;K*=R}L=P*K-Q*J;M=Q*I-O*K;N=O*J-P*I;R=Math.sqrt(L*L+M*M+N*N);if(!R){L=0;M=0;N=0}else{R=1/R;L*=R;M*=R;N*=R}E[0]=I;E[1]=L;E[2]=O;E[3]=0;E[4]=J;E[5]=M;E[6]=P;E[7]=0;E[8]=K;E[9]=N;E[10]=Q;E[11]=0;E[12]=-(I*S+J*T+K*U);E[13]=-(L*S+M*T+N*U);E[14]=-(O*S+P*T+Q*U);E[15]=1;return E}function t(E,F,G,H){__p&&__p();var I=F[0],J=F[1],K=F[2],L=H[0],M=H[1],N=H[2],O=I-G[0],P=J-G[1],Q=K-G[2],R=O*O+P*P+Q*Q;if(R>0){R=1/Math.sqrt(R);O*=R;P*=R;Q*=R}var S=M*Q-N*P,T=N*O-L*Q,U=L*P-M*O;E[0]=S;E[1]=T;E[2]=U;E[3]=0;E[4]=P*U-Q*T;E[5]=Q*S-O*U;E[6]=O*T-P*S;E[7]=0;E[8]=O;E[9]=P;E[10]=Q;E[11]=0;E[12]=I;E[13]=J;E[14]=K;E[15]=1;return E}function u(E){return"mat4("+E[0]+", "+E[1]+", "+E[2]+", "+E[3]+", "+E[4]+", "+E[5]+", "+E[6]+", "+E[7]+", "+E[8]+", "+E[9]+", "+E[10]+", "+E[11]+", "+E[12]+", "+E[13]+", "+E[14]+", "+E[15]+")"}function v(E){return Math.sqrt(Math.pow(E[0],2)+Math.pow(E[1],2)+Math.pow(E[2],2)+Math.pow(E[3],2)+Math.pow(E[4],2)+Math.pow(E[5],2)+Math.pow(E[6],2)+Math.pow(E[7],2)+Math.pow(E[8],2)+Math.pow(E[9],2)+Math.pow(E[10],2)+Math.pow(E[11],2)+Math.pow(E[12],2)+Math.pow(E[13],2)+Math.pow(E[14],2)+Math.pow(E[15],2))}function w(E,F,G){__p&&__p();E[0]=F[0]+G[0];E[1]=F[1]+G[1];E[2]=F[2]+G[2];E[3]=F[3]+G[3];E[4]=F[4]+G[4];E[5]=F[5]+G[5];E[6]=F[6]+G[6];E[7]=F[7]+G[7];E[8]=F[8]+G[8];E[9]=F[9]+G[9];E[10]=F[10]+G[10];E[11]=F[11]+G[11];E[12]=F[12]+G[12];E[13]=F[13]+G[13];E[14]=F[14]+G[14];E[15]=F[15]+G[15];return E}function x(E,F,G){__p&&__p();E[0]=F[0]-G[0];E[1]=F[1]-G[1];E[2]=F[2]-G[2];E[3]=F[3]-G[3];E[4]=F[4]-G[4];E[5]=F[5]-G[5];E[6]=F[6]-G[6];E[7]=F[7]-G[7];E[8]=F[8]-G[8];E[9]=F[9]-G[9];E[10]=F[10]-G[10];E[11]=F[11]-G[11];E[12]=F[12]-G[12];E[13]=F[13]-G[13];E[14]=F[14]-G[14];E[15]=F[15]-G[15];return E}function y(E,F,G){__p&&__p();E[0]=F[0]*G;E[1]=F[1]*G;E[2]=F[2]*G;E[3]=F[3]*G;E[4]=F[4]*G;E[5]=F[5]*G;E[6]=F[6]*G;E[7]=F[7]*G;E[8]=F[8]*G;E[9]=F[9]*G;E[10]=F[10]*G;E[11]=F[11]*G;E[12]=F[12]*G;E[13]=F[13]*G;E[14]=F[14]*G;E[15]=F[15]*G;return E}function z(E,F,G,g){__p&&__p();E[0]=F[0]+G[0]*g;E[1]=F[1]+G[1]*g;E[2]=F[2]+G[2]*g;E[3]=F[3]+G[3]*g;E[4]=F[4]+G[4]*g;E[5]=F[5]+G[5]*g;E[6]=F[6]+G[6]*g;E[7]=F[7]+G[7]*g;E[8]=F[8]+G[8]*g;E[9]=F[9]+G[9]*g;E[10]=F[10]+G[10]*g;E[11]=F[11]+G[11]*g;E[12]=F[12]+G[12]*g;E[13]=F[13]+G[13]*g;E[14]=F[14]+G[14]*g;E[15]=F[15]+G[15]*g;return E}function A(E,F){return E[0]===F[0]&&E[1]===F[1]&&E[2]===F[2]&&E[3]===F[3]&&E[4]===F[4]&&E[5]===F[5]&&E[6]===F[6]&&E[7]===F[7]&&E[8]===F[8]&&E[9]===F[9]&&E[10]===F[10]&&E[11]===F[11]&&E[12]===F[12]&&E[13]===F[13]&&E[14]===F[14]&&E[15]===F[15]}function B(E,F){var G=E[0],H=E[1],I=E[2],J=E[3],K=E[4],L=E[5],M=E[6],N=E[7],O=E[8],P=E[9],Q=E[10],R=E[11],S=E[12],T=E[13],U=E[14],V=E[15],W=F[0],X=F[1],Y=F[2],Z=F[3],$=F[4],Ia=F[5],Ja=F[6],Ka=F[7],La=F[8],Ma=F[9],Na=F[10],Oa=F[11],Pa=F[12],Qa=F[13],Ra=F[14],Sa=F[15];return Math.abs(G-W)<=c.EPSILON*Math.max(1,Math.abs(G),Math.abs(W))&&Math.abs(H-X)<=c.EPSILON*Math.max(1,Math.abs(H),Math.abs(X))&&Math.abs(I-Y)<=c.EPSILON*Math.max(1,Math.abs(I),Math.abs(Y))&&Math.abs(J-Z)<=c.EPSILON*Math.max(1,Math.abs(J),Math.abs(Z))&&Math.abs(K-$)<=c.EPSILON*Math.max(1,Math.abs(K),Math.abs($))&&Math.abs(L-Ia)<=c.EPSILON*Math.max(1,Math.abs(L),Math.abs(Ia))&&Math.abs(M-Ja)<=c.EPSILON*Math.max(1,Math.abs(M),Math.abs(Ja))&&Math.abs(N-Ka)<=c.EPSILON*Math.max(1,Math.abs(N),Math.abs(Ka))&&Math.abs(O-La)<=c.EPSILON*Math.max(1,Math.abs(O),Math.abs(La))&&Math.abs(P-Ma)<=c.EPSILON*Math.max(1,Math.abs(P),Math.abs(Ma))&&Math.abs(Q-Na)<=c.EPSILON*Math.max(1,Math.abs(Q),Math.abs(Na))&&Math.abs(R-Oa)<=c.EPSILON*Math.max(1,Math.abs(R),Math.abs(Oa))&&Math.abs(S-Pa)<=c.EPSILON*Math.max(1,Math.abs(S),Math.abs(Pa))&&Math.abs(T-Qa)<=c.EPSILON*Math.max(1,Math.abs(T),Math.abs(Qa))&&Math.abs(U-Ra)<=c.EPSILON*Math.max(1,Math.abs(U),Math.abs(Ra))&&Math.abs(V-Sa)<=c.EPSILON*Math.max(1,Math.abs(V),Math.abs(Sa))}var C=a.mul=wa,D=a.sub=x},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.setAxes=a.sqlerp=a.rotationTo=a.equals=a.exactEquals=a.normalize=a.sqrLen=a.squaredLength=a.len=a.length=a.lerp=a.dot=a.scale=a.mul=a.add=a.set=a.copy=a.fromValues=a.clone=undefined;a.create=sa;a.identity=ta;a.setAxisAngle=ua;a.getAxisAngle=va;a.multiply=wa;a.rotateX=xa;a.rotateY=g;a.rotateZ=ya;a.calculateW=h;a.slerp=i;a.invert=za;a.conjugate=Aa;a.fromMat3=Ba;a.fromEuler=Ca;a.str=Da;var na=b(0),c=ra(na),d=b(1),e=ra(d),oa=b(2),pa=ra(oa),qa=b(3),f=ra(qa);function ra(y){__p&&__p();if(y&&y.__esModule)return y;else{var z={};if(y!=null)for(var A in y)if(Object.prototype.hasOwnProperty.call(y,A))z[A]=y[A];z["default"]=y;return z}}function sa(){var y=new c.ARRAY_TYPE(4);y[0]=0;y[1]=0;y[2]=0;y[3]=1;return y}function ta(y){y[0]=0;y[1]=0;y[2]=0;y[3]=1;return y}function ua(y,z,A){A=A*.5;var B=Math.sin(A);y[0]=B*z[0];y[1]=B*z[1];y[2]=B*z[2];y[3]=Math.cos(A);return y}function va(y,z){__p&&__p();var A=Math.acos(z[3])*2,B=Math.sin(A/2);if(B!=0){y[0]=z[0]/B;y[1]=z[1]/B;y[2]=z[2]/B}else{y[0]=1;y[1]=0;y[2]=0}return A}function wa(y,z,A){var B=z[0],C=z[1],D=z[2],E=z[3],F=A[0],G=A[1],H=A[2],I=A[3];y[0]=B*I+E*F+C*H-D*G;y[1]=C*I+E*G+D*F-B*H;y[2]=D*I+E*H+B*G-C*F;y[3]=E*I-B*F-C*G-D*H;return y}function xa(y,z,A){A*=.5;var B=z[0],C=z[1],D=z[2],E=z[3],F=Math.sin(A),G=Math.cos(A);y[0]=B*G+E*F;y[1]=C*G+D*F;y[2]=D*G-C*F;y[3]=E*G-B*F;return y}function g(y,z,A){A*=.5;var B=z[0],C=z[1],D=z[2],E=z[3],F=Math.sin(A),G=Math.cos(A);y[0]=B*G-D*F;y[1]=C*G+E*F;y[2]=D*G+B*F;y[3]=E*G-C*F;return y}function ya(y,z,A){A*=.5;var B=z[0],C=z[1],D=z[2],E=z[3],F=Math.sin(A),G=Math.cos(A);y[0]=B*G+C*F;y[1]=C*G-B*F;y[2]=D*G+E*F;y[3]=E*G-D*F;return y}function h(y,z){var A=z[0],B=z[1],C=z[2];y[0]=A;y[1]=B;y[2]=C;y[3]=Math.sqrt(Math.abs(1-A*A-B*B-C*C));return y}function i(y,z,A,B){__p&&__p();var C=z[0],D=z[1],E=z[2],F=z[3],G=A[0],H=A[1],I=A[2],J=A[3],K=void 0,L=void 0,M=void 0,N=void 0,O=void 0;L=C*G+D*H+E*I+F*J;if(L<0){L=-L;G=-G;H=-H;I=-I;J=-J}if(1-L>1e-6){K=Math.acos(L);M=Math.sin(K);N=Math.sin((1-B)*K)/M;O=Math.sin(B*K)/M}else{N=1-B;O=B}y[0]=N*C+O*G;y[1]=N*D+O*H;y[2]=N*E+O*I;y[3]=N*F+O*J;return y}function za(y,z){var A=z[0],B=z[1],C=z[2],D=z[3],m=A*A+B*B+C*C+D*D,E=m?1/m:0;y[0]=-A*E;y[1]=-B*E;y[2]=-C*E;y[3]=D*E;return y}function Aa(y,z){y[0]=-z[0];y[1]=-z[1];y[2]=-z[2];y[3]=z[3];return y}function Ba(y,z){__p&&__p();var A=z[0]+z[4]+z[8],B=void 0;if(A>0){B=Math.sqrt(A+1);y[3]=.5*B;B=.5/B;y[0]=(z[5]-z[7])*B;y[1]=(z[6]-z[2])*B;y[2]=(z[1]-z[3])*B}else{var C=0;if(z[4]>z[0])C=1;if(z[8]>z[C*3+C])C=2;var D=(C+1)%3,E=(C+2)%3;B=Math.sqrt(z[C*3+C]-z[D*3+D]-z[E*3+E]+1);y[C]=.5*B;B=.5/B;y[3]=(z[D*3+E]-z[E*3+D])*B;y[D]=(z[D*3+C]+z[C*3+D])*B;y[E]=(z[E*3+C]+z[C*3+E])*B}return y}function Ca(y,z,A,B){__p&&__p();var C=.5*Math.PI/180;z*=C;A*=C;B*=C;var D=Math.sin(z),E=Math.cos(z),F=Math.sin(A),G=Math.cos(A),H=Math.sin(B),I=Math.cos(B);y[0]=D*G*I-E*F*H;y[1]=E*F*I+D*G*H;y[2]=E*G*H-D*F*I;y[3]=E*G*I+D*F*H;return y}function Da(y){return"quat("+y[0]+", "+y[1]+", "+y[2]+", "+y[3]+")"}var Ea=a.clone=f.clone,Fa=a.fromValues=f.fromValues,Ga=a.copy=f.copy,Ha=a.set=f.set,j=a.add=f.add,k=a.mul=wa,l=a.scale=f.scale,m=a.dot=f.dot,n=a.lerp=f.lerp,o=a.length=f.length,p=a.len=o,q=a.squaredLength=f.squaredLength,r=a.sqrLen=q,s=a.normalize=f.normalize,t=a.exactEquals=f.exactEquals,u=a.equals=f.equals,v=a.rotationTo=function(){__p&&__p();var y=pa.create(),z=pa.fromValues(1,0,0),A=pa.fromValues(0,1,0);return function(B,C,D){__p&&__p();var m=pa.dot(C,D);if(m<-.999999){pa.cross(y,z,C);if(pa.len(y)<1e-6)pa.cross(y,A,C);pa.normalize(y,y);ua(B,y,Math.PI);return B}else if(m>.999999){B[0]=0;B[1]=0;B[2]=0;B[3]=1;return B}else{pa.cross(y,C,D);B[0]=y[0];B[1]=y[1];B[2]=y[2];B[3]=1+m;return s(B,B)}}}(),w=a.sqlerp=function(){var y=sa(),z=sa();return function(A,B,C,D,E,F){i(y,B,E,F);i(z,C,D,F);i(A,y,z,2*F*(1-F));return A}}(),x=a.setAxes=function(){__p&&__p();var y=e.create();return function(z,A,B,C){__p&&__p();y[0]=B[0];y[3]=B[1];y[6]=B[2];y[1]=C[0];y[4]=C[1];y[7]=C[2];y[2]=-A[0];y[5]=-A[1];y[8]=-A[2];return s(z,Ba(z,y))}}()},function(fa,a,b){__p&&__p();Object.defineProperty(a,"__esModule",{value:true});a.forEach=a.sqrLen=a.sqrDist=a.dist=a.div=a.mul=a.sub=a.len=undefined;a.create=e;a.clone=oa;a.fromValues=pa;a.copy=qa;a.set=f;a.add=ra;a.subtract=sa;a.multiply=ta;a.divide=ua;a.ceil=va;a.floor=wa;a.min=xa;a.max=g;a.round=ya;a.scale=h;a.scaleAndAdd=i;a.distance=za;a.squaredDistance=Aa;a.length=Ba;a.squaredLength=Ca;a.negate=Da;a.inverse=Ea;a.normalize=Fa;a.dot=Ga;a.cross=Ha;a.lerp=j;a.random=k;a.transformMat2=l;a.transformMat2d=m;a.transformMat3=n;a.transformMat4=o;a.str=p;a.exactEquals=q;a.equals=r;var na=b(0),c=d(na);function d(A){__p&&__p();if(A&&A.__esModule)return A;else{var B={};if(A!=null)for(var C in A)if(Object.prototype.hasOwnProperty.call(A,C))B[C]=A[C];B["default"]=A;return B}}function e(){var A=new c.ARRAY_TYPE(2);A[0]=0;A[1]=0;return A}function oa(A){var B=new c.ARRAY_TYPE(2);B[0]=A[0];B[1]=A[1];return B}function pa(A,B){var C=new c.ARRAY_TYPE(2);C[0]=A;C[1]=B;return C}function qa(A,B){A[0]=B[0];A[1]=B[1];return A}function f(A,B,C){A[0]=B;A[1]=C;return A}function ra(A,B,C){A[0]=B[0]+C[0];A[1]=B[1]+C[1];return A}function sa(A,B,C){A[0]=B[0]-C[0];A[1]=B[1]-C[1];return A}function ta(A,B,C){A[0]=B[0]*C[0];A[1]=B[1]*C[1];return A}function ua(A,B,C){A[0]=B[0]/C[0];A[1]=B[1]/C[1];return A}function va(A,B){A[0]=Math.ceil(B[0]);A[1]=Math.ceil(B[1]);return A}function wa(A,B){A[0]=Math.floor(B[0]);A[1]=Math.floor(B[1]);return A}function xa(A,B,C){A[0]=Math.min(B[0],C[0]);A[1]=Math.min(B[1],C[1]);return A}function g(A,B,C){A[0]=Math.max(B[0],C[0]);A[1]=Math.max(B[1],C[1]);return A}function ya(A,B){A[0]=Math.round(B[0]);A[1]=Math.round(B[1]);return A}function h(A,B,C){A[0]=B[0]*C;A[1]=B[1]*C;return A}function i(A,B,C,h){A[0]=B[0]+C[0]*h;A[1]=B[1]+C[1]*h;return A}function za(A,B){var C=B[0]-A[0],D=B[1]-A[1];return Math.sqrt(C*C+D*D)}function Aa(A,B){var C=B[0]-A[0],D=B[1]-A[1];return C*C+D*D}function Ba(A){var B=A[0],C=A[1];return Math.sqrt(B*B+C*C)}function Ca(A){var B=A[0],C=A[1];return B*B+C*C}function Da(A,B){A[0]=-B[0];A[1]=-B[1];return A}function Ea(A,B){A[0]=1/B[0];A[1]=1/B[1];return A}function Fa(A,B){var C=B[0],D=B[1],s=C*C+D*D;if(s>0){s=1/Math.sqrt(s);A[0]=B[0]*s;A[1]=B[1]*s}return A}function Ga(A,B){return A[0]*B[0]+A[1]*B[1]}function Ha(A,B,C){var D=B[0]*C[1]-B[1]*C[0];A[0]=A[1]=0;A[2]=D;return A}function j(A,B,C,D){var E=B[0],F=B[1];A[0]=E+D*(C[0]-E);A[1]=F+D*(C[1]-F);return A}function k(A,h){h=h||1;var B=c.RANDOM()*2*Math.PI;A[0]=Math.cos(B)*h;A[1]=Math.sin(B)*h;return A}function l(A,B,C){var D=B[0],E=B[1];A[0]=C[0]*D+C[2]*E;A[1]=C[1]*D+C[3]*E;return A}function m(A,B,C){var D=B[0],E=B[1];A[0]=C[0]*D+C[2]*E+C[4];A[1]=C[1]*D+C[3]*E+C[5];return A}function n(A,B,C){var D=B[0],E=B[1];A[0]=C[0]*D+C[3]*E+C[6];A[1]=C[1]*D+C[4]*E+C[7];return A}function o(A,B,C){var D=B[0],E=B[1];A[0]=C[0]*D+C[4]*E+C[12];A[1]=C[1]*D+C[5]*E+C[13];return A}function p(A){return"vec2("+A[0]+", "+A[1]+")"}function q(A,B){return A[0]===B[0]&&A[1]===B[1]}function r(A,B){var C=A[0],D=A[1],E=B[0],F=B[1];return Math.abs(C-E)<=c.EPSILON*Math.max(1,Math.abs(C),Math.abs(E))&&Math.abs(D-F)<=c.EPSILON*Math.max(1,Math.abs(D),Math.abs(F))}var s=a.len=Ba,t=a.sub=sa,u=a.mul=ta,v=a.div=ua,w=a.dist=za,x=a.sqrDist=Aa,y=a.sqrLen=Ca,z=a.forEach=function(){__p&&__p();var A=e();return function(B,C,D,E,F,G){__p&&__p();var H=void 0,I=void 0;if(!C)C=2;if(!D)D=0;if(E)I=Math.min(E*C+D,B.length);else I=B.length;for(H=D;H<I;H+=C){A[0]=B[H];A[1]=B[H+1];F(A,A,G);B[H]=A[0];B[H+1]=A[1]}return B}}()}])})}var ka=false,la=function(){if(!ka){ka=true;ja()}return ha.exports},ma=function(b){switch(b){case undefined:return la()}};fa.exports=ma}),null);
__d("gl-matrix",["gl-matrix-2.4.0"],(function a(b,c,d,e,f,g){f.exports=c("gl-matrix-2.4.0")()}),null);
__d("SphericalRenderer",["DOM","EventEmitter","EventListener","VideoProjection","VideoStereoFormat","gkx","gl-matrix"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("gl-matrix").glMatrix,k=c("gl-matrix").mat4,l=Math.max(window.devicePixelRatio||1,1);function m(){"use strict"}h=babelHelpers.inherits(n,c("EventEmitter"));i=h&&h.prototype;function n(o,p,q){"use strict";__p&&__p();i.constructor.call(this);this.$SphericalRenderer2=q;this.$SphericalRenderer21=q.fieldOfView;this.$SphericalRenderer16=true;this.$SphericalRenderer15=o;this.$SphericalRenderer1=p;this.$SphericalRenderer10=k.create();this.$SphericalRenderer11=k.create();this.$SphericalRenderer12=k.create();this.$SphericalRenderer3=false;this.$SphericalRenderer18=[];this.$SphericalRenderer20=null;this.$SphericalRenderer19=null;this.$SphericalRenderer17=q.projectionType===c("VideoProjection").UNPADDED_CUBESTRIP;this.$SphericalRenderer9=q.projectionType===c("VideoProjection").ROTATED_CUBEMAP;this.$SphericalRenderer7=q.projectionType===c("VideoProjection").CDS_BARREL;this.$SphericalRenderer8=false;this.$SphericalRenderer23=new m();this.$SphericalRenderer23.ready=false;this.$SphericalRenderer24=false;this.$SphericalRenderer4=this.$SphericalRenderer25.bind(this);this.$SphericalRenderer5=this.$SphericalRenderer26.bind(this);this.$SphericalRenderer1.addEventListener("webglcontextlost",this.$SphericalRenderer4);this.$SphericalRenderer1.addEventListener("webglcontextrestored",this.$SphericalRenderer5);this.$SphericalRenderer27()}n.prototype.destroy=function(){"use strict";this.removeAllListeners();this.$SphericalRenderer1.removeEventListener("webglcontextlost",this.$SphericalRenderer4);this.$SphericalRenderer1.removeEventListener("webglcontextrestored",this.$SphericalRenderer5)};n.prototype.reconfigure=function(o,p){__p&&__p();var q=arguments.length<=2||arguments[2]===undefined?false:arguments[2];"use strict";if(q){this.$SphericalRenderer18=[];this.$SphericalRenderer20=null;this.$SphericalRenderer19=null}this.$SphericalRenderer21=p.fieldOfView;this.$SphericalRenderer15=o;this.$SphericalRenderer2=p;this.$SphericalRenderer17=p.projectionType===c("VideoProjection").UNPADDED_CUBESTRIP;this.$SphericalRenderer9=p.projectionType===c("VideoProjection").ROTATED_CUBEMAP;this.$SphericalRenderer7=p.projectionType===c("VideoProjection").CDS_BARREL;this.$SphericalRenderer23.framebuffer=null;this.$SphericalRenderer24=false;this.$SphericalRenderer27()};n.prototype.hasRenderingContext=function(){"use strict";return!this.$SphericalRenderer3};n.prototype.$SphericalRenderer25=function(o){"use strict";o.preventDefault();this.emit("renderingContextLost");this.$SphericalRenderer3=true};n.prototype.$SphericalRenderer26=function(o){"use strict";this.$SphericalRenderer3=false;this.$SphericalRenderer27();this.emit("renderingContextRestore")};n.prototype.setAutoUpdateTexture=function(o){"use strict";this.$SphericalRenderer16=o};n.prototype.updateFieldOfView=function(o){"use strict";if(this.$SphericalRenderer21!==o){this.$SphericalRenderer21=o;this.$SphericalRenderer28()}};n.prototype.updateViewportDimensions=function(o,p){"use strict";this.$SphericalRenderer1.width=o*l;this.$SphericalRenderer1.height=p*l;this.$SphericalRenderer28()};n.prototype.$SphericalRenderer28=function(){"use strict";k.perspective(this.$SphericalRenderer10,j.toRadian(this.$SphericalRenderer21),this.$SphericalRenderer1.width/this.$SphericalRenderer1.height,.1,100);this.$SphericalRenderer6.viewport(0,0,this.$SphericalRenderer6.drawingBufferWidth,this.$SphericalRenderer6.drawingBufferHeight)};n.prototype.$SphericalRenderer27=function(){"use strict";__p&&__p();this.$SphericalRenderer29();if(this.$SphericalRenderer7){var o=this.$SphericalRenderer6.getParameter(this.$SphericalRenderer6.MAX_VERTEX_TEXTURE_IMAGE_UNITS);this.$SphericalRenderer8=o==0}this.updateViewportDimensions(this.$SphericalRenderer1.clientWidth,this.$SphericalRenderer1.clientHeight);this.$SphericalRenderer22={x:this.$SphericalRenderer2.stereoFormat===c("VideoStereoFormat").LEFT_RIGHT?2:1,y:this.$SphericalRenderer2.stereoFormat===c("VideoStereoFormat").TOP_BOTTOM?2:1};this.$SphericalRenderer30();this.$SphericalRenderer31();this.$SphericalRenderer6.clearColor(0,0,0,1);this.$SphericalRenderer15.setAttribute("crossorigin","anonymous")};n.prototype.getScreenshotDataURL=function(o,p,q,r){"use strict";if(!this.$SphericalRenderer6||this.$SphericalRenderer3)return"";this.render(o,p);return this.$SphericalRenderer1.toDataURL(q,r)};n.prototype.$SphericalRenderer29=function(){"use strict";__p&&__p();if(this.$SphericalRenderer6&&!this.$SphericalRenderer3)return;if(!(b.WebGLRenderingContext||b.WebGL2RenderingContext))throw new Error("WebGLRenderingContext not available.");var o=["webgl2","webgl","experimental-webgl"],p=null,q=null,r=c("EventListener").listen(this.$SphericalRenderer1,"webglcontextcreationerror",function(t){return q=t.statusMessage});for(var s=0;s<o.length;s++){try{p=this.$SphericalRenderer1.getContext(o[s])}catch(t){}if(p)break}r.remove();if(!p){if(!q)q="Unknown error.";throw new Error("Failed to acquire 3D rendering context: "+q)}this.$SphericalRenderer6=p;this.$SphericalRenderer3=false};n.prototype.$SphericalRenderer30=function(){"use strict";var o=this.$SphericalRenderer32(),p=this.$SphericalRenderer33();this.$SphericalRenderer14=this.$SphericalRenderer6.createProgram();this.$SphericalRenderer6.attachShader(this.$SphericalRenderer14,o);this.$SphericalRenderer6.attachShader(this.$SphericalRenderer14,p);this.$SphericalRenderer6.linkProgram(this.$SphericalRenderer14)};n.prototype.$SphericalRenderer34=function(){"use strict";__p&&__p();if(!this.$SphericalRenderer6.getProgramParameter(this.$SphericalRenderer14,this.$SphericalRenderer6.LINK_STATUS)){var o="",p=this.$SphericalRenderer6.getAttachedShaders(this.$SphericalRenderer14);for(var q=0;q<p.length;q++)if(!this.$SphericalRenderer6.getShaderParameter(p[q],this.$SphericalRenderer6.COMPILE_STATUS)){o="Shader error: "+this.$SphericalRenderer6.getShaderInfoLog(p[q]);break}if(o==="")o="Program link error: "+this.$SphericalRenderer6.getProgramInfoLog(this.$SphericalRenderer14);throw new Error(o)}this.$SphericalRenderer6.useProgram(this.$SphericalRenderer14);this.$SphericalRenderer14.vertexPositionAttribute=this.$SphericalRenderer6.getAttribLocation(this.$SphericalRenderer14,"aVertexPosition");this.$SphericalRenderer6.enableVertexAttribArray(this.$SphericalRenderer14.vertexPositionAttribute);this.$SphericalRenderer14.pMatrixUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer14,"uPMatrix");this.$SphericalRenderer14.mvMatrixUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer14,"uMVMatrix");this.$SphericalRenderer14.samplerUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer14,"uSampler");if(!this.$SphericalRenderer17&&!this.$SphericalRenderer7){this.$SphericalRenderer14.textureCoordAttribute=this.$SphericalRenderer6.getAttribLocation(this.$SphericalRenderer14,"aTextureCoord");this.$SphericalRenderer6.enableVertexAttribArray(this.$SphericalRenderer14.textureCoordAttribute)}if(this.$SphericalRenderer8)this.$SphericalRenderer14.offsetUniform=this.$SphericalRenderer6.getUniformLocation(this.$SphericalRenderer14,"uOffset");this.$SphericalRenderer24=true};n.prototype.$SphericalRenderer31=function(){"use strict";this.$SphericalRenderer13=this.$SphericalRenderer6.createTexture();this.$SphericalRenderer13.image=this.$SphericalRenderer15;var o=this.$SphericalRenderer17?this.$SphericalRenderer6.TEXTURE_CUBE_MAP:this.$SphericalRenderer6.TEXTURE_2D;this.$SphericalRenderer6.bindTexture(o,this.$SphericalRenderer13);this.$SphericalRenderer6.texParameteri(o,this.$SphericalRenderer6.TEXTURE_MAG_FILTER,this.$SphericalRenderer6.LINEAR);this.$SphericalRenderer6.texParameteri(o,this.$SphericalRenderer6.TEXTURE_MIN_FILTER,this.$SphericalRenderer6.LINEAR);this.$SphericalRenderer6.texParameteri(o,this.$SphericalRenderer6.TEXTURE_WRAP_S,this.$SphericalRenderer6.CLAMP_TO_EDGE);this.$SphericalRenderer6.texParameteri(o,this.$SphericalRenderer6.TEXTURE_WRAP_T,this.$SphericalRenderer6.CLAMP_TO_EDGE)};n.prototype.$SphericalRenderer35=function(o){__p&&__p();var p=arguments.length<=1||arguments[1]===undefined?30:arguments[1],q=arguments.length<=2||arguments[2]===undefined?30:arguments[2],r=arguments.length<=3||arguments[3]===undefined?Math.PI:arguments[3],s=arguments.length<=4||arguments[4]===undefined?Math.PI*2:arguments[4],t=arguments.length<=5||arguments[5]===undefined?0:arguments[5];"use strict";var u=2,v=[],w=[],x,y;for(x=0;x<=p;x++){var z=(x/p-.5)*r,A=Math.sin(z),B=Math.cos(z);for(y=0;y<=q;y++){var C=(y/q-.5)*s+t,D=Math.sin(C),E=Math.cos(C),F=E*B,G=A,H=D*B,I=y/q/this.$SphericalRenderer22.x,J=x/p/this.$SphericalRenderer22.y;w.push(I);w.push(J);v.push(u*F);v.push(u*G);v.push(u*H)}}var K=[];for(x=0;x<p;x++)for(y=0;y<q;y++){var L=x*(q+1)+y,M=L+q+1;K.push(L);K.push(M);K.push(L+1);K.push(M);K.push(M+1);K.push(L+1)}this.$SphericalRenderer18[o]=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer18[o]);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(w),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer18[o].itemSize=2;this.$SphericalRenderer18[o].numItems=w.length/2;this.$SphericalRenderer20=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(v),this.$SphericalRenderer6.STATIC_DRAW);if(this.$SphericalRenderer20){this.$SphericalRenderer20.itemSize=3;this.$SphericalRenderer20.numItems=v.length/3}this.$SphericalRenderer19=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer19);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,new Uint16Array(K),this.$SphericalRenderer6.STATIC_DRAW);if(this.$SphericalRenderer19){this.$SphericalRenderer19.itemSize=1;this.$SphericalRenderer19.numItems=K.length}};n.prototype.$SphericalRenderer36=function(o,p){"use strict";__p&&__p();var q=40,r=60,s=2,t=[],u=[],v=[],w=[],x,y;for(x=0;x<=q;x++){var z=x/q-.5,A=z*.5*Math.PI,B=Math.sin(A),C=Math.cos(A),D=(z/o+.5)/this.$SphericalRenderer22.y;for(y=0;y<=r;y++){var E=y/r-.5,F=E*2*Math.PI,G=Math.sin(F),H=Math.cos(F),I=H*C*s,J=B*s,K=G*C*s,L=(E/o*.8+.4)/this.$SphericalRenderer22.x;u.push(L);u.push(D);t.push(I);t.push(J);t.push(K);if(x==0||x==q){var M=Math.sign(1-x),N=(G*.1/o+.9)/this.$SphericalRenderer22.x,O=(H*.25*M/o+.5+z*.5)/this.$SphericalRenderer22.y;w.push(N);w.push(O);v.push(I);v.push(J);v.push(K)}}}var P=t.length/3;u.push.apply(u,w);t.push.apply(t,v);var Q=t.length/3,R=Math.sin(Math.PI*.25)*s;u.push(.9/this.$SphericalRenderer22.x);u.push(.25/this.$SphericalRenderer22.y);t.push(0);t.push(-R);t.push(0);u.push(.9/this.$SphericalRenderer22.x);u.push(.75/this.$SphericalRenderer22.y);t.push(0);t.push(R);t.push(0);var S=[];for(x=0;x<q;x++)for(y=0;y<r;y++){var T=x*(r+1)+y,U=T+r+1;S.push(T);S.push(U);S.push(T+1);S.push(U);S.push(U+1);S.push(T+1)}for(var V=0;V<2;V++)for(y=0;y<r;y++){S.push(y+P+V*(r+1));S.push(y+P+V*(r+1)+1);S.push(Q+V)}this.$SphericalRenderer18[p]=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer18[p]);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(u),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer18[p].itemSize=2;this.$SphericalRenderer18[p].numItems=u.length/2;this.$SphericalRenderer20=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(t),this.$SphericalRenderer6.STATIC_DRAW);if(this.$SphericalRenderer20){this.$SphericalRenderer20.itemSize=3;this.$SphericalRenderer20.numItems=t.length/3}this.$SphericalRenderer19=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer19);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,new Uint16Array(S),this.$SphericalRenderer6.STATIC_DRAW);if(this.$SphericalRenderer19){this.$SphericalRenderer19.itemSize=1;this.$SphericalRenderer19.numItems=S.length}};n.prototype.$SphericalRenderer37=function(o,p,q){"use strict";__p&&__p();var r;if(this.$SphericalRenderer9)r=[1,3,7,5,6,7,3,2,0,2,3,1,4,5,7,6,4,6,2,0,0,1,5,4];else r=[5,1,3,7,0,4,6,2,6,7,3,2,0,1,5,4,4,5,7,6,1,0,2,3];var s=[];for(var t=0;t<r.length;t++){var u=r[t]>>2&1,v=r[t]>>1&1,w=r[t]>>0&1;s.push(u*2-1);s.push(v*2-1);s.push(w*2-1)}this.$SphericalRenderer20=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(s),this.$SphericalRenderer6.STATIC_DRAW);if(this.$SphericalRenderer20){this.$SphericalRenderer20.itemSize=3;this.$SphericalRenderer20.numItems=s.length/3}if(!this.$SphericalRenderer17){var x,y,z,A,B,C=[];if(this.$SphericalRenderer9){var D=this.$SphericalRenderer13.image.videoWidth/2;p=D/(Math.floor(D/32)*32);z=(1-1/p)/2;x=3;y=2;A=1/y;B=1/x}else{z=(1-1/p)/2;x=2;y=3;A=1/y;B=1/x}for(var E=0;E<x;++E)for(var F=0;F<y;++F){var G=x-1-E,H=F;C.push((H+z)*A);C.push((G+z)*B);C.push((H+1-z)*A);C.push((G+z)*B);C.push((H+1-z)*A);C.push((G+1-z)*B);C.push((H+z)*A);C.push((G+1-z)*B)}this.$SphericalRenderer18[q]=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer18[q]);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ARRAY_BUFFER,new Float32Array(C),this.$SphericalRenderer6.STATIC_DRAW);this.$SphericalRenderer18[q].itemSize=2;this.$SphericalRenderer18[q].numItems=C.length/2}var I=[];for(var J=0;J<r.length;J+=4){I.push(J);I.push(J+2);I.push(J+1);I.push(J);I.push(J+3);I.push(J+2)}this.$SphericalRenderer19=this.$SphericalRenderer6.createBuffer();this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer19);this.$SphericalRenderer6.bufferData(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,new Uint16Array(I),this.$SphericalRenderer6.STATIC_DRAW);if(this.$SphericalRenderer19){this.$SphericalRenderer19.itemSize=1;this.$SphericalRenderer19.numItems=I.length}};n.prototype.$SphericalRenderer32=function(){"use strict";var o=this.$SphericalRenderer6.createShader(this.$SphericalRenderer6.VERTEX_SHADER),p="\n      attribute vec3 aVertexPosition;\n\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n\n      varying highp vec3 vVertexDirectionVector;\n\n      void main(void) {\n        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n        vVertexDirectionVector = aVertexPosition;\n      }\n    ",q="\n      attribute vec3 aVertexPosition;\n      attribute vec2 aTextureCoord;\n\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n\n      varying highp vec2 vTextureCoord;\n\n      void main(void) {\n        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n        vTextureCoord = aTextureCoord;\n      }\n    ",r="\n      attribute vec3 aVertexPosition;\n\n      uniform sampler2D uSampler;\n      // It's actually inverse MV matrix\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n\n      varying highp vec2 vTextureCoord;\n      varying highp vec3 vPos;\n      varying lowp float vRecompute;\n      varying highp vec2 vOffset;\n\n      highp vec2 EquirectPart( highp vec3 p )\n      {\n        highp float xz = sqrt( p.x * p.x + p.z * p.z );\n        highp float lat = -atan( p.y, xz );\n        highp float t = lat / 1.57079633 / 1.01 + 0.5;\n        highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n        highp vec2 st = vec2(s, t);\n        return st;\n      }\n      highp vec2 FacePart( highp vec3 p )\n      {\n          highp vec2 t = p.xz / p.y;\n          highp float s = sign(p.y);\n          return vec2(0.9 + t.x * s * 0.099009901,\n              0.5 - s * 0.25 - t.y * 0.247524752);\n      }\n\n      highp float calculateOffset(highp float offset[19])\n      {\n        highp float sig =  -2.0 * offset[18] + 1.0;\n        highp float e = -127.0\n          + offset[10]\n          + offset[11] * 2.0\n          + offset[12] * 4.0\n          + offset[13] * 8.0\n          + offset[14] * 16.0\n          + offset[15] * 32.0\n          + offset[16] * 64.0\n          + offset[17] * 128.0;\n\n        highp float v = 1.0\n          + offset[9] * 0.5\n          + offset[8] * 0.25\n          + offset[7] * 0.125\n          + offset[6] * 0.0625\n          + offset[5] * 0.03125\n          + offset[4] * 0.015625\n          + offset[3] * 0.0078125\n          + offset[2] * 0.00390625\n          + offset[1] * 0.001953125\n          + offset[0] * 0.0009765625;\n\n        return sig * v * pow(2.0, e);\n      }\n\n      highp vec4 extractFromSample(highp vec4 c)\n      {\n        highp float minC = min(0.5, min(c.r, min(c.g, c.b)));\n        highp float diffC = max(0.5, max(c.r, max(c.g, c.b))) - minC + 0.001;\n        return step(0.5, (c - minC) / diffC);\n      }\n\n      highp vec2 parseOffset()\n      {\n        highp float offsetX[19], offsetZ[19];\n        highp vec4 c;\n        highp float minC, diffC;\n\n        c = extractFromSample(texture2D(uSampler, vec2(0.396, 1.0)));\n        offsetX[0] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.404, 1.0)));\n        offsetX[1] = c.b;\n        offsetX[2] = c.g;\n        offsetX[3] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.412, 1.0)));\n        offsetX[4] = c.b;\n        offsetX[5] = c.g;\n        offsetX[6] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.420, 1.0)));\n        offsetX[7] = c.b;\n        offsetX[8] = c.g;\n        offsetX[9] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.428, 1.0)));\n        offsetX[10] = c.b;\n        offsetX[11] = c.g;\n        offsetX[12] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.436, 1.0)));\n        offsetX[13] = c.b;\n        offsetX[14] = c.g;\n        offsetX[15] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.444, 1.0)));\n        offsetX[16] = c.b;\n        offsetX[17] = c.g;\n        offsetX[18] = c.r;\n\n        c = extractFromSample(texture2D(uSampler, vec2(0.572, 1.0)));\n        offsetZ[0] = c.b;\n        offsetZ[1] = c.g;\n        offsetZ[2] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.580, 1.0)));\n        offsetZ[3] = c.b;\n        offsetZ[4] = c.g;\n        offsetZ[5] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.588, 1.0)));\n        offsetZ[6] = c.b;\n        offsetZ[7] = c.g;\n        offsetZ[8] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.596, 1.0)));\n        offsetZ[9] = c.b;\n        offsetZ[10] = c.g;\n        offsetZ[11] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.604, 1.0)));\n        offsetZ[12] = c.b;\n        offsetZ[13] = c.g;\n        offsetZ[14] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.612, 1.0)));\n        offsetZ[15] = c.b;\n        offsetZ[16] = c.g;\n        offsetZ[17] = c.r;\n        c = extractFromSample(texture2D(uSampler, vec2(0.620, 1.0)));\n        offsetZ[18] = c.b;\n\n        return vec2(calculateOffset(offsetX), -calculateOffset(offsetZ));\n      }\n\n      const float eps = 0.03;\n\n      void main(void) {\n        gl_Position = uPMatrix * vec4(aVertexPosition, 1.0);\n        vPos = (uMVMatrix * vec4(aVertexPosition, 1.0)).xyz;\n        highp vec3 v = normalize( vPos );\n        vOffset = parseOffset();\n        highp float d = length( v.xz );\n        highp vec2 t = normalize(v.xz / d + vOffset) * d;\n        v = vec3(t.x, v.y, t.y);\n        vRecompute = 0.0;\n        if ( abs(v.y) < 0.707106781 ) {\n          vTextureCoord = EquirectPart( v );\n          vRecompute += float( vTextureCoord.x < eps * 0.5 ||\n              vTextureCoord.x > 0.8 - eps * 0.5 );\n        } else {\n          vTextureCoord = FacePart( v );\n          vRecompute += float( abs(v.y) > 1.0 - eps );\n        }\n        vRecompute += float( abs(v.y) < 0.707106781 + eps &&\n            abs(v.y) > 0.707106781 - eps );\n      }\n    ",s="\n      attribute vec3 aVertexPosition;\n\n      uniform sampler2D uSampler;\n      // It's actually inverse MV matrix\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n\n      varying highp vec2 vTextureCoord;\n      varying highp vec3 vPos;\n      varying lowp float vRecompute;\n      varying highp vec2 vOffset;\n\n      highp vec2 EquirectPart( highp vec3 p )\n      {\n        highp float xz = sqrt( p.x * p.x + p.z * p.z );\n        highp float lat = -atan( p.y, xz );\n        highp float t = lat / 1.57079633 / 1.01 + 0.5;\n        highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n        highp vec2 st = vec2(s, t);\n        return st;\n      }\n\n      highp vec2 FacePart( highp vec3 p )\n      {\n          highp vec2 t = p.xz / p.y;\n          highp float s = sign(p.y);\n          return vec2(0.9 + t.x * s * 0.099009901,\n              0.5 - s * 0.25 - t.y * 0.247524752);\n      }\n\n      highp vec4 extractFromSample(highp vec4 c)\n      {\n        highp float minC = min(0.5, min(c.r, min(c.g, c.b)));\n        highp float diffC = max(0.5, max(c.r, max(c.g, c.b))) - minC + 0.001;\n        return step(0.5, (c - minC) / diffC);\n      }\n\n      highp vec2 parseOffset()\n      {\n        highp float calculated_offsetX, calculated_offsetZ;\n        highp float offset_v, offset_e, offset_sig; // temp variables\n        highp vec4 texCoordsX[7], texCoordsZ[7]; // constants\n\n        texCoordsX[0] = extractFromSample(texture2D(uSampler, vec2(0.396, 1.0)));\n        texCoordsX[1] = extractFromSample(texture2D(uSampler, vec2(0.404, 1.0)));\n        texCoordsX[2] = extractFromSample(texture2D(uSampler, vec2(0.412, 1.0)));\n        texCoordsX[3] = extractFromSample(texture2D(uSampler, vec2(0.420, 1.0)));\n        texCoordsX[4] = extractFromSample(texture2D(uSampler, vec2(0.428, 1.0)));\n        texCoordsX[5] = extractFromSample(texture2D(uSampler, vec2(0.436, 1.0)));\n        texCoordsX[6] = extractFromSample(texture2D(uSampler, vec2(0.444, 1.0)));\n\n        offset_v = texCoordsX[0].r * 0.0009765625\n          + dot(texCoordsX[1].bgr, vec3(0.001953125, 0.00390625, 0.0078125))\n          + dot(texCoordsX[2].bgr, vec3(0.015625, 0.03125, 0.0625))\n          + dot(texCoordsX[3].bgr, vec3(0.125, 0.25, 0.5))\n          + 1.0;\n\n        offset_e = dot(texCoordsX[4].bgr, vec3(1.0, 2.0, 4.0))\n          + dot(texCoordsX[5].bgr, vec3(8.0, 16.0, 32.0))\n          + dot(texCoordsX[6].bg, vec2(64.0, 128.0))\n          - 127.0;\n\n        offset_sig = -2.0 * texCoordsX[6].r + 1.0;\n        calculated_offsetX = offset_sig * offset_v * pow(2.0, offset_e);\n\n\n        texCoordsZ[0] = extractFromSample(texture2D(uSampler, vec2(0.572, 1.0)));\n        texCoordsZ[1] = extractFromSample(texture2D(uSampler, vec2(0.580, 1.0)));\n        texCoordsZ[2] = extractFromSample(texture2D(uSampler, vec2(0.588, 1.0)));\n        texCoordsZ[3] = extractFromSample(texture2D(uSampler, vec2(0.596, 1.0)));\n        texCoordsZ[4] = extractFromSample(texture2D(uSampler, vec2(0.604, 1.0)));\n        texCoordsZ[5] = extractFromSample(texture2D(uSampler, vec2(0.612, 1.0)));\n        texCoordsZ[6] = extractFromSample(texture2D(uSampler, vec2(0.620, 1.0)));\n\n        offset_v = dot(texCoordsZ[0].bgr, vec3(0.0009765625, 0.001953125, 0.00390625))\n          + dot(texCoordsZ[1].bgr, vec3(0.0078125, 0.015625, 0.03125))\n          + dot(texCoordsZ[2].bgr, vec3(0.0625, 0.125, 0.25))\n          + texCoordsZ[3].b * 0.5\n          + 1.0;\n\n        offset_e = dot(texCoordsZ[3].gr, vec2(1.0, 2.0))\n          + dot(texCoordsZ[4].bgr, vec3(4.0, 8.0, 16.0))\n          + dot(texCoordsZ[5].bgr, vec3(32.0, 64.0, 128.0))\n          - 127.0;\n\n        offset_sig = 2.0 * texCoordsZ[6].b - 1.0;\n        calculated_offsetZ = offset_sig * offset_v * pow(2.0, offset_e);\n\n        return vec2(calculated_offsetX, calculated_offsetZ);\n      }\n\n      const float eps = 0.03;\n\n      void main(void) {\n        gl_Position = uPMatrix * vec4(aVertexPosition, 1.0);\n        vPos = (uMVMatrix * vec4(aVertexPosition, 1.0)).xyz;\n        highp vec3 v = normalize( vPos );\n        vOffset = parseOffset();\n        highp float d = length( v.xz );\n        highp vec2 t = normalize(v.xz / d + vOffset) * d;\n        v.xz = t.xy;\n        vRecompute = 0.0;\n        highp float abs_vy = abs(v.y);\n        if ( abs_vy < 0.707106781 ) {\n          vTextureCoord = EquirectPart( v );\n          vRecompute += float( vTextureCoord.x < eps * 0.5 ||\n              vTextureCoord.x > 0.8 - eps * 0.5 );\n        } else {\n          vTextureCoord = FacePart( v );\n          vRecompute += float( abs_vy > 1.0 - eps );\n        }\n        vRecompute += float( abs_vy < 0.707106781 + eps &&\n            abs_vy > 0.707106781 - eps );\n      }\n    ",t=c("gkx")("AT73kvJgjKMnumznH4av8YzVN25V2PEtu4Y2aMusJtPLGMxgQ6kD-_sQC8oQsXMzMb9gse6Q9ZPW1vyTdU3MNCo6DIYu0Aue01yfPXIRECrTbQ")?s:r,u="\n      attribute vec3 aVertexPosition;\n\n      // It's actually inverse MV matrix\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n      uniform highp vec2 uOffset;\n\n      varying highp vec2 vTextureCoord;\n      varying highp vec3 vPos;\n      varying lowp float vRecompute;\n\n      highp vec2 EquirectPart( highp vec3 p )\n      {\n        highp float xz = sqrt( p.x * p.x + p.z * p.z );\n        highp float lat = -atan( p.y, xz );\n        highp float t = lat / 1.57079633 / 1.01 + 0.5;\n        highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n        highp vec2 st = vec2(s, t);\n        return st;\n      }\n      highp vec2 FacePart( highp vec3 p )\n      {\n          highp vec2 t = p.xz / p.y;\n          highp float s = sign(p.y);\n          return vec2(0.9 + t.x * s * 0.099009901,\n              0.5 - s * 0.25 - t.y * 0.247524752);\n      }\n\n      const float eps = 0.03;\n\n      void main(void) {\n        gl_Position = uPMatrix * vec4(aVertexPosition, 1.0);\n        vPos = (uMVMatrix * vec4(aVertexPosition, 1.0)).xyz;\n        highp vec3 v = normalize( vPos );\n        highp float d = length( v.xz );\n        highp vec2 t = normalize(v.xz / d + uOffset) * d;\n        v = vec3(t.x, v.y, t.y);\n        vRecompute = 0.0;\n        if ( abs(v.y) < 0.707106781 ) {\n          vTextureCoord = EquirectPart( v );\n          vRecompute += float( vTextureCoord.x < eps * 0.5 ||\n              vTextureCoord.x > 0.8 - eps * 0.5 );\n        } else {\n          vTextureCoord = FacePart( v );\n          vRecompute += float( abs(v.y) > 1.0 - eps );\n        }\n        vRecompute += float( abs(v.y) < 0.707106781 + eps &&\n            abs(v.y) > 0.707106781 - eps );\n      }\n    ",v=this.$SphericalRenderer7?this.$SphericalRenderer8?u:t:this.$SphericalRenderer17?p:q;this.$SphericalRenderer6.shaderSource(o,v);this.$SphericalRenderer6.compileShader(o);return o};n.prototype.$SphericalRenderer33=function(){"use strict";var o=this.$SphericalRenderer6.createShader(this.$SphericalRenderer6.FRAGMENT_SHADER),p="\n      varying highp vec3 vVertexDirectionVector;\n      uniform samplerCube uSampler;\n\n      void main(void) {\n        gl_FragColor = textureCube(uSampler, vVertexDirectionVector);\n      }\n    ",q="\n      varying highp vec2 vTextureCoord;\n\n      uniform sampler2D uSampler;\n\n      void main(void) {\n        gl_FragColor = texture2D(\n          uSampler,\n          vec2(vTextureCoord.s, vTextureCoord.t)\n        );\n      }\n    ",r="\n      varying highp vec2 vTextureCoord;\n      varying highp vec3 vPos;\n      varying lowp float vRecompute;\n      varying highp vec2 vOffset;\n\n      uniform sampler2D uSampler;\n\n      highp vec2 EquirectPart( highp vec3 p )\n      {\n        highp float xz = sqrt( p.x * p.x + p.z * p.z );\n        highp float lat = -atan( p.y, xz );\n        highp float t = lat / 1.57079633 / 1.01 + 0.5;\n        highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n        highp vec2 st = vec2(s, t);\n        return st;\n      }\n\n      highp vec2 FacePart( highp vec3 p )\n      {\n          highp vec2 t = p.xz / p.y;\n          highp float s = sign(p.y);\n          return vec2(0.9 + t.x * s * 0.099009901,\n              0.5 - s * 0.25 - t.y * 0.247524752);\n      }\n\n      void main()\n      {\n        if (vRecompute > 0.0) {\n          highp vec3 v = normalize( vPos );\n          highp float d = length( v.xz );\n          highp vec2 t = normalize(v.xz / d + vOffset) * d;\n          v = vec3(t.x, v.y, t.y);\n          highp vec2 o;\n          if ( abs(v.y) < 0.707106781 ) {\n            o = EquirectPart( v );\n          } else {\n            o = FacePart( v );\n          }\n          gl_FragColor = texture2D( uSampler, o );\n        } else {\n          gl_FragColor = texture2D( uSampler, vTextureCoord );\n        }\n      }\n    ",s="\n      varying highp vec2 vTextureCoord;\n      varying highp vec3 vPos;\n      varying lowp float vRecompute;\n\n      uniform highp vec2 uOffset;\n      uniform sampler2D uSampler;\n\n      highp vec2 EquirectPart( highp vec3 p )\n      {\n        highp float xz = sqrt( p.x * p.x + p.z * p.z );\n        highp float lat = -atan( p.y, xz );\n        highp float t = lat / 1.57079633 / 1.01 + 0.5;\n        highp float s = atan( p.x, -p.z ) / 1.01 / (2.5 * 3.1415927) + 0.4;\n        highp vec2 st = vec2(s, t);\n        return st;\n      }\n\n      highp vec2 FacePart( highp vec3 p )\n      {\n          highp vec2 t = p.xz / p.y;\n          highp float s = sign(p.y);\n          return vec2(0.9 + t.x * s * 0.099009901,\n              0.5 - s * 0.25 - t.y * 0.247524752);\n      }\n\n      void main()\n      {\n        if (vRecompute > 0.0) {\n          highp vec3 v = normalize( vPos );\n          highp float d = length( v.xz );\n          highp vec2 t = normalize(v.xz / d + uOffset) * d;\n          v = vec3(t.x, v.y, t.y);\n          highp vec2 o;\n          if ( abs(v.y) < 0.707106781 ) {\n            o = EquirectPart( v );\n          } else {\n            o = FacePart( v );\n          }\n          gl_FragColor = texture2D( uSampler, o );\n        } else {\n          gl_FragColor = texture2D( uSampler, vTextureCoord );\n        }\n      }\n    ",t=this.$SphericalRenderer7?this.$SphericalRenderer8?s:r:this.$SphericalRenderer17?p:q;this.$SphericalRenderer6.shaderSource(o,t);this.$SphericalRenderer6.compileShader(o);return o};n.prototype.$SphericalRenderer38=function(){"use strict";this.$SphericalRenderer23.framebuffer=this.$SphericalRenderer6.createFramebuffer();this.$SphericalRenderer6.bindFramebuffer(this.$SphericalRenderer6.FRAMEBUFFER,this.$SphericalRenderer23.framebuffer);this.$SphericalRenderer6.framebufferTexture2D(this.$SphericalRenderer6.FRAMEBUFFER,this.$SphericalRenderer6.COLOR_ATTACHMENT0,this.$SphericalRenderer6.TEXTURE_2D,this.$SphericalRenderer13,0);this.$SphericalRenderer6.bindFramebuffer(this.$SphericalRenderer6.FRAMEBUFFER,null)};n.prototype.$SphericalRenderer39=function(){"use strict";this.$SphericalRenderer6.bindFramebuffer(this.$SphericalRenderer6.FRAMEBUFFER,this.$SphericalRenderer23.framebuffer);this.$SphericalRenderer6.readPixels(0,this.$SphericalRenderer13.image.videoHeight-1,this.$SphericalRenderer13.image.videoWidth,1,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.UNSIGNED_BYTE,this.$SphericalRenderer23.pixels);this.$SphericalRenderer6.bindFramebuffer(this.$SphericalRenderer6.FRAMEBUFFER,null)};n.prototype.$SphericalRenderer40=function(){"use strict";__p&&__p();this.$SphericalRenderer23.bitmask.fill(0);var o=[0,0,0],p=this.$SphericalRenderer13.image.videoWidth/125,q=Math.round(p),r;for(r=0;r<33;++r){var s=Math.floor((45+r)*p)*4,t=128,u=127;for(var v=0;v<3;++v){o[v]=0;for(var w=0;w<q;++w)o[v]+=this.$SphericalRenderer23.pixels[s+w*4+(2-v)];o[v]/=q;t=Math.max(t,o[v]);u=Math.min(u,o[v])}for(v=0;v<3;++v){var x=(o[v]-u)/(t-u);this.$SphericalRenderer23.bitmask[r*3+v]=x>.5?1:0}}for(r=0;r<12;++r){var y=0;for(var z=0;z<8;++z)y+=this.$SphericalRenderer23.bitmask[1+r*8+z]*Math.pow(2,z);this.$SphericalRenderer23.dataView.setUint8(r,y)}this.$SphericalRenderer23.offsetX=this.$SphericalRenderer23.dataView.getFloat32(0,true);this.$SphericalRenderer23.offsetZ=-this.$SphericalRenderer23.dataView.getFloat32(8,true)};n.prototype.$SphericalRenderer41=function(){"use strict";__p&&__p();try{if(!this.$SphericalRenderer23.ready){this.$SphericalRenderer23.pixels=new Uint8Array(3840*4);this.$SphericalRenderer23.bitmask=new Uint8Array(33*3);this.$SphericalRenderer23.dataView=new DataView(new ArrayBuffer(12));this.$SphericalRenderer23.ready=true}if(!this.$SphericalRenderer23.framebuffer)this.$SphericalRenderer38();this.$SphericalRenderer39();this.$SphericalRenderer40()}catch(o){this.emit("renderingError",o)}};n.prototype.$SphericalRenderer42=function(){"use strict";__p&&__p();if(this.$SphericalRenderer17)this.$SphericalRenderer43();else{this.$SphericalRenderer6.bindTexture(this.$SphericalRenderer6.TEXTURE_2D,this.$SphericalRenderer13);this.$SphericalRenderer6.pixelStorei(this.$SphericalRenderer6.UNPACK_FLIP_Y_WEBGL,!this.$SphericalRenderer7);try{this.$SphericalRenderer6.texImage2D(this.$SphericalRenderer6.TEXTURE_2D,0,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.UNSIGNED_BYTE,this.$SphericalRenderer13.image)}catch(o){this.emit("renderingError",o)}if(this.$SphericalRenderer8)this.$SphericalRenderer41()}};n.prototype.renderWithRotationMatrix=function(o){"use strict";if(this.$SphericalRenderer3)return;if(this.$SphericalRenderer16)this.$SphericalRenderer42();this.$SphericalRenderer11=o;if(this.$SphericalRenderer7)k.rotateY(this.$SphericalRenderer11,this.$SphericalRenderer11,j.toRadian(-90));this.$SphericalRenderer44()};n.prototype.render=function(o,p){"use strict";__p&&__p();if(this.$SphericalRenderer3)return;if(this.$SphericalRenderer16)this.$SphericalRenderer42();if(this.$SphericalRenderer9){k.identity(this.$SphericalRenderer11);k.rotateX(this.$SphericalRenderer11,this.$SphericalRenderer11,j.toRadian(-p));k.rotateY(this.$SphericalRenderer11,this.$SphericalRenderer11,j.toRadian(o-135));k.rotateZ(this.$SphericalRenderer11,this.$SphericalRenderer11,j.toRadian(45))}else{if(this.$SphericalRenderer7)o-=90;k.identity(this.$SphericalRenderer11);k.rotateX(this.$SphericalRenderer11,this.$SphericalRenderer11,-j.toRadian(p));k.rotateY(this.$SphericalRenderer11,this.$SphericalRenderer11,j.toRadian(o))}this.$SphericalRenderer44()};n.prototype.$SphericalRenderer44=function(){"use strict";__p&&__p();if(this.$SphericalRenderer17){if(this.$SphericalRenderer20===null)this.$SphericalRenderer37(this.$SphericalRenderer2.projectionType,this.$SphericalRenderer2.expansionCoef||0,0)}else{if(!this.$SphericalRenderer24){this.$SphericalRenderer34();this.$SphericalRenderer6.activeTexture(this.$SphericalRenderer6.TEXTURE0)}var o=this.$SphericalRenderer13.image.videoWidth;if(this.$SphericalRenderer2.projectionType===c("VideoProjection").CUBEMAP||this.$SphericalRenderer2.projectionType===c("VideoProjection").ROTATED_CUBEMAP){if(!(o in this.$SphericalRenderer18))this.$SphericalRenderer37(this.$SphericalRenderer2.projectionType,this.$SphericalRenderer2.expansionCoef||0,o)}else if(this.$SphericalRenderer2.projectionType===c("VideoProjection").BARREL){if(!(o in this.$SphericalRenderer18))this.$SphericalRenderer36(this.$SphericalRenderer2.expansionCoef||1.01,o)}else if(this.$SphericalRenderer7){if(!(o in this.$SphericalRenderer18))this.$SphericalRenderer35(o,40,40,Math.PI/180*111,Math.PI/180*142,-Math.PI/2)}else if(!(o in this.$SphericalRenderer18))this.$SphericalRenderer35(o);if(!this.$SphericalRenderer7){this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer18[o]);this.$SphericalRenderer6.vertexAttribPointer(this.$SphericalRenderer14.textureCoordAttribute,this.$SphericalRenderer18[o].itemSize,this.$SphericalRenderer6.FLOAT,false,0,0)}}this.$SphericalRenderer6.uniform1i(this.$SphericalRenderer14.samplerUniform,0);this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ARRAY_BUFFER,this.$SphericalRenderer20);if(this.$SphericalRenderer20)this.$SphericalRenderer6.vertexAttribPointer(this.$SphericalRenderer14.vertexPositionAttribute,this.$SphericalRenderer20.itemSize,this.$SphericalRenderer6.FLOAT,false,0,0);this.$SphericalRenderer6.bindBuffer(this.$SphericalRenderer6.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer19);this.$SphericalRenderer6.uniformMatrix4fv(this.$SphericalRenderer14.pMatrixUniform,false,this.$SphericalRenderer10);if(this.$SphericalRenderer7){k.invert(this.$SphericalRenderer12,this.$SphericalRenderer11);this.$SphericalRenderer6.uniformMatrix4fv(this.$SphericalRenderer14.mvMatrixUniform,false,this.$SphericalRenderer12);if(this.$SphericalRenderer8)this.$SphericalRenderer6.uniform2f(this.$SphericalRenderer14.offsetUniform,this.$SphericalRenderer23.offsetX,this.$SphericalRenderer23.offsetZ)}else this.$SphericalRenderer6.uniformMatrix4fv(this.$SphericalRenderer14.mvMatrixUniform,false,this.$SphericalRenderer11);if(this.$SphericalRenderer19)this.$SphericalRenderer6.drawElements(this.$SphericalRenderer6.TRIANGLES,this.$SphericalRenderer19.numItems,this.$SphericalRenderer6.UNSIGNED_SHORT,0)};n.prototype.$SphericalRenderer45=function(){"use strict";var o=this.$SphericalRenderer6.getParameter(this.$SphericalRenderer6.MAX_CUBE_MAP_TEXTURE_SIZE),p=this.$SphericalRenderer13.image.width;return Math.min(o,p)};n.prototype.$SphericalRenderer43=function(){"use strict";var o=this.$SphericalRenderer45(),p=this.$SphericalRenderer13.image.width,q=c("DOM").create("canvas",{width:o,height:o}),r=q.getContext("2d");this.$SphericalRenderer6.bindTexture(this.$SphericalRenderer6.TEXTURE_CUBE_MAP,this.$SphericalRenderer13);this.$SphericalRenderer6.pixelStorei(this.$SphericalRenderer6.UNPACK_FLIP_Y_WEBGL,false);for(var s=0;s<6;s++){r.drawImage(this.$SphericalRenderer13.image,0,s*p,p,p,0,0,o,o);var t=new Uint8Array(r.getImageData(0,0,o,o).data);this.$SphericalRenderer6.texImage2D(this.$SphericalRenderer6.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,this.$SphericalRenderer6.RGBA,o,o,0,this.$SphericalRenderer6.RGBA,this.$SphericalRenderer6.UNSIGNED_BYTE,t)}};f.exports=n}),null);
__d("SphericalVideoComponentDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationReactDispatcher"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:true})}),null);
__d("SphericalVideoComponentActions",["SphericalVideoComponentDispatcher"],(function a(b,c,d,e,f,g){__p&&__p();var h={registerVideoPlayerController:function i(j){var k={type:"SphericalVideoComponent/registerVideoPlayerController",controller:j,id:j.getVideoPlayerID()};c("SphericalVideoComponentDispatcher").dispatch(k)},updateVideoPlayerState:function i(j,k){var l={type:"SphericalVideoComponent/updateVideoPlayerState",id:j,state:k};c("SphericalVideoComponentDispatcher").dispatch(l)},togglePlay:function i(j,k){var l={type:"SphericalVideoComponent/togglePlay",id:j,nextIsPlaying:k};c("SphericalVideoComponentDispatcher").dispatch(l)},toggleChannelView:function i(j,k){var l={type:"SphericalVideoComponent/toggleChannelView",id:j,isInChannelView:k};c("SphericalVideoComponentDispatcher").dispatch(l)},toggleTahoe:function i(j,k){var l={type:"SphericalVideoComponent/toggleTahoe",id:j,isInTahoe:k};c("SphericalVideoComponentDispatcher").dispatch(l)},setCurrentVideoTime:function i(j,k){var l={type:"SphericalVideoComponent/setCurrentPlaytime",id:j,time:k};c("SphericalVideoComponentDispatcher").dispatch(l)},setVideoDuration:function i(j,k){var l={type:"SphericalVideoComponent/setVideoDuration",id:j,durationSeconds:k};c("SphericalVideoComponentDispatcher").dispatch(l)},seekStart:function i(j){var k={type:"SphericalVideoComponent/seekStart",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},registerSphericalViewportControl:function i(j,k,l){var m={type:"SphericalVideoComponent/registerSphericalViewportControl",id:j,sphericalViewportControl:k,viewport:l};c("SphericalVideoComponentDispatcher").dispatch(m)},changeViewport:function i(j,k,l,m){var n={type:"SphericalVideoComponent/changeViewport",id:j,yaw:k,pitch:l,fieldOfView:m};c("SphericalVideoComponentDispatcher").dispatch(n)},toggleViewportGrabbed:function i(j){var k={type:"SphericalVideoComponent/toggleViewportGrabbed",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},updateViewportDimensions:function i(j,k,l){var m={type:"SphericalVideoComponent/updateViewportDimensions",id:j,width:k,height:l};c("SphericalVideoComponentDispatcher").dispatch(m)},setUserIsInactive:function i(j){var k={type:"SphericalVideoComponent/setUserIsInactive",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},setInitialViewport:function i(j,k,l){var m={type:"SphericalVideoComponent/setInitialViewport",id:j,yaw:k,pitch:l};c("SphericalVideoComponentDispatcher").dispatch(m)},registerNewSpatialReactionsState:function i(j){var k={type:"SphericalVideoComponent/registerNewSpatialReactionsState",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},addSpatialReactionClusters:function i(j,k){var l={type:"SphericalVideoComponent/addSpatialReactions",id:j,reactionClusters:k};c("SphericalVideoComponentDispatcher").dispatch(l)},tickAnimation:function i(j){var k={type:"SphericalVideoComponent/tickAnimation",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},startAnimationForFrame:function i(j,k,l,m,n,o,p){var q={type:"SphericalVideoComponent/startAnimationForFrame",id:j,timestamp:k,yaw:l,pitch:m,fieldOfView:n,viewportWidth:o,viewportHeight:p};c("SphericalVideoComponentDispatcher").dispatch(q)},setMouseDown:function i(j,k,l){var m={type:"SphericalVideoComponent/setMouseDown",id:j,reactionCenter:k,wasVideoPlaying:l};c("SphericalVideoComponentDispatcher").dispatch(m)},setMouseUp:function i(j,k){var l={type:"SphericalVideoComponent/setMouseUp",id:j,reactionCenter:k};c("SphericalVideoComponentDispatcher").dispatch(l)},setIsDragging:function i(j,k){var l={type:"SphericalVideoComponent/setIsDragging",id:j,isDragging:k};c("SphericalVideoComponentDispatcher").dispatch(l)},setShouldLeaveReactionMenuOpen:function i(j,k){var l={type:"SphericalVideoComponent/setShouldLeaveReactionMenuOpen",id:j,leaveOpen:k};c("SphericalVideoComponentDispatcher").dispatch(l)},clickReaction:function i(j,k){var l={type:"SphericalVideoComponent/clickReaction",id:j,reactionType:k};c("SphericalVideoComponentDispatcher").dispatch(l)},dropReaction:function i(j,k,l,m,n,o,p,q,r,s){var t={type:"SphericalVideoComponent/dropReaction",id:j,reactionType:k,reactionOutsideViewport:l,recordMouseLocation:m,viewportWidth:n,viewportHeight:o,viewportYaw:p,viewportPitch:q,viewportFieldOfView:r,recordReactionCallback:s};c("SphericalVideoComponentDispatcher").dispatch(t)},clickLikeButton:function i(j){var k={type:"SphericalVideoComponent/clickLikeButton",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},openReactionMenu:function i(j){var k={type:"SphericalVideoComponent/openReactionMenu",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},closeReactionMenu:function i(j){var k={type:"SphericalVideoComponent/closeReactionMenu",id:j};c("SphericalVideoComponentDispatcher").dispatch(k)},registerExperimentConfig:function i(j,k){var l={type:"SphericalVideoComponent/registerExperimentConfig",id:j,config:k};c("SphericalVideoComponentDispatcher").dispatch(l)}};f.exports=h}),null);
__d("MovingAverage",[],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){"use strict";__p&&__p();this.$MovingAverage1=j;j=j||0;this.$MovingAverage2=0;this.$MovingAverage3=j*i;this.$MovingAverage4=i;this.$MovingAverage5=0;this.$MovingAverage6=[];for(var k=0;k<i;k++)this.$MovingAverage6[k]=j}h.prototype.add=function(i){"use strict";this.$MovingAverage3-=this.$MovingAverage6[this.$MovingAverage2];this.$MovingAverage3+=i;this.$MovingAverage6[this.$MovingAverage2]=i;this.$MovingAverage2=(this.$MovingAverage2+1)%this.$MovingAverage4;if(this.$MovingAverage5<this.$MovingAverage4)this.$MovingAverage5++;return this};h.prototype.get=function(i){"use strict";i=i===undefined?0:i;var j=(this.$MovingAverage2-i-1+this.$MovingAverage4)%this.$MovingAverage4;return this.$MovingAverage6[j]};h.prototype.getAvg=function(){"use strict";if(this.$MovingAverage5<this.$MovingAverage4&&this.$MovingAverage5!==0&&this.$MovingAverage1==null)return this.$MovingAverage3/this.$MovingAverage5;return this.$MovingAverage3/this.$MovingAverage4};h.prototype.getSum=function(){"use strict";return this.$MovingAverage3};h.prototype.getMax=function(){"use strict";return Math.max.apply(Math,this.$MovingAverage6)};h.prototype.getMin=function(){"use strict";return Math.min.apply(Math,this.$MovingAverage6)};g.MovingAverage=h}),null);
__d("SpatialAudioFallbackReasons",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CHANNEL:"channel",SCROLL:"scroll"})}),null);
__d("SphericalMediaPerformanceEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SNAPSHOT:"snapshot",AUDIO_FALLBACK:"audio_fallback",SPATIAL_REACTIONS_CLUSTERS_COMPUTATION:"spatial_reactions_clusters_computation",SPATIAL_REACTIONS_CACHE_REBUILD:"spatial_reactions_cache_rebuild",LIVE_SPATIAL_REACTIONS_REGION_COUNT:"live_spatial_reactions_region_count",SPHERICAL_RENDERER_SETUP:"spherical_renderer_setup"})}),null);
__d("SphericalMediaPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:SphericalMediaPerformanceLoggerConfig",this.$SphericalMediaPerformanceTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:SphericalMediaPerformanceLoggerConfig",this.$SphericalMediaPerformanceTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$SphericalMediaPerformanceTypedLogger1={};return this};h.prototype.updateData=function(j){this.$SphericalMediaPerformanceTypedLogger1=babelHelpers["extends"]({},this.$SphericalMediaPerformanceTypedLogger1,j);return this};h.prototype.setComputationTimeMs=function(j){this.$SphericalMediaPerformanceTypedLogger1.computation_time_ms=j;return this};h.prototype.setEndTimestampS=function(j){this.$SphericalMediaPerformanceTypedLogger1.end_timestamp_s=j;return this};h.prototype.setEvent=function(j){this.$SphericalMediaPerformanceTypedLogger1.event=j;return this};h.prototype.setFallbackDuration=function(j){this.$SphericalMediaPerformanceTypedLogger1.fallback_duration=j;return this};h.prototype.setFallbackReason=function(j){this.$SphericalMediaPerformanceTypedLogger1.fallback_reason=j;return this};h.prototype.setNormalizedFrameTime=function(j){this.$SphericalMediaPerformanceTypedLogger1.normalized_frame_time=j;return this};h.prototype.setNumSpatialAudioStutters=function(j){this.$SphericalMediaPerformanceTypedLogger1.num_spatial_audio_stutters=j;return this};h.prototype.setProductName=function(j){this.$SphericalMediaPerformanceTypedLogger1.product_name=j;return this};h.prototype.setProjection=function(j){this.$SphericalMediaPerformanceTypedLogger1.projection=j;return this};h.prototype.setSpatialReactionsCacheUsed=function(j){this.$SphericalMediaPerformanceTypedLogger1.spatial_reactions_cache_used=j;return this};h.prototype.setSpatialReactionsClustersCount=function(j){this.$SphericalMediaPerformanceTypedLogger1.spatial_reactions_clusters_count=j;return this};h.prototype.setSpatialReactionsCount=function(j){this.$SphericalMediaPerformanceTypedLogger1.spatial_reactions_count=j;return this};h.prototype.setSphericalRendererSetupDuration=function(j){this.$SphericalMediaPerformanceTypedLogger1.spherical_renderer_setup_duration=j;return this};h.prototype.setStartTimestampS=function(j){this.$SphericalMediaPerformanceTypedLogger1.start_timestamp_s=j;return this};h.prototype.setVideoID=function(j){this.$SphericalMediaPerformanceTypedLogger1.video_id=j;return this};var i={computation_time_ms:true,end_timestamp_s:true,event:true,fallback_duration:true,fallback_reason:true,normalized_frame_time:true,num_spatial_audio_stutters:true,product_name:true,projection:true,spatial_reactions_cache_used:true,spatial_reactions_clusters_count:true,spatial_reactions_count:true,spherical_renderer_setup_duration:true,start_timestamp_s:true,video_id:true};f.exports=h}),null);
__d("SphericalMediaProductNames",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SPHERICAL_VIDEO:"spherical_video",SPATIAL_AUDIO:"spatial_audio",SPATIAL_REACTIONS:"spatial_reactions"})}),null);
__d("SphericalVideoPerformanceTracker",["MovingAverage","SpatialAudioFallbackReasons","SphericalMediaPerformanceTypedLogger","SphericalMediaPerformanceEvents","SphericalMediaProductNames","Visibility","performance"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("MovingAverage").MovingAverage,i=60,j=1e3,k=10*j,l=15,m=j/i;function n(){"use strict";__p&&__p();n.$SphericalVideoPerformanceTracker1=false;this.$SphericalVideoPerformanceTracker10=new h(500,m);this.$SphericalVideoPerformanceTracker11=new(c("SphericalMediaPerformanceTypedLogger"))();this.$SphericalVideoPerformanceTracker12=false;this.$SphericalVideoPerformanceTracker7=-1;this.$SphericalVideoPerformanceTracker8=-1;this.$SphericalVideoPerformanceTracker5=false;this.$SphericalVideoPerformanceTracker6=false;var o=function(){this.$SphericalVideoPerformanceTracker4=false;this.$SphericalVideoPerformanceTracker16()}.bind(this),p=function(){this.$SphericalVideoPerformanceTracker4=true}.bind(this);c("Visibility").isHidden()?o():p();c("Visibility").addListener(c("Visibility").HIDDEN,o);c("Visibility").addListener(c("Visibility").VISIBLE,p)}n.get=function(){"use strict";if(!n.$SphericalVideoPerformanceTracker2)n.$SphericalVideoPerformanceTracker2=new n();return n.$SphericalVideoPerformanceTracker2};n.prototype.addFrameAtTime=function(o){"use strict";__p&&__p();if(!this.$SphericalVideoPerformanceTracker4)return;if(o!==this.$SphericalVideoPerformanceTracker9){n.$SphericalVideoPerformanceTracker1=true;this.$SphericalVideoPerformanceTracker9=o;if(!this.$SphericalVideoPerformanceTracker3)this.$SphericalVideoPerformanceTracker3=o;else{var p=o-this.$SphericalVideoPerformanceTracker3;this.$SphericalVideoPerformanceTracker3=o;this.$SphericalVideoPerformanceTracker10.add(p);if(!this.$SphericalVideoPerformanceTracker12){this.$SphericalVideoPerformanceTracker17();this.$SphericalVideoPerformanceTracker12=true}}}};n.prototype.setProjection=function(o){"use strict";this.$SphericalVideoPerformanceTracker15=o;return this};n.prototype.trackSpatialAudioMetrics=function(){"use strict";this.$SphericalVideoPerformanceTracker5=true;this.$SphericalVideoPerformanceTracker14=0};n.prototype.isTrackingSpatialAudioMetrics=function(){"use strict";return this.$SphericalVideoPerformanceTracker5};n.prototype.addAudioStutter=function(){"use strict";if(!this.isTrackingSpatialAudioMetrics())this.trackSpatialAudioMetrics();this.$SphericalVideoPerformanceTracker14++};n.prototype.enterSpatialAudioFallback=function(){"use strict";if(!this.isTrackingSpatialAudioMetrics())this.trackSpatialAudioMetrics();this.$SphericalVideoPerformanceTracker7=c("performance").now()};n.prototype.exitSpatialAudioFallback=function(){"use strict";if(!this.isTrackingSpatialAudioMetrics())this.trackSpatialAudioMetrics();if(this.$SphericalVideoPerformanceTracker7>0){var o=Math.trunc(c("performance").now()-this.$SphericalVideoPerformanceTracker7);this.$SphericalVideoPerformanceTracker7=-1;this.$SphericalVideoPerformanceTracker11.setProductName(c("SphericalMediaProductNames").SPATIAL_AUDIO).setEvent(c("SphericalMediaPerformanceEvents").AUDIO_FALLBACK).setFallbackDuration(o).setFallbackReason(c("SpatialAudioFallbackReasons").CHANNEL).log();this.$SphericalVideoPerformanceTracker11.clear()}};n.prototype.trackSphericalRendererMetrics=function(){"use strict";this.$SphericalVideoPerformanceTracker6=true};n.prototype.isTrackingSphericalRendererMetrics=function(){"use strict";return this.$SphericalVideoPerformanceTracker6};n.prototype.isOne360VideoActive=function(){"use strict";return n.$SphericalVideoPerformanceTracker1};n.prototype.enterSphericalRendererSetup=function(){"use strict";if(!this.isTrackingSphericalRendererMetrics())this.trackSphericalRendererMetrics();this.$SphericalVideoPerformanceTracker8=c("performance").now()};n.prototype.exitSphericalRendererSetup=function(){"use strict";if(!this.isTrackingSphericalRendererMetrics())this.trackSphericalRendererMetrics();if(this.$SphericalVideoPerformanceTracker8>0){var o=Math.trunc(c("performance").now()-this.$SphericalVideoPerformanceTracker8);this.$SphericalVideoPerformanceTracker8=-1;this.$SphericalVideoPerformanceTracker11.setProductName(c("SphericalMediaProductNames").SPHERICAL_VIDEO).setEvent(c("SphericalMediaPerformanceEvents").SPHERICAL_RENDERER_SETUP).setProjection(this.$SphericalVideoPerformanceTracker15).setSphericalRendererSetupDuration(o).log();this.$SphericalVideoPerformanceTracker11.clear()}};n.prototype.log=function(){"use strict";__p&&__p();if(!this.isOne360VideoActive())return;else{var o=Math.trunc(this.$SphericalVideoPerformanceTracker18()*Math.pow(10,l));this.$SphericalVideoPerformanceTracker11.setProductName(c("SphericalMediaProductNames").SPHERICAL_VIDEO).setEvent(c("SphericalMediaPerformanceEvents").SNAPSHOT).setNormalizedFrameTime(o);if(this.$SphericalVideoPerformanceTracker15)this.$SphericalVideoPerformanceTracker11.setProjection(this.$SphericalVideoPerformanceTracker15);if(this.$SphericalVideoPerformanceTracker5){this.$SphericalVideoPerformanceTracker11.setProductName(c("SphericalMediaProductNames").SPATIAL_AUDIO).setNumSpatialAudioStutters(this.$SphericalVideoPerformanceTracker14);this.$SphericalVideoPerformanceTracker14=0}this.$SphericalVideoPerformanceTracker11.log();this.$SphericalVideoPerformanceTracker11.clear()}this.$SphericalVideoPerformanceTracker16()};n.prototype.destroy=function(){"use strict";clearInterval(this.$SphericalVideoPerformanceTracker13);n.$SphericalVideoPerformanceTracker2=null};n.prototype.$SphericalVideoPerformanceTracker18=function(){"use strict";return this.$SphericalVideoPerformanceTracker10.getAvg()/m};n.prototype.$SphericalVideoPerformanceTracker16=function(){"use strict";this.$SphericalVideoPerformanceTracker3=null;n.$SphericalVideoPerformanceTracker1=false};n.prototype.$SphericalVideoPerformanceTracker17=function(){"use strict";this.$SphericalVideoPerformanceTracker13=setInterval(this.log.bind(this),k)};f.exports=n}),null);
__d("degToRad",[],(function a(b,c,d,e,f,g){"use strict";function h(i){return i*Math.PI/180}f.exports=h}),null);
__d("radToDeg",[],(function a(b,c,d,e,f,g){"use strict";function h(i){return i*180/Math.PI}f.exports=h}),null);
__d("SphericalPhotoProjectionUtils",["degToRad","gl-matrix","radToDeg"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("gl-matrix").glMatrix,i=c("gl-matrix").mat4,j=c("gl-matrix").vec3,k={getMaxMinVfov:function l(m,n){var o=c("degToRad")(m.partialRightDegrees||180),p=c("degToRad")(m.partialLeftDegrees||180),q=c("degToRad")(m.partialTopDegrees||90),r=c("degToRad")(m.partialBottomDegrees||90),s=(o+p)/2,t=(q+r)/2,u=2*Math.atan(s/n),v=this.getMinFullVfov(t,t);return{maxVfov:c("radToDeg")(Math.max(u,v)),minVfov:c("radToDeg")(Math.min(v,u/2))}},getMaxVfov:function l(m,n){return this.getMaxMinVfov(m,n).maxVfov},getMinFullVfov:function l(m,n){var o=(m+n)/2;return 2*Math.atan(o)},getMinFullHfov:function l(m,n){var o=(m+n)/2;return 2*Math.atan(o)},getZoomProgressFromFov:function l(m,n,o){return Math.max(0,Math.min(1,(m-o)/(n-o)))},getZoomProgress:function l(m,n,o){var p=this.getMaxMinVfov(n,o),q=p.maxVfov,r=p.minVfov;return this.getZoomProgressFromFov(m,q,r)},getHfov:function l(m,n){var o=2*Math.atan(Math.tan(m/2)*n);return o},normalizeLimits:function l(m){__p&&__p();var n=m.partialLeftDegrees||0,o=m.partialRightDegrees||0,p=m.partialTopDegrees||0,q=m.partialBottomDegrees||0;if(n<0&&o<0){var r=Math.max(n,o);n-=r;o-=r}if(p<0&&q<0){var s=Math.max(p,q);p-=s;q-=s}return{partialLeftDegrees:n,partialRightDegrees:o,partialTopDegrees:p,partialBottomDegrees:q}},getPartialLimits:function l(m,n,o){var p=this.getMaxMinVfov(o,n),q=p.maxVfov,r=p.minVfov,s=c("degToRad")(m),t=this.getHfov(s,n),u=this.getZoomProgressFromFov(m,q,r),v=Math.tan(t/2),w=Math.tan(s/2),x=Math.sin(v)*u+v*(1-u),y=Math.cos(v)*u+1*(1-u),z=Math.sin(w)*u+w*(1-u),A=Math.cos(w)*u+1*(1-u),B=function B(G,H,I){var J=Math.sin(G),K=Math.cos(G);return m>q?0:c("radToDeg")(Math.atan2(J*I-K*H,J*H+K*I))},C=c("degToRad")(o.partialLeftDegrees||180),D=c("degToRad")(o.partialRightDegrees||180),E=c("degToRad")(o.partialTopDegrees||90),F=c("degToRad")(o.partialBottomDegrees||90);return this.normalizeLimits({partialLeftDegrees:B(C,x,y),partialRightDegrees:B(D,x,y),partialTopDegrees:B(E,z,A),partialBottomDegrees:B(F,z,A)})},projectVertex:function l(m,n,o,p){var q=m[0],r=m[1],s=o?Math.sin(q):Math.sin(q)*Math.cos(r),t=o?r:Math.sin(r),u=o?Math.cos(q):Math.cos(q)*Math.cos(r);s=p*s+(1-p)*q;t=p*t+(1-p)*r;u=p*u+(1-p)*1;var v=j.fromValues(s,t,u);j.transformMat4(v,v,n);return v},getSphericalFromVertex:function l(m){var n=m[0],o=m[1],p=m[2],q=Math.atan2(n,p),r=Math.atan2(o,Math.sqrt(n*n+p*p));return{yaw:q,pitch:r}},getRelativeHfov:function l(m,n,o){var p=this.getPartialLimits(m,n,o),q=o.partialLeftDegrees||180,r=o.partialRightDegrees||180,s=p.partialLeftDegrees||0,t=p.partialRightDegrees||0;return c("degToRad")(r-t+q-s)},getRelativeVfov:function l(m,n,o){var p=this.getPartialLimits(m,n,o),q=o.partialTopDegrees||90,r=o.partialBottomDegrees||90,s=p.partialTopDegrees||0,t=p.partialBottomDegrees||0;return c("degToRad")(q-s+r-t)},convert2dTo3d:function l(m,n,o,p,q,r){var s=p/q,t=p/2,u=q/2,v=(m-t)*(2/p),w=(n-u)*(2/q),x=c("degToRad")(o.fov),y=this.getHfov(x,s),z=this.getMinFullHfov(c("degToRad")(r.partialLeftDegrees||180),c("degToRad")(r.partialRightDegrees||180)),A=Math.tan(x/2),B=Math.tan(y/2),C=Math.tan(Math.min(y,z)/2),D=v*B,E=-w*A;if(D>C||D<-C)return null;var F=this.getZoomProgress(o.fov,r,s),G=i.create();i.rotateY(G,G,c("degToRad")(o.yaw));i.rotateX(G,G,-c("degToRad")(o.pitch));var H=this.projectVertex(j.fromValues(D,E,-1),G,false,F),I=this.getSphericalFromVertex(H),J=c("radToDeg")(I.yaw);return{yaw:J<0?360+J:J,pitch:c("radToDeg")(I.pitch)}},convert3dTo2d:function l(m,n,o,p,q,r){var s=c("degToRad")(m),t=c("degToRad")(n),u=c("degToRad")(o.fov),v=p/q,w=this.getHfov(u,v),x=this.getMinFullHfov(c("degToRad")(r.partialLeftDegrees||180),c("degToRad")(r.partialRightDegrees||180)),y=Math.tan(w/2),z=Math.tan(Math.min(w,x)/2),A=z/y,B=this.getMinFullVfov(c("degToRad")(r.partialTopDegrees||90),c("degToRad")(r.partialBottomDegrees||90)),C=Math.tan(u/2),D=Math.tan(Math.min(u,B)/2),E=D/C,F=this.getRelativeHfov(o.fov,v,r),G=this.getRelativeVfov(o.fov,v,r),H=i.create();i.rotateY(H,H,c("degToRad")(o.yaw));i.rotateX(H,H,-c("degToRad")(o.pitch));i.invert(H,H);var I=s+Math.PI,J=t+Math.PI/2,K=-Math.sin(J)*Math.sin(I),L=-Math.cos(J),M=-Math.sin(J)*Math.cos(I),N=j.fromValues(K,L,M);j.transformMat4(N,N,H);var O=Math.atan2(N[0],N[2]),P=Math.atan2(N[1],Math.sqrt(N[0]*N[0]+N[2]*N[2])),Q=.5+O*A/F,R=.5-P*E/G;return{x:Q*p,y:R*q}}};f.exports=k}),null);
__d("SphericalViewportControl",["cx","invariant","Bootloader","CSS","DOMQuery","Event","EventEmitter","Keys","Map","SphericalPhotoConfig","SubscriptionsHandler","UserAgent","VelocityTracker","SphericalPhotoProjectionUtils","gkx","debounce","getElementRect","performanceNow","requestAnimationFrame","throttle","uniqueID","degToRad","radToDeg","queryThenMutateDOM"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("DOMQuery").scry(window.document.body,"_li")[0]||window.document.body,m=navigator===undefined||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i),n=.6,o=2.5,p=20,q=110,r=179,s=.01,t=1e3,u=.5,v=["W","A","S","D"].reduce(function(y,z){y[z]=z.charCodeAt(0);return y},{}),w={Up:"__tu",Down:"__tz",Left:"_2a6u",Right:"_2a6v",UpLeft:"__t-",UpRight:"__u0",DownLeft:"__u1",DownRight:"__u3"};j=babelHelpers.inherits(x,c("EventEmitter"));k=j&&j.prototype;function x(y,z){__p&&__p();var A=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],B=arguments.length<=3||arguments[3]===undefined?false:arguments[3],C=arguments.length<=4||arguments[4]===undefined?l:arguments[4];"use strict";k.constructor.call(this);this.$SphericalViewportControl18=false;this.$SphericalViewportControl19=false;this.$SphericalViewportControl20=false;this.$SphericalViewportControl45=false;this.$SphericalViewportControl60=false;this.$SphericalViewportControl62={x:1,y:1};this.$SphericalViewportControl63=false;this.$SphericalViewportControl64=null;this.$SphericalViewportControl67=false;this.$SphericalViewportControl86=function(E){__p&&__p();if(this.$SphericalViewportControl65){if(E.shiftKey){var F=(E.deltaX||0)+(E.deltaY||0)+(E.deltaZ||0);this.emit("wheelScrollWithShiftKey",F);E.preventDefault()}return}E.deliberateSync=true;if(this.$SphericalViewportControl38)E.preventDefault();this.$SphericalViewportControl120(E);if(this.$SphericalViewportControl46)c("Event").kill(E)}.bind(this);this.$SphericalViewportControl120=c("throttle")(function(E){this.emit("wheelScroll",E);if(!this.$SphericalViewportControl46)return;var F=(E.deltaX||0)+(E.deltaY||0)+(E.deltaZ||0),G=F/120*45/10;this.$SphericalViewportControl95(G)}.bind(this),30);this.$SphericalViewportControl123=function(E){this.emit("panningWithShiftKey",this.$SphericalViewportControl107());if(this.$SphericalViewportControl67){this.$SphericalViewportControl64=c("requestAnimationFrame")(this.$SphericalViewportControl123);return}this.emit("updateViewportEnd",this.$SphericalViewportControl26.x,this.$SphericalViewportControl26.y);this.$SphericalViewportControl15=false;this.$SphericalViewportControl64=null}.bind(this);this.$SphericalViewportControl124=function(E){__p&&__p();var F=(E-this.$SphericalViewportControl57)/1e3;this.$SphericalViewportControl57=E;this.$SphericalViewportControl125();if(!this.$SphericalViewportControl58)c("queryThenMutateDOM")(this.$SphericalViewportControl87.bind(this),function(){return null});var G=this.$SphericalViewportControl107(),H=false;if(this.$SphericalViewportControl42&&this.$SphericalViewportControl52&&this.$SphericalViewportControl47&&!this.$SphericalViewportControl19&&!this.$SphericalViewportControl20){var I=this.$SphericalViewportControl126()*F;G.x+=I;var J=this.$SphericalViewportControl127()*F;G.y+=J;if(I||J)H=true}G.x+=this.$SphericalViewportControl8.getVelocityX()*F;G.y+=this.$SphericalViewportControl8.getVelocityY()*F;G.x+=this.$SphericalViewportControl9.getVelocityX()*F;G.y+=this.$SphericalViewportControl9.getVelocityY()*F;G.x*=this.$SphericalViewportControl62.x;G.y*=this.$SphericalViewportControl62.y;this.$SphericalViewportControl128(G.x,G.y);var K=this.$SphericalViewportControl8.getSpeed()>0||this.$SphericalViewportControl9.getSpeed()>0;if(this.$SphericalViewportControl19||this.$SphericalViewportControl18||this.$SphericalViewportControl20||this.$SphericalViewportControl55||this.$SphericalViewportControl45||K||H)this.$SphericalViewportControl64=c("requestAnimationFrame")(this.$SphericalViewportControl124);else{this.$SphericalViewportControl15=false;this.$SphericalViewportControl64=null;var L={yaw:this.$SphericalViewportControl26.x,pitch:this.$SphericalViewportControl26.y},M=this.getCurrentViewport();this.$SphericalViewportControl4.pitch+=L.pitch-M.pitch;this.$SphericalViewportControl4.yaw-=L.yaw-M.yaw;this.emit("updateViewportEnd",this.$SphericalViewportControl26.x,this.$SphericalViewportControl26.y)}}.bind(this);this.$SphericalViewportControl4={pitch:0,yaw:0};this.$SphericalViewportControl5=z.dragVelocityFactor||n;this.$SphericalViewportControl3=false;this.$SphericalViewportControl8=new(c("VelocityTracker"))(300);this.$SphericalViewportControl9=new(c("VelocityTracker"))(300);this.$SphericalViewportControl13=new(c("SubscriptionsHandler"))();this.$SphericalViewportControl32=y;this.$SphericalViewportControl10=C;this.$SphericalViewportControl51=p;this.$SphericalViewportControl61=B;this.$SphericalViewportControl68(z);this.$SphericalViewportControl21={x:0,y:0};this.$SphericalViewportControl57=0;this.$SphericalViewportControl17={left:0,right:0,up:0,down:0};this.$SphericalViewportControl23={x:0,y:0};this.$SphericalViewportControl24={x:0,y:0};this.$SphericalViewportControl25=new(c("VelocityTracker"))();this.$SphericalViewportControl30=new(c("Map"))();this.$SphericalViewportControl38=false;this.$SphericalViewportControl22=false;this.$SphericalViewportControl27=false;this.$SphericalViewportControl43=A.enableGyro||false;this.$SphericalViewportControl44=A.slipFactor||0;this.$SphericalViewportControl47=A.springFactor||0;this.$SphericalViewportControl48=A.maxSpringDegrees||15;this.$SphericalViewportControl49=A.maxStretchXDegrees||20;this.$SphericalViewportControl50=A.maxStretchYDegrees||20;this.$SphericalViewportControl53=A.rubberBandConstant||0;this.$SphericalViewportControl52=A.enableRubberBanding||false;this.$SphericalViewportControl65=A.enableZoomWithShiftKey||false;this.$SphericalViewportControl66=A.enablePanningWithShiftKey||false;this.$SphericalViewportControl55=false;this.$SphericalViewportControl56=0;this.$SphericalViewportControl54=c("debounce")(function(){return this.emit("zoomStart")}.bind(this),t);this.$SphericalViewportControl37=this.$SphericalViewportControl69();this.$SphericalViewportControl58=A.disableAutoClientSizeUpdate||false;this.$SphericalViewportControl59=[];this.$SphericalViewportControl31=this.addNewLayer(this.$SphericalViewportControl32);var D=c("gkx")("AT6wort62ftT8nJ8tjXEnN_v1U7sMjgy49hKFdpNSQKKjigxquMojqnjaxkK4KUOQBxZ1-sDcK46ktB7tNKfJQMq");if(m&&D)c("Bootloader").loadModules(["FullTilt"],function(E){E.getDeviceOrientation({type:"game"}).then(function(F){return this.$SphericalViewportControl70(F,z)}.bind(this))["catch"](function(F){return this.$SphericalViewportControl71(F)}.bind(this))}.bind(this),"SphericalViewportControl")}x.prototype.$SphericalViewportControl70=function(y,z){"use strict";__p&&__p();if(z.partialLimits){var A=z.partialLimits,B=this.getVerticalFieldOfView(),C=this.getHorizontalFieldOfView();this.$SphericalViewportControl6={top:(A.partialTopDegrees||Infinity)-B/2,bottom:-(A.partialBottomDegrees||Infinity)+B/2,left:-(A.partialLeftDegrees||Infinity)+C/2,right:(A.partialRightDegrees||Infinity)-C/2}}c("Bootloader").loadModules(["MSphericalViewportControlEuler"],function(D){this.$SphericalViewportControl2=new D(y,z,this.$SphericalViewportControl6);this.$SphericalViewportControl2.setActive(true);this.$SphericalViewportControl1=y;this.$SphericalViewportControl1.start(function(){return this.$SphericalViewportControl72()}.bind(this));this.$SphericalViewportControl3=true}.bind(this),"SphericalViewportControl")};x.prototype.$SphericalViewportControl72=function(){"use strict";var y={yaw:c("degToRad")(this.$SphericalViewportControl4.yaw-this.$SphericalViewportControl28.x),pitch:c("degToRad")(this.$SphericalViewportControl4.pitch+this.$SphericalViewportControl28.y)};this.$SphericalViewportControl2.onSensorUpdate();this.$SphericalViewportControl2.getRotationMatrix(y);var z=this.getCurrentViewport();if(!this.$SphericalViewportControl15)this.emit("viewportChange",z.yaw,z.pitch,this.$SphericalViewportControl11)};x.prototype.getCurrentViewport=function(){"use strict";var y={yaw:c("degToRad")(this.$SphericalViewportControl4.yaw-this.$SphericalViewportControl28.x),pitch:c("degToRad")(this.$SphericalViewportControl4.pitch+this.$SphericalViewportControl28.y)};if(!this.$SphericalViewportControl3)return{pitch:c("radToDeg")(y.pitch),yaw:c("radToDeg")(y.yaw)};return this.$SphericalViewportControl2.getCurrentViewport(y)||{pitch:c("radToDeg")(y.pitch),yaw:c("radToDeg")(y.yaw)}};x.prototype.$SphericalViewportControl71=function(y){"use strict";this.emit("sensorSetupError",{error:"SPHERICAL_GYROSCOPE_SETUP_FAILED",message:y})};x.prototype.isListening=function(y){"use strict";return Boolean(this.getSubscriptionKeyFromElement(y))};x.prototype.getSubscriptionKeyFromElement=function(y){"use strict";__p&&__p();for(var z=this.$SphericalViewportControl30,A=Array.isArray(z),B=0,z=A?z:z[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var C;if(A){if(B>=z.length)break;C=z[B++]}else{B=z.next();if(B.done)break;C=B.value}var D=C,E=D[0],F=D[1];if(F.element===y)return E}return null};x.prototype.addNewLayer=function(y){"use strict";var z=this.getSubscriptionKeyFromElement(y);if(!z){z=c("uniqueID")();var A=new(c("SubscriptionsHandler"))();this.$SphericalViewportControl73(A,y);this.$SphericalViewportControl30.set(z,{handler:A,element:y})}return z};x.prototype.removeLayer=function(y){"use strict";var z=this.$SphericalViewportControl30.get(y);if(z){z.handler.release();this.$SphericalViewportControl30["delete"](y)}};x.prototype.destroy=function(){"use strict";this.removeAllListeners();this.getSubscriptions().remove()};x.prototype.$SphericalViewportControl73=function(y,z){"use strict";__p&&__p();y.addSubscriptions(c("Event").listen(z,"mousedown",function(A){return this.$SphericalViewportControl74(A)}.bind(this)),c("Event").listen(z,"mouseenter",function(A){return this.$SphericalViewportControl75(A,z)}.bind(this)),c("Event").listen(z,"mouseleave",function(A){return this.$SphericalViewportControl76(A,z)}.bind(this)),c("Event").listen(z,"mousemove",function(A){return this.$SphericalViewportControl77(A)}.bind(this)),c("Event").listen(z,"mouseup",function(A){return this.$SphericalViewportControl78(A)}.bind(this)),c("Event").listen(z,"click",function(A){return this.$SphericalViewportControl79(A)}.bind(this)),c("Event").listen(z,"keydown",function(A){return this.$SphericalViewportControl80(A)}.bind(this)),c("Event").listen(z,"keyup",function(A){return this.$SphericalViewportControl81(A)}.bind(this)),c("Event").listen(z,"blur",function(A){return this.$SphericalViewportControl82(A)}.bind(this)),c("Event").listen(z,"touchstart",function(A){return this.$SphericalViewportControl83(A)}.bind(this)),c("Event").listen(z,"touchmove",function(A){return this.$SphericalViewportControl84(A)}.bind(this)),c("Event").listen(z,"touchend",function(A){return this.$SphericalViewportControl85(A)}.bind(this)),c("Event").listen(z,"touchcancel",function(A){return this.$SphericalViewportControl85(A)}.bind(this)),{remove:function(){z.removeEventListener("wheel",this.$SphericalViewportControl86)}.bind(this)})};x.prototype.$SphericalViewportControl68=function(y){"use strict";__p&&__p();this.$SphericalViewportControl87();this.$SphericalViewportControl7=this.$SphericalViewportControl34/this.$SphericalViewportControl35;var z=y.fieldOfView;this.$SphericalViewportControl46=Boolean(y.enableZoom);this.$SphericalViewportControl29=(y.panningVelocityFactor||0)/15*80||80;this.$SphericalViewportControl16=(y.keyboardVelocityFactor||0)*1e3||80;if(y.partialLimits){this.$SphericalViewportControl39=y.partialLimits;this.$SphericalViewportControl42=true}else{this.$SphericalViewportControl42=false;this.$SphericalViewportControl39={partialLeftDegrees:null,partialRightDegrees:null,partialTopDegrees:null,partialBottomDegrees:null}}this.$SphericalViewportControl40=this.$SphericalViewportControl39;this.$SphericalViewportControl41=1;if(this.$SphericalViewportControl61)this.$SphericalViewportControl42=true;this.$SphericalViewportControl28={x:y.initialHeading,y:y.initialPitch};var A=this.$SphericalViewportControl39,B=A.partialTopDegrees,C=A.partialBottomDegrees;if(!this.$SphericalViewportControl61&&(B||B===0)&&(C||C===0)){var D=B,E=C,F=D+E;if(z>F){z=F;this.$SphericalViewportControl28.y=(D-E)/2}}this.$SphericalViewportControl11=this.$SphericalViewportControl88(z);this.$SphericalViewportControl12=this.$SphericalViewportControl11;this.$SphericalViewportControl89();this.$SphericalViewportControl26={x:this.$SphericalViewportControl28.x,y:this.$SphericalViewportControl28.y}};x.prototype.reconfigure=function(y){"use strict";this.$SphericalViewportControl68(y)};x.prototype.setEnableGyro=function(y){"use strict";this.$SphericalViewportControl43=y};x.prototype.$SphericalViewportControl74=function(y){"use strict";if(this.$SphericalViewportControl63)this.$SphericalViewportControl90();if(this.isListening(y.target)){this.$SphericalViewportControl19=true;this.$SphericalViewportControl91(y)}};x.prototype.$SphericalViewportControl83=function(y){"use strict";__p&&__p();this.$SphericalViewportControl60=false;if(this.$SphericalViewportControl63)this.$SphericalViewportControl90();if(this.$SphericalViewportControl20){this.$SphericalViewportControl92(y);this.$SphericalViewportControl20=false}else this.$SphericalViewportControl20=true;this.$SphericalViewportControl91(y)};x.prototype.$SphericalViewportControl92=function(y){"use strict";if(y.touches.length===2&&this.$SphericalViewportControl46){this.$SphericalViewportControl55=true;this.$SphericalViewportControl56=this.$SphericalViewportControl93(y)}};x.prototype.$SphericalViewportControl84=function(y){"use strict";this.$SphericalViewportControl60=true;if(this.$SphericalViewportControl55){this.$SphericalViewportControl94(y);if(this.$SphericalViewportControl46)c("Event").kill(y)}};x.prototype.$SphericalViewportControl94=function(y){"use strict";var z=this.$SphericalViewportControl93(y),A=this.$SphericalViewportControl11*(this.$SphericalViewportControl56/z),B=A-this.$SphericalViewportControl11;this.$SphericalViewportControl95(B);this.$SphericalViewportControl56=z};x.prototype.$SphericalViewportControl93=function(y){"use strict";var z=y.touches[0].pageX-y.touches[1].pageX,A=y.touches[0].pageY-y.touches[1].pageY;return Math.sqrt(Math.pow(z,2)+Math.pow(A,2))};x.prototype.$SphericalViewportControl85=function(y){"use strict";if(!this.$SphericalViewportControl60&&c("SphericalPhotoConfig").is_www_tap_to_click_on){y.target.focus(y);this.$SphericalViewportControl79(y)}if(this.$SphericalViewportControl55)this.$SphericalViewportControl55=false;else if(this.$SphericalViewportControl20)this.$SphericalViewportControl96(y)};x.prototype.$SphericalViewportControl91=function(y){"use strict";__p&&__p();this.emit("onMovementStart");this.$SphericalViewportControl97();this.$SphericalViewportControl98(y);this.$SphericalViewportControl99(y);if(this.$SphericalViewportControl66&&y.shiftKey&&(y.which===3||y.button===2)){this.$SphericalViewportControl67=true;this.$SphericalViewportControl15=false}this.$SphericalViewportControl100();y.preventDefault()};x.prototype.$SphericalViewportControl96=function(y){"use strict";if(this.$SphericalViewportControl45&&!this.$SphericalViewportControl19){this.$SphericalViewportControl101();this.$SphericalViewportControl45=false}};x.prototype.$SphericalViewportControl102=function(y){"use strict";if(this.$SphericalViewportControl63)this.$SphericalViewportControl90()};x.prototype.$SphericalViewportControl103=function(y){"use strict";this.$SphericalViewportControl99(y);this.$SphericalViewportControl14=true;this.emit("updateViewportMove")};x.prototype.$SphericalViewportControl104=function(y){"use strict";if(this.$SphericalViewportControl45){this.$SphericalViewportControl105(y);this.emit("updateViewportMove")}};x.prototype.$SphericalViewportControl97=function(){"use strict";this.$SphericalViewportControl15=false;this.$SphericalViewportControl45=false;this.$SphericalViewportControl43=false};x.prototype.$SphericalViewportControl106=function(y){"use strict";this.$SphericalViewportControl99(y);this.$SphericalViewportControl107();this.$SphericalViewportControl90();this.$SphericalViewportControl101();y.preventDefault()};x.prototype.$SphericalViewportControl90=function(y){"use strict";__p&&__p();this.$SphericalViewportControl63=false;c("queryThenMutateDOM")(function(){},function(){return this.$SphericalViewportControl32.style.cursor=""}.bind(this));this.$SphericalViewportControl20=false;this.$SphericalViewportControl19=false;this.$SphericalViewportControl67=false;this.$SphericalViewportControl13.release();if(this.$SphericalViewportControl36){c("CSS").removeClass(this.$SphericalViewportControl10,this.$SphericalViewportControl36);this.$SphericalViewportControl36=""}};x.prototype.$SphericalViewportControl108=function(y){"use strict";if(this.$SphericalViewportControl20&&y.changedTouches)return y.changedTouches[0];else if(this.$SphericalViewportControl19)return y;else if(this.$SphericalViewportControl45)return y;return null};x.prototype.setMovementPosition=function(y){"use strict";this.$SphericalViewportControl23=this.$SphericalViewportControl109(y)};x.prototype.$SphericalViewportControl109=function(y){"use strict";var z=this.$SphericalViewportControl108(y);if(!z)return this.$SphericalViewportControl23;return{x:z.screenX,y:z.screenY}};x.prototype.$SphericalViewportControl110=function(y){"use strict";var z=this.$SphericalViewportControl108(y);if(!z)return this.$SphericalViewportControl24;return{x:z.clientX,y:z.clientY}};x.prototype.$SphericalViewportControl98=function(y){"use strict";__p&&__p();this.$SphericalViewportControl63=true;this.$SphericalViewportControl23=this.$SphericalViewportControl109(y);this.$SphericalViewportControl21={x:0,y:0};this.$SphericalViewportControl25=new(c("VelocityTracker"))();this.$SphericalViewportControl9=new(c("VelocityTracker"))(300);c("queryThenMutateDOM")(function(){},function(){return this.$SphericalViewportControl32.style.cursor=this.$SphericalViewportControl37}.bind(this));this.$SphericalViewportControl13.engage();var z=this.$SphericalViewportControl10;if(this.$SphericalViewportControl20)this.$SphericalViewportControl13.addSubscriptions(c("Event").listen(z,"touchmove",function(y){return this.$SphericalViewportControl103(y)}.bind(this)),c("Event").listen(z,"touchend",function(y){return this.$SphericalViewportControl106(y)}.bind(this)),c("Event").listen(z,"touchcancel",function(y){return this.$SphericalViewportControl102(y)}.bind(this)));else this.$SphericalViewportControl13.addSubscriptions(c("Event").listen(z,"mousemove",function(y){return this.$SphericalViewportControl103(y)}.bind(this)),c("Event").listen(z,"mouseup",function(y){return this.$SphericalViewportControl106(y)}.bind(this)),c("Event").listen(z,"mouseleave",function(y){return this.$SphericalViewportControl102(y)}.bind(this)))};x.prototype.$SphericalViewportControl105=function(y){"use strict";this.$SphericalViewportControl111(y,this.$SphericalViewportControl44)};x.prototype.$SphericalViewportControl99=function(y){"use strict";this.$SphericalViewportControl111(y,1)};x.prototype.reEnableGyro=function(){"use strict";this.$SphericalViewportControl21={x:0,y:0};this.$SphericalViewportControl43=true;this.$SphericalViewportControl45=true;this.$SphericalViewportControl90()};x.prototype.$SphericalViewportControl111=function(y,z){"use strict";var A=this.$SphericalViewportControl109(y),B=A.x-this.$SphericalViewportControl23.x,C=A.y-this.$SphericalViewportControl23.y,D=this.$SphericalViewportControl22?{x:0,y:0}:this.$SphericalViewportControl21;this.$SphericalViewportControl21={x:z*(A.x-this.$SphericalViewportControl23.x)+D.x,y:z*(A.y-this.$SphericalViewportControl23.y)+D.y};this.$SphericalViewportControl4.yaw+=B*this.$SphericalViewportControl5;this.$SphericalViewportControl4.pitch+=C*this.$SphericalViewportControl5;this.$SphericalViewportControl22=false;this.$SphericalViewportControl23=A;this.$SphericalViewportControl25.update(A.x,A.y);this.$SphericalViewportControl24=this.$SphericalViewportControl110(y)};x.prototype.$SphericalViewportControl112=function(){"use strict";var y=this.$SphericalViewportControl113(),z=-this.$SphericalViewportControl25.getVelocityX()*y,A=this.$SphericalViewportControl25.getVelocityY()*y,B=this.$SphericalViewportControl45?this.$SphericalViewportControl44:1;if(this.$SphericalViewportControl114())z=-z;return{x:z*B,y:A*B}};x.prototype.$SphericalViewportControl115=function(y,z){"use strict";return c("radToDeg")(Math.atan(y/z))};x.prototype.$SphericalViewportControl116=function(y,z,A){"use strict";return{x:this.$SphericalViewportControl115(y.x-this.$SphericalViewportControl34/2,A),y:-this.$SphericalViewportControl115(y.y-this.$SphericalViewportControl35/2,z)}};x.prototype.$SphericalViewportControl117=function(y,z){"use strict";__p&&__p();var A={x:y.x-z.x,y:y.y-z.y},B=this.$SphericalViewportControl35/(2*Math.tan(c("degToRad")(this.getVerticalFieldOfView()/2))),C=B*Math.cos(c("degToRad")(this.$SphericalViewportControl26.y)),D=C-(this.$SphericalViewportControl35/2-y.y)*Math.sin(c("degToRad")(this.$SphericalViewportControl26.y));if(this.$SphericalViewportControl26.y==-90&&z.y<0||this.$SphericalViewportControl26.y==90&&z.y>0){var E=this.$SphericalViewportControl115(A.y-this.$SphericalViewportControl35/2,A.x-this.$SphericalViewportControl34/2),F=this.$SphericalViewportControl115(y.y-this.$SphericalViewportControl35/2,y.x-this.$SphericalViewportControl34/2),G=F-E;if(G>90)G=180-G;else if(G<-90)G=180+G;return{x:G*Math.sign(this.$SphericalViewportControl26.y),y:0}}else{var H=this.$SphericalViewportControl116(A,B,D),I=this.$SphericalViewportControl116(y,B,D);return{x:H.x-I.x,y:H.y-I.y}}};x.prototype.$SphericalViewportControl114=function(){"use strict";var y=this.$SphericalViewportControl33?this.$SphericalViewportControl33.top:c("getElementRect")(this.$SphericalViewportControl32).top,z=this.$SphericalViewportControl24.y-y,A=this.$SphericalViewportControl35/(2*Math.tan(c("degToRad")(this.getVerticalFieldOfView()/2))),B=-A/Math.tan(c("degToRad")(this.$SphericalViewportControl26.y))+this.$SphericalViewportControl35/2,C=z>B&&this.$SphericalViewportControl26.y<0||z<B&&this.$SphericalViewportControl26.y>0;return C};x.prototype.$SphericalViewportControl107=function(){"use strict";__p&&__p();if(this.$SphericalViewportControl67){var y={x:0,y:0};if(!this.$SphericalViewportControl22){this.$SphericalViewportControl22=true;y.x=this.$SphericalViewportControl21.x/this.$SphericalViewportControl34;y.y=this.$SphericalViewportControl21.y/this.$SphericalViewportControl35}return y}var z={x:0,y:0};if(!this.$SphericalViewportControl22){this.$SphericalViewportControl22=true;var A=this.$SphericalViewportControl33,B=this.$SphericalViewportControl24.x<A.left,C=this.$SphericalViewportControl24.x>A.right,D=this.$SphericalViewportControl24.y<A.top,E=this.$SphericalViewportControl24.y>A.bottom;this.$SphericalViewportControl118(B,C,D,E);var F={x:this.$SphericalViewportControl24.x-A.left,y:this.$SphericalViewportControl24.y-A.top};if(!B&&!C)z.x=this.$SphericalViewportControl117(F,this.$SphericalViewportControl21).x;else z.x=-this.$SphericalViewportControl21.x*this.$SphericalViewportControl113()*u;if(!D&&!E)z.y=this.$SphericalViewportControl117(F,this.$SphericalViewportControl21).y;else z.y=this.$SphericalViewportControl21.y*this.$SphericalViewportControl113()*u}this.$SphericalViewportControl9.updateVelocity(0,0);return this.$SphericalViewportControl119(z)};x.prototype.$SphericalViewportControl119=function(y){"use strict";__p&&__p();if(!this.$SphericalViewportControl52||!this.$SphericalViewportControl42)return y;var z=this.$SphericalViewportControl26,A=z.x,B=z.y,C=this.$SphericalViewportControl40,D=C.partialLeftDegrees,E=C.partialRightDegrees,F=C.partialTopDegrees,G=C.partialBottomDegrees,H=y.x,I=y.y,J=A+H,K=B+I,L=true,M=true,N=true,O=true;if(this.$SphericalViewportControl61){var P=this.$SphericalViewportControl39.partialLeftDegrees,Q=this.$SphericalViewportControl39.partialRightDegrees,R=this.$SphericalViewportControl41===0;if(J<180&&H<0||J>180&&H>0)J=A-H;if((P!=null||!R)&&D!=null)L=D<0?(J<180?J+360:J)>360-D:J>360-D;if((Q!=null||!R)&&E!=null)M=E<0?(J<180?J+360:J)<360+E:(J>180?360-J:J)<E;N=F!=null?K<F:true;O=G!=null?K>-G:true}else{var S=this.getVerticalFieldOfView(),T=this.getHorizontalFieldOfView(),U=J<180?J+360:J,V=J>180?J-360:J;L=D!=null?U>360-D+T/2:true;M=E!=null?V<E-T/2:true;N=F!=null?K<F-S/2:true;O=G!=null?K>-G+S/2:true}if(!L&&!M)H*=this.$SphericalViewportControl53;if(!N||!O)I*=this.$SphericalViewportControl53;return{x:H,y:I}};x.prototype.$SphericalViewportControl75=function(y,z){"use strict";__p&&__p();z.addEventListener("wheel",this.$SphericalViewportControl86);this.emit("mouseEnter");if(this.$SphericalViewportControl19)this.$SphericalViewportControl9=new(c("VelocityTracker"))(300);else if(this.$SphericalViewportControl43&&this.$SphericalViewportControl44){this.$SphericalViewportControl9=new(c("VelocityTracker"))(300);this.$SphericalViewportControl45=true;this.$SphericalViewportControl23=this.$SphericalViewportControl109(y);this.$SphericalViewportControl21={x:0,y:0};this.$SphericalViewportControl100()}};x.prototype.$SphericalViewportControl76=function(y,z){"use strict";z.removeEventListener("wheel",this.$SphericalViewportControl86);this.emit("mouseLeave",y);this.$SphericalViewportControl96(y)};x.prototype.$SphericalViewportControl77=function(y){"use strict";this.emit("mouseMove",y);if(this.$SphericalViewportControl43)this.$SphericalViewportControl104(y)};x.prototype.$SphericalViewportControl78=function(y){"use strict";this.emit("mouseUp",y)};x.prototype.$SphericalViewportControl79=function(y){"use strict";if(this.isListening(y.target)){y.target.focus();if(!this.$SphericalViewportControl14)this.emit("DOM/click",y);this.$SphericalViewportControl14=false}return false};x.prototype.$SphericalViewportControl95=function(y){"use strict";var z=this.setFieldOfView(this.$SphericalViewportControl11+y);if(z)this.$SphericalViewportControl54()};x.prototype.disableKeyboard=function(){"use strict";this.$SphericalViewportControl27=true};x.prototype.enableKeyboard=function(){"use strict";this.$SphericalViewportControl27=false};x.prototype.$SphericalViewportControl80=function(y){"use strict";__p&&__p();var z=this.$SphericalViewportControl121(y);if(z&&!this.$SphericalViewportControl27){this.$SphericalViewportControl17[z]=1;if(!this.$SphericalViewportControl18){this.$SphericalViewportControl18=true;this.$SphericalViewportControl97();this.$SphericalViewportControl100();this.emit("updateViewportMove")}return false}return true};x.prototype.$SphericalViewportControl81=function(y){"use strict";__p&&__p();var z=this.$SphericalViewportControl121(y);if(z&&!this.$SphericalViewportControl27){this.$SphericalViewportControl17[z]=0;var A=false;for(var B in this.$SphericalViewportControl17)if(Object.prototype.hasOwnProperty.call(this.$SphericalViewportControl17,B)&&this.$SphericalViewportControl17[B]>0){A=true;break}this.$SphericalViewportControl18=A;return false}return true};x.prototype.$SphericalViewportControl101=function(){"use strict";var y=this.$SphericalViewportControl112();this.$SphericalViewportControl9=new(c("VelocityTracker"))(300,y)};x.prototype.$SphericalViewportControl100=function(){__p&&__p();var y,z=this;"use strict";if(!this.$SphericalViewportControl15){var y=function(){__p&&__p();if(z.$SphericalViewportControl58)z.$SphericalViewportControl122();z.$SphericalViewportControl15=true;z.$SphericalViewportControl8.updateVelocity(0,0);z.emit("updateViewportBegin",z.$SphericalViewportControl26.x,z.$SphericalViewportControl26.y);var A=z.once("updateViewportMove",function(){return this.emit("updateViewportMoveStart",this.$SphericalViewportControl45)}.bind(z));z.once("updateViewportEnd",function(){return A.remove()});z.$SphericalViewportControl57=c("performanceNow")();if(z.$SphericalViewportControl67){if(z.$SphericalViewportControl64)cancelAnimationFrame(z.$SphericalViewportControl64);z.$SphericalViewportControl64=c("requestAnimationFrame")(z.$SphericalViewportControl123);return{v:void 0}}if(!z.$SphericalViewportControl64)z.$SphericalViewportControl64=c("requestAnimationFrame")(z.$SphericalViewportControl124)}();if(typeof y==="object")return y.v}};x.prototype.$SphericalViewportControl122=function(){"use strict";this.$SphericalViewportControl33=c("getElementRect")(this.$SphericalViewportControl32)};x.prototype.updateViewportClientSize=function(y){"use strict";this.$SphericalViewportControl34=y.width;this.$SphericalViewportControl35=y.height};x.prototype.updateMinVFOV=function(y){"use strict";this.$SphericalViewportControl51=Math.max(o,Math.min(p,y))};x.prototype.$SphericalViewportControl87=function(){"use strict";this.$SphericalViewportControl33=c("getElementRect")(this.$SphericalViewportControl32);this.$SphericalViewportControl34=this.$SphericalViewportControl32.clientWidth||1;this.$SphericalViewportControl35=this.$SphericalViewportControl32.clientHeight||1};x.prototype.setAngularVelocityScaleFactor=function(y){"use strict";this.$SphericalViewportControl62=y};x.prototype.$SphericalViewportControl126=function(){"use strict";__p&&__p();var y=180,z=0,A=this.$SphericalViewportControl40,B=A.partialLeftDegrees,C=A.partialRightDegrees;if(B!=null&&C!=null)y=(C-B)/2+180;if(this.$SphericalViewportControl61){var D=this.$SphericalViewportControl39.partialLeftDegrees,E=this.$SphericalViewportControl39.partialRightDegrees,F=this.$SphericalViewportControl41===0;if((D!=null||!F)&&B!=null){var G=B<0&&this.$SphericalViewportControl26.x<180?this.$SphericalViewportControl26.x+360:this.$SphericalViewportControl26.x;if(G>y){var H=360-B-G;if(H>0)z=Math.min(H,this.$SphericalViewportControl48)*this.$SphericalViewportControl47}}if((E!=null||!F)&&C!=null){var I=C<0&&this.$SphericalViewportControl26.x>180?this.$SphericalViewportControl26.x-360:this.$SphericalViewportControl26.x;if(I<y){var J=C-I;if(J<0)z=Math.max(J,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47}}}else{var K=this.getHorizontalFieldOfView(),L=this.$SphericalViewportControl26.x<180?this.$SphericalViewportControl26.x+360:this.$SphericalViewportControl26.x,M=this.$SphericalViewportControl26.x>180?this.$SphericalViewportControl26.x-360:this.$SphericalViewportControl26.x;if(B!=null&&C!=null&&B+C<K){var N=(C-B)/2-M;if(N>0)z=Math.min(N,this.$SphericalViewportControl48)*this.$SphericalViewportControl47;else if(N<0)z=Math.max(N,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47;return Math.abs(z)<s?0:z}if(B!=null&&L>=y){var O=360-B+K/2-L;if(O>0)z=Math.min(O,this.$SphericalViewportControl48)*this.$SphericalViewportControl47}if(C!=null&&M<=y){var P=C-K/2-M;if(P<0)z=Math.max(P,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47}}return Math.abs(z)<s?0:z};x.prototype.$SphericalViewportControl127=function(){"use strict";__p&&__p();var y=0,z=0,A=this.$SphericalViewportControl40,B=A.partialTopDegrees,C=A.partialBottomDegrees;if(this.$SphericalViewportControl61){if(C!=null&&B!=null){if(C<0&&B<-C||B<0&&-B>C)return 0;z=(B-C)/2}if(B!=null&&this.$SphericalViewportControl26.y>z){var D=B-this.$SphericalViewportControl26.y;if(D<0)y=Math.max(D,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47}if(C!=null&&this.$SphericalViewportControl26.y<z){var E=-C-this.$SphericalViewportControl26.y;if(E>0)y=Math.min(E,this.$SphericalViewportControl48)*this.$SphericalViewportControl47}}else{var F=this.getVerticalFieldOfView();if(C!=null&&B!=null&&C+B<F){var G=(B-C)/2-this.$SphericalViewportControl26.y;if(G>0)y=Math.min(G,this.$SphericalViewportControl48)*this.$SphericalViewportControl47;else if(G<0)y=Math.max(G,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47;return Math.abs(y)<s?0:y}if(B!=null){var H=B-F/2-this.$SphericalViewportControl26.y;if(H<0)y=Math.max(H,-this.$SphericalViewportControl48)*this.$SphericalViewportControl47}if(C!=null){var I=-C+F/2-this.$SphericalViewportControl26.y;if(I>0)y=Math.min(I,this.$SphericalViewportControl48)*this.$SphericalViewportControl47}}return Math.abs(y)<s?0:y};x.prototype.$SphericalViewportControl118=function(y,z,A,B){"use strict";__p&&__p();var C="";if(y||z||A||B){var D=y?"Left":z?"Right":"",E=A?"Up":B?"Down":"";C=w[E+D]}if(this.$SphericalViewportControl36!=C){if(this.$SphericalViewportControl36){c("CSS").removeClass(this.$SphericalViewportControl10,this.$SphericalViewportControl36);this.$SphericalViewportControl36=""}if(C){this.$SphericalViewportControl36=C;c("CSS").addClass(this.$SphericalViewportControl10,C)}}};x.prototype.getSubscriptions=function(){"use strict";return{remove:function(){this.$SphericalViewportControl30.forEach(function(y){var z=y.handler;return z.release()});this.$SphericalViewportControl30.clear();this.$SphericalViewportControl13.release()}.bind(this)}};x.prototype.$SphericalViewportControl82=function(y){"use strict";for(var z in this.$SphericalViewportControl17)this.$SphericalViewportControl17[z]=0;this.$SphericalViewportControl18=false};x.prototype.getOrientation=function(){"use strict";return this.$SphericalViewportControl26};x.prototype.$SphericalViewportControl89=function(y){"use strict";if(this.$SphericalViewportControl61){var z=y!=null?y:this.getVerticalFieldOfView(),A=this.getAspectRatio();this.$SphericalViewportControl40=c("SphericalPhotoProjectionUtils").getPartialLimits(z,A,this.$SphericalViewportControl39);this.$SphericalViewportControl41=c("SphericalPhotoProjectionUtils").getZoomProgress(z,this.$SphericalViewportControl39,A)}};x.prototype.$SphericalViewportControl129=function(y,z){"use strict";__p&&__p();var A=(y+360)%360,B=Math.max(-90,Math.min(90,z));if(!this.$SphericalViewportControl42)return{x:A,y:B};var C=this.$SphericalViewportControl39.partialLeftDegrees,D=this.$SphericalViewportControl39.partialRightDegrees,E=this.$SphericalViewportControl41===0,F=this.$SphericalViewportControl40.partialLeftDegrees,G=this.$SphericalViewportControl40.partialRightDegrees,H=this.$SphericalViewportControl40.partialTopDegrees,I=this.$SphericalViewportControl40.partialBottomDegrees,J=this.getVerticalFieldOfView(),K=this.getHorizontalFieldOfView(),L=0,M=0;if(this.$SphericalViewportControl61){if(this.$SphericalViewportControl52){if(F!=null&&G!=null)L=Math.min(Math.abs((F+G)/2),this.$SphericalViewportControl49);if(H!=null&&I!=null&&H>=-I)M=Math.min(Math.abs((H+I)/2),this.$SphericalViewportControl50)}if((C!=null||!E)&&F!=null)if(F<0)A=Math.max(A>180?A:A+360,360-F-L)%360;else if(A>180)A=Math.max(A,360-F-L);if((D!=null||!E)&&G!=null)if(G<0)A=Math.min(A<180?A+360:A,360+G+L)%360;else if(A<180)A=Math.min(A,G+L);if(H!=null)if(I!=null&&H<0&&-H>I)B=Math.min(B,-I);else B=Math.min(B,H+M);if(I!=null)if(H!=null&&I<0&&H<-I)B=Math.max(B,H);else B=Math.max(B,-I-M)}else{if(this.$SphericalViewportControl52){L=this.$SphericalViewportControl49;M=this.$SphericalViewportControl50}if(F!=null&&G!=null&&F+G<K){var N=(G-F)/2,O=A>180?A-360:A;if(O<N)A=Math.max(O,N-L);else A=Math.min(O,N+L)}else{if(F!=null)A=A<=180?A:Math.max(A,360-F+K/2-L);if(G!=null)A=A>=180?A:Math.min(A,G-K/2+L)}if(H!=null&&I!=null&&H+I<J){var P=(H-I)/2;if(B<P)B=Math.max(B,P-M);else B=Math.min(B,P+M)}else{if(H!=null)B=Math.min(B,H-J/2+M);if(I!=null)B=Math.max(B,-I+J/2-M)}}return{x:A,y:B}};x.prototype.setInitialOrientation=function(){"use strict";var y=this.$SphericalViewportControl129(0,0),z=y.x,A=y.y,B=!Number.isNaN(z+A)&&(z!==this.$SphericalViewportControl26.x||A!==this.$SphericalViewportControl26.y);if(B){this.$SphericalViewportControl26={x:z,y:A};this.emit("initialViewportChange",z,A);this.emit("viewportChange",z,A,this.$SphericalViewportControl11)}};x.prototype.setSphericalOrientation=function(y,z){"use strict";__p&&__p();if(y===null)y=this.$SphericalViewportControl26.x;if(z===null)z=this.$SphericalViewportControl26.y;typeof y==="number"&&typeof z==="number"||i(0);var A=this.$SphericalViewportControl129(y,z),B=A.x,C=A.y,D=!Number.isNaN(B+C)&&(B!==this.$SphericalViewportControl26.x||C!==this.$SphericalViewportControl26.y);if(D){this.$SphericalViewportControl26={x:B,y:C};this.emit("viewportChange",B,C,this.$SphericalViewportControl11)}};x.prototype.setRelativeSphericalOrientation=function(y,z){"use strict";this.setSphericalOrientation(y+this.$SphericalViewportControl28.x,z+this.$SphericalViewportControl28.y)};x.prototype.$SphericalViewportControl128=function(y,z){"use strict";this.setSphericalOrientation(this.$SphericalViewportControl26.x+y,this.$SphericalViewportControl26.y+z)};x.prototype.$SphericalViewportControl88=function(y){"use strict";__p&&__p();if(this.$SphericalViewportControl61){var z=c("SphericalPhotoProjectionUtils").getMaxVfov(this.$SphericalViewportControl39,this.getAspectRatio());return Math.min(z,Math.max(this.$SphericalViewportControl51,y))}else{var A=Math.min(r/this.getAspectRatio(),q);if(this.$SphericalViewportControl42&&this.$SphericalViewportControl39){var B=this.$SphericalViewportControl39.partialTopDegrees||this.$SphericalViewportControl39.partialTopDegrees===0,C=this.$SphericalViewportControl39.partialBottomDegrees||this.$SphericalViewportControl39.partialBottomDegrees===0;if(B&&C){var D=this.$SphericalViewportControl39.partialTopDegrees||0,E=this.$SphericalViewportControl39.partialBottomDegrees||0;A=Math.min(A,D+E)}}return Math.min(A,Math.max(this.$SphericalViewportControl51,y))}};x.prototype.setFieldOfView=function(y){"use strict";__p&&__p();var z=this.$SphericalViewportControl11,A=this.$SphericalViewportControl88(y);this.$SphericalViewportControl89(A);var B=this.$SphericalViewportControl40,C=B.partialTopDegrees,D=B.partialBottomDegrees,E=B.partialLeftDegrees,F=B.partialRightDegrees,G=C||C===0,H=D||D===0,I=E||E===0,J=F||F===0,K=E||F,L=C||0,M=D||0,N=E||0,O=F||0,P=false,Q=this.$SphericalViewportControl26.x,R=this.$SphericalViewportControl26.y;if(this.$SphericalViewportControl61){L=G?L:90;M=H?M:90;N=I?N:180;O=J?O:180;if(-R>M){if(M<0&&L<-M)R=L;else R=-M;P=true}if(R>L){if(L<0&&L<-M)R=-M;else R=L;P=true}var S=((O-N)/2+180)%360;if(Q>S&&360-Q>N){Q=360-N;P=true}if(Q<S&&Q>O){Q=O;P=true}}else{var T=A*this.getAspectRatio();if(H&&A/2-R>M){R=A/2-M;P=true}if(G&&R+A/2>L){R=L-A/2;P=true}if(G&&H&&L+M<A){R=(L-M)/2;P=true}if(K){var U=((O-N)/2+180)%360;if(Q>U&&T/2+360-Q>N){Q=360+T/2-N;P=true}if(Q<U&&Q+T/2>O){Q=O-T/2;P=true}if(N+O<T){Q=(O-N)/2%360;P=true}}}if(P&&!Number.isNaN(Q+R))this.$SphericalViewportControl26={x:Q,y:R};if(!Number.isNaN(A)&&z!==A||P){this.$SphericalViewportControl11=A;this.emit("viewportChange",this.$SphericalViewportControl26.x,this.$SphericalViewportControl26.y,A);return true}return false};x.prototype.getVerticalFieldOfView=function(){"use strict";return this.$SphericalViewportControl11};x.prototype.getAspectRatio=function(){"use strict";if(this.$SphericalViewportControl32&&this.$SphericalViewportControl34&&this.$SphericalViewportControl35)return this.$SphericalViewportControl34/this.$SphericalViewportControl35;return this.$SphericalViewportControl7};x.prototype.getHorizontalFieldOfView=function(){"use strict";return this.$SphericalViewportControl11*this.getAspectRatio()};x.prototype.setPreventScrollDefaultAction=function(y){"use strict";this.$SphericalViewportControl38=y};x.prototype.setEnableZoom=function(y){"use strict";this.$SphericalViewportControl46=y;if(!y)this.setFieldOfView(this.$SphericalViewportControl12)};x.prototype.updateViewport=function(y,z,A){"use strict";this.$SphericalViewportControl26={x:y,y:z};this.$SphericalViewportControl11=this.$SphericalViewportControl88(A);this.$SphericalViewportControl89()};x.prototype.isUpdating=function(){"use strict";return this.$SphericalViewportControl15};x.prototype.$SphericalViewportControl125=function(){"use strict";var y=this.$SphericalViewportControl16*(this.$SphericalViewportControl17.right-this.$SphericalViewportControl17.left),z=this.$SphericalViewportControl16*(this.$SphericalViewportControl17.up-this.$SphericalViewportControl17.down);this.$SphericalViewportControl8.updateVelocity(y,z)};x.prototype.$SphericalViewportControl121=function(y){"use strict";__p&&__p();var z=c("Event").getKeyCode(y),A=null;switch(z){case c("Keys").LEFT:case v.A:A="left";break;case c("Keys").UP:case v.W:A="up";break;case c("Keys").RIGHT:case v.D:A="right";break;case c("Keys").DOWN:case v.S:A="down";break}return A};x.prototype.$SphericalViewportControl113=function(){"use strict";return this.$SphericalViewportControl11/this.$SphericalViewportControl35};x.prototype.$SphericalViewportControl69=function(){"use strict";var y="grabbing";if(c("UserAgent").isEngine("WebKit"))y="-webkit-"+y;else if(c("UserAgent").isEngine("Gecko"))y="-moz-"+y;return y};f.exports=x}),null);
__d("SphericalVideoComponentConstants",[],(function a(b,c,d,e,f,g){var h={ACTIONS:{REGISTER_VIDEO_PLAYER_CONTROLLER:"SphericalVideoComponent/registerVideoPlayerController",UPDATE_VIDEO_PLAYER_STATE:"SphericalVideoComponent/updateVideoPlayerState",TOGGLE_PLAY:"SphericalVideoComponent/togglePlay",SET_CURRENT_PLAY_TIME:"SphericalVideoComponent/setCurrentPlaytime",SET_VIDEO_DURATION:"SphericalVideoComponent/setVideoDuration",TOGGLE_CHANNEL_VIEW:"SphericalVideoComponent/toggleChannelView",TOGGLE_TAHOE:"SphericalVideoComponent/toggleTahoe",SEEK_START:"SphericalVideoComponent/seekStart",REGISTER_SPHERICAL_VIEWPORT_CONTROL:"SphericalVideoComponent/registerSphericalViewportControl",CHANGE_VIEWPORT:"SphericalVideoComponent/changeViewport",TOGGLE_VIEWPORT_GRABBED:"SphericalVideoComponent/toggleViewportGrabbed",UPDATE_VIEWPORT_DIMENSIONS:"SphericalVideoComponent/updateViewportDimensions",SET_USER_IS_INACTIVE:"SphericalVideoComponent/setUserIsInactive",SET_INITIAL_VIEWPORT:"SphericalVideoComponent/setInitialViewport",REGISTER_NEW_REACTIONS_STATE:"SphericalVideoComponent/registerNewSpatialReactionsState",ADD_SPATIAL_REACTIONS:"SphericalVideoComponent/addSpatialReactions",SET_MOUSE_DOWN:"SphericalVideoComponent/setMouseDown",SET_MOUSE_UP:"SphericalVideoComponent/setMouseUp",SET_IS_DRAGGING:"SphericalVideoComponent/setIsDragging",SET_SHOULD_LEAVE_REACTION_MENU_OPEN:"SphericalVideoComponent/setShouldLeaveReactionMenuOpen",CLICK_REACTION:"SphericalVideoComponent/clickReaction",DROP_REACTION:"SphericalVideoComponent/dropReaction",TICK_ANIMATION:"SphericalVideoComponent/tickAnimation",START_ANIMATION_FOR_FRAME:"SphericalVideoComponent/startAnimationForFrame",CLICK_LIKE_BUTTON:"SphericalVideoComponent/clickLikeButton",OPEN_REACTION_MENU:"SphericalVideoComponent/openReactionMenu",CLOSE_REACTION_MENU:"SphericalVideoComponent/closeReactionMenu",REGISTER_EXPERIMENT_CONFIG:"SphericalVideoComponent/registerExperimentConfig"}};f.exports=h}),null);
__d("SphericalViewportControlStore",["SphericalVideoComponentActions","SphericalVideoComponentDispatcher","immutable","FluxMapStore","SphericalVideoComponentConstants","Rect","Vector","curry","throttle","setTimeout"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={fieldOfView:-1,initialPitch:-1,initialYaw:-1,isInChannelView:false,isInTahoe:false,pitch:-1,viewport:null,viewportGrabbed:false,viewportHeight:0,viewportInactivityTimeout:0,viewportPanStart:false,viewportWidth:0,yaw:-1},m=5e3;h=babelHelpers.inherits(n,c("immutable").Record(l));i=h&&h.prototype;function n(){h.apply(this,arguments)}j=babelHelpers.inherits(o,c("FluxMapStore"));k=j&&j.prototype;o.prototype.getInitialState=function(){return c("immutable").Map({sphericalViewportControls:c("immutable").Map({}),sphericalViewportControlStates:c("immutable").Map({})})};o.prototype.reduce=function(p,q){__p&&__p();var r=q.id;switch(q.type){case c("SphericalVideoComponentConstants").ACTIONS.REGISTER_SPHERICAL_VIEWPORT_CONTROL:var s=q.sphericalViewportControl,t=q.viewport;p=this.$SphericalViewportStore1(p,r,s,t);break;case c("SphericalVideoComponentConstants").ACTIONS.CHANGE_VIEWPORT:var u=q.yaw,v=q.pitch,w=q.fieldOfView;p=this.$SphericalViewportStore2(p,r,u,v,w);break;case c("SphericalVideoComponentConstants").ACTIONS.TOGGLE_VIEWPORT_GRABBED:p=this.$SphericalViewportStore3(p,r);break;case c("SphericalVideoComponentConstants").ACTIONS.UPDATE_VIEWPORT_DIMENSIONS:var x=q.width,y=q.height;p=this.$SphericalViewportStore4(p,r,x,y);break;case c("SphericalVideoComponentConstants").ACTIONS.TOGGLE_CHANNEL_VIEW:var z=q.isInChannelView;p=this.$SphericalViewportStore5(p,r,z);break;case c("SphericalVideoComponentConstants").ACTIONS.TOGGLE_TAHOE:var A=q.isInTahoe;p=this.$SphericalViewportStore6(p,r,A);break;case c("SphericalVideoComponentConstants").ACTIONS.SET_USER_IS_INACTIVE:p=this.$SphericalViewportStore7(p,r);break;case c("SphericalVideoComponentConstants").ACTIONS.SET_INITIAL_VIEWPORT:p=this.$SphericalViewportStore8(p,r,q.yaw,q.pitch);break;default:break}return p};o.prototype.getSphericalViewportControl=function(p){var q=this.get("sphericalViewportControls");if(q&&q.has(p))return q.get(p);else throw new Error("Video player controller with id "+p+" is not registered")};o.prototype.getOrientation=function(p){var q=this.$SphericalViewportStore9(this.getState(),p),r=q.yaw,s=q.pitch;return{yaw:r,pitch:s}};o.prototype.getUserIsActive=function(p){var q=this.$SphericalViewportStore9(this.getState(),p);return q.viewportInactivityTimeout!==0};o.prototype.getFieldOfView=function(p){return this.$SphericalViewportStore9(this.getState(),p).fieldOfView};o.prototype.getViewportGrabbed=function(p){return this.$SphericalViewportStore9(this.getState(),p).viewportGrabbed};o.prototype.getInitialYaw=function(p){return this.$SphericalViewportStore9(this.getState(),p).initialYaw};o.prototype.getInitialPitch=function(p){return this.$SphericalViewportStore9(this.getState(),p).initialPitch};o.prototype.getIsInChannelView=function(p){return this.$SphericalViewportStore9(this.getState(),p).isInChannelView};o.prototype.getIsInTahoe=function(p){return this.$SphericalViewportStore9(this.getState(),p).isInTahoe};o.prototype.getViewportDimensions=function(p){return{width:this.$SphericalViewportStore9(this.getState(),p).viewportWidth,height:this.$SphericalViewportStore9(this.getState(),p).viewportHeight}};o.prototype.getViewportPositionVector=function(p){var q=this.$SphericalViewportStore9(this.getState(),p);return new(c("Rect"))(q.viewport).getPositionVector()};o.prototype.getViewportCenterVector=function(p){var q=this.getViewportPositionVector(p),r=this.getViewportDimensions(p),s=r.width,t=r.height,u=new(c("Vector"))(s/2,t/2);return q.add(u)};o.prototype.onViewportGrabbed=function(p){c("SphericalVideoComponentActions").toggleViewportGrabbed(p)};o.prototype.onViewportPanStart=function(p,q){return};o.prototype.onViewportPanEnd=function(p){c("SphericalVideoComponentActions").toggleViewportGrabbed(p)};o.prototype.onViewportChange=function(p,q,r,s){c("SphericalVideoComponentActions").changeViewport(p,q,r,s)};o.prototype.$SphericalViewportStore1=function(p,q,r,s){__p&&__p();var t=p.get("sphericalViewportControls");if(t.has(q))return p;t=t.set(q,r);p=p.set("sphericalViewportControls",t);var u=p.get("sphericalViewportControlStates"),v=new n({yaw:r.getOrientation().x,pitch:r.getOrientation().y,fieldOfView:r.getVerticalFieldOfView(),viewport:s});u=u.set(q,v);p=p.set("sphericalViewportControlStates",u);r.addListener("viewportChange",c("throttle")(c("curry")(this.onViewportChange,q),16));r.addListener("updateViewportBegin",c("curry")(this.onViewportGrabbed,q));r.addListener("updateViewportEnd",c("curry")(this.onViewportPanEnd,q));return p};o.prototype.$SphericalViewportStore2=function(p,q,r,s,t){__p&&__p();var u=[["yaw",r],["pitch",s],["fieldOfView",t]];for(var v=u,w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var y;if(w){if(x>=v.length)break;y=v[x++]}else{x=v.next();if(x.done)break;y=x.value}var z=y,A=z[0],B=z[1];p=this.$SphericalViewportStore10(p,q,A,B)}var C=this.getSphericalViewportControl(q);C.setSphericalOrientation(r,s);C.setFieldOfView(t);var D=this.$SphericalViewportStore9(p,q).get("viewportInactivityTimeout");clearTimeout(D);p=this.$SphericalViewportStore10(p,q,"viewportInactivityTimeout",this.$SphericalViewportStore11(q));return p};o.prototype.$SphericalViewportStore11=function(p){return c("setTimeout")(function(){return c("SphericalVideoComponentActions").setUserIsInactive(p)},m)};o.prototype.$SphericalViewportStore7=function(p,q){p=this.$SphericalViewportStore10(p,q,"viewportInactivityTimeout",0);return p};o.prototype.$SphericalViewportStore8=function(p,q,r,s){p=this.$SphericalViewportStore10(p,q,"initialYaw",r);p=this.$SphericalViewportStore10(p,q,"initialPitch",s);return p};o.prototype.$SphericalViewportStore4=function(p,q,r,s){p=this.$SphericalViewportStore10(p,q,"viewportWidth",r);p=this.$SphericalViewportStore10(p,q,"viewportHeight",s);return p};o.prototype.$SphericalViewportStore3=function(p,q){var r=this.$SphericalViewportStore9(p,q).viewportGrabbed;return this.$SphericalViewportStore10(p,q,"viewportGrabbed",!r)};o.prototype.$SphericalViewportStore5=function(p,q,r){return this.$SphericalViewportStore10(p,q,"isInChannelView",r)};o.prototype.$SphericalViewportStore6=function(p,q,r){return this.$SphericalViewportStore10(p,q,"isInTahoe",r)};o.prototype.$SphericalViewportStore10=function(p,q,r,s){var t=this.$SphericalViewportStore9(p,q),u=p.get("sphericalViewportControlStates");t=t.set(r,s);u=u.set(q,t);return p.set("sphericalViewportControlStates",u)};o.prototype.$SphericalViewportStore9=function(p,q){var r=p.get("sphericalViewportControlStates").get(q);if(!r)this.$SphericalViewportStore12(q);return r};o.prototype.$SphericalViewportStore12=function(p){throw new Error("Viewport control with id "+p+" does not exist")};function o(){j.apply(this,arguments)}f.exports=new o(c("SphericalVideoComponentDispatcher"))}),null);
__d("VideoPlayerControllerStore",["SphericalVideoComponentActions","SphericalVideoComponentDispatcher","immutable","FluxMapStore","SphericalVideoComponentConstants","SphericalViewportControlStore","VideoPlayerReason","VideoPlayerReasonTransitionHelper","VideoPlayerStates","curry"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k;h=babelHelpers.inherits(l,c("immutable").Record({currentTime:-1,currentVideoPlayerState:c("VideoPlayerStates").UNKNOWN,durationSeconds:-1,videoId:"",unpauseOnMouseUp:false}));i=h&&h.prototype;function l(){h.apply(this,arguments)}j=babelHelpers.inherits(m,c("FluxMapStore"));k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.onVideoPlayerControllerStateChange=function(s){var t=s.getVideoPlayerID(),u=this.$VideoPlayerControllerStore7(this.getState(),t),v=u.videoPlayerState,w=s.getState();if(v!==w){if(c("SphericalVideoComponentDispatcher").isDispatching())c("SphericalVideoComponentDispatcher").waitFor([c("SphericalViewportControlStore").getDispatchToken()]);c("SphericalVideoComponentActions").updateVideoPlayerState(t,w)}}.bind(this),o}m.prototype.getInitialState=function(){return c("immutable").Map({videoPlayerControllers:c("immutable").Map({}),videoPlayerControllerStates:c("immutable").Map({})})};m.prototype.reduce=function(n,o){__p&&__p();var p=o.id,q=void 0;switch(o.type){case c("SphericalVideoComponentConstants").ACTIONS.REGISTER_VIDEO_PLAYER_CONTROLLER:var r=o.controller;n=this.$VideoPlayerControllerStore1(n,r,p);break;case c("SphericalVideoComponentConstants").ACTIONS.UPDATE_VIDEO_PLAYER_STATE:n=this.$VideoPlayerControllerStore2(n,p,o.state);break;case c("SphericalVideoComponentConstants").ACTIONS.TOGGLE_PLAY:n=this.$VideoPlayerControllerStore3(n,p,o.nextIsPlaying);break;case c("SphericalVideoComponentConstants").ACTIONS.SET_CURRENT_PLAY_TIME:n=this.$VideoPlayerControllerStore4(n,p,o.time);break;case c("SphericalVideoComponentConstants").ACTIONS.SET_VIDEO_DURATION:n=this.$VideoPlayerControllerStore5(n,p,o.durationSeconds);break;case c("SphericalVideoComponentConstants").ACTIONS.SET_MOUSE_DOWN:var s=o.wasVideoPlaying;if(s){n=this.$VideoPlayerControllerStore6(n,p,"unpauseOnMouseUp",s);n=this.$VideoPlayerControllerStore3(n,p,false)}break;case c("SphericalVideoComponentConstants").ACTIONS.DROP_REACTION:q=this.$VideoPlayerControllerStore7(n,p);if(q.unpauseOnMouseUp){n=this.$VideoPlayerControllerStore3(n,p,true);n=this.$VideoPlayerControllerStore6(n,p,"unpauseOnMouseUp",false)}break;default:break}return n};m.prototype.getVideoPlayerController=function(n){var o=this.get("videoPlayerControllers");if(o&&o.has(n))return o.get(n);else throw new Error("Video player controller with id "+n+" is not registered")};m.prototype.getIsVideoPlayable=function(n){var o=this.$VideoPlayerControllerStore7(this.getState(),n).currentVideoPlayerState;return o!==c("VideoPlayerStates").FALLBACK&&o!==c("VideoPlayerStates").DESTROYED&&o!==c("VideoPlayerStates").UNKNOWN};m.prototype.getIsPlaying=function(n){var o=this.getVideoPlayerController(n).isBuffering(),p=this.$VideoPlayerControllerStore7(this.getState(),n).currentVideoPlayerState;return p===c("VideoPlayerStates").PLAYING&&!o};m.prototype.getCurrentTime=function(n){return this.$VideoPlayerControllerStore7(this.getState(),n).currentTime};m.prototype.getVideoID=function(n){return this.$VideoPlayerControllerStore7(this.getState(),n).videoId};m.prototype.$VideoPlayerControllerStore1=function(n,o,p){__p&&__p();var q=n.get("videoPlayerControllers");if(q.has(p))return n;q=q.set(p,o);n=n.set("videoPlayerControllers",q);var r=n.get("videoPlayerControllerStates"),s=new l({isPlaying:o.isState(c("VideoPlayerStates").PLAYING),currentTime:o.getCurrentTimePosition(),videoId:o.getVideoID()});r=r.set(p,s);n=n.set("videoPlayerControllerStates",r);o.addListener("stateChange",c("curry")(this.onVideoPlayerControllerStateChange,o));o.addListener("updateStatus",c("curry")(this.onTimeUpdate,o));o.addListener("updateMetadata",c("curry")(this.onUpdateMetaData,o));o.addListener("VideoChannelController/pendingElementsShown",c("curry")(this.onToggleChannelView,o,true));o.addListener("VideoChannelController/exitChannel",c("curry")(this.onToggleChannelView,o,false));o.addListener("seekRequested",c("curry")(this.onSeekStart,o));o.addListener("TahoeController/enterTahoe",c("curry")(this.onToggleTahoe,o,true));o.addListener("TahoeController/exitTahoe",c("curry")(this.onToggleTahoe,o,false));return n};m.prototype.onTimeUpdate=function(n,event){c("SphericalVideoComponentActions").setCurrentVideoTime(n.getVideoPlayerID(),event.position)};m.prototype.onSeekStart=function(n){c("SphericalVideoComponentActions").seekStart(n.getVideoPlayerID())};m.prototype.onUpdateMetaData=function(n){c("SphericalVideoComponentActions").setVideoDuration(n.getVideoPlayerID(),n.getPlaybackDuration())};m.prototype.onToggleChannelView=function(n,o){c("SphericalVideoComponentActions").toggleChannelView(n.getVideoPlayerID(),o)};m.prototype.onToggleTahoe=function(n,o){c("SphericalVideoComponentActions").toggleTahoe(n.getVideoPlayerID(),o)};m.prototype.$VideoPlayerControllerStore3=function(n,o,p){var q=this.getVideoPlayerController(o),r=this.$VideoPlayerControllerStore7(this.getState(),o),s=r.currentVideoPlayerState;if(s===c("VideoPlayerStates").PLAYING&&!p||s===c("VideoPlayerStates").PAUSED&&p)p?q.play(new(c("VideoPlayerReasonTransitionHelper"))(c("VideoPlayerReason").USER)):q.pause();return n};m.prototype.$VideoPlayerControllerStore4=function(n,o,p){return this.$VideoPlayerControllerStore6(n,o,"currentTime",p)};m.prototype.$VideoPlayerControllerStore2=function(n,o,p){return this.$VideoPlayerControllerStore6(n,o,"currentVideoPlayerState",p)};m.prototype.$VideoPlayerControllerStore5=function(n,o,p){return this.$VideoPlayerControllerStore6(n,o,"durationSeconds",p)};m.prototype.$VideoPlayerControllerStore7=function(n,o){var p=n.get("videoPlayerControllerStates").get(o);if(!p)this.$VideoPlayerControllerStore8(o);return p};m.prototype.$VideoPlayerControllerStore6=function(n,o,p,q){var r=n.get("videoPlayerControllerStates"),s=this.$VideoPlayerControllerStore7(n,o);s=s.set(p,q);r=r.set(o,s);return n.set("videoPlayerControllerStates",r)};m.prototype.$VideoPlayerControllerStore8=function(n){throw new Error("Video player controller with id "+n+" does not exist")};f.exports=new m(c("SphericalVideoComponentDispatcher"))}),null);
__d("SphericalVideoPlayer",["cx","invariant","Arbiter","Banzai","CSS","DOM","DOMDimensions","Event","FullScreen","SphericalVideoExperiments","SphericalVideoPerformanceTracker","QE2Logger","SphericalMediaCanvasPool","SphericalParallaxUtils","SphericalVideoComponentActions","SphericalVideoPlayerEvents","SphericalViewportControl","SphericalVideoComponentDispatcher","SubscriptionsHandler","SphericalRenderer","VideoPlayerFallbackEvents","VideoPlayerLoggerEvent","VideoPlayerLoggerSource","VideoPlayerReason","VideoPlayerReasonTransitionHelper","VideoPlayerStates","forwardEvent","getElementRect","gkx","requestAnimationFrame","uniqueID","getFullScreenElement","onViewportChanged","getViewportDimensions","SphericalViewportControlStore","VideoPlayerControllerStore"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("SphericalParallaxUtils").calculateYawOffset,k="SphericalVideoPlayer",l=2,m=1e3,n=32,o="www_videos_spherical_zoom",p="www_videos_spherical_parallax";c("SphericalMediaCanvasPool").setLimit(l,k);function q(r,s){__p&&__p();this.$SphericalVideoPlayer43=function(){__p&&__p();var t=!!this.$SphericalVideoPlayer1.getOption("VideoWithSphericalGuide","auto");if(this.$SphericalVideoPlayer1.getSource()!==c("VideoPlayerLoggerSource").INLINE||t)return;if(this.$SphericalVideoPlayer27){this.$SphericalVideoPlayer51(this.$SphericalVideoPlayer12.getOrientation().x);this.$SphericalVideoPlayer27=false;return}var u=this.$SphericalVideoPlayer50();if(u===null)return;typeof u==="number"||i(0);this.$SphericalVideoPlayer24=u;this.$SphericalVideoPlayer33(this.$SphericalVideoPlayer23+this.$SphericalVideoPlayer24,null);this.$SphericalVideoPlayer29()}.bind(this);this.$SphericalVideoPlayer45=function(){if(!this.$SphericalVideoPlayer1.isState(c("VideoPlayerStates").PAUSED))this.$SphericalVideoPlayer1.pause(c("VideoPlayerReason").SPHERICAL_SWITCH_CANVAS);this.$SphericalVideoPlayer52();this.$SphericalVideoPlayer41()}.bind(this);this.$SphericalVideoPlayer49=function(t){__p&&__p();if(!this.$SphericalVideoPlayer13)return;var u=this.$SphericalVideoPlayer13;if(this.$SphericalVideoPlayer2.readyState>=this.$SphericalVideoPlayer2.HAVE_CURRENT_DATA&&(this.$SphericalVideoPlayer39()||this.$SphericalVideoPlayer7)){c("SphericalVideoPerformanceTracker").get().setProjection(this.$SphericalVideoPlayer10.projectionType).addFrameAtTime(t);this.$SphericalVideoPlayer7=false;var v=this.$SphericalVideoPlayer12.getOrientation();u.render(v.x+90,v.y);if(this.$SphericalVideoPlayer15&&!c("gkx")("AT7g-6wUL2l3zqcle9L4ueRfS4fZ17IYQrLCkC75DrI9esnQVViFHEDra2QwMrprOv35vnNmRWRvnhgMQesRQwul")){this.$SphericalVideoPlayer15.remove();this.$SphericalVideoPlayer15=null}}c("requestAnimationFrame")(this.$SphericalVideoPlayer49)}.bind(this);this.$SphericalVideoPlayer30=function(t,u){this.$SphericalVideoPlayer12.setRelativeSphericalOrientation(t,u)}.bind(this);this.$SphericalVideoPlayer33=function(t,u){this.$SphericalVideoPlayer12.setSphericalOrientation(t,u)}.bind(this);this.$SphericalVideoPlayer34=function(t){if(this.$SphericalVideoPlayer13){this.$SphericalVideoPlayer13.updateFieldOfView(t);this.$SphericalVideoPlayer12.setFieldOfView(t);this.$SphericalVideoPlayer19=t;this.$SphericalVideoPlayer29()}}.bind(this);this.$SphericalVideoPlayer35=function(t){if(this.$SphericalVideoPlayer13){this.$SphericalVideoPlayer10.projectionType=t;this.$SphericalVideoPlayer13.reconfigure(this.$SphericalVideoPlayer2,this.$SphericalVideoPlayer10,true);this.$SphericalVideoPlayer29()}}.bind(this);this.$SphericalVideoPlayer36=function(t){if(this.$SphericalVideoPlayer13){this.$SphericalVideoPlayer10.stereoFormat=t;this.$SphericalVideoPlayer13.reconfigure(this.$SphericalVideoPlayer2,this.$SphericalVideoPlayer10,true);this.$SphericalVideoPlayer29()}}.bind(this);this.$SphericalVideoPlayer31=function(t,u){__p&&__p();if(c("FullScreen").isFullScreen()&&(t<this.$SphericalVideoPlayer5.width||u<this.$SphericalVideoPlayer5.height))return;if(this.$SphericalVideoPlayer13){this.$SphericalVideoPlayer5.width=t;this.$SphericalVideoPlayer5.height=u;this.$SphericalVideoPlayer48(this.$SphericalVideoPlayer13,t,u);if(this.$SphericalVideoPlayer11.useViewportDimension)this.$SphericalVideoPlayer6=c("DOMDimensions").getElementDimensions(this.$SphericalVideoPlayer4);this.$SphericalVideoPlayer29()}else this.$SphericalVideoPlayer5={width:t,height:u}}.bind(this);this.$SphericalVideoPlayer47=function(t,u,v){__p&&__p();t=t>=0?(t+180)%360-180:(t-180)%360+180;this.$SphericalVideoPlayer53(t,u);this.$SphericalVideoPlayer18.yaw=t;this.$SphericalVideoPlayer18.pitch=u;this.$SphericalVideoPlayer19=v;if(!this.$SphericalVideoPlayer13)this.$SphericalVideoPlayer40();if(this.$SphericalVideoPlayer13)this.$SphericalVideoPlayer13.updateFieldOfView(v);this.$SphericalVideoPlayer51(t);this.$SphericalVideoPlayer29()}.bind(this);this.$SphericalVideoPlayer10=r;this.$SphericalVideoPlayer11=Object.assign({viewportClassName:"_2a6s",canvasClassName:"_38vt",placeholderImgClassName:"_44h9",videoID:"",playerID:undefined,eagerPreload:undefined,preventScrollDefaultAction:undefined,useViewportDimension:undefined,useContainerDimensions:undefined},s);this.$SphericalVideoPlayer21=0;this.$SphericalVideoPlayer26=true;this.$SphericalVideoPlayer27=false}q.prototype.enable=function(r){__p&&__p();if(this.$SphericalVideoPlayer1)return;this.$SphericalVideoPlayer1=r;if(typeof b.WebGLRenderingContext!=="function"&&typeof b.WebGL2RenderingContext!=="function"){this.$SphericalVideoPlayer28({error:"SPHERICAL_SETUP_FAILED",message:"WebGLRenderingContext not available."});return}if(!c("gkx")("AT5Aw7CfI_sJnKS7axSijFMja9sKcPHnyU2K5fdb4uGkxoDFZs19JW5Zy-t4TtlYWxayGfsI93QoiBEamC0x2sdSME272XcNyV5bNTBsKX4_BQ")){this.$SphericalVideoPlayer28({error:"SPHERICAL_RENDER_ERROR",message:"Unsupported browser version"});return}var s=r.getVideoNode();s instanceof HTMLVideoElement||i(0);this.$SphericalVideoPlayer2=s;this.$SphericalVideoPlayer7=false;this.$SphericalVideoPlayer17=true;this.$SphericalVideoPlayer8=new(c("SubscriptionsHandler"))();this.$SphericalVideoPlayer8.addSubscriptions(c("Event").listen(this.$SphericalVideoPlayer2,"loadeddata",function(){return this.$SphericalVideoPlayer29()}.bind(this)),c("Event").listen(this.$SphericalVideoPlayer2,"seeked",function(){return this.$SphericalVideoPlayer29()}.bind(this)),c("Event").listen(this.$SphericalVideoPlayer2,"ended",function(){return this.$SphericalVideoPlayer30(0,0)}.bind(this)),c("Event").listen(window,"resize",function(){if(c("FullScreen").isFullScreen()&&this.$SphericalVideoPlayer1.getContainerNode()===c("getFullScreenElement")())this.$SphericalVideoPlayer31(window.innerWidth,window.innerHeight)}.bind(this)),r.addListener("stateChange",function(){if(r.isState(c("VideoPlayerStates").DESTROYED)||r.isState(c("VideoPlayerStates").FALLBACK)&&(r.isLiveVideo()||!r.isFallbackRecoverable()))this.$SphericalVideoPlayer32()}.bind(this)),r.addListener(c("VideoPlayerFallbackEvents").RECOVER,function(){this.$SphericalVideoPlayer32();c("CSS").removeClass(this.$SphericalVideoPlayer2,"_3axk");this.$SphericalVideoPlayer1.play(new(c("VideoPlayerReasonTransitionHelper"))(c("VideoPlayerReason").SPHERICAL_FALLBACK))}.bind(this)),r.addListener(c("SphericalVideoPlayerEvents").SET_ABSOLUTE_SPHERICAL_ORIENTATION,this.$SphericalVideoPlayer33),r.addListener(c("SphericalVideoPlayerEvents").SET_RELATIVE_SPHERICAL_ORIENTATION,this.$SphericalVideoPlayer30),r.addListener(c("SphericalVideoPlayerEvents").SET_FIELD_OF_VIEW,this.$SphericalVideoPlayer34),r.addListener(c("SphericalVideoPlayerEvents").SET_VIDEO_PROJECTION,this.$SphericalVideoPlayer35),r.addListener(c("SphericalVideoPlayerEvents").SET_STEREO_MODE,this.$SphericalVideoPlayer36),r.addListener("dimensionsChange",this.$SphericalVideoPlayer31),r.once("changeVolume",function(){return this.$SphericalVideoPlayer17=false}.bind(this)),r.once("muteVideo",function(){return this.$SphericalVideoPlayer17=false}.bind(this)),r.once("unmuteVideo",function(){return this.$SphericalVideoPlayer17=false}.bind(this)),r.addListener("toggleFullscreen",function(){return this.$SphericalVideoPlayer4.focus()}.bind(this)),r.addListener("TahoeController/enterTahoe",function(){this.$SphericalVideoPlayer4.focus();if(c("SphericalVideoExperiments").enableWWWZoom){this.$SphericalVideoPlayer12.setEnableZoom(true);this.$SphericalVideoPlayer22=true;this.$SphericalVideoPlayer1.emit("SphericalVideoPlayer/zoomEnabled")}c("QE2Logger").logExposureForUser(o)}.bind(this)),r.addListener("TahoeController/exitTahoe",function(){this.$SphericalVideoPlayer4.focus();if(c("SphericalVideoExperiments").enableWWWZoom){this.$SphericalVideoPlayer12.setEnableZoom(false);this.$SphericalVideoPlayer22=false;this.$SphericalVideoPlayer1.emit("SphericalVideoPlayer/zoomDisabled")}}.bind(this)));if(this.$SphericalVideoPlayer11.useContainerDimensions){var t=r.getContainerNode();this.$SphericalVideoPlayer5=c("DOMDimensions").getElementDimensions(t)}else{this.$SphericalVideoPlayer5=c("DOMDimensions").getElementDimensions(s);if(this.$SphericalVideoPlayer5.width===0||this.$SphericalVideoPlayer5.height===0)this.$SphericalVideoPlayer5={width:s.width,height:s.height}}this.$SphericalVideoPlayer14=this.$SphericalVideoPlayer1.getVideoPlayerID()||c("uniqueID")();this.$SphericalVideoPlayer18={yaw:this.$SphericalVideoPlayer10.initialHeading,pitch:this.$SphericalVideoPlayer10.initialPitch};this.$SphericalVideoPlayer19=this.$SphericalVideoPlayer10.fieldOfView;this.$SphericalVideoPlayer22=false;var u=r.getVideoProjection();if(u)this.$SphericalVideoPlayer10.projectionType=u;c("CSS").addClass(s,"_3axk");this.$SphericalVideoPlayer37();r.registerOption("SphericalVideoPlayer","getDimensions",function(){return this.$SphericalVideoPlayer11.useViewportDimension?this.$SphericalVideoPlayer6:this.$SphericalVideoPlayer5}.bind(this));r.registerOption("SphericalVideoPlayer","isReady",function(){return!!this.$SphericalVideoPlayer13}.bind(this));r.registerOption("SphericalVideoPlayer","getScreenshotDataURL",function(){return this.$SphericalVideoPlayer38()}.bind(this));r.registerOption("SphericalVideoPlayer","getIsSingleFisheye",function(){return this.$SphericalVideoPlayer10.isSingleFisheye&&this.$SphericalVideoPlayer10.originalFOV!==null}.bind(this));r.registerOption("SphericalVideoPlayer","getOriginalFOV",function(){return this.$SphericalVideoPlayer10.originalFOV}.bind(this));r.registerOption("SphericalVideoPlayer","getEnableZoom",function(){return this.$SphericalVideoPlayer22}.bind(this));if(this.$SphericalVideoPlayer39()||this.$SphericalVideoPlayer11.eagerPreload)this.$SphericalVideoPlayer40();else this.$SphericalVideoPlayer41()};q.prototype.disable=function(){this.$SphericalVideoPlayer32()};q.prototype.$SphericalVideoPlayer40=function(){__p&&__p();if(this.$SphericalVideoPlayer1.getOption("SphericalVideoPlayer","isUnavailable"))return;if(this.$SphericalVideoPlayer16){this.$SphericalVideoPlayer16.remove();this.$SphericalVideoPlayer16=null}try{c("SphericalVideoPerformanceTracker").get().setProjection(this.$SphericalVideoPlayer10.projectionType).enterSphericalRendererSetup();this.$SphericalVideoPlayer42();c("SphericalVideoPerformanceTracker").get().exitSphericalRendererSetup()}catch(r){this.$SphericalVideoPlayer28({error:"SPHERICAL_SETUP_FAILED",message:r.message});return}this.$SphericalVideoPlayer1.setStillFrameEnabled(false);this.$SphericalVideoPlayer29();this.$SphericalVideoPlayer1.emit("SphericalVideoPlayer/ready");c("QE2Logger").logExposureForUser(p);if(c("SphericalVideoExperiments").enableWWWParallax){var s=this.$SphericalVideoPlayer12.getOrientation().x;if(this.$SphericalVideoPlayer26)this.$SphericalVideoPlayer23=s;else this.$SphericalVideoPlayer27=true;this.$SphericalVideoPlayer25=c("onViewportChanged")(this.$SphericalVideoPlayer43)}this.$SphericalVideoPlayer26=false};q.prototype.$SphericalVideoPlayer41=function(){this.$SphericalVideoPlayer16=this.$SphericalVideoPlayer1.addListener("stateChange",function(){if(this.$SphericalVideoPlayer39())this.$SphericalVideoPlayer40()}.bind(this))};q.prototype.$SphericalVideoPlayer44=function(){if(!this.$SphericalVideoPlayer13)return;var r=this.$SphericalVideoPlayer38(),s=c("DOM").create("img",{width:this.$SphericalVideoPlayer5.width,height:this.$SphericalVideoPlayer5.height,src:r,className:this.$SphericalVideoPlayer11.placeholderImgClassName});c("DOM").insertAfter(this.$SphericalVideoPlayer2,s);if(this.$SphericalVideoPlayer15)this.$SphericalVideoPlayer15.remove();this.$SphericalVideoPlayer15=s;this.$SphericalVideoPlayer45()};q.prototype.$SphericalVideoPlayer38=function(r,s){if(!this.$SphericalVideoPlayer13)return"";var t=this.$SphericalVideoPlayer13,u=this.$SphericalVideoPlayer12.getOrientation(),v=u.x,w=u.y;return t.getScreenshotDataURL(v+90,w,r,s)};q.prototype.$SphericalVideoPlayer37=function(){__p&&__p();var r=c("DOM").create("div",{className:this.$SphericalVideoPlayer11.viewportClassName,tabIndex:0}),s={};if(this.$SphericalVideoPlayer10.isSingleFisheye&&this.$SphericalVideoPlayer10.originalFOV){var t=this.$SphericalVideoPlayer10.originalFOV/2;this.$SphericalVideoPlayer10.partialLimits={partialLeftDegrees:t,partialRightDegrees:t,partialTopDegrees:t,partialBottomDegrees:t};s=this.$SphericalVideoPlayer46()}var u=new(c("SphericalViewportControl"))(r,this.$SphericalVideoPlayer10,s);this.$SphericalVideoPlayer8.addSubscriptions(u.addListener("DOM/click",function(w){if(w.button!==0)return;this.$SphericalVideoPlayer1.clickVideo();w.preventDefault()}.bind(this)),u.addListener("mouseMove",function(w){this.$SphericalVideoPlayer1.mouseMove(w);w.preventDefault()}.bind(this)),u.addListener("mouseUp",function(w){this.$SphericalVideoPlayer1.mouseUp(w);w.preventDefault()}.bind(this)),u.addListener("mouseLeave",function(w){this.$SphericalVideoPlayer1.mouseLeave(w);w.preventDefault()}.bind(this)),u.addListener("viewportChange",this.$SphericalVideoPlayer47),u.addListener("updateViewportBegin",function(){if(this.$SphericalVideoPlayer1.isMuted()&&this.$SphericalVideoPlayer17){this.$SphericalVideoPlayer17=false;this.$SphericalVideoPlayer1.unmute()}this.$SphericalVideoPlayer1.logEvent(c("VideoPlayerLoggerEvent").VIEWPORT_ROTATED)}.bind(this)));this.$SphericalVideoPlayer1.registerOption("SphericalVideoPlayer","getCurrentViewport",function(){return this.$SphericalVideoPlayer18}.bind(this));this.$SphericalVideoPlayer1.registerOption("SphericalVideoPlayer","getFieldOfView",function(){return this.$SphericalVideoPlayer19}.bind(this));var v=["DOM/click","updateViewportBegin","updateViewportMove","updateViewportEnd","wheelScroll","viewportChange"];this.$SphericalVideoPlayer8.addSubscriptions.apply(this.$SphericalVideoPlayer8,v.map(function(w){return c("forwardEvent")(u,this.$SphericalVideoPlayer1,w)}.bind(this)));this.$SphericalVideoPlayer12=u;this.$SphericalVideoPlayer4=r;c("Arbiter").subscribe("VideoChannelView/opened",function(){this.$SphericalVideoPlayer20=true;this.$SphericalVideoPlayer12.disableKeyboard()}.bind(this));c("Arbiter").subscribe("VideoChannelView/closed",function(){this.$SphericalVideoPlayer20=false;this.$SphericalVideoPlayer12.enableKeyboard()}.bind(this));c("FullScreen").subscribe("changed",function(){if(c("FullScreen").isFullScreen())this.$SphericalVideoPlayer12.enableKeyboard();else if(this.$SphericalVideoPlayer20)this.$SphericalVideoPlayer12.disableKeyboard()}.bind(this));if(this.$SphericalVideoPlayer11.preventScrollDefaultAction)this.$SphericalVideoPlayer12.setPreventScrollDefaultAction(true);c("DOM").insertAfter(this.$SphericalVideoPlayer2,r);if(this.$SphericalVideoPlayer11.useViewportDimension)this.$SphericalVideoPlayer6=c("DOMDimensions").getElementDimensions(r);c("SphericalVideoComponentDispatcher").explicitlyRegisterStores([c("SphericalViewportControlStore"),c("VideoPlayerControllerStore")]);c("SphericalVideoComponentActions").registerSphericalViewportControl(this.$SphericalVideoPlayer1.getVideoPlayerID(),this.$SphericalVideoPlayer12,this.$SphericalVideoPlayer4)};q.prototype.$SphericalVideoPlayer42=function(){__p&&__p();var r={canvasAttrs:{width:this.$SphericalVideoPlayer5.width,height:this.$SphericalVideoPlayer5.height,className:this.$SphericalVideoPlayer11.canvasClassName,tabIndex:0},beforeCanvasLost:function(){return this.$SphericalVideoPlayer44()}.bind(this)},s=c("SphericalMediaCanvasPool").get(this.$SphericalVideoPlayer14,r,k),t=new(c("SphericalRenderer"))(this.$SphericalVideoPlayer2,s,this.$SphericalVideoPlayer10);this.$SphericalVideoPlayer9=new(c("SubscriptionsHandler"))();this.$SphericalVideoPlayer9.addSubscriptions(t.addListener("renderingError",function(u){return this.$SphericalVideoPlayer28({error:"SPHERICAL_RENDER_ERROR",message:u.message})}.bind(this)),t.addListener("renderingContextLost",this.$SphericalVideoPlayer45));this.$SphericalVideoPlayer3=s;this.$SphericalVideoPlayer13=t;c("DOM").insertAfter(this.$SphericalVideoPlayer2,s);this.$SphericalVideoPlayer48(t,this.$SphericalVideoPlayer5.width,this.$SphericalVideoPlayer5.height);c("requestAnimationFrame")(this.$SphericalVideoPlayer49);if(!c("gkx")("AT7g-6wUL2l3zqcle9L4ueRfS4fZ17IYQrLCkC75DrI9esnQVViFHEDra2QwMrprOv35vnNmRWRvnhgMQesRQwul"))c("CSS").show(s);else{c("CSS").hide(s);setTimeout(function(){c("requestAnimationFrame")(function(){c("CSS").show(s);if(this.$SphericalVideoPlayer15){this.$SphericalVideoPlayer15.remove();this.$SphericalVideoPlayer15=null}}.bind(this))}.bind(this),n)}};q.prototype.$SphericalVideoPlayer50=function(){var r=this.$SphericalVideoPlayer1.getRootNode();if(!r)return null;var s=c("getElementRect")(r),t=s.top+s.bottom/2,u=c("getViewportDimensions").withoutScrollbars().height,v=t/u*100,w=this.$SphericalVideoPlayer12.getHorizontalFieldOfView(),x=j(v,null,null,w),y=x.yaw,z=x.success;if(z)return y;return null};q.prototype.$SphericalVideoPlayer28=function(event){this.$SphericalVideoPlayer1.logError(event);this.$SphericalVideoPlayer1.emit(c("VideoPlayerLoggerEvent").ERROR,event);this.$SphericalVideoPlayer32()};q.prototype.$SphericalVideoPlayer39=function(){return this.$SphericalVideoPlayer1.isState(c("VideoPlayerStates").PLAYING)};q.prototype.$SphericalVideoPlayer51=function(r){var s=this.$SphericalVideoPlayer50();if(s===null)return;typeof s==="number"||i(0);this.$SphericalVideoPlayer23=r-s};q.prototype.$SphericalVideoPlayer48=function(r,s,t){r.updateViewportDimensions(s,t);c("SphericalVideoComponentActions").updateViewportDimensions(this.$SphericalVideoPlayer1.getVideoPlayerID(),s,t)};q.prototype.$SphericalVideoPlayer29=function(){this.$SphericalVideoPlayer7=true};q.prototype.$SphericalVideoPlayer53=function(r,s){var t=Date.now();if(t-this.$SphericalVideoPlayer21>=m){this.$SphericalVideoPlayer21=t;var u=!!this.$SphericalVideoPlayer1.getOption("VideoWithSphericalGuide","auto");c("Banzai").post("spherical_video_viewport",{video_fbid:this.$SphericalVideoPlayer1.getVideoID(),yaw_degrees:r,pitch_degrees:s,roll_degrees:0,field_of_view_y:this.$SphericalVideoPlayer10.fieldOfView,aspect_ratio:this.$SphericalVideoPlayer5.height/this.$SphericalVideoPlayer5.width,video_player_position:this.$SphericalVideoPlayer2.currentTime,video_player_position_ms:this.$SphericalVideoPlayer2.currentTime*1e3,guide_enabled:u,timestamp:t})}};q.prototype.$SphericalVideoPlayer52=function(){if(this.$SphericalVideoPlayer13){this.$SphericalVideoPlayer13.destroy();this.$SphericalVideoPlayer13=null;this.$SphericalVideoPlayer25&&this.$SphericalVideoPlayer25.remove();this.$SphericalVideoPlayer25=null;this.$SphericalVideoPlayer9.release();this.$SphericalVideoPlayer3.remove()}};q.prototype.$SphericalVideoPlayer32=function(){__p&&__p();this.$SphericalVideoPlayer1.registerOption("SphericalVideoPlayer","isUnavailable",function(){return true});if(this.$SphericalVideoPlayer8)this.$SphericalVideoPlayer8.release();this.$SphericalVideoPlayer52();if(this.$SphericalVideoPlayer12)this.$SphericalVideoPlayer12.destroy();if(this.$SphericalVideoPlayer4)this.$SphericalVideoPlayer4.remove();c("SphericalVideoPerformanceTracker").get().destroy()};q.prototype.$SphericalVideoPlayer46=function(){return{disableAutoClientSizeUpdate:false,enableGyro:false,enableRubberBanding:false,maxSpringDegrees:0,maxStretchXDegrees:0,maxStretchYDegrees:0,minVFOV:3,rubberBandConstant:0,slipFactor:0,springFactor:0,enableZoomWithShiftKey:false,enablePanningWithShiftKey:false}};f.exports=q}),null);
__d("ComposerVideoUploadSphericalVideoLoader",["cx","invariant","AsyncRequest","EventListener","SphericalVideoPlayer","VideoData","VideoPlayerController","VideoPlayerHTML5Api","VideoProjection","XVideoDataController"],(function a(b,c,d,e,f,g,h,i){__p&&__p();b.URL=b.URL||b.webkitURL;var j=function j(l){if(l&&b.URL&&b.URL.createObjectURL)return b.URL.createObjectURL(l);else return null};k.prototype.load=function(l,m,n){__p&&__p();var o=arguments.length<=3||arguments[3]===undefined?false:arguments[3];"use strict";l||m||i(0);if(m){var p=c("XVideoDataController").getURIBuilder().setString("video_id",m).setEnum("preferred_projection",c("VideoProjection").CUBEMAP).getURI();new(c("AsyncRequest"))().setMethod("GET").setURI(p).setReadOnly(true).setOption("suppressEvaluation",true).setAllowCrossPageTransition(true).setHandler(function(r){var s=new(c("VideoData"))(JSON.parse(r.payload.responseText)),t=s.hasHD()?s.getPlayableSrcHD():s.getPlayableSrcSD();if(!t){n.onError();return}this.$ComposerVideoUploadSphericalVideoLoader1(babelHelpers["extends"]({},n,{projection:s.getProjection()||c("VideoProjection").EQUIRECTANGULAR,videoID:m,videoUrl:t}),o)}.bind(this)).setErrorHandler(n.onError).send()}else if(l){var q=j(l);if(!q){n.onError();return}this.$ComposerVideoUploadSphericalVideoLoader1(babelHelpers["extends"]({videoID:m,videoUrl:q},n),o)}};k.prototype.$ComposerVideoUploadSphericalVideoLoader1=function(l,m){"use strict";var n=l.video;n.setAttribute("src",l.videoUrl);var o=c("EventListener").listen(n,"loadeddata",function(){o.remove();this.$ComposerVideoUploadSphericalVideoLoader2(l,m)}.bind(this))};k.prototype.$ComposerVideoUploadSphericalVideoLoader2=function(l,m){"use strict";var n={initialHeading:l.initialHeading,initialPitch:l.initialPitch,fieldOfView:l.fieldOfView,projectionType:l.projection,stereoFormat:l.stereoFormat,expansionCoef:1.01},o={viewportClassName:m?"_2z6k":"_4aa0",videoID:l.videoID||"",eagerPreload:true,preventScrollDefaultAction:true,useViewportDimension:true},p=new(c("VideoPlayerController"))({apiModule:c("VideoPlayerHTML5Api"),apiConfig:{disableNativeControls:null,VideoPlayerHTML5Shaka:null,subtitlesActive:null,videoData:[{hd_src:l.videoUrl,sd_src:l.videoUrl,stream_type:"progressive"}]},disableLogging:true,should_autoplay:l.autoplay,components:[new(c("SphericalVideoPlayer"))(n,o)]},{root_element:l.root,container_element:l.root,video_element:l.video});if(p.getOption("SphericalVideoPlayer","isReady"))l.onSuccess(p);else if(p.getOption("SphericalVideoPlayer","isUnavailable"))l.onError()};function k(){"use strict"}f.exports=new k()}),null);
__d("ComposerVideoUploadSphericalVideoGuideThumbnailsLoader",["ComposerVideoUploadSphericalVideoLoader","DOM","immutable","SphericalVideoPlayerEvents"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").List,i=1e3,j=100;function k(m,n,o){__p&&__p();var p=arguments.length<=3||arguments[3]===undefined?false:arguments[3],q=arguments[4],r=arguments[5];l.call(this);this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader1=m;this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader2=n;this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader3=q;this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader4=o;this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader5=p;this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader6=r;this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader8=null;this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7=null}k.prototype.setKeyframes=function(m){this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader3=m;return this};k.prototype.setProjection=function(m){if(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7)this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7.emit(c("SphericalVideoPlayerEvents").SET_VIDEO_PROJECTION,m);else this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader4.projection=m;return this};k.prototype.setStereoMode=function(m){if(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7)this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7.emit(c("SphericalVideoPlayerEvents").SET_STEREO_MODE,m);else this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader4.stereoFormat=m;return this};k.prototype.reloadThumbnails=function(){if(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader8)clearTimeout(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader8);this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader8=setTimeout(function(){if(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7)this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader9(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7);else{var m=c("DOM").create("div"),n=c("DOM").create("video",{crossOrigin:"anonymous"});c("DOM").appendContent(m,n);c("ComposerVideoUploadSphericalVideoLoader").load(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader1,this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader2,babelHelpers["extends"]({},this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader4,{root:m,video:n,onSuccess:this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader9,onError:function o(){},autoplay:false}),this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader5)}}.bind(this))};k.prototype.destroy=function(){if(this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7)this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7.destroy()};var l=function l(){__p&&__p();this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader9=function(m){__p&&__p();var n=false;if(!this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7){this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader7=m;n=true}var o=this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader3;if(o.size===0){this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader8=null;return}var p=this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader5?1:2;m.setDimensions(j*p,j);var q=0,r=m.addListener("seekEnd",function(){__p&&__p();var s=o.get(q);m.setSphericalOrientation(s.yaw,s.pitch);var t=m.getOption("SphericalVideoPlayer","getScreenshotDataURL");if(m.getCurrentTimePosition()===0){m.seek(1/i);return}o=o.update(q,function(u){return u.set("thumbnailURI",t)});this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader6(o);q++;if(q<o.size)m.seek(o.get(q).timestamp/i);else{r.remove();this.$ComposerVideoUploadSphericalVideoGuideThumbnailsLoader8=null}}.bind(this));if(n)m.once("updateMetadata",function(){m.seek(o.first().timestamp/i)});else m.seek(o.first().timestamp/i)}.bind(this)};f.exports=k}),null);
__d("DataURLVideoThumbnail",["VideoThumbnail","dataURLToBlob"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("VideoThumbnail"));i=h&&h.prototype;function j(k,l){var m=arguments.length<=2||arguments[2]===undefined?0:arguments[2];"use strict";i.constructor.call(this,null);this.$CanvasSphericalVideoThumbnail1=l;this.$CanvasSphericalVideoThumbnail2=m;this.$CanvasSphericalVideoThumbnail3=k}j.prototype.getTime=function(){"use strict";return this.$CanvasSphericalVideoThumbnail2};j.prototype.getURL=function(){"use strict";return this.$CanvasSphericalVideoThumbnail3};j.prototype.getData=function(){"use strict";return c("dataURLToBlob")(this.$CanvasSphericalVideoThumbnail3,this.$CanvasSphericalVideoThumbnail1)};f.exports=j}),null);
__d("cropDataURLToDimension",["DOM"],(function a(b,c,d,e,f,g){"use strict";function h(i,j,k){var l=c("DOM").create("canvas",{width:k.width,height:k.height}),m=l.getContext("2d");m.drawImage(i,j.x,j.y,k.width,k.height,0,0,k.width,k.height);return l.toDataURL()}f.exports=h}),null);
__d("ComposerVideoUploadSphericalControlsTabContainer.react",["fbt","ComposerVideoUploadSphericalAction","ComposerVideoUploadActions","ComposerVideoUploadSphericalConstants","ReactComposerPropsAndStoreBasedStateMixin","ComposerVideoUploadSphericalControlsTab.react","ComposerVideoUploadSphericalVideoGuideThumbnailsLoader","DataURLVideoThumbnail","DOM","ComposerVideoUploadSphericalGuideKeyframeData","immutable","React","ReactComposerContextTypes","ComposerVideoUploadSphericalStore","VideoUploadSphericalControlsAction","SphericalVideoExperiments","VideoStereoFormat","VideoUploadSphericalLogger","cropDataURLToDimension"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("immutable").List,j=c("React").PropTypes,k=[c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.CROSSPOST_DIALOG_V1,c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.EDIT_DIALOG_V1,c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.PAGE_COMPOSER_V1,c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.PAGE_COMPOSER_V2,c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.STANDALONE],l=1e3,m=h._("All of the points you've selected will be deleted. To edit your points instead, choose \"Edit Point\" when viewing a thumbnail."),n=h._("Delete points of interest?"),o="image/jpeg",p=c("React").createClass({displayName:"ComposerVideoUploadSphericalControlsTabContainer",_loggedImpression:false,_guideThumbnailsLoader:null,_enableComposerRedesign:false,_enableTextHotspots:false,_enableImageHotspots:false,_thumbnailAspectRatio:2,contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ComposerVideoUploadSphericalStore"))],statics:{calculateState:function q(r,s){var t=c("ComposerVideoUploadSphericalStore").getCurrentViewport(r),u=t.pitch,v=t.yaw,w=c("ComposerVideoUploadSphericalStore").getFOV(r),x=c("ComposerVideoUploadSphericalStore").getVideoUnavailable(r),y=!c("ComposerVideoUploadSphericalStore").getVideoPlayerController(r)&&!x,z=c("ComposerVideoUploadSphericalStore").getEnableOmnistab(r),A=c("ComposerVideoUploadSphericalStore").getExpandedSections(r),B=c("ComposerVideoUploadSphericalStore").getGuideVisibility(r),C=c("ComposerVideoUploadSphericalStore").getGuideKeyframes(r),D=c("ComposerVideoUploadSphericalStore").getSphericalHotspots(r),E=c("ComposerVideoUploadSphericalStore").getNextHotspotId(r),F=c("ComposerVideoUploadSphericalStore").getErrorMessageInfo(r)||{},G=c("ComposerVideoUploadSphericalStore").getIsEditingPointOfInterest(r),H=c("ComposerVideoUploadSphericalStore").getTabVisibility(r)&&y,I=c("ComposerVideoUploadSphericalStore").getOriginalSphericalMetadata(r),J=c("ComposerVideoUploadSphericalStore").getProjection(r),K=c("ComposerVideoUploadSphericalStore").getStereoMode(r),L=c("ComposerVideoUploadSphericalStore").getHasSpatialAudio(r);return{pitch:u,yaw:v,fov:w,projection:J,stereoMode:K,hasSpatialAudio:L,videoLoading:y,videoUnavailable:x,enableOmnistab:z,expandedSections:A,guideVisible:B,keyframes:C,hotspots:D,nextHotspotId:E,errorMessageText:F.text,errorMessageTitle:F.title,errorMessageConfirmOnly:F.confirmOnly,errorMessageCallback:F.callback,isEditingKeyframe:G,shouldLoadVideo:H,sphericalMetadata:I}}},propTypes:{shown:j.bool.isRequired,showOmnistabSection:j.bool,hasOmnistabEncoding:j.bool,isEditing:j.bool,videoFile:j.object,videoID:j.string,targetID:j.string,startVisible:j.bool,componentSource:j.oneOf(k).isRequired},componentWillMount:function q(){__p&&__p();var r=this.context.composerID;c("ComposerVideoUploadSphericalAction").resetVideoPlayerController(r);if(!this.props.showOmnistabSection)c("ComposerVideoUploadSphericalAction").updateEnableOmnistab(r,false);if(this.props.startVisible)c("ComposerVideoUploadSphericalAction").updateTabVisibility(this.context.composerID,this.props.shown);var s=c("ComposerVideoUploadSphericalStore").getCurrentViewport(r);c("VideoUploadSphericalLogger").setIsRedesign(true).setIsNuxTest(c("SphericalVideoExperiments").enableComposerNuxExperiment).setTargetID(this.props.targetID?Number(this.props.targetID):null).setVideoID(this.props.videoID?Number(this.props.videoID):null).setYawDegrees(s.yaw).setPitchDegrees(s.pitch).setFieldOfView(c("ComposerVideoUploadSphericalStore").getFOV(r)).setVideoPreviewPosition(0);var t=this.props.componentSource===c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.CROSSPOST_DIALOG_V1||this.props.componentSource===c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.EDIT_DIALOG_V1;this._enableComposerRedesign=c("SphericalVideoExperiments").enableComposerRedesign;this._enableTextHotspots=c("SphericalVideoExperiments").enableTextHotspots&&this._enableComposerRedesign&&!t;this._enableImageHotspots=c("SphericalVideoExperiments").enableImageHotspots&&this._enableComposerRedesign&&!t;this._thumbnailAspectRatio=this._enableComposerRedesign?1:2},componentDidMount:function q(){this._createGuideThumbnailsLoader()},componentDidUpdate:function q(r,s){__p&&__p();if(r.shown!==this.props.shown)c("ComposerVideoUploadSphericalAction").updateTabVisibility(this.context.composerID,this.props.shown);if(this.props.shown&&!this._loggedImpression){var t=c("VideoUploadSphericalControlsAction").TAB_IMPRESSION;c("VideoUploadSphericalLogger").setUserAction(t).log();this._loggedImpression=true}if(Object.keys(s.sphericalMetadata).length===0&&Object.keys(this.state.sphericalMetadata).length>0)this._createGuideThumbnailsLoader();if(this.state.projection!==s.projection||this.state.stereoMode!==s.stereoMode)this.reloadGuideThumbnails()},componentWillUnmount:function q(){var r=c("ComposerVideoUploadSphericalStore").getVideoPlayerController(this.context.composerID);if(r)r.destroy();if(this._guideThumbnailsLoader)this._guideThumbnailsLoader.destroy()},render:function q(){return c("React").createElement(c("ComposerVideoUploadSphericalControlsTab.react"),{errorMessageConfirmOnly:this.state.errorMessageConfirmOnly,errorMessageText:this.state.errorMessageText,errorMessageTitle:this.state.errorMessageTitle,expandedSections:this.state.expandedSections,fov:this.state.fov,guideEnabled:true,guideVisible:this.state.guideVisible,isEditingKeyframe:this.state.isEditingKeyframe,keyframes:this.state.keyframes,hotspots:this.state.hotspots,nextHotspotId:this.state.nextHotspotId,onAcceptErrorMessage:this.state.errorMessageCallback,onClearErrorMessage:this._onClearErrorMessage,onCollapsableHeaderClick:this._onCollapsableHeaderClick,onCreateThumbnail:this._onCreateThumbnail,onFOVUpdate:this._onFOVUpdate,onGuideKeyframeSelected:this._onGuideKeyframeSelected,onGuideVisibilityUpdate:this._onGuideVisibilityUpdate,onHotspotAdded:this._onHotspotAdded,onHotspotDeleted:this._onHotspotDeleted,onLoadVideoError:this._onLoadVideoError,onLoadVideoSuccess:this._onLoadVideoSuccess,onPitchUpdate:this._onPitchUpdate,onPointOfInterestAdded:this._onPointOfInterestAddedOrSaved,onPointOfInterestSaved:this._onPointOfInterestAddedOrSaved,onPointOfInterestsCleared:this._onPointOfInterestsCleared,onPointsOfInterestRemoved:this._onPointsOfInterestRemoved,onPointOfInterestRemoved:this._onPointOfInterestRemoved,onSelectThumbnail:this._onSelectThumbnail,onToggleEnableOmnistab:this._onToggleEnableOmnistab,onToggleGuideKeyframeForDeletion:this._updateToggleGuideKeyframeForDeletion,onViewportUpdate:this._onViewportUpdate,onYawUpdate:this._onYawUpdate,onProjectionSelected:this._onProjectionSelected,onStereoModeSelected:this._onStereoModeSelected,onToggleSpatialAudio:this._onToggleSpatialAudio,pitch:this.state.pitch,shouldLoadVideo:this.state.shouldLoadVideo,shown:this.props.shown,showOmnistabSection:!!this.props.showOmnistabSection,omnistabEnabled:this.state.enableOmnistab,allowOmnistabToggle:this._allowOmnistabToggle(),togglePointOfInterestEdit:this._togglePointOfInterestEdit,updateActiveGuideKeyframe:this._updateActiveGuideKeyframe,videoFile:this.props.videoFile,videoID:this.props.videoID,videoLoading:this.state.videoLoading,videoUnavailable:this.state.videoUnavailable,yaw:this.state.yaw,projection:this.state.projection,stereoMode:this.state.stereoMode,hasSpatialAudio:this.state.hasSpatialAudio,isEditing:!!this.props.isEditing,componentSource:this.props.componentSource,enableComposerRedesign:this._enableComposerRedesign,enableTextHotspots:this._enableTextHotspots,enableImageHotspots:this._enableImageHotspots})},_createGuideThumbnailsLoader:function q(){if(!this._guideThumbnailsLoader)this._guideThumbnailsLoader=new(c("ComposerVideoUploadSphericalVideoGuideThumbnailsLoader"))(this.props.videoFile,this.props.videoID,{initialHeading:this.state.yaw,initialPitch:this.state.pitch,fieldOfView:this.state.fov,stereoFormat:this.state.stereoMode,projection:this.state.projection},this._enableComposerRedesign,this.state.keyframes,function(r){return c("ComposerVideoUploadSphericalAction").updateGuideKeyframes(this.context.composerID,r)}.bind(this));this._guideThumbnailsLoader.setKeyframes(this.state.keyframes).reloadThumbnails()},reloadGuideThumbnails:function q(){if(this._guideThumbnailsLoader)this._guideThumbnailsLoader.setProjection(this.state.projection).setStereoMode(this.state.stereoMode).setKeyframes(this.state.keyframes).reloadThumbnails()},_allowOmnistabToggle:function q(){return(!this.state.stereoMode||this.state.stereoMode===c("VideoStereoFormat").MONO)&&(!this.props.isEditing||!!this.props.hasOmnistabEncoding)},_onClearErrorMessage:function q(){c("ComposerVideoUploadSphericalAction").updateErrorMessage(this.context.composerID,null)},_onSelectThumbnail:function q(r){var s=new(c("DataURLVideoThumbnail"))(r.thumbnailURI,o,r.timestamp);c("ComposerVideoUploadActions").updateThumbnailFromSphericalPreview(this.context.composerID,s)},_onCreateThumbnail:function q(r){var s=r(),t=c("DOM").create("img",{src:s,onload:function(){var u=t.width,v=t.height,w=(u-this._thumbnailAspectRatio*v)/2;s=c("cropDataURLToDimension")(t,{x:w,y:0},{width:v*this._thumbnailAspectRatio,height:v});var x=new(c("DataURLVideoThumbnail"))(s,o);c("ComposerVideoUploadActions").updateThumbnailFromSphericalPreview(this.context.composerID,x);c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").CREATE_THUMBNAIL).log()}.bind(this)})},_onLoadVideoSuccess:function q(r){c("ComposerVideoUploadSphericalStore").addChangeListener(function(s){var t=s.composerID;if(t!=this.context.composerID)return;if(!c("ComposerVideoUploadSphericalStore").getTabVisibility(t))r.pause()}.bind(this));c("ComposerVideoUploadSphericalAction").setVideoPlayerController(this.context.composerID,r)},_onLoadVideoError:function q(){c("ComposerVideoUploadSphericalAction").setVideoUnavailable(this.context.composerID,true)},_onPitchUpdate:function q(r){this._onViewportUpdate(this.state.yaw,r)},_onYawUpdate:function q(r){this._onViewportUpdate(r,this.state.pitch)},_onViewportUpdate:function q(r,s){r=Math.round(r);s=Math.round(s);c("ComposerVideoUploadSphericalAction").updateCurrentViewport(this.context.composerID,s,r);c("VideoUploadSphericalLogger").setPitchDegrees(s).setYawDegrees(r).setUserAction(c("VideoUploadSphericalControlsAction").DRAG_VIDEO_PREVIEW).log()},_onFOVUpdate:function q(r){c("ComposerVideoUploadSphericalAction").updateFOV(this.context.composerID,r);c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").SCROLL_VIDEO_PREVIEW).setFieldOfView(r).log()},_onProjectionSelected:function q(r){c("ComposerVideoUploadSphericalAction").updateProjection(this.context.composerID,r)},_onStereoModeSelected:function q(r){c("ComposerVideoUploadSphericalAction").updateStereoMode(this.context.composerID,r)},_onToggleSpatialAudio:function q(){c("ComposerVideoUploadSphericalAction").updateHasSpatialAudio(this.context.composerID,!this.state.hasSpatialAudio)},_updateActiveGuideKeyframe:function q(r){c("ComposerVideoUploadSphericalAction").updateActiveGuideKeyframe(this.context.composerID,r)},_updateToggleGuideKeyframeForDeletion:function q(r){c("ComposerVideoUploadSphericalAction").updateToggleGuideKeyframeForDeletion(this.context.composerID,r)},_onGuideKeyframeSelected:function q(r){var s=c("ComposerVideoUploadSphericalStore").getVideoPlayerController(this.context.composerID);if(!s)return;s.seek(r.timestamp/l);s.setSphericalOrientation(r.yaw,r.pitch);s.pause();c("VideoUploadSphericalLogger").setPitchDegrees(r.pitch).setYawDegrees(r.yaw).setUserAction(c("VideoUploadSphericalControlsAction").SEARCH_POINT_OF_INTEREST).log()},_addOrSavePointOfInterest:function q(r,s,t,u){var v=this.context.composerID,w=new(c("ComposerVideoUploadSphericalGuideKeyframeData"))({timestamp:r,yaw:Math.round(t),pitch:Math.round(s),thumbnailURI:u,isSelected:true});if(this.state.isEditingKeyframe)c("ComposerVideoUploadSphericalAction").updateSaveGuideKeyframe(v,w);else c("ComposerVideoUploadSphericalAction").updateAddGuideKeyframe(v,w,this._enableComposerRedesign)},_onPointOfInterestAddedOrSaved:function q(r,s,t,u){var v,w=this,x=u();if(x)(function(){var y=c("DOM").create("img",{src:x,onload:function(){var z=y.width,A=y.height,B=(z-this._thumbnailAspectRatio*A)/2;x=c("cropDataURLToDimension")(y,{x:B,y:0},{width:A*this._thumbnailAspectRatio,height:A});this._addOrSavePointOfInterest(r,s,t,x)}.bind(w)})})();else this._addOrSavePointOfInterest(r,s,t)},_onPointsOfInterestRemoved:function q(){__p&&__p();var r=this.context.composerID;if(this._enableComposerRedesign){c("ComposerVideoUploadSphericalAction").updateDeleteSelectedGuideKeyframes(r);c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").REMOVE_POINT_OF_INTEREST).log()}else c("ComposerVideoUploadSphericalAction").updateErrorMessage(r,{text:m,title:n,callback:function s(t){if(t){c("ComposerVideoUploadSphericalAction").updateDeleteSelectedGuideKeyframes(r);c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").REMOVE_POINT_OF_INTEREST).log()}},confirmOnly:false})},_onPointOfInterestRemoved:function q(r){__p&&__p();var s=this.context.composerID;if(this._enableComposerRedesign){c("ComposerVideoUploadSphericalAction").updateRemoveGuideKeyframe(s,r);c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").REMOVE_POINT_OF_INTEREST).log()}else c("ComposerVideoUploadSphericalAction").updateErrorMessage(s,{text:m,title:n,callback:function t(u){if(u){c("ComposerVideoUploadSphericalAction").updateRemoveGuideKeyframe(s,r);c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").REMOVE_POINT_OF_INTEREST).log()}},confirmOnly:false})},_onPointOfInterestsCleared:function q(){var r=this.context.composerID;c("ComposerVideoUploadSphericalAction").updateClearGuideKeyframes(r)},_togglePointOfInterestEdit:function q(r){var s=this.context.composerID;c("ComposerVideoUploadSphericalAction").updateIsEditingPointOfInterest(s,r)},_onGuideStateUpdate:function q(r){c("ComposerVideoUploadSphericalAction").updateGuideEnabled(this.context.composerID,r)},_onGuideVisibilityUpdate:function q(r){c("ComposerVideoUploadSphericalAction").updateGuideVisibility(this.context.composerID,r)},_onCollapsableHeaderClick:function q(r){c("ComposerVideoUploadSphericalAction").updateSectionStatus(this.context.composerID,r)},_onToggleEnableOmnistab:function q(event){c("ComposerVideoUploadSphericalAction").updateEnableOmnistab(this.context.composerID,!this.state.enableOmnistab)},_onHotspotAdded:function q(r,s){var t=this.context.composerID;c("ComposerVideoUploadSphericalAction").updateAddHotspot(t,r,s)},_onHotspotDeleted:function q(r){var s=this.context.composerID;c("ComposerVideoUploadSphericalAction").updateDeleteHotspot(s,r)}});f.exports=p}),null);
__d("ComposerVideoUploadSphericalFOVSlider.react",["ix","cx","fbt","Event","FBNoSelect","Image.react","React","ShimButton.react","Tooltip.react","asset","forEachObject","getElementRect"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=.001,n=10,o=j._("Zoom in or out to adjust the field of view");k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(q){l.constructor.call(this,q);this.state={isDragging:false,top:0};this.$ComposerVideoUploadSphericalFOVSlider4=10;var r=q.value!==null?parseFloat(q.value.toFixed(q.decimalPlaces)):q.min;this.state={top:this.$ComposerVideoUploadSphericalFOVSlider5(r,q.min,q.max),isDragging:false}}p.prototype.$ComposerVideoUploadSphericalFOVSlider5=function(q,r,s){return Math.min(s,Math.max(r,q))};p.prototype.$ComposerVideoUploadSphericalFOVSlider6=function(q){var r=c("getElementRect")(this.refs.sliderBox),s=this.props.horizontal?r.right-q.pageX:q.pageY-r.top;if(q.type!=="mousemove"){var t=(this.props.horizontal?r.width:r.height)*this.$ComposerVideoUploadSphericalFOVSlider7(this.state.top);if(s>=t&&s<=t+this.$ComposerVideoUploadSphericalFOVSlider4)this.$ComposerVideoUploadSphericalFOVSlider1=s-t;else this.$ComposerVideoUploadSphericalFOVSlider1=this.$ComposerVideoUploadSphericalFOVSlider4/2}var u=(s-this.$ComposerVideoUploadSphericalFOVSlider1)/(this.props.horizontal?r.width:r.height);return this.$ComposerVideoUploadSphericalFOVSlider5(u,0,1)};p.prototype.$ComposerVideoUploadSphericalFOVSlider8=function(q){var r=this.props,s=r.min,t=r.max,u=t-s;return q*u+s};p.prototype.$ComposerVideoUploadSphericalFOVSlider7=function(q){var r=this.props,s=r.min,t=r.max;return this.$ComposerVideoUploadSphericalFOVSlider5((q-s)/(t-s),0,1)};p.prototype.$ComposerVideoUploadSphericalFOVSlider9=function(q){var r=parseFloat(q.toFixed(this.props.decimalPlaces));if(Math.abs(r-this.$ComposerVideoUploadSphericalFOVSlider3)>m){this.$ComposerVideoUploadSphericalFOVSlider3=r;this.props.onChange(r)}};p.prototype.$ComposerVideoUploadSphericalFOVSlider10=function(q){if(this.state.isDragging){this.setState({isDragging:false});c("forEachObject")(this.$ComposerVideoUploadSphericalFOVSlider2,function(r){return r.remove()});if(this.props.onMouseUp)this.props.onMouseUp(q)}};p.prototype.$ComposerVideoUploadSphericalFOVSlider11=function(q){if(this.state.isDragging){var r=this.$ComposerVideoUploadSphericalFOVSlider8(this.$ComposerVideoUploadSphericalFOVSlider6(q));this.setState({top:r});this.$ComposerVideoUploadSphericalFOVSlider9(r)}};p.prototype.$ComposerVideoUploadSphericalFOVSlider12=function(q){var r=this.$ComposerVideoUploadSphericalFOVSlider8(this.$ComposerVideoUploadSphericalFOVSlider6(q));this.setState({isDragging:true,top:r});this.$ComposerVideoUploadSphericalFOVSlider9(r);this.$ComposerVideoUploadSphericalFOVSlider2=c("Event").listen(document,{mousemove:this.$ComposerVideoUploadSphericalFOVSlider11.bind(this),mouseup:this.$ComposerVideoUploadSphericalFOVSlider10.bind(this)});if(this.props.onMouseDown)this.props.onMouseDown(q)};p.prototype.$ComposerVideoUploadSphericalFOVSlider13=function(q){var r=this.state.top,s=this.$ComposerVideoUploadSphericalFOVSlider5(r-q,this.props.min,this.props.max);return function(){this.setState({top:s});this.$ComposerVideoUploadSphericalFOVSlider9(s)}.bind(this)};p.prototype.componentWillReceiveProps=function(q){this.setState({top:q.value!==null?q.value:q.min})};p.prototype.componentDidMount=function(){c("FBNoSelect").addBlockClass("_223c");this.$ComposerVideoUploadSphericalFOVSlider3=0};p.prototype.componentWillUnmount=function(){c("FBNoSelect").removeBlockClass("_223c");this.$ComposerVideoUploadSphericalFOVSlider10({})};p.prototype.render=function(){var q=this.$ComposerVideoUploadSphericalFOVSlider7(this.state.top)*100,r={top:q+"%"},s=this.props.newStyling?"#4b4f56":"white",t={background:"linear-gradient(rgba(256,256,256,0.3) "+q+"%, "+s+" "+(1-q)+"%)"};return c("React").createElement("div",{className:"_223d"+(this.props.horizontal?" _wjr":"")+(this.props.newStyling?" _gcs":"")},c("React").createElement(c("ShimButton.react"),{className:"_223e _gct",onClick:this.$ComposerVideoUploadSphericalFOVSlider13(n)},this.props.newStyling?c("React").createElement(c("Image.react"),{className:"_4qb9",src:h("438988")}):c("React").createElement("div",{className:"_gcu"},"+")),c("React").createElement("div",{className:"_223f"},c("React").createElement("div",{className:"_223c",onMouseDown:this.$ComposerVideoUploadSphericalFOVSlider12.bind(this),tabIndex:0},c("React").createElement("div",{className:"_223w"},c("React").createElement("div",{style:t,className:"_223x"})),c("React").createElement("div",{ref:"sliderBox",className:"_223y"},c("React").createElement("div",{ref:"handle",className:"_223z",style:r}))),c("React").createElement(c("Tooltip.react"),{tooltip:o,position:"left"},c("React").createElement("div",{className:"_45dj"+(this.props.horizontal?" _wjr":"")}))),c("React").createElement(c("ShimButton.react"),{className:"_223e _gcv",onClick:this.$ComposerVideoUploadSphericalFOVSlider13(-1*n)},this.props.newStyling?c("React").createElement(c("Image.react"),{className:"_4qb9",src:h("394277")}):c("React").createElement("div",{className:"_gcw"},"-")))};f.exports=p}),null);
__d("ComposerVideoUploadSphericalAddAnnotationLayer.react",["ix","cx","ComposerVideoUploadSphericalMediaToolkitButton.react","React","asset"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){"use strict";return c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_2ysg _4wni",thumbnail:h("439005"),onClick:this.props.handleAddButtonClick})};function l(){"use strict";j.apply(this,arguments)}f.exports=l}),null);
__d("ComposerVideoUploadSphericalHotspotSaveNux.react",["fbt","React","XUIAmbientNUX.react","XUIText.react"],(function a(b,c,d,e,f,g,h){"use strict";function i(j){return c("React").createElement(c("XUIAmbientNUX.react"),{customwidth:150,contextRef:j.contextRef,position:"right",shown:j.showNux,width:"custom",onCloseButtonClick:j.handleNuxClosed},c("React").createElement(c("XUIText.react"),{size:"meta1",display:"block"},h._("Click outside the annotation to save")))}f.exports=i}),null);
__d("SphericalVideoMediaToolkitAlignments",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LEFT:"left",CENTER:"center",RIGHT:"right"})}),null);
__d("SphericalVideoMediaToolkitBackgrounds",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BLACK:"black",WHITE:"white",NONE:"none"})}),null);
__d("SphericalVideoMediaToolkitColors",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BLACK:"black",BLUE:"blue",GREEN:"green",PURPLE:"purple",ROSE:"rose",WHITE:"white",YELLOW:"yellow"})}),null);
__d("SphericalVideoMediaToolkitFontSizes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SMALL:"small",MEDIUM:"medium",LARGE:"large"})}),null);
__d("SphericalVideoMediaToolkitFontWeights",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LIGHT:"light",BOLD:"bold"})}),null);
__d("SphericalVideoMediaToolkitTextStyles",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ALIGNMENT:"alignment",BACKGROUND:"backgroundColor",COLOR:"color",FONT_SIZE:"fontSize",FONT_WEIGHT:"fontWeight"})}),null);
__d("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles",["SphericalVideoMediaToolkitAlignments","SphericalVideoMediaToolkitBackgrounds","SphericalVideoMediaToolkitColors","SphericalVideoMediaToolkitFontSizes","SphericalVideoMediaToolkitFontWeights","SphericalVideoMediaToolkitTextStyles","SphericalVideoHotspotTextAlignment"],(function a(b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;f.exports=(m={},m[c("SphericalVideoMediaToolkitTextStyles").COLOR]=(h={},h[c("SphericalVideoMediaToolkitColors").BLACK]="#000000",h[c("SphericalVideoMediaToolkitColors").BLUE]="#1C4F8C",h[c("SphericalVideoMediaToolkitColors").GREEN]="#6BCEBB",h[c("SphericalVideoMediaToolkitColors").PURPLE]="#8C72CB",h[c("SphericalVideoMediaToolkitColors").ROSE]="#F2B8AD",h[c("SphericalVideoMediaToolkitColors").WHITE]="#FFFFFF",h[c("SphericalVideoMediaToolkitColors").YELLOW]="#FCD872",h),m[c("SphericalVideoMediaToolkitTextStyles").FONT_SIZE]=(i={},i[c("SphericalVideoMediaToolkitFontSizes").SMALL]=12,i[c("SphericalVideoMediaToolkitFontSizes").MEDIUM]=16,i[c("SphericalVideoMediaToolkitFontSizes").LARGE]=20,i),m[c("SphericalVideoMediaToolkitTextStyles").ALIGNMENT]=(j={},j[c("SphericalVideoMediaToolkitAlignments").LEFT]=c("SphericalVideoHotspotTextAlignment").LEFT,j[c("SphericalVideoMediaToolkitAlignments").CENTER]=c("SphericalVideoHotspotTextAlignment").CENTER,j[c("SphericalVideoMediaToolkitAlignments").RIGHT]=c("SphericalVideoHotspotTextAlignment").RIGHT,j),m[c("SphericalVideoMediaToolkitTextStyles").BACKGROUND]=(k={},k[c("SphericalVideoMediaToolkitBackgrounds").BLACK]="#000000",k[c("SphericalVideoMediaToolkitBackgrounds").NONE]="none",k[c("SphericalVideoMediaToolkitBackgrounds").WHITE]="#FFFFFF",k),m[c("SphericalVideoMediaToolkitTextStyles").FONT_WEIGHT]=(l={},l[c("SphericalVideoMediaToolkitFontWeights").LIGHT]="light",l[c("SphericalVideoMediaToolkitFontWeights").BOLD]="bold",l),m)}),null);
__d("SphericalVideoHotspotActionTrigger",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SINGLE_CLICK:"single_click"})}),null);
__d("ComposerVideoUploadSphericalMediaToolkitConstants",["fbt","SphericalVideoMediaToolkitAlignments","SphericalVideoMediaToolkitBackgrounds","SphericalVideoMediaToolkitColors","SphericalVideoMediaToolkitFontSizes","SphericalVideoMediaToolkitFontWeights","SphericalVideoMediaToolkitTextStyles","SphericalVideoHotspotActionTrigger","SphericalVideoHotspotAnimation","ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles"],(function a(b,c,d,e,f,g,h){var i=Object.freeze({NW:"NW",NE:"NE",SW:"SW",SE:"SE"});f.exports={BOX_SHADOW:"rgba(0, 0, 0, .1) 0 3px 5px",DEFAULT_ALIGNMENT:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[c("SphericalVideoMediaToolkitTextStyles").ALIGNMENT][c("SphericalVideoMediaToolkitAlignments").CENTER],DEFAULT_ANIMATION:c("SphericalVideoHotspotAnimation").NO_ANIM,DEFAULT_BACKGROUND_COLOR:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[c("SphericalVideoMediaToolkitTextStyles").BACKGROUND][c("SphericalVideoMediaToolkitBackgrounds").WHITE],DEFAULT_COLOR:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[c("SphericalVideoMediaToolkitTextStyles").COLOR][c("SphericalVideoMediaToolkitColors").BLUE],DEFAULT_DURATION_MS:5e3,DEFAULT_FONT_FAMILY:"Montserrat",DEFAULT_FONT_SIZE:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[c("SphericalVideoMediaToolkitTextStyles").FONT_SIZE][c("SphericalVideoMediaToolkitFontSizes").MEDIUM],DEFAULT_FONT_WEIGHT:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[c("SphericalVideoMediaToolkitTextStyles").FONT_WEIGHT][c("SphericalVideoMediaToolkitFontWeights").LIGHT],DEFAULT_HEIGHT_FOR_IMAGE:50,DEFAULT_HEIGHT_FOR_TEXT:34,DEFAULT_ID:-1,DEFAULT_IMAGE_DATA:"",DEFAULT_LINE_HEIGHT:1.3,DEFAULT_LINK_ACTION_URL:"",DEFAULT_LINK_ACTION_TRIGGER:c("SphericalVideoHotspotActionTrigger").SINGLE_CLICK,DEFAULT_PADDING:8,DEFAULT_PITCH:0,DEFAULT_START_TIME:0,DEFAULT_TEXT:"",DEFAULT_WIDTH_FOR_IMAGE:50,DEFAULT_WIDTH_FOR_TEXT:200,DEFAULT_YAW:0,EDITING_BACKGROUND_COLOR:{"#000000":"rgba(0, 0, 0, .5)","#FFFFFF":"rgba(255, 255, 255, .8)",none:"rgba(255, 255, 255, .4)"},HOTSPOT_ENTRY_NUX_ID:5555,HOTSPOT_SAVE_NUX_ID:5556,IMAGE_BAR_PREVIEW_HEIGHT_PX:46,IMAGE_BAR_PREVIEW_WIDTH_PX:46,IMAGE_HOTSPOT_DEFAULT_MAX_HEIGHT_PX:100,IMAGE_HOTSPOT_DEFAULT_MAX_WIDTH_PX:100,IMAGE_HOTSPOT_MAX_FILE_SIZE:2621440,IMAGE_HOTSPOT_MAX_HEIGHT_PX:150,IMAGE_HOTSPOT_MAX_WIDTH_PX:150,IMAGE_HOTSPOT_MIN_HEIGHT_PX:25,IMAGE_HOTSPOT_MIN_WIDTH_PX:25,IMAGE_RESIZE_HANDLE_CORNERS:i,SUPPORTED_CHARS_REGEX:/^[\u0020-\u007e\u00ax-\u00ff\u0100-\u017f\u0180-\u024f\u20ac\u2018\u2019\u201c\u201d\t\n\r]*$/,SUPPORTED_IMAGE_FILE_EXTENSIONS:["png","jpg","jpeg"],TEXT_BAR_DEFAULT_ALIGNMENT:c("SphericalVideoMediaToolkitAlignments").CENTER,TEXT_BAR_DEFAULT_BACKGROUND:c("SphericalVideoMediaToolkitBackgrounds").WHITE,TEXT_BAR_DEFAULT_COLOR:c("SphericalVideoMediaToolkitColors").BLUE,TEXT_BAR_DEFAULT_FONT_SIZE:c("SphericalVideoMediaToolkitFontSizes").MEDIUM,TEXT_BAR_DEFAULT_FONT_WEIGHT:c("SphericalVideoMediaToolkitFontWeights").LIGHT,TEXTAREA_MAX_CHARS:50,TEXTAREA_MIN_ROWS:1,TEXTAREA_PLACEHOLDER:h._("Type something")}}),null);
__d("ComposerVideoUploadSphericalMediaToolkitAnnotationEditLayerTextAreaAutoGrow.react",["cx","invariant","ComposerVideoUploadSphericalMediaToolkitConstants","React","ReactDOM","TextAreaControl"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.prototype.componentDidMount=function(){this.$ComposerVideoUploadSphericalMediaToolkitAnnotationEditLayerTextAreaAutoGrow1||i(0);this.props.setTextareaRef(this.$ComposerVideoUploadSphericalMediaToolkitAnnotationEditLayerTextAreaAutoGrow1);var m=new(c("TextAreaControl"))(c("ReactDOM").findDOMNode(this.$ComposerVideoUploadSphericalMediaToolkitAnnotationEditLayerTextAreaAutoGrow1)).setAutogrow(true);m.resetHeight();this.props.handleTextareaMounted()};l.prototype.render=function(){return c("React").createElement("textarea",{className:"_2cvs",defaultValue:this.props.defaultValue,value:this.props.value,maxLength:this.props.maxLength,placeholder:this.props.placeholder,ref:function(m){return this.$ComposerVideoUploadSphericalMediaToolkitAnnotationEditLayerTextAreaAutoGrow1=m}.bind(this),rows:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXTAREA_MIN_ROWS,onChange:this.props.onChange})};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("ComposerVideoUploadSphericalMediaToolkitStyleBarImages",["ix","SphericalVideoMediaToolkitAlignments","SphericalVideoMediaToolkitBackgrounds","SphericalVideoMediaToolkitColors","SphericalVideoMediaToolkitFontSizes","SphericalVideoMediaToolkitFontWeights","SphericalVideoMediaToolkitTextStyles"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n;f.exports=(n={},n[c("SphericalVideoMediaToolkitTextStyles").COLOR]=(i={},i[c("SphericalVideoMediaToolkitColors").BLACK]=h("403017"),i[c("SphericalVideoMediaToolkitColors").BLUE]=h("403018"),i[c("SphericalVideoMediaToolkitColors").GREEN]=h("403019"),i[c("SphericalVideoMediaToolkitColors").PURPLE]=h("403020"),i[c("SphericalVideoMediaToolkitColors").ROSE]=h("403021"),i[c("SphericalVideoMediaToolkitColors").WHITE]=h("403022"),i[c("SphericalVideoMediaToolkitColors").YELLOW]=h("403023"),i),n[c("SphericalVideoMediaToolkitTextStyles").FONT_SIZE]=(j={},j[c("SphericalVideoMediaToolkitFontSizes").SMALL]=h("403024"),j[c("SphericalVideoMediaToolkitFontSizes").MEDIUM]=h("403024"),j[c("SphericalVideoMediaToolkitFontSizes").LARGE]=h("403024"),j),n[c("SphericalVideoMediaToolkitTextStyles").ALIGNMENT]=(k={},k[c("SphericalVideoMediaToolkitAlignments").LEFT]=h("403011"),k[c("SphericalVideoMediaToolkitAlignments").CENTER]=h("403010"),k[c("SphericalVideoMediaToolkitAlignments").RIGHT]=h("403012"),k),n[c("SphericalVideoMediaToolkitTextStyles").BACKGROUND]=(l={},l[c("SphericalVideoMediaToolkitBackgrounds").BLACK]=h("403013"),l[c("SphericalVideoMediaToolkitBackgrounds").NONE]=h("403014"),l[c("SphericalVideoMediaToolkitBackgrounds").WHITE]=h("403015"),l),n[c("SphericalVideoMediaToolkitTextStyles").FONT_WEIGHT]=(m={},m[c("SphericalVideoMediaToolkitFontWeights").LIGHT]=h("403027"),m[c("SphericalVideoMediaToolkitFontWeights").BOLD]=h("403016"),m),n)}),null);
__d("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBarButton.react",["cx","Image.react","React","ShimButton.react","ComposerVideoUploadSphericalMediaToolkitStyleBarImages"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("ShimButton.react"),{className:"_27mk",onClick:function(){return this.props.handleClick(this.props.textStyleType)}.bind(this)},c("React").createElement(c("Image.react"),{className:"_qon",src:c("ComposerVideoUploadSphericalMediaToolkitStyleBarImages")[this.props.textStyleType][this.props.textStyleValue]}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBar.react",["cx","ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBarButton.react","FlexLayout.react","React","SphericalVideoMediaToolkitTextStyles"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("FlexLayout.react"),{className:"_27mj",align:"center",justify:"all"},c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBarButton.react"),{textStyleType:c("SphericalVideoMediaToolkitTextStyles").COLOR,textStyleValue:this.props.textStyles[c("SphericalVideoMediaToolkitTextStyles").COLOR],handleClick:this.props.handleButtonClick}),c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBarButton.react"),{textStyleType:c("SphericalVideoMediaToolkitTextStyles").FONT_SIZE,textStyleValue:this.props.textStyles[c("SphericalVideoMediaToolkitTextStyles").FONT_SIZE],handleClick:this.props.handleButtonClick}),c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBarButton.react"),{textStyleType:c("SphericalVideoMediaToolkitTextStyles").ALIGNMENT,textStyleValue:this.props.textStyles[c("SphericalVideoMediaToolkitTextStyles").ALIGNMENT],handleClick:this.props.handleButtonClick}),c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBarButton.react"),{textStyleType:c("SphericalVideoMediaToolkitTextStyles").FONT_WEIGHT,textStyleValue:this.props.textStyles[c("SphericalVideoMediaToolkitTextStyles").FONT_WEIGHT],handleClick:this.props.handleButtonClick}),c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBarButton.react"),{textStyleType:c("SphericalVideoMediaToolkitTextStyles").BACKGROUND,textStyleValue:this.props.textStyles[c("SphericalVideoMediaToolkitTextStyles").BACKGROUND],handleClick:this.props.handleButtonClick}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("SphericalProjectionUtils",["invariant","degToRad","gl-matrix","radToDeg"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("gl-matrix").vec3,j=c("gl-matrix").mat4,k=Math.acos,l=Math.sin,m=Math.cos,n=15,o=.2,p={convert3dTo2dNormalized:function q(r,s,t,u,v,w,x){__p&&__p();var y=c("degToRad")(r),z=c("degToRad")(s),A=c("degToRad")(t),B=c("degToRad")(u),C=c("degToRad")(v),D=j.create();j.perspective(D,C,w/x,.1,100);var E=j.create();j.rotateX(E,E,z);j.rotateY(E,E,y);j.invert(E,E);var F=j.create();j.rotateX(F,F,B);j.rotateY(F,F,A);j.multiply(F,F,E);j.multiply(F,D,F);var G=i.fromValues(0,0,-1);i.transformMat4(G,G,F);var H=.5+G[0]/2,I=.5+G[1]/2;return{x:H,y:I,isNegativeTwin:G[2]>1}},convert3dTo2dScaled:function q(r,s,t,u,v,w,x){var y=p.convert3dTo2dNormalized.apply(p,arguments),z=y.x,A=y.y,B=y.isNegativeTwin;return{x:z*w,y:A*x,isNegativeTwin:B}},convert3dTo2dScaledUnique:function q(r,s,t,u,v,w,x){var y=p.convert3dTo2dNormalized.apply(p,arguments),z=y.x,A=y.y,B=y.isNegativeTwin;if(B)z=A=-1;else{z*=w;A*=x}return{x:z,y:A}},convert3dTo2dOnScreen:function q(r,s,t,u,v,w,x){var y=p.convert3dTo2dScaled.apply(p,arguments),z=y.x,A=y.y,B=y.isNegativeTwin;if(B){z=-z;A=s>0?-x:x}z=Math.max(0,Math.min(w,z));A=Math.max(0,Math.min(x,A));return{x:z,y:A}},convert2dTo3dNormalized:function q(r,s,t,u,v,w,x){__p&&__p();r<=1&&r>=-1||h(0);s<=1&&s>=-1||h(0);var y=c("degToRad")(t),z=c("degToRad")(u),A=c("degToRad")(v),B=j.create();j.perspective(B,A,w/x,.1,100);var C=-r/B[0],D=-s/B[5],E=y,F=z,G=Math.atan(Math.tan(A/2)*B[5]/B[0]),H=E+(C<0?G:-G),I=F+(D>0?A/2:-A/2),J=void 0,K=void 0,L=void 0,M=void 0,N=void 0;M=N=J=0;while(J<n&&!(Math.abs(c("radToDeg")(H-E))<o&&Math.abs(c("radToDeg")(I-F))<o)){J++;K=(E+H)/2;L=(F+I)/2;var O=p._getRelativePositionWithoutProjection(y,z,K,L),P=O.x,Q=O.y;if((D-N)*(D-Q)<=0)I=L;else{F=L;N=Q}if((C-M)*(C-P)<=0)H=K;else{E=K;M=P}}var R=void 0,S=void 0;if(J<n){R=Math.ceil(c("radToDeg")(E));S=Math.ceil(c("radToDeg")(F))}else{R=t;S=u}return{yaw:R,pitch:S}},convert2dTo3dScaled:function q(r,s,t,u,v,w,x){var y=w/2,z=x/2;return p.convert2dTo3dNormalized((r-y)*(2/w),(s-z)*(2/x),t,u,v,w,x)},_getRelativePositionWithoutProjection:function q(r,s,t,u){var v=(s-u)/2,w=(s+u)/2,x=Math.cos((r-t)/2),y=Math.sin((r-t)/2),z=Math.cos(v)*x,A=Math.sin(v)*x,B=Math.cos(w)*y,C=Math.sin(w)*y,D=2*A*C+2*z*B,E=2*B*C-2*z*A,F=1-2*A*A-2*B*B;return{x:D/F,y:E/F}},distanceBetweenSphericalCoordinatesDeg:function q(r,s,t,u){return c("radToDeg")(p.distanceBetweenSphericalCoordinatesRad.apply(p,Array.from(arguments).map(c("degToRad"))))},distanceBetweenSphericalCoordinatesRad:function q(r,s,t,u){return k(l(s)*l(u)+m(s)*m(u)*m(r-t))}};f.exports=p}),null);
__d("ComposerVideoUploadSphericalMediaToolkitUtils",["fbt","invariant","FBHotspot","ComposerVideoUploadSphericalMediaToolkitConstants","SphericalVideoMediaToolkitTextStyles","React","SimpleXUIDialog","SphericalProjectionUtils","SphericalVideoHotspotType","ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j={calculateHotspotStyle:function k(l,m,n,o,p,q,r){var s=c("SphericalProjectionUtils").convert3dTo2dScaledUnique(n?r:m.yaw,n?o:m.pitch,r,o,l,q,p),t=s.x,u=s.y,v="-"+m.content.height/2+"px 0 0 -"+m.content.width/2+"px";if(m.content.type===c("SphericalVideoHotspotType").TEXT)return{background:n?c("ComposerVideoUploadSphericalMediaToolkitConstants").EDITING_BACKGROUND_COLOR[m.content.backgroundColor]:m.content.backgroundColor,boxShadow:m.content.backgroundColor==="none"?"none":c("ComposerVideoUploadSphericalMediaToolkitConstants").BOX_SHADOW,color:m.content.color,fontFamily:m.content.fontFamily,fontSize:m.content.fontSize+"px",fontWeight:m.content.fontWeight==="light"?300:700,height:m.content.height+"px",left:t+"px",lineHeight:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_LINE_HEIGHT,margin:v,textAlign:m.content.alignment,top:u+"px",width:m.content.width+"px"};else if(m.content.type===c("SphericalVideoHotspotType").IMAGE)return{height:m.content.height+"px",left:t+"px",margin:v,top:u+"px",width:m.content.width+"px"};return null},calculateImageDimensionsByMousePosition:function k(l,m,n,o,p,q,r){__p&&__p();var s=q,t=r,u=(m-o)*2,v=(n-p)*2;switch(l){case c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_RESIZE_HANDLE_CORNERS.NW:s-=v;t-=u;break;case c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_RESIZE_HANDLE_CORNERS.NE:s-=v;t+=u;break;case c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_RESIZE_HANDLE_CORNERS.SW:s+=v;t-=u;break;case c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_RESIZE_HANDLE_CORNERS.SE:s+=v;t+=u;break}return{height:s,width:t}},calculateImageMaxScaledDimensions:function k(l,m,n,o){__p&&__p();var p=void 0,q=void 0;if(l===m){p=Math.min(n,o);q=Math.min(n,o)}else if(l>m){p=n;q=m/l*n}else{q=o;p=l/m*o}return{height:p,width:q}},calculateImageMinScaledDimensions:function k(l,m,n,o){__p&&__p();var p=void 0,q=void 0;if(l===m){p=Math.max(n,o);q=Math.max(n,o)}else if(l<m){p=n;q=m/l*n}else{q=o;p=l/m*o}return{height:p,width:q}},constrainImageDimensionsToAspectRatio:function k(l,m){var n=l.height,o=l.width,p=o/n;if(p>m)n=o/m;else o=m*n;return{height:n,width:o}},constrainImageDimensionsToMinAndMax:function k(l,m,n){return{height:Math.min(Math.max(l.height,n.height),m.height),width:Math.min(Math.max(l.width,n.width),m.width)}},calculatePreviewVisibility:function k(l,m,n,o,p,q,r){if(n.startTime>l||n.endTime<=l)return false;var s=c("SphericalProjectionUtils").convert3dTo2dScaledUnique(n.yaw,n.pitch,r,o,m,q,p),t=s.x,u=s.y;return t!==-1&&u!==-1},calculateResizableImageHotspotStyle:function k(l,m,n,o){var p="-"+l/2+"px 0 0 -"+m/2+"px";return{height:l+"px",left:o/2+"px",margin:p,top:n/2+"px",width:m+"px"}},getDefaultHotspot:function k(l,m){if(l===c("SphericalVideoHotspotType").TEXT)return new(c("FBHotspot"))({pitch:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_PITCH,yaw:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_YAW,startTime:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_START_TIME,endTime:Math.min(c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_START_TIME+c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_DURATION_MS,m),content:{alignment:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_ALIGNMENT,backgroundColor:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_BACKGROUND_COLOR,color:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_COLOR,fontFamily:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_FONT_FAMILY,fontSize:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_FONT_SIZE,fontWeight:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_FONT_WEIGHT,text:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_TEXT,type:c("SphericalVideoHotspotType").TEXT,animation:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_ANIMATION,height:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_HEIGHT_FOR_TEXT,id:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_ID,width:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_WIDTH_FOR_TEXT}});else return new(c("FBHotspot"))({pitch:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_PITCH,yaw:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_YAW,startTime:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_START_TIME,endTime:Math.min(c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_START_TIME+c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_DURATION_MS,m),content:{animation:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_ANIMATION,height:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_HEIGHT_FOR_IMAGE,id:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_ID,imageData:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_IMAGE_DATA,type:c("SphericalVideoHotspotType").IMAGE,width:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_WIDTH_FOR_IMAGE}})},getTextBarStyle:function k(l,m,n){return Object.keys(c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[n]).find(function(o){return m.content.type===c("SphericalVideoHotspotType").TEXT&&c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[n][o]===m.content[n]})||l[n]},getTextBarStyles:function k(l){var m={alignment:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXT_BAR_DEFAULT_ALIGNMENT,backgroundColor:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXT_BAR_DEFAULT_BACKGROUND,color:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXT_BAR_DEFAULT_COLOR,fontSize:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXT_BAR_DEFAULT_FONT_SIZE,fontWeight:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXT_BAR_DEFAULT_FONT_WEIGHT};if(!l)return m;return{alignment:this.getTextBarStyle(m,l,c("SphericalVideoMediaToolkitTextStyles").ALIGNMENT),backgroundColor:this.getTextBarStyle(m,l,c("SphericalVideoMediaToolkitTextStyles").BACKGROUND),color:this.getTextBarStyle(m,l,c("SphericalVideoMediaToolkitTextStyles").COLOR),fontSize:this.getTextBarStyle(m,l,c("SphericalVideoMediaToolkitTextStyles").FONT_SIZE),fontWeight:this.getTextBarStyle(m,l,c("SphericalVideoMediaToolkitTextStyles").FONT_WEIGHT)}},showFileExtensionDialog:function k(l,m,n){var o=h._("Unsupported file extension: {file extension}.",[h.param("file extension",l)]),p=h._("Supported file extensions are {list of supported file extensions}.",[h.param("list of supported file extensions",m)]);c("SimpleXUIDialog").show(c("React").createElement("div",null,c("React").createElement("div",null,o),c("React").createElement("div",null,p)),h._("File extension not supported"),n);return},showFileUploadErrorDialog:function k(l,m){c("SimpleXUIDialog").show(h._("There was an error while uploading your file: {file name}. Please try again.",[h.param("file name",l)]),h._("Image upload error"),m);return},showImageTooLargeDialog:function k(l,m){c("SimpleXUIDialog").show(h._("We currently only support image uploads of {max size in mb} MB or less. Please try again with a smaller image file.",[h.param("max size in mb",l)]),h._("Image file too large"),m);return},showLastFrameDialog:function k(l){c("SimpleXUIDialog").show(h._("Text and image overlays cannot be added to the last frame of your video. Please add your text or image earlier in the video."),h._("End of video"),l);return},showUnsupportedCharsDialog:function k(l){c("SimpleXUIDialog").show(h._("We currently support only Latin characters in text annotations. Unsupported characters will not be displayed."),h._("Unsupported characters"),l);return},updateImageHotspotContent:function k(l,m){l.content.type===c("SphericalVideoHotspotType").IMAGE||i(0);var n=babelHelpers["extends"]({},l.content,m);return l.set("content",n)},updateTextHotspotContent:function k(l,m){l.content.type===c("SphericalVideoHotspotType").TEXT||i(0);var n=babelHelpers["extends"]({},l.content,m);return l.set("content",n)}};f.exports=j}),null);
__d("ComposerVideoUploadSphericalAnnotationEditLayer.react",["ix","cx","invariant","ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBar.react","ComposerVideoUploadSphericalMediaToolkitAnnotationEditLayerTextAreaAutoGrow.react","FBHotspot","ComposerVideoUploadSphericalHotspotSaveNux.react","ComposerVideoUploadSphericalMediaToolkitButton.react","ComposerVideoUploadSphericalMediaToolkitConstants","ComposerVideoUploadSphericalMediaToolkitUtils","React","SphericalVideoHotspotType","asset"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").PureComponent);l=k&&k.prototype;m.prototype.componentDidMount=function(){"use strict";if(this.props.showNux)this.props.handleNuxView()};m.prototype.render=function(){"use strict";var n=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateHotspotStyle(this.props.fov,this.props.hotspot,true,this.props.pitch,this.props.viewportHeight,this.props.viewportWidth,this.props.yaw),o=this.props.textareaDefaultValue?this.props.textareaDefaultValue:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_TEXT;this.props.hotspot.content.type===c("SphericalVideoHotspotType").TEXT||j(0);var p=o+this.props.hotspot.content.fontSize+this.props.hotspot.content.fontWeight;return c("React").createElement("div",{className:"_js1"},c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitAnnotationStyleBar.react"),{textStyles:this.props.textStyles,handleButtonClick:this.props.handleTextStyleButtonClick}),c("React").createElement("div",{className:"_63-t",style:n},c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitAnnotationEditLayerTextAreaAutoGrow.react"),{ref:function(q){return this.$ComposerVideoUploadSphericalAnnotationEditLayer1=q}.bind(this),defaultValue:o,key:p,maxLength:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXTAREA_MAX_CHARS,placeholder:c("ComposerVideoUploadSphericalMediaToolkitConstants").TEXTAREA_PLACEHOLDER,value:this.props.textareaValue,onChange:this.props.handleTextareaValueChange,handleTextareaMounted:this.props.handleTextareaMounted,setTextareaRef:this.props.setTextareaRef}),c("React").createElement(c("ComposerVideoUploadSphericalHotspotSaveNux.react"),{contextRef:function(){return this.$ComposerVideoUploadSphericalAnnotationEditLayer1}.bind(this),showNux:this.props.showNux,handleNuxClosed:this.props.handleNuxClosed})),c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_2ysg",thumbnail:h("402967"),onClick:this.props.handleDeleteButtonClick}))};function m(){"use strict";k.apply(this,arguments)}f.exports=m}),null);
__d("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions",["SphericalVideoMediaToolkitAlignments","SphericalVideoMediaToolkitBackgrounds","SphericalVideoMediaToolkitColors","SphericalVideoMediaToolkitFontSizes","SphericalVideoMediaToolkitFontWeights","SphericalVideoMediaToolkitTextStyles"],(function a(b,c,d,e,f,g){"use strict";var h;f.exports=(h={},h[c("SphericalVideoMediaToolkitTextStyles").COLOR]=[c("SphericalVideoMediaToolkitColors").BLACK,c("SphericalVideoMediaToolkitColors").BLUE,c("SphericalVideoMediaToolkitColors").GREEN,c("SphericalVideoMediaToolkitColors").PURPLE,c("SphericalVideoMediaToolkitColors").ROSE,c("SphericalVideoMediaToolkitColors").WHITE,c("SphericalVideoMediaToolkitColors").YELLOW],h[c("SphericalVideoMediaToolkitTextStyles").FONT_SIZE]=[c("SphericalVideoMediaToolkitFontSizes").SMALL,c("SphericalVideoMediaToolkitFontSizes").MEDIUM,c("SphericalVideoMediaToolkitFontSizes").LARGE],h[c("SphericalVideoMediaToolkitTextStyles").ALIGNMENT]=[c("SphericalVideoMediaToolkitAlignments").LEFT,c("SphericalVideoMediaToolkitAlignments").CENTER,c("SphericalVideoMediaToolkitAlignments").RIGHT],h[c("SphericalVideoMediaToolkitTextStyles").BACKGROUND]=[c("SphericalVideoMediaToolkitBackgrounds").BLACK,c("SphericalVideoMediaToolkitBackgrounds").WHITE,c("SphericalVideoMediaToolkitBackgrounds").NONE],h[c("SphericalVideoMediaToolkitTextStyles").FONT_WEIGHT]=[c("SphericalVideoMediaToolkitFontWeights").LIGHT,c("SphericalVideoMediaToolkitFontWeights").BOLD],h)}),null);
__d("ComposerVideoUploadSphericalAnnotationEditLayerContainer.react",["invariant","ComposerVideoUploadSphericalAddAnnotationLayer.react","ComposerVideoUploadSphericalAnnotationEditLayer.react","ComposerVideoUploadSphericalEvents","FBHotspot","ComposerVideoUploadSphericalMediaToolkitConstants","ComposerVideoUploadSphericalMediaToolkitUtils","React","SphericalVideoHotspotType","ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles","ComposerVideoUploadSphericalMediaToolkitStyleBarOptions","SubscriptionsHandler","SphericalVideoGuideAnimationConfig"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){"use strict";__p&&__p();j.constructor.call(this,m);this.state={hotspot:this.props.hotspot?this.props.hotspot:c("ComposerVideoUploadSphericalMediaToolkitUtils").getDefaultHotspot(c("SphericalVideoHotspotType").TEXT,this.props.controller.getPlaybackDuration()*k),textareaDefaultValue:this.props.hotspot&&this.props.hotspot.content.type===c("SphericalVideoHotspotType").TEXT?this.props.hotspot.content.text:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_TEXT,textStyles:c("ComposerVideoUploadSphericalMediaToolkitUtils").getTextBarStyles(this.props.hotspot)};this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer6=function(event){this.state.hotspot.content.type===c("SphericalVideoHotspotType").TEXT||h(0);var n=event.target.value;if(!c("ComposerVideoUploadSphericalMediaToolkitConstants").SUPPORTED_CHARS_REGEX.test(n)){this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer3.blur();c("ComposerVideoUploadSphericalMediaToolkitUtils").showUnsupportedCharsDialog();return}var o=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateTextHotspotContent(this.state.hotspot,{text:n,height:this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer3.scrollHeight});this.setState({hotspot:o})}.bind(this);this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer7=function(n){__p&&__p();var o=c("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions")[n].indexOf(this.state.textStyles[n]),p=(o+1)%c("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions")[n].length,q=babelHelpers["extends"]({},this.state.textStyles),r=void 0;switch(n){case"alignment":var s=c("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions")[n][p];q[n]=s;r={alignment:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[n][s]};break;case"backgroundColor":var t=c("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions")[n][p];q[n]=t;r={backgroundColor:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[n][t]};break;case"color":var u=c("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions")[n][p];q[n]=u;r={color:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[n][u]};break;case"fontSize":var v=c("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions")[n][p];q[n]=v;r={fontSize:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[n][v]};break;case"fontWeight":var w=c("ComposerVideoUploadSphericalMediaToolkitStyleBarOptions")[n][p];q[n]=w;r={fontWeight:c("ComposerVideoUploadSphericalMediaToolkitStyleBarCssStyles")[n][w]};break;default:n;throw new Error("unexpected text style type")}var x=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateTextHotspotContent(this.state.hotspot,r);x.content.type===c("SphericalVideoHotspotType").TEXT||h(0);this.setState({textStyles:q,hotspot:x,textareaDefaultValue:x.content.text})}.bind(this);this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer8=function(n){this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer3=n}.bind(this);this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer5=function(){var n=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateTextHotspotContent(this.state.hotspot,{height:this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer3.scrollHeight});this.setState({hotspot:n})}.bind(this);this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer1={hotspot:c("ComposerVideoUploadSphericalMediaToolkitUtils").getDefaultHotspot(c("SphericalVideoHotspotType").TEXT,this.props.controller.getPlaybackDuration()*k),textareaDefaultValue:c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_TEXT,textStyles:c("ComposerVideoUploadSphericalMediaToolkitUtils").getTextBarStyles(null)};this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer2=new(c("SubscriptionsHandler"))();this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer2.addSubscriptions(m.controller.addListener(c("ComposerVideoUploadSphericalEvents").MEDIA_TOOLKIT.SAVE_HOTSPOT,function(){return this.props.handleSaveHotspotEdits(this.state.hotspot)}.bind(this)));this.props.toggleEditingState(true)}l.prototype.componentWillReceiveProps=function(m){"use strict";if(!m.isEditing&&this.props.isEditing)this.setState(this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer1);if(m.hotspot&&(!this.props.hotspot||this.props.hotspot.content.id!==m.hotspot.content.id)){m.hotspot.content.type===c("SphericalVideoHotspotType").TEXT||h(0);this.setState({hotspot:m.hotspot,textareaDefaultValue:m.hotspot.content.text,textStyles:c("ComposerVideoUploadSphericalMediaToolkitUtils").getTextBarStyles(m.hotspot)})}};l.prototype.componentWillUnmount=function(){"use strict";this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer2.release()};l.prototype.render=function(){"use strict";if(!this.props.isEditing)return c("React").createElement(c("ComposerVideoUploadSphericalAddAnnotationLayer.react"),{handleAddButtonClick:function(){return this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer4(true)}.bind(this)});this.state.hotspot.content.type===c("SphericalVideoHotspotType").TEXT||h(0);var m=this.state.hotspot.content.text;return c("React").createElement(c("ComposerVideoUploadSphericalAnnotationEditLayer.react"),{fov:this.props.fov,hotspot:this.state.hotspot,pitch:this.props.pitch,showNux:this.props.showNux,textareaDefaultValue:this.state.textareaDefaultValue,textareaValue:m,textStyles:this.state.textStyles,viewportHeight:this.props.viewportHeight,viewportWidth:this.props.viewportWidth,yaw:this.props.yaw,handleDeleteButtonClick:function(){return this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer4(false)}.bind(this),handleNuxClosed:this.props.handleNuxClosed,handleNuxView:this.props.handleNuxView,handleTextareaMounted:this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer5,handleTextareaValueChange:this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer6,handleTextStyleButtonClick:this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer7,setTextareaRef:this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer8})};l.prototype.$ComposerVideoUploadSphericalAnnotationEditLayerContainer4=function(m){"use strict";if(!m)this.setState(this.$ComposerVideoUploadSphericalAnnotationEditLayerContainer1);this.props.toggleEditingState(m)};f.exports=l}),null);
__d("ComposerVideoUploadSphericalImageEditLayerResizableImageHandle.react",["cx","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")("_pxk"+(!this.props.shouldCapturePointerEvents?" _py2":""),this.props.className),onMouseDown:this.props.handleMouseDown})};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalImageEditLayerResizableImage.react",["cx","FBHotspot","ComposerVideoUploadSphericalMediaToolkitConstants","ComposerVideoUploadSphericalMediaToolkitUtils","React","ComposerVideoUploadSphericalImageEditLayerResizableImageHandle.react","ScaledImage.react","SubscriptionsHandler"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={dragHandleCorner:null,hotspotHeight:this.props.hotspot.content.height,hotspotWidth:this.props.hotspot.content.width,isDragging:false,origClientX:0,origClientY:0},m}k.prototype.componentDidMount=function(){this.$ComposerVideoUploadSphericalImageEditLayerResizableImage1=new(c("SubscriptionsHandler"))();this.$ComposerVideoUploadSphericalImageEditLayerResizableImage1.addSubscriptions(this.props.controller.addListener("mouseMove",function(l){return this.$ComposerVideoUploadSphericalImageEditLayerResizableImage2(l)}.bind(this)),this.props.controller.addListener("mouseUp",function(l){return this.$ComposerVideoUploadSphericalImageEditLayerResizableImage3(l)}.bind(this)),this.props.controller.addListener("mouseLeave",function(l){return this.$ComposerVideoUploadSphericalImageEditLayerResizableImage3(l)}.bind(this)))};k.prototype.componentWillReceiveProps=function(l){if(l.hotspot.content.id!==this.props.hotspot.content.id||l.imageFileData.md5!==this.props.imageFileData.md5)this.setState({hotspotHeight:l.hotspot.content.height,hotspotWidth:l.hotspot.content.width})};k.prototype.componentWillUnmount=function(){this.$ComposerVideoUploadSphericalImageEditLayerResizableImage1.release()};k.prototype.render=function(){var l=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateResizableImageHotspotStyle(this.state.hotspotHeight,this.state.hotspotWidth,this.props.viewportHeight,this.props.viewportWidth);return c("React").createElement("div",{className:"_pwu",style:l},c("React").createElement(c("ScaledImage.react"),{className:"_pwv"+(this.state.isDragging?" _py2":""),draggable:"false",height:this.state.hotspotHeight,imageSize:{height:this.props.imageFileData.height,width:this.props.imageFileData.width},src:this.props.imageFileData.imageBinary,width:this.state.hotspotWidth}),c("React").createElement(c("ComposerVideoUploadSphericalImageEditLayerResizableImageHandle.react"),{className:"_pxl",shouldCapturePointerEvents:!this.state.isDragging,handleMouseDown:function(m){return this.$ComposerVideoUploadSphericalImageEditLayerResizableImage4(m,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_RESIZE_HANDLE_CORNERS.NW)}.bind(this)}),c("React").createElement(c("ComposerVideoUploadSphericalImageEditLayerResizableImageHandle.react"),{className:"_pxx",shouldCapturePointerEvents:!this.state.isDragging,handleMouseDown:function(m){return this.$ComposerVideoUploadSphericalImageEditLayerResizableImage4(m,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_RESIZE_HANDLE_CORNERS.NE)}.bind(this)}),c("React").createElement(c("ComposerVideoUploadSphericalImageEditLayerResizableImageHandle.react"),{className:"_pxm",shouldCapturePointerEvents:!this.state.isDragging,handleMouseDown:function(m){return this.$ComposerVideoUploadSphericalImageEditLayerResizableImage4(m,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_RESIZE_HANDLE_CORNERS.SW)}.bind(this)}),c("React").createElement(c("ComposerVideoUploadSphericalImageEditLayerResizableImageHandle.react"),{className:"_py1",shouldCapturePointerEvents:!this.state.isDragging,handleMouseDown:function(m){return this.$ComposerVideoUploadSphericalImageEditLayerResizableImage4(m,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_RESIZE_HANDLE_CORNERS.SE)}.bind(this)}))};k.prototype.$ComposerVideoUploadSphericalImageEditLayerResizableImage4=function(l,m){this.setState({origClientX:l.clientX,origClientY:l.clientY,isDragging:true,dragHandleCorner:m})};k.prototype.$ComposerVideoUploadSphericalImageEditLayerResizableImage2=function(l){if(!this.state.isDragging||!this.state.dragHandleCorner)return;var m=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateImageDimensionsByMousePosition(this.state.dragHandleCorner,l.clientX,l.clientY,this.state.origClientX,this.state.origClientY,this.props.hotspot.content.height,this.props.hotspot.content.width),n=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateImageMaxScaledDimensions(this.props.imageFileData.height,this.props.imageFileData.width,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MAX_HEIGHT_PX,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MAX_WIDTH_PX),o=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateImageMinScaledDimensions(this.props.imageFileData.height,this.props.imageFileData.width,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MIN_HEIGHT_PX,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MIN_WIDTH_PX);m=c("ComposerVideoUploadSphericalMediaToolkitUtils").constrainImageDimensionsToMinAndMax(m,n,o);m=c("ComposerVideoUploadSphericalMediaToolkitUtils").constrainImageDimensionsToAspectRatio(m,this.props.imageFileData.width/this.props.imageFileData.height);this.setState({hotspotHeight:m.height,hotspotWidth:m.width})};k.prototype.$ComposerVideoUploadSphericalImageEditLayerResizableImage3=function(l){if(!this.state.isDragging)return;this.props.updateHotspotDimensions(this.state.hotspotHeight,this.state.hotspotWidth);this.setState({isDragging:false})};f.exports=k}),null);
__d("ComposerVideoUploadSphericalImageEditLayer.react",["ix","cx","invariant","FBHotspot","ComposerVideoUploadSphericalHotspotSaveNux.react","ComposerVideoUploadSphericalImageEditLayerResizableImage.react","ComposerVideoUploadSphericalMediaToolkitButton.react","React","SphericalVideoHotspotType","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").PureComponent);l=k&&k.prototype;m.prototype.componentDidMount=function(){if(this.props.showNux)this.props.handleNuxView()};m.prototype.render=function(){this.props.hotspot.content.type===c("SphericalVideoHotspotType").IMAGE||j(0);var n=this.props.hotspot.content.imageData,o=this.props.imageBinaryToMd5[n],p=this.props.uploadedImageFileData.find(function(q){return q.md5===o});if(!p)return null;return c("React").createElement("div",{className:"_4ym3"},c("React").createElement(c("ComposerVideoUploadSphericalImageEditLayerResizableImage.react"),{ref:function(q){return this.$ComposerVideoUploadSphericalImageEditLayer1=q}.bind(this),controller:this.props.controller,hotspot:this.props.hotspot,imageFileData:p,viewportHeight:this.props.viewportHeight,viewportWidth:this.props.viewportWidth,updateHotspotDimensions:this.props.updateHotspotDimensions}),c("React").createElement(c("ComposerVideoUploadSphericalHotspotSaveNux.react"),{contextRef:function(){return this.$ComposerVideoUploadSphericalImageEditLayer1}.bind(this),showNux:this.props.showNux,handleNuxClosed:this.props.handleNuxClosed}),c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_2ysg",thumbnail:h("402967"),onClick:this.props.handleDeleteButtonClick}))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("ComposerVideoUploadSphericalImageUploadBar.react",["ix","cx","fbt","invariant","AbstractButton.react","FileInput.react","FlexLayout.react","Image.react","ComposerVideoUploadSphericalMediaToolkitConstants","ScaledImage.react","ShimButton.react","React","asset"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m;l=babelHelpers.inherits(n,c("React").PureComponent);m=l&&l.prototype;n.prototype.componentDidUpdate=function(){this.$ComposerVideoUploadSphericalImageUploadBar1||k(0);this.$ComposerVideoUploadSphericalImageUploadBar1.scrollLeft=this.$ComposerVideoUploadSphericalImageUploadBar1.scrollWidth};n.prototype.render=function(){var o=this.props.uploadedImageFileData.map(function(q){return c("React").createElement(c("ShimButton.react"),{className:"_63z0",key:q.imageBinary,onClick:function(r){r.preventDefault();this.props.handleUploadedImageClick(q)}.bind(this)},c("React").createElement(c("ScaledImage.react"),{imageSize:{height:q.height,width:q.width},className:"_63z1",height:c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_BAR_PREVIEW_HEIGHT_PX,src:q.imageBinary,width:c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_BAR_PREVIEW_WIDTH_PX}))}.bind(this)),p=c("ComposerVideoUploadSphericalMediaToolkitConstants").SUPPORTED_IMAGE_FILE_EXTENSIONS.map(function(q){return"."+q}).join(",");return c("React").createElement("div",{className:"_4ym4",ref:function(q){return this.$ComposerVideoUploadSphericalImageUploadBar1=q}.bind(this)},c("React").createElement(c("FlexLayout.react"),{className:"_63y_",align:"center",justify:"start"},o,c("React").createElement("div",{className:"_63z0",key:"uploadImageButton"},c("React").createElement(c("FileInput.react"),{accept:p,name:"uploadImageButton",onChange:function(q){return this.props.handleImageFileUpload(q.target.files[0])}.bind(this)},c("React").createElement(c("AbstractButton.react"),{className:"_4ym5",href:{url:"#"},image:c("React").createElement(c("Image.react"),{src:h("378289")}),label:j._("button for uploading image file"),labelIsHidden:true})))))};function n(){l.apply(this,arguments)}f.exports=n}),null);
__d("ComposerVideoUploadSphericalImageEditLayerContainer.react",["cx","invariant","ComposerVideoUploadSphericalEvents","FBHotspot","ComposerVideoUploadSphericalImageEditLayer.react","ComposerVideoUploadSphericalImageUploadBar.react","ComposerVideoUploadSphericalMediaToolkitConstants","ComposerVideoUploadSphericalMediaToolkitUtils","React","SphericalVideoHotspotType","SubscriptionsHandler","SphericalVideoGuideAnimationConfig"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){__p&&__p();k.constructor.call(this,n);this.state={hotspot:this.props.hotspot||c("ComposerVideoUploadSphericalMediaToolkitUtils").getDefaultHotspot(c("SphericalVideoHotspotType").IMAGE,this.props.controller.getPlaybackDuration()*l)};this.$ComposerVideoUploadSphericalImageEditLayerContainer2=function(o){var p={height:o.height,width:o.width};if(o.height>c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_DEFAULT_MAX_HEIGHT_PX||o.width>c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_DEFAULT_MAX_WIDTH_PX)p=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateImageMaxScaledDimensions(o.height,o.width,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_DEFAULT_MAX_HEIGHT_PX,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_DEFAULT_MAX_WIDTH_PX);else if(o.height<c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MIN_HEIGHT_PX||o.width<c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MIN_WIDTH_PX)p=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateImageMinScaledDimensions(o.height,o.width,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MIN_HEIGHT_PX,c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MIN_WIDTH_PX);var q=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateImageHotspotContent(this.state.hotspot,{imageData:o.imageBinary,height:p.height,width:p.width});this.setState({hotspot:q});this.props.toggleEditingState(true)}.bind(this);this.$ComposerVideoUploadSphericalImageEditLayerContainer3=function(o,p){var q=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateImageHotspotContent(this.state.hotspot,{height:o});q=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateImageHotspotContent(q,{width:p});this.setState({hotspot:q})}.bind(this);this.$ComposerVideoUploadSphericalImageEditLayerContainer1=new(c("SubscriptionsHandler"))();this.$ComposerVideoUploadSphericalImageEditLayerContainer1.addSubscriptions(n.controller.addListener(c("ComposerVideoUploadSphericalEvents").MEDIA_TOOLKIT.SAVE_HOTSPOT,function(){return this.props.handleSaveHotspotEdits(this.state.hotspot)}.bind(this)))}m.prototype.componentWillReceiveProps=function(n){if(!n.isEditing&&this.props.isEditing)this.setState({hotspot:c("ComposerVideoUploadSphericalMediaToolkitUtils").getDefaultHotspot(c("SphericalVideoHotspotType").IMAGE,this.props.controller.getPlaybackDuration()*l)});if(n.hotspot&&(!this.props.hotspot||this.props.hotspot.content.id!==n.hotspot.content.id)){n.hotspot.content.type===c("SphericalVideoHotspotType").IMAGE||i(0);this.setState({hotspot:n.hotspot})}};m.prototype.componentWillUnmount=function(){this.$ComposerVideoUploadSphericalImageEditLayerContainer1.release()};m.prototype.render=function(){return c("React").createElement("div",{className:"_3quf"},c("React").createElement(c("ComposerVideoUploadSphericalImageUploadBar.react"),{uploadedImageFileData:this.props.uploadedImageFileData,handleImageFileUpload:this.props.handleImageFileUpload,handleUploadedImageClick:this.$ComposerVideoUploadSphericalImageEditLayerContainer2}),this.props.isEditing&&c("React").createElement(c("ComposerVideoUploadSphericalImageEditLayer.react"),{controller:this.props.controller,fov:this.props.fov,hotspot:this.state.hotspot,imageBinaryToMd5:this.props.imageBinaryToMd5,pitch:this.props.pitch,showNux:this.props.showNux,uploadedImageFileData:this.props.uploadedImageFileData,viewportHeight:this.props.viewportHeight,viewportWidth:this.props.viewportWidth,yaw:this.props.yaw,handleDeleteButtonClick:function(){return this.props.toggleEditingState(false)}.bind(this),handleNuxClosed:this.props.handleNuxClosed,handleNuxView:this.props.handleNuxView,updateHotspotDimensions:this.$ComposerVideoUploadSphericalImageEditLayerContainer3}))};f.exports=m}),null);
__d("ComposerVideoUploadSphericalMediaToolkitDropdownOption.react",["cx","FlexLayout.react","Image.react","React","ShimButton.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("ShimButton.react"),{className:"_46sw",onClick:this.props.onClick},c("React").createElement(c("FlexLayout.react"),{align:"center",className:"_l-8",justify:"all"},c("React").createElement("div",{className:"_46su"},this.props.optionData.fbt),c("React").createElement(c("Image.react"),{className:"_46sv",src:this.props.optionData.thumbnail})))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalMediaToolkitDropdown.react",["ix","cx","FlexLayout.react","ComposerVideoUploadSphericalMediaToolkitButton.react","ComposerVideoUploadSphericalMediaToolkitDropdownOption.react","React","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={dropdownOpen:false},this.$ComposerVideoUploadSphericalMediaToolkitDropdown1=function(event){event.preventDefault();this.setState({dropdownOpen:!this.state.dropdownOpen})}.bind(this),n}l.prototype.render=function(){var m=this.props.options.find(function(q){return q.optionName===this.props.selectedOptionName}.bind(this)),n=this.props.options.length>1?c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_46st",thumbnail:h("388066"),onClick:this.$ComposerVideoUploadSphericalMediaToolkitDropdown1}):null,o=m&&c("React").createElement("div",{className:"_46so"},c("React").createElement(c("FlexLayout.react"),{className:"_k1-"},c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitDropdownOption.react"),{optionData:m,onClick:this.$ComposerVideoUploadSphericalMediaToolkitDropdown1}),n)),p=this.state.dropdownOpen?this.props.options.filter(function(q){return q.optionName!==this.props.selectedOptionName}.bind(this)).map(function(q){return c("React").createElement("button",{key:q.optionName,className:"_46sp",onClick:function(event){return this.$ComposerVideoUploadSphericalMediaToolkitDropdown2(event,q.optionName)}.bind(this)},c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitDropdownOption.react"),{optionData:q}))}.bind(this)):null;return c("React").createElement("div",{className:"_k1z"},c("React").createElement("div",{className:"_46ss"},o,p))};l.prototype.$ComposerVideoUploadSphericalMediaToolkitDropdown2=function(event,m){this.props.handleOptionSelect(m);this.setState({dropdownOpen:false})};f.exports=l}),null);
__d("ComposerVideoUploadSphericalMediaToolkitPanelLayer.react",["ix","cx","FlexLayout.react","ComposerVideoUploadSphericalMediaToolkitButton.react","ComposerVideoUploadSphericalMediaToolkitDropdown.react","React","asset"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_k1y"},c("React").createElement(c("FlexLayout.react"),{align:"start",justify:"all"},c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitDropdown.react"),{options:this.props.dropdownOptions,selectedOptionName:this.props.selectedMediaOption,handleOptionSelect:this.props.handleMediaOptionSelect}),c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_k1_",thumbnail:h("394831"),onClick:function(){return this.props.toggleMediaToolkit(false)}.bind(this)})))};function l(){"use strict";j.apply(this,arguments)}f.exports=l}),null);
__d("ComposerVideoUploadSphericalHotspotPreviewElement.react",["cx","ComposerVideoUploadSphericalMediaToolkitUtils","React","ScaledImage.react","SphericalVideoHotspotType","SubscriptionsHandler","SphericalVideoGuideAnimationConfig"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){"use strict";j.constructor.call(this,m);this.$ComposerVideoUploadSphericalHotspotPreviewElement2=function(){this.forceUpdate()}.bind(this);this.$ComposerVideoUploadSphericalHotspotPreviewElement1=new(c("SubscriptionsHandler"))();this.$ComposerVideoUploadSphericalHotspotPreviewElement1.addSubscriptions(m.controller.addListener("updateStatus",this.$ComposerVideoUploadSphericalHotspotPreviewElement2))}l.prototype.componentWillUnmount=function(){"use strict";this.$ComposerVideoUploadSphericalHotspotPreviewElement1.release()};l.prototype.render=function(){__p&&__p();var m,n=this;"use strict";var o=this.props.hotspot,p=Math.floor(this.props.controller.getCurrentTimePosition()*k),q=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculatePreviewVisibility(p,this.props.fov,o,this.props.pitch,this.props.viewportHeight,this.props.viewportWidth,this.props.yaw);if(!q)return null;var r=c("ComposerVideoUploadSphericalMediaToolkitUtils").calculateHotspotStyle(this.props.fov,o,false,this.props.pitch,this.props.viewportHeight,this.props.viewportWidth,this.props.yaw),s=null;if(o.content.type===c("SphericalVideoHotspotType").TEXT)s=c("React").createElement("div",{className:"_3h6h"},o.content.text);else if(o.content.type===c("SphericalVideoHotspotType").IMAGE)(function(){__p&&__p();var t=o.content.imageData,u=Object.prototype.hasOwnProperty.call(n.props.imageBinaryToMd5,t)?n.props.imageBinaryToMd5[t]:null,v=n.props.uploadedImageFileData.find(function(y){return y.md5===u}),w=void 0,x=void 0;if(u&&v){w=v.height;x=v.width}else{w=o.content.height;x=o.content.width}s=c("React").createElement(c("ScaledImage.react"),{className:"_2ysf",draggable:"false",height:o.content.height,imageSize:{height:w,width:x},src:t,width:o.content.width})})();return c("React").createElement("button",{className:"_1eeh",style:r,onClick:function(){return this.props.handlePreviewElementClick(o.content.id)}.bind(this)},s)};f.exports=l}),null);
__d("ComposerVideoUploadSphericalMetadataPreviewLayer.react",["cx","ComposerVideoUploadSphericalHotspotPreviewElement.react","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";var l=this.props.hotspots.hotspots.map(function(m){return c("React").createElement(c("ComposerVideoUploadSphericalHotspotPreviewElement.react"),{key:m.content.id,controller:this.props.controller,fov:this.props.fov,hotspot:m,imageBinaryToMd5:this.props.imageBinaryToMd5,pitch:this.props.pitch,uploadedImageFileData:this.props.uploadedImageFileData,viewportHeight:this.props.viewportHeight,viewportWidth:this.props.viewportWidth,yaw:this.props.yaw,handlePreviewElementClick:this.props.handlePreviewElementClick})}.bind(this));return c("React").createElement("div",{className:"_2eym"},l)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("ComposerVideoUploadSphericalToolkitEntryPointLayer.react",["ix","cx","fbt","BasicFBNux","ComposerVideoUploadSphericalMediaToolkitButton.react","ComposerVideoUploadSphericalMediaToolkitConstants","React","SphericalVideoExperiments","XUIAmbientNUX.react","XUIText.react","asset"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.state={showNux:c("SphericalVideoExperiments").showHotspotEntryNux},o}m.prototype.componentDidMount=function(){"use strict";if(this.state.showNux)c("BasicFBNux").onView(c("ComposerVideoUploadSphericalMediaToolkitConstants").HOTSPOT_ENTRY_NUX_ID)};m.prototype.render=function(){"use strict";return c("React").createElement("div",null,c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitButton.react"),{className:"_341v",ref:function(n){return this.$ComposerVideoUploadSphericalToolkitEntryPointLayer1=n}.bind(this),thumbnail:h("416792"),onClick:function(){return this.props.toggleMediaToolkit(true)}.bind(this)}),c("React").createElement(c("XUIAmbientNUX.react"),{customwidth:250,contextRef:function(){return this.$ComposerVideoUploadSphericalToolkitEntryPointLayer1}.bind(this),position:"right",shown:this.state.showNux,width:"custom",onCloseButtonClick:function(){return this.$ComposerVideoUploadSphericalToolkitEntryPointLayer2()}.bind(this)},c("React").createElement(c("XUIText.react"),{size:"body3",display:"block",weight:"bold"},j._("Overlay text and images")),c("React").createElement(c("XUIText.react"),{size:"meta1",display:"block"},j._("Add more detail to each frame of your video with text and images."))))};m.prototype.$ComposerVideoUploadSphericalToolkitEntryPointLayer2=function(){"use strict";this.setState({showNux:false});c("BasicFBNux").onDismiss(c("ComposerVideoUploadSphericalMediaToolkitConstants").HOTSPOT_ENTRY_NUX_ID)};f.exports=m}),null);
__d("SphericalVideoMediaToolkitOptions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ANNOTATION:"annotation",IMAGE:"image",STICKER:"sticker"})}),null);
__d("ComposerVideoUploadSphericalMediaToolkit.react",["cx","fbt","ix","BasicFBNux","ComposerVideoUploadSphericalAnnotationEditLayerContainer.react","ComposerVideoUploadSphericalEvents","ComposerVideoUploadSphericalImageEditLayerContainer.react","ComposerVideoUploadSphericalMediaToolkitConstants","ComposerVideoUploadSphericalMediaToolkitPanelLayer.react","ComposerVideoUploadSphericalMediaToolkitUtils","ComposerVideoUploadSphericalMetadataPreviewLayer.react","React","SphericalVideoExperiments","SphericalVideoHotspotType","SphericalVideoMediaToolkitOptions","ComposerVideoUploadSphericalToolkitEntryPointLayer.react","md5","SphericalVideoGuideAnimationConfig"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m,n=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND,o=(m={},m[c("SphericalVideoMediaToolkitOptions").ANNOTATION]={fbt:i._("Text"),optionName:c("SphericalVideoMediaToolkitOptions").ANNOTATION,thumbnail:j("415898")},m[c("SphericalVideoMediaToolkitOptions").IMAGE]={fbt:i._("Images"),optionName:c("SphericalVideoMediaToolkitOptions").IMAGE,thumbnail:j("415897")},m);k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(q){"use strict";__p&&__p();l.constructor.call(this,q);this.state={currentEditHotspot:null,imageBinaryToMd5:{},isEditing:false,selectedMediaOption:this.props.enableTextHotspots?c("SphericalVideoMediaToolkitOptions").ANNOTATION:c("SphericalVideoMediaToolkitOptions").IMAGE,showHotspotSaveNux:c("SphericalVideoExperiments").showHotspotSaveNux,showMediaToolkitLayer:false,uploadedImageFileData:[],viewportHeight:0,viewportWidth:0};this.$ComposerVideoUploadSphericalMediaToolkit10=function(r){__p&&__p();var s=r.name.indexOf(".")!=-1?r.name.split(".").pop().toLowerCase():"";if(!c("ComposerVideoUploadSphericalMediaToolkitConstants").SUPPORTED_IMAGE_FILE_EXTENSIONS.includes(s)){c("ComposerVideoUploadSphericalMediaToolkitUtils").showFileExtensionDialog(s,c("ComposerVideoUploadSphericalMediaToolkitConstants").SUPPORTED_IMAGE_FILE_EXTENSIONS.join(", "));return}if(r.size>c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MAX_FILE_SIZE){c("ComposerVideoUploadSphericalMediaToolkitUtils").showImageTooLargeDialog(c("ComposerVideoUploadSphericalMediaToolkitConstants").IMAGE_HOTSPOT_MAX_FILE_SIZE/1048576);return}var t=new FileReader();t.onload=function(){__p&&__p();var u=new Image(),v=String(t.result);u.src=v;var w=c("md5")(v),x=this.state.uploadedImageFileData.findIndex(function(A){return A.md5===w});if(x>-1){var y=[].concat(this.state.uploadedImageFileData),z=y[x];y.splice(x,1);y.push(z);this.setState({uploadedImageFileData:y});return}u.onload=function(){var A,B={height:u.height,imageBinary:v,md5:w,width:u.width},C=[].concat(this.state.uploadedImageFileData,[B]),D=babelHelpers["extends"]({},this.state.imageBinaryToMd5,(A={},A[v]=w,A));this.setState({uploadedImageFileData:C,imageBinaryToMd5:D})}.bind(this)}.bind(this);t.onerror=function(){c("ComposerVideoUploadSphericalMediaToolkitUtils").showFileUploadErrorDialog(t.error.name)};t.readAsDataURL(r)}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit4=function(r){switch(r){case c("SphericalVideoMediaToolkitOptions").ANNOTATION:this.setState({selectedMediaOption:r});break;case c("SphericalVideoMediaToolkitOptions").IMAGE:this.setState({selectedMediaOption:r});break}this.$ComposerVideoUploadSphericalMediaToolkit9(false)}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit6=function(){this.setState({showHotspotSaveNux:false});c("BasicFBNux").onDismiss(c("ComposerVideoUploadSphericalMediaToolkitConstants").HOTSPOT_SAVE_NUX_ID)}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit7=function(){if(this.state.showHotspotSaveNux)c("BasicFBNux").onView(c("ComposerVideoUploadSphericalMediaToolkitConstants").HOTSPOT_SAVE_NUX_ID)}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit11=function(r){__p&&__p();var s=this.props.hotspots.hotspots,t=s.findIndex(function(w){return w.content.id===r}),u=t!==-1?s[t]:null;if(u){var v=void 0;switch(u.content.type){case c("SphericalVideoHotspotType").TEXT:v=c("SphericalVideoMediaToolkitOptions").ANNOTATION;break;case c("SphericalVideoHotspotType").IMAGE:v=c("SphericalVideoMediaToolkitOptions").IMAGE;break}this.setState({currentEditHotspot:u,selectedMediaOption:v});this.$ComposerVideoUploadSphericalMediaToolkit1.setSphericalOrientation(u.yaw,u.pitch);this.$ComposerVideoUploadSphericalMediaToolkit1.seek(u.startTime/n);this.$ComposerVideoUploadSphericalMediaToolkit1.emit(c("ComposerVideoUploadSphericalEvents").VIEWPORT_CONTROL.VIEWPORT_UPDATE);this.props.onViewportUpdate(u.yaw,u.pitch);this.$ComposerVideoUploadSphericalMediaToolkit5(true);this.$ComposerVideoUploadSphericalMediaToolkit9(true);this.props.onHotspotDeleted(r)}}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit8=function(r){__p&&__p();if(r.content.type===c("SphericalVideoHotspotType").TEXT&&r.content.text==="")return;if(this.$ComposerVideoUploadSphericalMediaToolkit1.getCurrentTimePosition()===this.$ComposerVideoUploadSphericalMediaToolkit1.getPlaybackDuration()){c("ComposerVideoUploadSphericalMediaToolkitUtils").showLastFrameDialog();return}var s=this.$ComposerVideoUploadSphericalMediaToolkit1.getOption("ComposerVideoUploadSphericalVideoPreviewViewportControl","getCurrentViewport"),t=Math.floor(this.$ComposerVideoUploadSphericalMediaToolkit1.getCurrentTimePosition()*n),u=this.$ComposerVideoUploadSphericalMediaToolkit1.getPlaybackDuration()*n,v=r.set("pitch",Math.round(s.pitch));v=v.set("yaw",Math.round(s.yaw));v=v.set("startTime",t);v=v.set("endTime",Math.min(t+c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_DURATION_MS,u));var w=false;if(v.content.id===c("ComposerVideoUploadSphericalMediaToolkitConstants").DEFAULT_ID){if(r.content.type===c("SphericalVideoHotspotType").TEXT)v=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateTextHotspotContent(v,{id:this.props.nextId});else if(r.content.type===c("SphericalVideoHotspotType").IMAGE)v=c("ComposerVideoUploadSphericalMediaToolkitUtils").updateImageHotspotContent(v,{id:this.props.nextId});w=true}this.props.onHotspotAdded(v,w);this.$ComposerVideoUploadSphericalMediaToolkit9(false)}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit9=function(r){if(r)this.$ComposerVideoUploadSphericalMediaToolkit1.pause();else this.setState({currentEditHotspot:null});this.$ComposerVideoUploadSphericalMediaToolkit1.setOption("ComposerVideoUploadSphericalMediaToolkit","isEditingHotspot",r);this.setState({isEditing:r})}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit5=function(r){if(!r)this.$ComposerVideoUploadSphericalMediaToolkit9(false);this.props.onGuideVisibilityUpdate(!r);this.setState({showMediaToolkitLayer:r})}.bind(this);this.$ComposerVideoUploadSphericalMediaToolkit3=false;this.$ComposerVideoUploadSphericalMediaToolkit1=q.controller;this.$ComposerVideoUploadSphericalMediaToolkit1.registerOption("ComposerVideoUploadSphericalMediaToolkit","isEditingHotspot",function(){return this.$ComposerVideoUploadSphericalMediaToolkit3}.bind(this),function(r){return this.$ComposerVideoUploadSphericalMediaToolkit3=r}.bind(this))}p.prototype.componentDidMount=function(){"use strict";if(!this.$ComposerVideoUploadSphericalMediaToolkit2)return;var q=this.$ComposerVideoUploadSphericalMediaToolkit2.offsetWidth,r=this.$ComposerVideoUploadSphericalMediaToolkit2.offsetHeight;this.setState({viewportWidth:q,viewportHeight:r})};p.prototype.componentWillUnmount=function(){"use strict";this.props.onGuideVisibilityUpdate(true)};p.prototype.render=function(){"use strict";var q=this.props,r=q.enableTextHotspots,s=q.enableImageHotspots,t=[];if(r)t.push(o[c("SphericalVideoMediaToolkitOptions").ANNOTATION]);if(s)t.push(o[c("SphericalVideoMediaToolkitOptions").IMAGE]);var u=this.state.showMediaToolkitLayer?c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkitPanelLayer.react"),{dropdownOptions:t,selectedMediaOption:this.state.selectedMediaOption,handleMediaOptionSelect:this.$ComposerVideoUploadSphericalMediaToolkit4,toggleMediaToolkit:this.$ComposerVideoUploadSphericalMediaToolkit5}):null,v=r&&this.state.showMediaToolkitLayer&&this.state.selectedMediaOption===c("SphericalVideoMediaToolkitOptions").ANNOTATION?c("React").createElement(c("ComposerVideoUploadSphericalAnnotationEditLayerContainer.react"),{controller:this.$ComposerVideoUploadSphericalMediaToolkit1,fov:this.props.fov,hotspot:this.state.currentEditHotspot,isEditing:this.state.isEditing,pitch:this.props.pitch,showNux:this.state.showHotspotSaveNux,viewportHeight:this.state.viewportHeight,viewportWidth:this.state.viewportWidth,yaw:this.props.yaw,handleNuxClosed:this.$ComposerVideoUploadSphericalMediaToolkit6,handleNuxView:this.$ComposerVideoUploadSphericalMediaToolkit7,handleSaveHotspotEdits:this.$ComposerVideoUploadSphericalMediaToolkit8,toggleEditingState:this.$ComposerVideoUploadSphericalMediaToolkit9}):null,w=s&&this.state.showMediaToolkitLayer&&this.state.selectedMediaOption===c("SphericalVideoMediaToolkitOptions").IMAGE?c("React").createElement(c("ComposerVideoUploadSphericalImageEditLayerContainer.react"),{controller:this.$ComposerVideoUploadSphericalMediaToolkit1,fov:this.props.fov,hotspot:this.state.currentEditHotspot,imageBinaryToMd5:this.state.imageBinaryToMd5,isEditing:this.state.isEditing,pitch:this.props.pitch,showNux:this.state.showHotspotSaveNux,uploadedImageFileData:this.state.uploadedImageFileData,viewportHeight:this.state.viewportHeight,viewportWidth:this.state.viewportWidth,yaw:this.props.yaw,handleImageFileUpload:this.$ComposerVideoUploadSphericalMediaToolkit10,handleNuxClosed:this.$ComposerVideoUploadSphericalMediaToolkit6,handleNuxView:this.$ComposerVideoUploadSphericalMediaToolkit7,handleSaveHotspotEdits:this.$ComposerVideoUploadSphericalMediaToolkit8,toggleEditingState:this.$ComposerVideoUploadSphericalMediaToolkit9}):null,x=!this.state.showMediaToolkitLayer?c("React").createElement(c("ComposerVideoUploadSphericalToolkitEntryPointLayer.react"),{toggleMediaToolkit:this.$ComposerVideoUploadSphericalMediaToolkit5}):null,y=c("React").createElement(c("ComposerVideoUploadSphericalMetadataPreviewLayer.react"),{controller:this.$ComposerVideoUploadSphericalMediaToolkit1,fov:this.props.fov,hotspots:this.props.hotspots,imageBinaryToMd5:this.state.imageBinaryToMd5,pitch:this.props.pitch,uploadedImageFileData:this.state.uploadedImageFileData,viewportHeight:this.state.viewportHeight,viewportWidth:this.state.viewportWidth,yaw:this.props.yaw,handlePreviewElementClick:this.$ComposerVideoUploadSphericalMediaToolkit11});return c("React").createElement("div",{className:"_3kfp",ref:function(z){return this.$ComposerVideoUploadSphericalMediaToolkit2=z}.bind(this)},u,v,w,x,y)};f.exports=p}),null);
__d("ComposerVideoUploadSphericalVideoBottomControlBarSettingsInfoMenuItem.react",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";function i(j){return c("React").createElement("div",{className:"_65ep"},c("React").createElement("div",{className:"_-hw"},j.label))}f.exports=i}),null);
__d("ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu.react",["cx","Image.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={hovered:false},this.$ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu1=function(){this.setState({hovered:true})}.bind(this),this.$ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu2=function(){this.setState({hovered:false})}.bind(this),m}k.prototype.render=function(){return c("React").createElement("div",{className:"_65en",onMouseEnter:this.$ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu1,onMouseLeave:this.$ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu2},c("React").createElement(c("Image.react"),{src:this.state.hovered?this.props.buttonIconOnHover:this.props.buttonIconDefault}),c("React").createElement("div",{className:"_62or"},c("React").createElement("div",{className:"_62os"},this.props.children)))};f.exports=k}),null);
__d("ComposerVideoUploadSphericalVideoBottomControlBarSettingsSelectableMenuItem.react",["ix","cx","Image.react","React","asset"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(k){return c("React").createElement("a",{href:"#",className:"_65eo",onClick:k.onSelect},c("React").createElement(c("Image.react"),{src:k.isSelected?h("384999"):h("385001")}),c("React").createElement("div",{className:"_-hv"},k.label),c("React").createElement(c("Image.react"),{className:"_62op",src:k.icon}))}f.exports=j}),null);
__d("ComposerVideoUploadSphericalVideoPreviewEmbeddedControls",["ComposerVideoUploadSphericalEvents","EmbeddedVideoControls","SubscriptionsHandler","VideoUploadSphericalLogger"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){__p&&__p();var k=arguments.length<=2||arguments[2]===undefined?false:arguments[2],l=arguments.length<=3||arguments[3]===undefined?false:arguments[3];"use strict";this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls4=function(m){this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls1.updateDisplayElapsedTime(m);this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls5()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls5=function(){this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls1.updatePointsOfInterestConfig(this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls2.getOption("ComposerVideoUploadSphericalVideoPreviewGuide","getPointsOfInterestConfig"))}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls2=j;this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls1=new(c("EmbeddedVideoControls"))(j,i,{hideSettings:true,hideOnEvents:{autoplay:false,finish:false,pause:false},showButtons:{},pointsOfInterestConfig:j.getOption("ComposerVideoUploadSphericalVideoPreviewGuide","getPointsOfInterestConfig"),displayElapsedTime:j.getOption("VideoWithSphericalGuide","enabled"),forceVisible:k,hideGradient:k,useDarkTheme:l});this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls3=new(c("SubscriptionsHandler"))();this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls3.addSubscriptions(this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls2.addListener("VideoWithSphericalGuide/stateToggle",this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls4),this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls2.addListener(c("ComposerVideoUploadSphericalEvents").GUIDE.KEYFRAMES_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls5),this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls2.addListener(c("ComposerVideoUploadSphericalEvents").GUIDE.CURRENT_POI_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls5),this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls2.addListener("updateStatus",function(m){c("VideoUploadSphericalLogger").setVideoPreviewPosition(Math.round(m.position))}))}h.prototype.destroy=function(){"use strict";this.$ComposerVideoUploadSphericalVideoPreviewEmbeddedControls3.release()};f.exports=h}),null);
__d("ComposerVideoUploadSphericalVideoBottomControlBar.react",["cx","fbt","ix","ComposerVideoUploadSphericalVideoBottomControlBarSettingsInfoMenuItem.react","ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu.react","ComposerVideoUploadSphericalVideoBottomControlBarSettingsSelectableMenuItem.react","ComposerVideoUploadSphericalConstants","ComposerVideoUploadSphericalVideoPreviewEmbeddedControls","React","VideoProjection","VideoStereoFormat","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").PureComponent);l=k&&k.prototype;m.prototype.componentDidMount=function(){this.$ComposerVideoUploadSphericalVideoBottomControlBar1=new(c("ComposerVideoUploadSphericalVideoPreviewEmbeddedControls"))(this.refs.controls,this.props.controller,true,true)};m.prototype.componentWillUnmount=function(){this.$ComposerVideoUploadSphericalVideoBottomControlBar1.destroy()};m.prototype.render=function(){__p&&__p();var n=this.props.hasSpatialAudio?"on":"off",o="Unknown";if(this.props.projection===c("VideoProjection").EQUIRECTANGULAR)o="Equirect";else if(this.props.projection===c("VideoProjection").CUBEMAP)o="Cubemap";var p="Unknown";if(this.props.stereoMode===c("VideoStereoFormat").MONO)p="Mono";else if(this.props.stereoMode===c("VideoStereoFormat").LEFT_RIGHT)p="Side-by-Side";else if(this.props.stereoMode===c("VideoStereoFormat").TOP_BOTTOM)p="Top-Bottom";return c("React").createElement("div",{className:"_24a7"},c("React").createElement("div",{className:"_4uhh",ref:"controls"}),c("React").createElement("div",{className:"_4uhi"},c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu.react"),{buttonIconDefault:j("438982"),buttonIconOnHover:j("438981")},c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsInfoMenuItem.react"),{label:i._("360 audio is {=}",[i.param("=",c("React").createElement("span",{className:"_45ll"},i._({"off":"off","on":"on"},[i["enum"](n,{off:"off",on:"on"})])))])})),c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsMenu.react"),{buttonIconDefault:j("428197"),buttonIconOnHover:j("428193")},this.props.componentSource===c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.STANDALONE?c("React").createElement("div",null,c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsSelectableMenuItem.react"),{icon:j("378733"),isSelected:this.props.projection===c("VideoProjection").EQUIRECTANGULAR,label:i._("Equirect"),onSelect:function(){return this.props.onProjectionSelected(c("VideoProjection").EQUIRECTANGULAR)}.bind(this)}),c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsSelectableMenuItem.react"),{icon:j("378732"),isSelected:this.props.projection===c("VideoProjection").CUBEMAP,label:i._("Cubemap"),onSelect:function(){return this.props.onProjectionSelected(c("VideoProjection").CUBEMAP)}.bind(this)})):c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsInfoMenuItem.react"),{label:i._("{=} projection",[i.param("=",c("React").createElement("span",{className:"_45ll"},i._({"Equirect":"Equirect","Cubemap":"Cubemap","Unknown":"Unknown"},[i["enum"](o,{Equirect:"Equirect",Cubemap:"Cubemap",Unknown:"Unknown"})])))])}),c("React").createElement("div",{className:"_45lm"}),this.props.projection===c("VideoProjection").EQUIRECTANGULAR?c("React").createElement("div",null,c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsSelectableMenuItem.react"),{icon:j("378736"),isSelected:this.props.stereoMode===c("VideoStereoFormat").MONO,label:i._("Mono"),onSelect:function(){return this.props.onStereoModeSelected(c("VideoStereoFormat").MONO)}.bind(this)}),c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsSelectableMenuItem.react"),{icon:j("378738"),isSelected:this.props.stereoMode===c("VideoStereoFormat").LEFT_RIGHT,label:i._("Side-by-side"),onSelect:function(){return this.props.onStereoModeSelected(c("VideoStereoFormat").LEFT_RIGHT)}.bind(this)}),c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsSelectableMenuItem.react"),{icon:j("378739"),isSelected:this.props.stereoMode===c("VideoStereoFormat").TOP_BOTTOM,label:i._("Top\/bottom"),onSelect:function(){return this.props.onStereoModeSelected(c("VideoStereoFormat").TOP_BOTTOM)}.bind(this)})):c("React").createElement("div",null,c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBarSettingsInfoMenuItem.react"),{label:i._("{=} mode",[i.param("=",c("React").createElement("span",{className:"_45ll"},i._({"Mono":"Mono","Side-by-Side":"Side-by-side","Left-Right":"Left-to-right"},[i["enum"](p,{Mono:"Mono","Side-by-Side":"Side-by-Side","Left-Right":"Left-Right"})])))])})))))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("ComposerVideoUploadSphericalVideoIntroTextSection.react",["cx","fbt","React","ComposerVideoUploadSphericalConstants"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(k){var l=i._("Set guide points.");if(k.enableTextHotspots&&k.enableImageHotspots)l=i._("Set guide points and overlay text and images.");else if(k.enableTextHotspots)l=i._("Set guide points and overlay text.");else if(k.enableImageHotspots)l=i._("Set guide points and overlay images.");var m=" ",n=i._("Your final video will automatically pan to these parts."),o=k.componentSource===c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.PAGE_COMPOSER_V1||k.componentSource===c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.EDIT_DIALOG_V1||k.componentSource===c("ComposerVideoUploadSphericalConstants").COMPONENT_SOURCE.CROSSPOST_DIALOG_V1;return c("React").createElement("div",{className:"_16_7"},!o&&c("React").createElement("div",{className:"_2fb1 _4h--"}),c("React").createElement("div",{className:"_16_8"},i._("Direct your audience to the parts you want them to see")),c("React").createElement("div",{className:"_16_9"},l,m,n),c("React").createElement("div",{className:"_2fb1 _4h--"}))}f.exports=j}),null);
__d("findGreatestLowerBoundGuideKeyframeIndex",["BinarySearch"],(function a(b,c,d,e,f,g){var h=function h(i,j){return c("BinarySearch").greatestLowerBound(function(k){return i[k][0]},j,0,i.length,function(k,l){return k-l})};f.exports=h}),null);
__d("normalizeDeltaYaw",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){var k=j?Math.PI:180,l=2*k;if(Math.abs(i)>l){var m=Math.trunc(Math.abs(i)/l);i-=Math.sign(i)*m*l}if(Math.abs(i)>k)i-=Math.sign(i)*2*k;return i}f.exports=h}),null);
__d("SphericalVideoGuideAnimation",["EventEmitter","SphericalVideoGuideAnimationConfig","easeInOutInterpolate","normalizeDeltaYaw","findGreatestLowerBoundGuideKeyframeIndex","requestAnimationFrame"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("SphericalVideoGuideAnimationConfig").MIN_INTERVAL_MS,k=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND;h=babelHelpers.inherits(l,c("EventEmitter"));i=h&&h.prototype;function l(m,n,o,p,q){"use strict";__p&&__p();i.constructor.call(this);this.$SphericalVideoGuideAnimation12=function(){if(!this.$SphericalVideoGuideAnimation2||!this.$SphericalVideoGuideAnimation1||!this.$SphericalVideoGuideAnimation7()){this.$SphericalVideoGuideAnimation3=null;return}this.updateViewport();c("requestAnimationFrame")(this.$SphericalVideoGuideAnimation12)}.bind(this);this.$SphericalVideoGuideAnimation3=null;this.$SphericalVideoGuideAnimation1=false;this.$SphericalVideoGuideAnimation2=m.guideKeyframes||[];this.$SphericalVideoGuideAnimation8={yaw:m.initialHeading||0,pitch:m.initialPitch||0};this.$SphericalVideoGuideAnimation5=o;this.$SphericalVideoGuideAnimation4=n;this.$SphericalVideoGuideAnimation6=p;this.$SphericalVideoGuideAnimation7=q;if(this.$SphericalVideoGuideAnimation2)this.$SphericalVideoGuideAnimation10(0)}l.prototype.isEnabled=function(){"use strict";return this.$SphericalVideoGuideAnimation1};l.prototype.setEnabledOnResume=function(m,n){"use strict";if(!this.$SphericalVideoGuideAnimation1&&m)this.calculateKeyframeIntervalOnResume();this.setEnabled(m,n)};l.prototype.setEnabled=function(m,n){"use strict";if(this.$SphericalVideoGuideAnimation1!==m)this.emit("toggle",m,n);this.$SphericalVideoGuideAnimation1=m;this.resumeAnimation()};l.prototype.resumeAnimation=function(){"use strict";if(this.$SphericalVideoGuideAnimation1)this.$SphericalVideoGuideAnimation11()};l.prototype.setInitialViewport=function(m,n){"use strict";this.$SphericalVideoGuideAnimation8.yaw=m;this.$SphericalVideoGuideAnimation8.pitch=n};l.prototype.setKeyframes=function(m){"use strict";this.$SphericalVideoGuideAnimation2=m};l.prototype.updateViewport=function(m){"use strict";var n=this.$SphericalVideoGuideAnimation9,o=this.$SphericalVideoGuideAnimation6()*k;if(o<n.baseTime||o>n.nextTime||!!m){this.$SphericalVideoGuideAnimation10(o);n=this.$SphericalVideoGuideAnimation9}var p=c("easeInOutInterpolate")((o-n.baseTime)/n.deltaTime),q=n.deltaPitch*p+n.basePitch,r=n.deltaYaw*p+n.baseYaw;if(this.$SphericalVideoGuideAnimation1)this.$SphericalVideoGuideAnimation4(r,q)};l.prototype.$SphericalVideoGuideAnimation11=function(){"use strict";if(this.$SphericalVideoGuideAnimation3===null)this.$SphericalVideoGuideAnimation3=c("requestAnimationFrame")(this.$SphericalVideoGuideAnimation12)};l.prototype.calculateKeyframeIntervalOnResume=function(){"use strict";__p&&__p();var m=this.$SphericalVideoGuideAnimation5(),n=m.yaw,o=m.pitch,p=this.$SphericalVideoGuideAnimation6()*k,q=[p,o,n],r;if(this.$SphericalVideoGuideAnimation2.length===0)r=[Infinity,o,n];else{var s=c("findGreatestLowerBoundGuideKeyframeIndex")(this.$SphericalVideoGuideAnimation2,p);if(this.$SphericalVideoGuideAnimation2.length>s+1)if(this.$SphericalVideoGuideAnimation2[s+1][0]-p>2*j)r=[p+j,s<0?this.$SphericalVideoGuideAnimation8.pitch:this.$SphericalVideoGuideAnimation2[s][1],s<0?this.$SphericalVideoGuideAnimation8.yaw:this.$SphericalVideoGuideAnimation2[s][2]];else if(this.$SphericalVideoGuideAnimation2[s+1][0]-p>j)r=this.$SphericalVideoGuideAnimation2[s+1];else if(this.$SphericalVideoGuideAnimation2.length>s+2&&this.$SphericalVideoGuideAnimation2[s+2][0]-p<2*j)r=this.$SphericalVideoGuideAnimation2[s+2];else r=[p+j,this.$SphericalVideoGuideAnimation2[s+1][1],this.$SphericalVideoGuideAnimation2[s+1][2]];else r=[p+j,s<0?this.$SphericalVideoGuideAnimation8.pitch:this.$SphericalVideoGuideAnimation2[s][1],s<0?this.$SphericalVideoGuideAnimation8.yaw:this.$SphericalVideoGuideAnimation2[s][2]]}this.$SphericalVideoGuideAnimation13(q,r)};l.prototype.$SphericalVideoGuideAnimation10=function(m){"use strict";__p&&__p();var n,o;if(this.$SphericalVideoGuideAnimation2.length===0){n=[0,this.$SphericalVideoGuideAnimation8.pitch,this.$SphericalVideoGuideAnimation8.yaw];o=[Infinity,this.$SphericalVideoGuideAnimation8.pitch,this.$SphericalVideoGuideAnimation8.yaw]}else{var p=c("findGreatestLowerBoundGuideKeyframeIndex")(this.$SphericalVideoGuideAnimation2,m);n=p===-1?[0,this.$SphericalVideoGuideAnimation8.pitch,this.$SphericalVideoGuideAnimation8.yaw]:this.$SphericalVideoGuideAnimation2[p];if(this.$SphericalVideoGuideAnimation2.length<=p+1)o=[Infinity,n[1],n[2]];else if(this.$SphericalVideoGuideAnimation2[p+1][0]-m>j)o=[this.$SphericalVideoGuideAnimation2[p+1][0]-j,n[1],n[2]];else{o=this.$SphericalVideoGuideAnimation2[p+1];n=[this.$SphericalVideoGuideAnimation2[p+1][0]-j,n[1],n[2]]}}this.$SphericalVideoGuideAnimation13(n,o)};l.prototype.$SphericalVideoGuideAnimation13=function(m,n){"use strict";var o=function o(){return{baseTime:m[0],nextTime:n[0],deltaTime:n[0]-m[0],basePitch:m[1],deltaPitch:n[1]-m[1],baseYaw:m[2],deltaYaw:c("normalizeDeltaYaw")(n[2]-m[2])}};if(this.$SphericalVideoGuideAnimation1)this.emit("newIntervalCalculated",o());this.$SphericalVideoGuideAnimation9=o()};f.exports=l}),null);
__d("VideoWithSphericalGuide",["SphericalVideoGuideAnimation","SubscriptionsHandler","VideoPlayerLoggerEvent","Run"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){"use strict";this.$VideoWithSphericalGuide1=i;this.$VideoWithSphericalGuide2=j;this.$VideoWithSphericalGuide6=new(c("SubscriptionsHandler"))();this.$VideoWithSphericalGuide7();if(this.$VideoWithSphericalGuide1.getOption("SphericalVideoPlayer","isReady"))this.$VideoWithSphericalGuide8();else this.$VideoWithSphericalGuide6.addSubscriptions(this.$VideoWithSphericalGuide1.once("SphericalVideoPlayer/ready",function(){return this.$VideoWithSphericalGuide8()}.bind(this)))}h.prototype.$VideoWithSphericalGuide7=function(){"use strict";__p&&__p();var i=function(n,o){return this.$VideoWithSphericalGuide1.setSphericalOrientation(n,o)}.bind(this),j=function(){return this.$VideoWithSphericalGuide1.getOption("SphericalVideoPlayer","getCurrentViewport")}.bind(this),k=function(){return this.$VideoWithSphericalGuide1.isState("playing")}.bind(this),l=function(n,o){return this.$VideoWithSphericalGuide1.emit("VideoWithSphericalGuide/viewportChange",n,o)}.bind(this);this.$VideoWithSphericalGuide1.registerOption("VideoWithSphericalGuide","enabled",function(){return this.$VideoWithSphericalGuide4.isEnabled()}.bind(this));this.$VideoWithSphericalGuide1.registerOption("VideoWithSphericalGuide","auto",function(){return this.$VideoWithSphericalGuide3.isEnabled()}.bind(this));var m=function(){return this.$VideoWithSphericalGuide1.getCurrentTimePosition()}.bind(this);this.$VideoWithSphericalGuide3=new(c("SphericalVideoGuideAnimation"))(this.$VideoWithSphericalGuide2,i,j,m,k);this.$VideoWithSphericalGuide4=new(c("SphericalVideoGuideAnimation"))(this.$VideoWithSphericalGuide2,l,j,m,k);this.$VideoWithSphericalGuide5=false};h.prototype.$VideoWithSphericalGuide8=function(){"use strict";__p&&__p();this.$VideoWithSphericalGuide6.addSubscriptions(this.$VideoWithSphericalGuide1.addListener("updateViewportBegin",function(){return this.$VideoWithSphericalGuide9()}.bind(this)),this.$VideoWithSphericalGuide1.addListener("SphericalHeadingIndicator/click",function(){if(this.$VideoWithSphericalGuide4.isEnabled()&&!this.$VideoWithSphericalGuide3.isEnabled())this.setAutoEnabled(true)}.bind(this)),this.$VideoWithSphericalGuide1.addListener("seekEnd",function(){return this.$VideoWithSphericalGuide10()}.bind(this)),this.$VideoWithSphericalGuide1.addListener("stateChange",function(){if(this.$VideoWithSphericalGuide1.isState("playing"))this.$VideoWithSphericalGuide11()}.bind(this)),this.$VideoWithSphericalGuide1.addListener("SphericalVideoRecenterControl/animationStart",function(){return this.$VideoWithSphericalGuide12()}.bind(this)),this.$VideoWithSphericalGuide4.addListener("newIntervalCalculated",this.$VideoWithSphericalGuide13.bind(this)),this.$VideoWithSphericalGuide3.addListener("toggle",function(i,j){this.$VideoWithSphericalGuide1.emit("VideoWithSphericalGuide/toggle",i);var event=i?c("VideoPlayerLoggerEvent").GUIDE_ENTERED:c("VideoPlayerLoggerEvent").GUIDE_EXITED,k=j?{reason:j}:null;this.$VideoWithSphericalGuide1.logEvent(event,k)}.bind(this)));c("Run").onUnload(function(){return this.$VideoWithSphericalGuide6.release()}.bind(this));if(this.$VideoWithSphericalGuide2.guideEnabled){this.$VideoWithSphericalGuide4.setEnabled(true);this.setAutoEnabled(true,"guide_auto_entered")}};h.prototype.$VideoWithSphericalGuide12=function(){"use strict";this.$VideoWithSphericalGuide5=true};h.prototype.$VideoWithSphericalGuide13=function(i){"use strict";this.$VideoWithSphericalGuide1.emit("VideoWithSphericalGuide/intervalUpdate",i)};h.prototype.$VideoWithSphericalGuide9=function(){"use strict";var i=this.$VideoWithSphericalGuide1.once("updateViewportMove",function(){return this.setAutoEnabled(false)}.bind(this));this.$VideoWithSphericalGuide1.once("updateViewportEnd",function(){return i.remove()})};h.prototype.$VideoWithSphericalGuide10=function(){"use strict";if(this.$VideoWithSphericalGuide3.isEnabled())this.$VideoWithSphericalGuide3.updateViewport(true);if(this.$VideoWithSphericalGuide4.isEnabled())this.$VideoWithSphericalGuide4.updateViewport(true)};h.prototype.$VideoWithSphericalGuide11=function(){"use strict";if(this.$VideoWithSphericalGuide5){this.$VideoWithSphericalGuide5=false;this.$VideoWithSphericalGuide3.calculateKeyframeIntervalOnResume()}this.$VideoWithSphericalGuide3.resumeAnimation();this.$VideoWithSphericalGuide4.resumeAnimation()};h.prototype.setInitialViewport=function(i,j){"use strict";this.$VideoWithSphericalGuide3.setInitialViewport(i,j);this.$VideoWithSphericalGuide4.setInitialViewport(i,j);this.$VideoWithSphericalGuide4.updateViewport(true)};h.prototype.setEnabled=function(i){"use strict";this.$VideoWithSphericalGuide4.setEnabled(i);this.$VideoWithSphericalGuide3.setEnabledOnResume(i);this.$VideoWithSphericalGuide1.emit("VideoWithSphericalGuide/stateToggle",i)};h.prototype.setAutoEnabled=function(i,j){"use strict";this.$VideoWithSphericalGuide3.setEnabledOnResume(i,j)};h.prototype.setKeyframes=function(i){"use strict";this.$VideoWithSphericalGuide4.setKeyframes(i);this.$VideoWithSphericalGuide4.updateViewport(true);this.$VideoWithSphericalGuide3.setKeyframes(i);this.$VideoWithSphericalGuide3.calculateKeyframeIntervalOnResume()};f.exports=h}),null);
__d("ComposerVideoUploadSphericalVideoPreviewGuide",["fbt","ComposerVideoUploadSphericalGuideUtils","SimpleXUIDialog","VideoUploadSphericalControlsAction","SubscriptionsHandler","VideoPlayerReason","VideoPlayerReasonTransitionHelper","VideoPlayerStates","VideoUploadSphericalLogger","VideoWithSphericalGuide","ComposerVideoUploadSphericalEvents","emptyFunction","SphericalVideoGuideAnimationConfig","findGreatestLowerBoundGuideKeyframeIndex"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("SphericalVideoGuideAnimationConfig").MS_PER_SECOND,j=c("SphericalVideoGuideAnimationConfig").MIN_INTERVAL_MS,k=2e3,l=1e3;function m(n,o,p,q,r,s,t,u,v){__p&&__p();var w=arguments.length<=9||arguments[9]===undefined?c("emptyFunction"):arguments[9],x=arguments.length<=10||arguments[10]===undefined?c("emptyFunction"):arguments[10],y=arguments.length<=11||arguments[11]===undefined?c("emptyFunction"):arguments[11],z=arguments.length<=12||arguments[12]===undefined?c("emptyFunction"):arguments[12],A=arguments.length<=13||arguments[13]===undefined?false:arguments[13];"use strict";this.$ComposerVideoUploadSphericalVideoPreviewGuide21=function(C){this.$ComposerVideoUploadSphericalVideoPreviewGuide3.setInitialViewport(C.yaw,C.pitch)}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide22=function(C){this.$ComposerVideoUploadSphericalVideoPreviewGuide7=C;this.$ComposerVideoUploadSphericalVideoPreviewGuide3.setKeyframes(C);this.$ComposerVideoUploadSphericalVideoPreviewGuide2.emit(c("ComposerVideoUploadSphericalEvents").GUIDE.KEYFRAMES_UPDATE);this.$ComposerVideoUploadSphericalVideoPreviewGuide19()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide23=function(C){this.$ComposerVideoUploadSphericalVideoPreviewGuide5=C;this.$ComposerVideoUploadSphericalVideoPreviewGuide3.setEnabled(C);this.$ComposerVideoUploadSphericalVideoPreviewGuide19()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide18=function(){return{onPointOfInterestSelect:this.$ComposerVideoUploadSphericalVideoPreviewGuide31,currentPointOfInterest:this.$ComposerVideoUploadSphericalVideoPreviewGuide32(),pointsOfInterest:this.$ComposerVideoUploadSphericalVideoPreviewGuide33(),showPointOfInterestTimestamps:!this.$ComposerVideoUploadSphericalVideoPreviewGuide6}}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide20=function(){if(this.$ComposerVideoUploadSphericalVideoPreviewGuide8)this.$ComposerVideoUploadSphericalVideoPreviewGuide34()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide24=function(){__p&&__p();this.$ComposerVideoUploadSphericalVideoPreviewGuide2.pause();var C=Math.floor(this.$ComposerVideoUploadSphericalVideoPreviewGuide2.getCurrentTimePosition()*i),D=this.$ComposerVideoUploadSphericalVideoPreviewGuide2.isState(c("VideoPlayerStates").PLAYING),E=D?function(){return this.$ComposerVideoUploadSphericalVideoPreviewGuide2.play(new(c("VideoPlayerReasonTransitionHelper"))(c("VideoPlayerReason").USER))}.bind(this):null;if(C<j){if(this.$ComposerVideoUploadSphericalVideoPreviewGuide6&&C===0)return;if(D)this.$ComposerVideoUploadSphericalVideoPreviewGuide2.pause();c("ComposerVideoUploadSphericalGuideUtils").showAddPointDialog(E,this.$ComposerVideoUploadSphericalVideoPreviewGuide6);return}var F=c("findGreatestLowerBoundGuideKeyframeIndex")(this.$ComposerVideoUploadSphericalVideoPreviewGuide7,C),G=this.$ComposerVideoUploadSphericalVideoPreviewGuide7;if(G[F]&&C-G[F][0]<j||G[F+1]&&G[F+1][0]-C<j){if(this.$ComposerVideoUploadSphericalVideoPreviewGuide6&&G[F]&&G[F][0]===C)return;if(D)this.$ComposerVideoUploadSphericalVideoPreviewGuide2.pause();c("ComposerVideoUploadSphericalGuideUtils").showAddPointDialog(E,this.$ComposerVideoUploadSphericalVideoPreviewGuide6);return}var H=this.$ComposerVideoUploadSphericalVideoPreviewGuide2.getOption("ComposerVideoUploadSphericalVideoPreviewViewportControl","getCurrentViewport");this.$ComposerVideoUploadSphericalVideoPreviewGuide9(C,H.pitch,H.yaw,function(){return this.$ComposerVideoUploadSphericalVideoPreviewGuide2.getOption("SphericalVideoPlayer","getScreenshotDataURL")}.bind(this));c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").ADD_POINT_OF_INTEREST).log()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide25=function(){this.$ComposerVideoUploadSphericalVideoPreviewGuide17=true;this.$ComposerVideoUploadSphericalVideoPreviewGuide34()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide26=function(){this.$ComposerVideoUploadSphericalVideoPreviewGuide13(true);c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").EDIT_POINT_OF_INTEREST).log()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide27=function(){if(!this.$ComposerVideoUploadSphericalVideoPreviewGuide4)return;this.$ComposerVideoUploadSphericalVideoPreviewGuide11(this.$ComposerVideoUploadSphericalVideoPreviewGuide4[0]);c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").REMOVE_POINT_OF_INTEREST).log()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide28=function(event){c("SimpleXUIDialog").showConfirm(h._("All existing points of interest will be removed. Are you sure?"),h._("Warning"),function(C){if(C){c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").CLEAR_POINTS_OF_INTEREST).log();this.$ComposerVideoUploadSphericalVideoPreviewGuide12()}}.bind(this))}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide30=function(C){__p&&__p();if(this.$ComposerVideoUploadSphericalVideoPreviewGuide8&&!C){this.$ComposerVideoUploadSphericalVideoPreviewGuide8=C;this.$ComposerVideoUploadSphericalVideoPreviewGuide3.setAutoEnabled(true);if(this.$ComposerVideoUploadSphericalVideoPreviewGuide17){this.$ComposerVideoUploadSphericalVideoPreviewGuide17=false;this.$ComposerVideoUploadSphericalVideoPreviewGuide2.play(new(c("VideoPlayerReasonTransitionHelper"))(c("VideoPlayerReason").USER))}}else{this.$ComposerVideoUploadSphericalVideoPreviewGuide8=C;this.$ComposerVideoUploadSphericalVideoPreviewGuide2.emit("SphericalHeadingIndicator/click")}}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide31=function(C){var D=this.$ComposerVideoUploadSphericalVideoPreviewGuide7.find(function(G){return G[0]===C*i});if(!D)return;var E=D[1],F=D[2];this.$ComposerVideoUploadSphericalVideoPreviewGuide2.seek(C);this.$ComposerVideoUploadSphericalVideoPreviewGuide2.setSphericalOrientation(F,E);this.$ComposerVideoUploadSphericalVideoPreviewGuide2.pause();c("VideoUploadSphericalLogger").setPitchDegrees(E).setYawDegrees(F).setUserAction(c("VideoUploadSphericalControlsAction").SEARCH_POINT_OF_INTEREST).log()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide29=function(){this.$ComposerVideoUploadSphericalVideoPreviewGuide15(function(){return this.$ComposerVideoUploadSphericalVideoPreviewGuide2.getOption("SphericalVideoPlayer","getScreenshotDataURL")}.bind(this))}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide19=function(){__p&&__p();var C=this.$ComposerVideoUploadSphericalVideoPreviewGuide4;if(this.$ComposerVideoUploadSphericalVideoPreviewGuide5){var D=Math.floor(this.$ComposerVideoUploadSphericalVideoPreviewGuide2.getCurrentTimePosition()*i),E=this.$ComposerVideoUploadSphericalVideoPreviewGuide7,F=c("findGreatestLowerBoundGuideKeyframeIndex")(E,D);if(this.$ComposerVideoUploadSphericalVideoPreviewGuide16)if(D===E[F][0])this.$ComposerVideoUploadSphericalVideoPreviewGuide4=E[F];else this.$ComposerVideoUploadSphericalVideoPreviewGuide4=null;else{var G=F+1;if(E[G]&&E[G][0]-D<=k)this.$ComposerVideoUploadSphericalVideoPreviewGuide4=E[G];else if(E[F]&&D-E[F][0]<=l)this.$ComposerVideoUploadSphericalVideoPreviewGuide4=E[F];else this.$ComposerVideoUploadSphericalVideoPreviewGuide4=null}}else this.$ComposerVideoUploadSphericalVideoPreviewGuide4=null;if(C!==this.$ComposerVideoUploadSphericalVideoPreviewGuide4){this.$ComposerVideoUploadSphericalVideoPreviewGuide2.emit(c("ComposerVideoUploadSphericalEvents").GUIDE.CURRENT_POI_UPDATE);this.$ComposerVideoUploadSphericalVideoPreviewGuide14(this.$ComposerVideoUploadSphericalVideoPreviewGuide4?this.$ComposerVideoUploadSphericalVideoPreviewGuide4[0]:null)}}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewGuide2=n;this.$ComposerVideoUploadSphericalVideoPreviewGuide5=q;this.$ComposerVideoUploadSphericalVideoPreviewGuide6=r;this.$ComposerVideoUploadSphericalVideoPreviewGuide7=s;this.$ComposerVideoUploadSphericalVideoPreviewGuide9=t;this.$ComposerVideoUploadSphericalVideoPreviewGuide11=u;this.$ComposerVideoUploadSphericalVideoPreviewGuide12=v;this.$ComposerVideoUploadSphericalVideoPreviewGuide13=w;this.$ComposerVideoUploadSphericalVideoPreviewGuide10=x;this.$ComposerVideoUploadSphericalVideoPreviewGuide14=y;this.$ComposerVideoUploadSphericalVideoPreviewGuide15=z;this.$ComposerVideoUploadSphericalVideoPreviewGuide16=A;this.$ComposerVideoUploadSphericalVideoPreviewGuide17=false;this.$ComposerVideoUploadSphericalVideoPreviewGuide1=new(c("SubscriptionsHandler"))();var B={initialHeading:o,initialPitch:p,guideEnabled:q,guideKeyframes:s};this.$ComposerVideoUploadSphericalVideoPreviewGuide3=new(c("VideoWithSphericalGuide"))(this.$ComposerVideoUploadSphericalVideoPreviewGuide2,B);this.$ComposerVideoUploadSphericalVideoPreviewGuide4=null;this.$ComposerVideoUploadSphericalVideoPreviewGuide8=false;this.$ComposerVideoUploadSphericalVideoPreviewGuide2.registerOption("ComposerVideoUploadSphericalVideoPreviewGuide","getPointsOfInterestConfig",this.$ComposerVideoUploadSphericalVideoPreviewGuide18);this.$ComposerVideoUploadSphericalVideoPreviewGuide2.registerOption("ComposerVideoUploadSphericalVideoPreviewGuide","getCurrentPointOfInterest",function(){return this.$ComposerVideoUploadSphericalVideoPreviewGuide4}.bind(this));this.$ComposerVideoUploadSphericalVideoPreviewGuide2.emit(c("ComposerVideoUploadSphericalEvents").GUIDE.KEYFRAMES_UPDATE);this.$ComposerVideoUploadSphericalVideoPreviewGuide2.emit(c("ComposerVideoUploadSphericalEvents").GUIDE.CURRENT_POI_UPDATE);this.$ComposerVideoUploadSphericalVideoPreviewGuide1.addSubscriptions(this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener("updateStatus",this.$ComposerVideoUploadSphericalVideoPreviewGuide19),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener("seekRequested",this.$ComposerVideoUploadSphericalVideoPreviewGuide20),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener("playRequested",this.$ComposerVideoUploadSphericalVideoPreviewGuide20),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.INITAL_VIEWPORT_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewGuide21),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_KEYFRAMES_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewGuide22),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_STATE_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewGuide23),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.ADD_POI,this.$ComposerVideoUploadSphericalVideoPreviewGuide24),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.SAVE_POI,this.$ComposerVideoUploadSphericalVideoPreviewGuide25),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.EDIT_POI,this.$ComposerVideoUploadSphericalVideoPreviewGuide26),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.REMOVE_POI,this.$ComposerVideoUploadSphericalVideoPreviewGuide27),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.CLEAR_POI,this.$ComposerVideoUploadSphericalVideoPreviewGuide28),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").OVERLAY_BUTTONS.CREATE_THUMBNAIL,this.$ComposerVideoUploadSphericalVideoPreviewGuide29),this.$ComposerVideoUploadSphericalVideoPreviewGuide2.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.KEYFRAME_EDITING_STATE_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewGuide30))}m.prototype.$ComposerVideoUploadSphericalVideoPreviewGuide33=function(){"use strict";return this.$ComposerVideoUploadSphericalVideoPreviewGuide5?this.$ComposerVideoUploadSphericalVideoPreviewGuide7.map(function(n){return n[0]/i}):[]};m.prototype.$ComposerVideoUploadSphericalVideoPreviewGuide32=function(){"use strict";return this.$ComposerVideoUploadSphericalVideoPreviewGuide5&&this.$ComposerVideoUploadSphericalVideoPreviewGuide4?this.$ComposerVideoUploadSphericalVideoPreviewGuide4[0]/i:null};m.prototype.$ComposerVideoUploadSphericalVideoPreviewGuide34=function(){"use strict";if(!this.$ComposerVideoUploadSphericalVideoPreviewGuide4)return;var n=this.$ComposerVideoUploadSphericalVideoPreviewGuide4[0],o=this.$ComposerVideoUploadSphericalVideoPreviewGuide2.getOption("ComposerVideoUploadSphericalVideoPreviewViewportControl","getCurrentViewport");this.$ComposerVideoUploadSphericalVideoPreviewGuide10(n,o.pitch,o.yaw,function(){return this.$ComposerVideoUploadSphericalVideoPreviewGuide2.getOption("SphericalVideoPlayer","getScreenshotDataURL")}.bind(this));c("VideoUploadSphericalLogger").setUserAction(c("VideoUploadSphericalControlsAction").SAVE_EDITS).setPitchDegrees(o.pitch).setYawDegrees(o.yaw).log()};m.prototype.destroy=function(){"use strict";this.$ComposerVideoUploadSphericalVideoPreviewGuide1.release()};f.exports=m}),null);
__d("ComposerVideoUploadSphericalVideoPreviewPOIIndicator",["cx","ComposerVideoUploadSphericalEvents","CSS","DOM","DOMDimensions","SubscriptionsHandler","SphericalProjectionUtils"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(k,l){__p&&__p();var m=arguments.length<=2||arguments[2]===undefined?false:arguments[2],n=arguments.length<=3||arguments[3]===undefined?false:arguments[3],o=arguments.length<=4||arguments[4]===undefined?true:arguments[4];"use strict";j.call(this);this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1=k;this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator2=new(c("SubscriptionsHandler"))();this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator3=this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.getOption("ComposerVideoUploadSphericalVideoPreviewGuide","getCurrentPointOfInterest");this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator6=n;this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator8=o;this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator2.addSubscriptions(this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.addListener(c("ComposerVideoUploadSphericalEvents").GUIDE.CURRENT_POI_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator9),this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.addListener(c("ComposerVideoUploadSphericalEvents").VIEWPORT_CONTROL.VIEWPORT_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator10),this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.addListener(c("ComposerVideoUploadSphericalEvents").VIEWPORT_CONTROL.FIELD_OF_VIEW_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator10),this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.KEYFRAME_EDITING_STATE_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator11),this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_VISIBILITY_UPDATE,this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator12));this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4=c("DOM").create("div",{className:"_13ds"+(m?" _3c8f":"")+(n?" _3c8g":""),onclick:this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator13});c("DOM").appendContent(l,this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4);this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator5=c("DOMDimensions").getElementDimensions(l);this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator14()}i.prototype.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator14=function(){"use strict";if(!this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator3||!this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator8)c("CSS").hide(this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4);else c("CSS").show(this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4)};i.prototype.destroy=function(){"use strict";this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator2.release()};var j=function j(){__p&&__p();this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator11=function(k){__p&&__p();if(!this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator6&&k){this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.once("SphericalVideoRecenterControl/animationEnd",function(){return this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator6=k}.bind(this));this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator7=new(c("SubscriptionsHandler"))();this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator7.addSubscriptions(this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.addListener("updateViewportBegin",function(){return c("CSS").addClass(this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4,"_3c8g")}.bind(this)),this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.addListener("updateViewportEnd",function(){return c("CSS").removeClass(this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4,"_3c8g")}.bind(this)))}else{this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator6=k;if(this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator7){this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator7.release();this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator7=null}}}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator9=function(){this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator3=this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.getOption("ComposerVideoUploadSphericalVideoPreviewGuide","getCurrentPointOfInterest");this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator14();this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator10()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator10=function(){__p&&__p();if(!this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator3)return;var k=this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator3,l=this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator5,m=l.width,n=l.height;if(this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator6){this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4.style.left=m/2+"px";this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4.style.top=n/2+"px";return}var o=this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.getOption("ComposerVideoUploadSphericalVideoPreviewViewportControl","getCurrentViewport"),p=k[2],q=k[1],r=o.yaw,s=o.pitch,t=this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.getOption("ComposerVideoUploadSphericalVideoPreviewViewportControl","getCurrentFieldOfView"),u=c("SphericalProjectionUtils").convert3dTo2dOnScreen(p,q,r,s,t,m,n),v=u.x,w=u.y;this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4.style.left=v+"px";this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4.style.top=w+"px"}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator13=function(){if(!this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator3)return;this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.emit("SphericalHeadingIndicator/click");this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator1.pause()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator12=function(k){this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator8=k;if(!k)c("CSS").hide(this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4);else c("CSS").show(this.$ComposerVideoUploadSphericalVideoPreviewPOIIndicator4)}.bind(this)};f.exports=i}),null);
__d("ComposerVideoUploadSphericalVideoPreviewSpinner",["cx","React","ReactDOM","VideoSpinner","XUISpinner.react","destroyOnUnload"],(function a(b,c,d,e,f,g,h){function i(j,k){"use strict";c("ReactDOM").render(c("React").createElement(c("XUISpinner.react"),{size:"large",className:"_hes"}),k);this.$ComposerVideoUploadSphericalVideoPreviewSpinner1=new(c("VideoSpinner"))(j,k);c("destroyOnUnload")(function(){return c("ReactDOM").unmountComponentAtNode(k)})}f.exports=i}),null);
__d("normalizeYaw",[],(function a(b,c,d,e,f,g){function h(i){var j=arguments.length<=1||arguments[1]===undefined?false:arguments[1],k=j?Math.PI:180,l=k*2;return i>=0?(i+k)%l-k:(i-k)%l+k}f.exports=h}),null);
__d("ComposerVideoUploadSphericalVideoPreviewViewportControl",["ComposerVideoUploadSphericalEvents","SphericalVideoPlayerEvents","SubscriptionsHandler","VideoPlayerStates","VideoPlayerReasonTransitionHelper","VideoPlayerReason","normalizeYaw"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k,l,m,n){"use strict";__p&&__p();this.$ComposerVideoUploadSphericalVideoPreviewViewportControl13=function(){if(this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.getOption("ComposerVideoUploadSphericalMediaToolkit","isEditingHotspot")){this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.emit(c("ComposerVideoUploadSphericalEvents").MEDIA_TOOLKIT.SAVE_HOTSPOT);return}if(this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.isState(c("VideoPlayerStates").PLAYING))this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.pause();else this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.play(new(c("VideoPlayerReasonTransitionHelper"))(c("VideoPlayerReason").USER))}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewViewportControl8=function(o,p){this.$ComposerVideoUploadSphericalVideoPreviewViewportControl3.yaw=c("normalizeYaw")(o);this.$ComposerVideoUploadSphericalVideoPreviewViewportControl3.pitch=p;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.emit(c("ComposerVideoUploadSphericalEvents").VIEWPORT_CONTROL.VIEWPORT_UPDATE);this.$ComposerVideoUploadSphericalVideoPreviewViewportControl11()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewViewportControl9=function(o){this.$ComposerVideoUploadSphericalVideoPreviewViewportControl4=o;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.emit(c("ComposerVideoUploadSphericalEvents").VIEWPORT_CONTROL.FIELD_OF_VIEW_UPDATE)}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewViewportControl10=function(o){if(!o.deltaY)return;var p=Math.log(Math.max(Math.E,Math.abs(o.deltaY))),q=o.deltaY>0?p:-p,r=Math.max(40,Math.min(90,Math.round(this.$ComposerVideoUploadSphericalVideoPreviewViewportControl4+q)));this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.setSphericalFieldOfView(r);this.$ComposerVideoUploadSphericalVideoPreviewViewportControl12()}.bind(this);this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1=i;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl3={yaw:j,pitch:k};this.$ComposerVideoUploadSphericalVideoPreviewViewportControl4=l;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl5=0;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl6=m;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl7=n;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.registerOption("ComposerVideoUploadSphericalVideoPreviewViewportControl","getCurrentViewport",function(){return this.$ComposerVideoUploadSphericalVideoPreviewViewportControl3}.bind(this));this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.registerOption("ComposerVideoUploadSphericalVideoPreviewViewportControl","getCurrentFieldOfView",function(){return this.$ComposerVideoUploadSphericalVideoPreviewViewportControl4}.bind(this));this.$ComposerVideoUploadSphericalVideoPreviewViewportControl2=new(c("SubscriptionsHandler"))();this.$ComposerVideoUploadSphericalVideoPreviewViewportControl2.addSubscriptions(this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("viewportChange",this.$ComposerVideoUploadSphericalVideoPreviewViewportControl8),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener(c("SphericalVideoPlayerEvents").SET_FIELD_OF_VIEW,this.$ComposerVideoUploadSphericalVideoPreviewViewportControl9),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("wheelScroll",this.$ComposerVideoUploadSphericalVideoPreviewViewportControl10),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("updateViewportBegin",function(){return this.$ComposerVideoUploadSphericalVideoPreviewViewportControl5++}.bind(this)),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("updateViewportEnd",function(){this.$ComposerVideoUploadSphericalVideoPreviewViewportControl5--;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl11()}.bind(this)),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("SphericalVideoRecenterControl/animationStart",function(){return this.$ComposerVideoUploadSphericalVideoPreviewViewportControl5++}.bind(this)),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("SphericalVideoRecenterControl/animationEnd",function(){this.$ComposerVideoUploadSphericalVideoPreviewViewportControl5--;this.$ComposerVideoUploadSphericalVideoPreviewViewportControl11()}.bind(this)),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("VideoWithSphericalGuide/stateToggle",function(o){this.$ComposerVideoUploadSphericalVideoPreviewViewportControl11();this.$ComposerVideoUploadSphericalVideoPreviewViewportControl12()}.bind(this)),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.FIELD_OF_VIEW_UPDATE,function(o){return this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.setSphericalFieldOfView(o)}.bind(this)),this.$ComposerVideoUploadSphericalVideoPreviewViewportControl1.addListener("clickVideo",this.$ComposerVideoUploadSphericalVideoPreviewViewportControl13))}h.prototype.$ComposerVideoUploadSphericalVideoPreviewViewportControl11=function(){"use strict";this.$ComposerVideoUploadSphericalVideoPreviewViewportControl6(this.$ComposerVideoUploadSphericalVideoPreviewViewportControl3.yaw,this.$ComposerVideoUploadSphericalVideoPreviewViewportControl3.pitch,!!this.$ComposerVideoUploadSphericalVideoPreviewViewportControl5)};h.prototype.$ComposerVideoUploadSphericalVideoPreviewViewportControl12=function(){"use strict";this.$ComposerVideoUploadSphericalVideoPreviewViewportControl7(this.$ComposerVideoUploadSphericalVideoPreviewViewportControl4)};h.prototype.destroy=function(){"use strict";this.$ComposerVideoUploadSphericalVideoPreviewViewportControl2.release()};f.exports=h}),null);
__d("ComposerVideoUploadSphericalVideoTopControlBar.react",["ix","cx","fbt","ComposerVideoUploadSphericalFOVSlider.react","FlexLayout.react","Image.react","React","VideoComposerDialogRadioButton.react","XUIButton.react","asset"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=40,n=90;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;o.prototype.render=function(){var p=this.props.showOmnistabSection?c("React").createElement("div",{className:"_39qi"},c("React").createElement("div",{className:"_39qj"},c("React").createElement(c("VideoComposerDialogRadioButton.react"),{checked:this.props.omnistabEnabled,className:"_39qk",label:c("React").createElement(c("FlexLayout.react"),{align:"center",className:"_2l_h",justify:"all"},j._("Stabilise"),c("React").createElement(c("Image.react"),{className:"_2l_q",src:h("438994")})),onSelect:function(event){if(this.props.allowOmnistabToggle)this.props.onToggleEnableOmnistab(event);event.preventDefault()}.bind(this)}))):null,q=c("React").createElement("div",{className:"_39qi"},c("React").createElement("div",{className:"_39qm"},c("React").createElement(c("XUIButton.react"),{className:"_39qq _3k95"+(this.props.isMobilePreview?" _39qr":""),onClick:function(s){return this.$ComposerVideoUploadSphericalVideoTopControlBar1(s,true)}.bind(this),image:c("React").createElement(c("Image.react"),{src:this.props.isMobilePreview?h("438996"):h("407248")}),label:""}),c("React").createElement(c("XUIButton.react"),{className:"_39qq _3k96"+(!this.props.isMobilePreview?" _39qr":""),onClick:function(s){return this.$ComposerVideoUploadSphericalVideoTopControlBar1(s,false)}.bind(this),image:c("React").createElement(c("Image.react"),{src:this.props.isMobilePreview?h("438985"):h("438986")}),label:""}))),r=c("React").createElement(c("ComposerVideoUploadSphericalFOVSlider.react"),{decimalPlaces:0,min:m,max:n,value:this.props.fov,onChange:function(s){return this.props.onFOVUpdate(s)}.bind(this),horizontal:true,newStyling:true});return c("React").createElement("div",{className:"_39qs"},p,q,r)};o.prototype.$ComposerVideoUploadSphericalVideoTopControlBar1=function(event,p){event.preventDefault();this.props.onToggleIsMobilePreview(p)};function o(){k.apply(this,arguments)}f.exports=o}),null);
__d("SphericalVideoRecenterControl",["SubscriptionsHandler","easeInOutInterpolate","requestAnimationFrame"],(function a(b,c,d,e,f,g){__p&&__p();var h=1e3;function i(j,k,l){"use strict";__p&&__p();this.$SphericalVideoRecenterControl2=j;this.$SphericalVideoRecenterControl1=false;this.$SphericalVideoRecenterControl7=this.$SphericalVideoRecenterControl10.bind(this);this.$SphericalVideoRecenterControl6={yaw:k,pitch:l};this.$SphericalVideoRecenterControl5={yaw:k,pitch:l};if(j.getOption("SphericalVideoPlayer","isReady"))this.$SphericalVideoRecenterControl11();else j.once("SphericalVideoPlayer/ready",function(){return this.$SphericalVideoRecenterControl11()}.bind(this))}i.prototype.$SphericalVideoRecenterControl11=function(){"use strict";__p&&__p();this.$SphericalVideoRecenterControl9=new(c("SubscriptionsHandler"))();this.$SphericalVideoRecenterControl9.addSubscriptions(this.$SphericalVideoRecenterControl2.addListener("updateViewportBegin",function(){return this.$SphericalVideoRecenterControl12()}.bind(this)),this.$SphericalVideoRecenterControl2.addListener("SphericalHeadingIndicator/click",function(){return this.$SphericalVideoRecenterControl13()}.bind(this)),this.$SphericalVideoRecenterControl2.addListener("VideoWithSphericalGuide/intervalUpdate",function(j){return this.updateTargetViewport(j.baseYaw+j.deltaYaw,j.basePitch+j.deltaPitch)}.bind(this)),this.$SphericalVideoRecenterControl2.addListener("VideoWithSphericalGuide/stateToggle",function(j){if(!j){this.$SphericalVideoRecenterControl6.yaw=this.$SphericalVideoRecenterControl5.yaw;this.$SphericalVideoRecenterControl6.pitch=this.$SphericalVideoRecenterControl5.pitch}}.bind(this)),this.$SphericalVideoRecenterControl2.addListener("SphericalVideoViewportTagComment/click",function(j){return this.$SphericalVideoRecenterControl13(j)}.bind(this)))};i.prototype.updateTargetViewport=function(j,k){"use strict";this.$SphericalVideoRecenterControl6.yaw=j;this.$SphericalVideoRecenterControl6.pitch=k};i.prototype.$SphericalVideoRecenterControl13=function(j){"use strict";__p&&__p();if(this.$SphericalVideoRecenterControl1||this.$SphericalVideoRecenterControl2.getOption("VideoWithSphericalGuide","enabled")&&this.$SphericalVideoRecenterControl2.isState("playing"))return;this.$SphericalVideoRecenterControl1=true;this.$SphericalVideoRecenterControl3=Date.now();var k=this.$SphericalVideoRecenterControl2.getOption("SphericalVideoPlayer","getCurrentViewport"),l=j||this.$SphericalVideoRecenterControl6,m=l.yaw-k.yaw;if(Math.abs(m)>180)m=m>0?m-360:m+360;this.$SphericalVideoRecenterControl8={basePitch:k.pitch,deltaPitch:l.pitch-k.pitch,baseYaw:k.yaw,deltaYaw:m};this.$SphericalVideoRecenterControl2.emit("SphericalVideoRecenterControl/animationStart");c("requestAnimationFrame")(this.$SphericalVideoRecenterControl7)};i.prototype.$SphericalVideoRecenterControl12=function(){"use strict";this.$SphericalVideoRecenterControl1=false};i.prototype.$SphericalVideoRecenterControl10=function(){"use strict";__p&&__p();if(!this.$SphericalVideoRecenterControl1){this.$SphericalVideoRecenterControl2.emit("SphericalVideoRecenterControl/animationEnd");return}var j=Date.now();if(j-this.$SphericalVideoRecenterControl3>h){this.$SphericalVideoRecenterControl1=false;this.$SphericalVideoRecenterControl2.emit("SphericalVideoRecenterControl/animationEnd");return}c("requestAnimationFrame")(this.$SphericalVideoRecenterControl7);var k=this.$SphericalVideoRecenterControl8,l=c("easeInOutInterpolate")((j-this.$SphericalVideoRecenterControl3)/h),m=k.deltaPitch*l+k.basePitch,n=k.deltaYaw*l+k.baseYaw;this.$SphericalVideoRecenterControl2.setSphericalOrientation(n,m)};i.prototype.destroy=function(){"use strict";this.$SphericalVideoRecenterControl9.release()};f.exports=i}),null);
__d("SphericalMediaUtils",[],(function a(b,c,d,e,f,g){"use strict";var h={getDPR:function i(){return Math.max(window.devicePixelRatio||1,1)}};f.exports=h}),null);
__d("SphericalMediaHeadingIndicator.react",["cx","EventListener","React","SphericalMediaConstants","SphericalMediaUtils","SphericalPhotoPartialLimits","SphericalPhotoProjectionUtils","SubscriptionsHandler","degToRad","easeInOutInterpolate","requestAnimationFrame","uniqueID"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("SphericalMediaConstants").HI_SIZE_NORMAL,l=c("SphericalMediaConstants").HI_SIZE_FULL,m=c("SphericalMediaConstants").HI_ALPHA_BG,n=c("SphericalMediaConstants").HI_ALPHA_ELEMENT,o=c("SphericalMediaConstants").HI_ALPHA_DURATION,p=c("SphericalMediaConstants").HI_FADE_OUT_DELAY,q=c("SphericalMediaConstants").HI_BLINK_ARC_RAD,r=c("SphericalMediaConstants").HI_BLINK_DURATION,s=c("SphericalMediaUtils").getDPR,t=c("SphericalPhotoPartialLimits").makePartialLimits,u=function u(y){return y!==undefined&&y!==null},v=function v(y,z,A,B){y.beginPath();y.arc(z.x,z.y,A*s(),0,2*Math.PI,false);y.fillStyle=B;y.lineWidth=0;y.fill()},w=function w(y,z,A,B,C,D,E){var F=s();y.beginPath();y.arc(z.x,z.y,A*F,B,C,false);y.lineWidth=D*F;y.strokeStyle=E;y.stroke()};i=babelHelpers.inherits(x,c("React").Component);j=i&&i.prototype;function x(y){__p&&__p();j.constructor.call(this,y);this.$SphericalMediaHeadingIndicator24=function(){__p&&__p();var A=this.__getDrawData();if(!u(A.poiYaw)){this.$SphericalMediaHeadingIndicator11=false;this.draw(A);return}var B=(Date.now()-this.__blinkStartTime)%r<r/2;if(this.$SphericalMediaHeadingIndicator11!==B){this.$SphericalMediaHeadingIndicator11=B;this.draw(A)}c("requestAnimationFrame")(this.$SphericalMediaHeadingIndicator24)}.bind(this);this.$SphericalMediaHeadingIndicator14=function(){if(this.$SphericalMediaHeadingIndicator6===m.end)return;this.$SphericalMediaHeadingIndicator25(m.start,m.end,n.start,n.end)}.bind(this);this.$SphericalMediaHeadingIndicator15=function(){if(this.$SphericalMediaHeadingIndicator6===m.start)return;this.$SphericalMediaHeadingIndicator25(m.end,m.start,n.end,n.start)}.bind(this);this.$SphericalMediaHeadingIndicator2=c("uniqueID")();this.$SphericalMediaHeadingIndicator5=0;this.$SphericalMediaHeadingIndicator6=m.start;this.$SphericalMediaHeadingIndicator7=n.start;this.$SphericalMediaHeadingIndicator8=null;this.$SphericalMediaHeadingIndicator9=false;this.$SphericalMediaHeadingIndicator10=false;this.$SphericalMediaHeadingIndicator11=false;if(!this.constructor.__subClassMethods)throw new Error('Must implement "static __subClassMethods"');for(var z in this.constructor.__subClassMethods)if(typeof this[z]!=="function")throw new Error('Must implement "'+z+'"')}x.prototype.componentWillReceiveProps=function(y){var z=y.isActive&&y.isPanning!==this.props.isPanning;if(z)this.$SphericalMediaHeadingIndicator13(y.isPanning)};x.prototype.shouldComponentUpdate=function(y){var z=y.aspectRatio!==this.props.aspectRatio||y.isActive!==this.props.isActive||y.isGuideAuto!==this.props.isGuideAuto||y.useLargeHeadingIndicator!==this.props.useLargeHeadingIndicator;return z};x.prototype.$SphericalMediaHeadingIndicator13=function(y){__p&&__p();var z=arguments.length<=1||arguments[1]===undefined?true:arguments[1];this.$SphericalMediaHeadingIndicator5+=y?1:-1;if(y){this.$SphericalMediaHeadingIndicator8!==null&&clearTimeout(this.$SphericalMediaHeadingIndicator8);this.$SphericalMediaHeadingIndicator14()}else if(this.$SphericalMediaHeadingIndicator5===0)this.$SphericalMediaHeadingIndicator8=setTimeout(function(){this.$SphericalMediaHeadingIndicator8=null;this.$SphericalMediaHeadingIndicator15()}.bind(this),z?p:0)};x.prototype.$SphericalMediaHeadingIndicator16=function(){var y=this.$SphericalMediaHeadingIndicator17(),z=s();return{width:y.width*z,height:y.height*z}};x.prototype.$SphericalMediaHeadingIndicator17=function(){return this.props.useLargeHeadingIndicator?l:k};x.prototype.$SphericalMediaHeadingIndicator18=function(){var y=this.$SphericalMediaHeadingIndicator16();return{x:y.width/2,y:y.height/2}};x.prototype.draw=function(y){__p&&__p();if(!this.$SphericalMediaHeadingIndicator1)return;var z=this.$SphericalMediaHeadingIndicator1,A=this.$SphericalMediaHeadingIndicator16();if(z.width!==A.width||z.height!==A.height){z.width=A.width;z.height=A.height}var B=z.getContext("2d");if(!B)return;B.save();B.clearRect(0,0,A.width,A.height);this.$SphericalMediaHeadingIndicator19(B,y);this.$SphericalMediaHeadingIndicator20(B,y);this.$SphericalMediaHeadingIndicator21(B,y);B.restore()};x.prototype.$SphericalMediaHeadingIndicator19=function(y,z){__p&&__p();var A=this.$SphericalMediaHeadingIndicator17(),B=this.$SphericalMediaHeadingIndicator18(),C=z.fov*this.props.aspectRatio,D=c("degToRad")(C)/2;v(y,B,A.background_radius,this.$SphericalMediaHeadingIndicator22());if(this.props.isGuideAuto){var E=A.inner_radius+A.inner_stroke/2-A.center_radius;w(y,B,A.center_radius+E/2,0,2*Math.PI,E,this.$SphericalMediaHeadingIndicator23())}else{v(y,B,A.center_radius,this.$SphericalMediaHeadingIndicator23());var F=this.props,G=F.partialLeftDegrees,H=F.partialRightDegrees;if(G&&H){w(y,B,A.inner_radius,0,2*Math.PI,A.inner_stroke,this.getPartialPanoElementColor());var I=270-z.initialYaw,J=c("degToRad")(G*-1+I+D),K=c("degToRad")(H+I-D);w(y,B,A.inner_radius,J||0,K||0,A.inner_stroke,this.$SphericalMediaHeadingIndicator23())}else w(y,B,A.inner_radius,0,2*Math.PI,A.inner_stroke,this.$SphericalMediaHeadingIndicator23())}};x.prototype.$SphericalMediaHeadingIndicator21=function(y,z){__p&&__p();var A=this.$SphericalMediaHeadingIndicator17(),B=this.$SphericalMediaHeadingIndicator18();if(this.$SphericalMediaHeadingIndicator11){var C=c("degToRad")((z.poiYaw||0)-z.initialYaw)-Math.PI/2;w(y,B,A.rim_radius,C-q/2,C+q/2,A.rim_stroke,this.$SphericalMediaHeadingIndicator23())}var D=s(),E=A.triangle[0]*D,F=A.triangle[1]*D,G=A.triangle[2]*D;y.translate(B.x,B.y);if(z.pointerYaw){var H=z.pointerYaw-z.initialYaw;y.rotate(c("degToRad")(H||0))}y.beginPath();y.moveTo(0,E-B.y);y.lineTo(-F,G-B.y);y.lineTo(F,G-B.y);y.fillStyle=this.$SphericalMediaHeadingIndicator23();y.fill()};x.prototype.$SphericalMediaHeadingIndicator20=function(y,z){__p&&__p();var A=this.$SphericalMediaHeadingIndicator17(),B=this.$SphericalMediaHeadingIndicator18(),C=this.props,D=C.partialLeftDegrees,E=C.partialRightDegrees,F=C.partialTopDegrees,G=C.partialBottomDegrees,H=C.aspectRatio,I=C.showNewPhotoRenderer,J=z.yaw-z.initialYaw,K=z.fov*this.props.aspectRatio,L=c("degToRad")(K)/2;if(I){var M=c("SphericalPhotoProjectionUtils").getRelativeHfov(z.fov,H,t({partialLeftDegrees:D,partialRightDegrees:E,partialTopDegrees:F,partialBottomDegrees:G}));L=M/2}var N=c("degToRad")(J)-Math.PI/2,O=this.props.isGuideAuto;if(O){var P=s();y.save();y.beginPath();y.lineWidth=A.arc_stroke*P;y.arc(B.x,B.y,(A.arc_radius+A.arc_stroke/2)*P,N-L,N+L,false);y.arc(B.x,B.y,(A.arc_radius-A.arc_stroke/2)*P,N+L,N-L,true);y.clip();var Q=this.$SphericalMediaHeadingIndicator16();y.clearRect(0,0,Q.width,Q.height);y.restore()}w(y,B,A.arc_radius,N-L,N+L,A.arc_stroke,O?this.$SphericalMediaHeadingIndicator22():this.$SphericalMediaHeadingIndicator23())};x.prototype.getPartialPanoElementColor=function(){return"rgba(255, 255, 255, "+this.$SphericalMediaHeadingIndicator7*.4+")"};x.prototype.$SphericalMediaHeadingIndicator23=function(){return"rgba(255, 255, 255, "+this.$SphericalMediaHeadingIndicator7+")"};x.prototype.$SphericalMediaHeadingIndicator22=function(){return"rgba(0, 0, 0, "+this.$SphericalMediaHeadingIndicator6+")"};x.prototype.$SphericalMediaHeadingIndicator25=function(y,z,A,B){__p&&__p();this.$SphericalMediaHeadingIndicator10=this.$SphericalMediaHeadingIndicator9;this.$SphericalMediaHeadingIndicator9=true;var C=Date.now(),D=function(G){__p&&__p();var H=Date.now();if(this.$SphericalMediaHeadingIndicator10){this.$SphericalMediaHeadingIndicator10=false;return}if(H-C>o){this.$SphericalMediaHeadingIndicator9=false;this.$SphericalMediaHeadingIndicator6=z;this.$SphericalMediaHeadingIndicator7=B;return}c("requestAnimationFrame")(function(){D(G)});var I=c("easeInOutInterpolate")((H-C)/o),J=G.deltaAlphaBG*I+G.startAlphaBG,K=G.deltaAlphaElement*I+G.startAlphaElement;this.$SphericalMediaHeadingIndicator6=J;this.$SphericalMediaHeadingIndicator7=K;this.draw(this.__getDrawData())}.bind(this),E=z-y,F=B-A;c("requestAnimationFrame")(function(){D({startAlphaBG:y,deltaAlphaBG:E,startAlphaElement:A,deltaAlphaElement:F})})};x.prototype.componentDidMount=function(){if(this.props.isActive)this.draw(this.__getDrawData());if(this.props.useNativeListeners){this.$SphericalMediaHeadingIndicator12=new(c("SubscriptionsHandler"))();this.$SphericalMediaHeadingIndicator12.addSubscriptions(c("EventListener").listen(this.$SphericalMediaHeadingIndicator4,"click",function(event){return this.__onClick(event)}.bind(this)),c("EventListener").listen(this.$SphericalMediaHeadingIndicator4,"mouseover",function(){return this.$SphericalMediaHeadingIndicator13(true)}.bind(this)),c("EventListener").listen(this.$SphericalMediaHeadingIndicator4,"mouseout",function(){return this.$SphericalMediaHeadingIndicator13(false,false)}.bind(this)))}};x.prototype.componentDidUpdate=function(){if(this.props.isActive)this.draw(this.__getDrawData());c("requestAnimationFrame")(this.$SphericalMediaHeadingIndicator24)};x.prototype.componentWillUnmount=function(){this.$SphericalMediaHeadingIndicator1=null;if(this.props.useNativeListeners)this.$SphericalMediaHeadingIndicator12.release()};x.prototype.render=function(){__p&&__p();var y=this.$SphericalMediaHeadingIndicator17(),z=this.props.isActive,A={};if(!this.props.useNativeListeners){A.onClick=function(event){return this.__onClick(event)}.bind(this);A.onMouseOver=function(){return this.$SphericalMediaHeadingIndicator13(true)}.bind(this);A.onMouseOut=function(){return this.$SphericalMediaHeadingIndicator13(false,false)}.bind(this)}return c("React").createElement("button",babelHelpers["extends"]({},A,{ref:function(B){return this.$SphericalMediaHeadingIndicator4=B}.bind(this),className:"_17az sphericalHeadingIndicator"+(!z?" hidden_elem":""),style:{width:y.width,height:y.height}}),c("React").createElement("div",{className:"_17a-",ref:function(B){return this.$SphericalMediaHeadingIndicator3=B}.bind(this)},c("React").createElement("canvas",{className:"_5nxw _17ay",ref:function(B){return this.$SphericalMediaHeadingIndicator1=B}.bind(this)})))};f.exports=x}),null);
__d("SphericalVideoHeadingIndicator.react",["cx","fbt","BasicFBNux","ComposerVideoUploadSphericalEvents","React","SphericalVideoExperiments","SphericalViewportControlStore","SphericalMediaHeadingIndicator.react","SubscriptionsHandler","VideoPlayerStates","XUIAmbientNUX.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l,m,n=4320,o=4596,p=i._("Preview your points of interest. Viewers will automatically see this guided version."),q=i._("You're watching the best views from this 360 video only. You can swipe or drag the video to watch it manually."),r=function r(u){return u!==undefined&&u!==null};j=babelHelpers.inherits(s,c("SphericalMediaHeadingIndicator.react"));k=j&&j.prototype;s.prototype.__onClick=function(event){"use strict";this.props.onClick(event)};s.prototype.__getDrawData=function(){"use strict";return{fov:this.props.fov,initialYaw:this.props.initialYaw,pointerYaw:this.props.pointerYaw,poiYaw:this.props.poiYaw,yaw:this.props.yaw}};s.prototype.$SphericalHeadingIndicatorImpl1=function(u){"use strict";return{fov:u.fov,initialYaw:u.initialYaw,pointerYaw:u.pointerYaw,poiYaw:u.poiYaw,yaw:u.yaw}};s.prototype.componentWillReceiveProps=function(u){"use strict";k.componentWillReceiveProps.call(this,u);if(!r(this.props.poiYaw)&&r(u.poiYaw))this.__blinkStartTime=Date.now();var v=u.isActive===this.props.isActive&&(u.initialYaw!==this.props.initialYaw||u.aspectRatio!==this.props.aspectRatio||u.fov!==this.props.fov||u.yaw!==this.props.yaw||u.pointerYaw!==this.props.pointerYaw||u.poiYaw!==this.props.poiYaw);if(v)this.draw(this.$SphericalHeadingIndicatorImpl1(u))};s.prototype.shouldComponentUpdate=function(u){"use strict";var v=k.shouldComponentUpdate.call(this,u)||u.poiYaw!==this.props.poiYaw;return v};function s(){"use strict";j.apply(this,arguments)}s.__subClassMethods={__onClick:true,__getDrawData:true};l=babelHelpers.inherits(t,c("React").Component);m=l&&l.prototype;function t(u){"use strict";__p&&__p();m.constructor.call(this,u);this.$SphericalVideoHeadingIndicator6=false;this.$SphericalVideoHeadingIndicator1=u.controller;this.$SphericalVideoHeadingIndicator5=u.isComposer;if(this.$SphericalVideoHeadingIndicator5){this.$SphericalVideoHeadingIndicator3=o;this.$SphericalVideoHeadingIndicator4=c("React").createElement(c("XUIText.react"),{size:"meta1",display:"block"},p)}else{this.$SphericalVideoHeadingIndicator3=n;this.$SphericalVideoHeadingIndicator4=q}this.$SphericalVideoHeadingIndicator2=new(c("SubscriptionsHandler"))()}t.prototype.componentDidMount=function(){"use strict";if(this.$SphericalVideoHeadingIndicator1.getOption("SphericalVideoPlayer","isReady"))this.$SphericalVideoHeadingIndicator7();else this.$SphericalVideoHeadingIndicator2.addSubscriptions(this.$SphericalVideoHeadingIndicator1.once("SphericalVideoPlayer/ready",function(){return this.$SphericalVideoHeadingIndicator7()}.bind(this)))};t.prototype.componentWillUnmount=function(){"use strict";this.$SphericalVideoHeadingIndicator2.release()};t.prototype.$SphericalVideoHeadingIndicator7=function(){"use strict";__p&&__p();var u=this.$SphericalVideoHeadingIndicator1.getVideoPlayerID();this.$SphericalVideoHeadingIndicator2.addSubscriptions(this.$SphericalVideoHeadingIndicator1.addListener("PhotoSnowlift/enterSnowlift",function(){return this.$SphericalVideoHeadingIndicator8(true)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("PhotoSnowlift/exitSnowlift",function(){return this.$SphericalVideoHeadingIndicator8(false)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("toggleFullscreen",function(){return this.$SphericalVideoHeadingIndicator9()}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("beginPlayback",function(){return this.$SphericalVideoHeadingIndicator10(true)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("finishPlayback",function(){return this.$SphericalVideoHeadingIndicator10(false)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("VideoChannelController/enterChannel",function(){return this.$SphericalVideoHeadingIndicator11(true)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("VideoChannelController/exitChannel",function(){return this.$SphericalVideoHeadingIndicator11(false)}.bind(this)),c("SphericalViewportControlStore").addListener(function(){var v=c("SphericalViewportControlStore"),w=v.getOrientation(u),x=w.pitch,y=w.yaw;this.setState({isActive:v.getViewportGrabbed(u),pitch:x,yaw:y,fov:v.getFieldOfView(u)})}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("SphericalVideoRecenterControl/animationStart",function(){return this.$SphericalVideoHeadingIndicator12(true)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("SphericalVideoRecenterControl/animationEnd",function(){return this.$SphericalVideoHeadingIndicator12(false)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("VideoControls/visibilityUpdate",function(v){var w=v.areControlsVisible;return this.$SphericalVideoHeadingIndicator12(w)}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("viewportChange",function(v,w){return this.forceUpdate()}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("VideoWithSphericalGuide/viewportChange",function(v){return this.setState({pointerYaw:v})}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("VideoWithSphericalGuide/intervalUpdate",function(v){var w=v.deltaPitch===0&&v.deltaYaw===0;this.setState({poiYaw:w?undefined:v.baseYaw+v.deltaYaw,isActive:!w})}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("VideoWithSphericalGuide/toggle",function(v){return this.setState({isGuideAuto:v})}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener("VideoWithSphericalGuide/stateToggle",function(v){if(!v)this.setState({isGuideAuto:false,poiYaw:undefined,pointerYaw:0})}.bind(this)),this.$SphericalVideoHeadingIndicator1.addListener(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_KEYFRAMES_UPDATE,function(v){return this.setState({numGuidePoints:v.length})}.bind(this)));this.setState({isVisible:this.$SphericalVideoHeadingIndicator1.isState(c("VideoPlayerStates").PLAYING),isActive:false,inChannel:this.$SphericalVideoHeadingIndicator1.getIsInChannel(),inSnowlift:this.$SphericalVideoHeadingIndicator1.getOption("PhotoSnowlift","isInSnowlift"),inFullscreen:this.$SphericalVideoHeadingIndicator1.isFullscreen(),isGuideAuto:this.$SphericalVideoHeadingIndicator1.getOption("VideoWithSphericalGuide","auto"),showGuideNux:c("SphericalVideoExperiments").showGuideNux,showComposerNux:c("SphericalVideoExperiments").showComposerNux,numGuidePoints:0,pitch:c("SphericalViewportControlStore").getOrientation(u).pitch,yaw:c("SphericalViewportControlStore").getOrientation(u).yaw,fov:c("SphericalViewportControlStore").getFieldOfView(u)});this.$SphericalVideoHeadingIndicator6=true};t.prototype.$SphericalVideoHeadingIndicator10=function(u){"use strict";this.setState({isVisible:u})};t.prototype.$SphericalVideoHeadingIndicator9=function(){"use strict";this.setState({inFullscreen:this.$SphericalVideoHeadingIndicator1.isFullscreen()})};t.prototype.$SphericalVideoHeadingIndicator11=function(u){"use strict";this.setState({inChannel:u})};t.prototype.$SphericalVideoHeadingIndicator8=function(u){"use strict";this.setState({inSnowlift:u})};t.prototype.$SphericalVideoHeadingIndicator12=function(u){"use strict";this.setState({isActive:u})};t.prototype.$SphericalVideoHeadingIndicator13=function(){"use strict";this.setState({showGuideNux:false,showComposerNux:false});c("BasicFBNux").onDismiss(this.$SphericalVideoHeadingIndicator5?o:n)};t.prototype.render=function(){"use strict";__p&&__p();if(!this.$SphericalVideoHeadingIndicator6)return null;var u=this.$SphericalVideoHeadingIndicator1.getOption("SphericalVideoPlayer","getDimensions"),v=u.width,w=u.height,x=!this.state.inChannel&&!this.state.inSnowlift&&!this.state.inFullscreen,y=this.$SphericalVideoHeadingIndicator1.getOption("VideoWithSphericalGuide","enabled"),z=void 0;if(this.$SphericalVideoHeadingIndicator5)z=this.state.showComposerNux&&this.state.numGuidePoints>2;else z=this.state.showGuideNux&&y;var A=this.$SphericalVideoHeadingIndicator1.getOption("SphericalVideoPlayer","getIsSingleFisheye");if(A){var B=this.$SphericalVideoHeadingIndicator1.getOption("SphericalVideoPlayer","getOriginalFOV");if(B!==null&&B!==0)return c("React").createElement("div",{className:"_3ldo"+(x?" _42a0":"")},c("React").createElement(s,{ref:"compass",aspectRatio:v/w,initialYaw:this.props.initialYaw,isActive:this.state.isVisible,fov:this.state.fov,pitch:this.state.pitch,yaw:this.state.yaw,onClick:this.props.onClick,useLargeHeadingIndicator:this.state.inFullscreen,isPanning:this.state.isActive,isGuideAuto:this.state.isGuideAuto,pointerYaw:this.state.pointerYaw,poiYaw:this.state.poiYaw,partialLeftDegrees:B/2,partialRightDegrees:B/2}),c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.compass}.bind(this),shown:z,position:"left",onCloseButtonClick:function(){return this.$SphericalVideoHeadingIndicator13()}.bind(this)},this.$SphericalVideoHeadingIndicator4))}return c("React").createElement("div",{className:"_3ldo"+(x?" _42a0":"")},c("React").createElement(s,{ref:"compass",aspectRatio:v/w,initialYaw:this.props.initialYaw,isActive:this.state.isVisible,fov:this.state.fov,pitch:this.state.pitch,yaw:this.state.yaw,onClick:this.props.onClick,useLargeHeadingIndicator:this.state.inFullscreen,isPanning:this.state.isActive,isGuideAuto:this.state.isGuideAuto,pointerYaw:this.state.pointerYaw,poiYaw:this.state.poiYaw}),c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.compass}.bind(this),shown:z,position:"left",onCloseButtonClick:function(){return this.$SphericalVideoHeadingIndicator13()}.bind(this)},this.$SphericalVideoHeadingIndicator4))};f.exports=t}),null);
__d("VideoSphericalHeadingIndicator",["cx","CSS","React","ReactDOM","SphericalVideoHeadingIndicator.react","VideoPlayerFallbackEvents","VideoPlayerLoggerEvent","destroyOnUnload"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j,k,l,m,n){__p&&__p();var o,p=this,q=arguments.length<=5||arguments[5]===undefined?false:arguments[5];this.$VideoSphericalHeadingIndicator7=function(event){event.preventDefault();this.$VideoSphericalHeadingIndicator1.emit("SphericalHeadingIndicator/click");this.$VideoSphericalHeadingIndicator1.logEvent(c("VideoPlayerLoggerEvent").HEADING_RESET)}.bind(this);this.$VideoSphericalHeadingIndicator1=j;this.$VideoSphericalHeadingIndicator2=k;this.$VideoSphericalHeadingIndicator3=l;this.$VideoSphericalHeadingIndicator4=q;var r=j.addListener(c("VideoPlayerFallbackEvents").ENTER,function(){r.remove();c("ReactDOM").unmountComponentAtNode(k)});if(j.isState("ready")||j.isState("playing"))this.$VideoSphericalHeadingIndicator5();else(function(){var s=j.addListener("stateChange",function(){if(this.$VideoSphericalHeadingIndicator1.isState("ready")||this.$VideoSphericalHeadingIndicator1.isState("playing")){s.remove();this.$VideoSphericalHeadingIndicator5()}}.bind(p))})();c("destroyOnUnload")(function(){return c("ReactDOM").unmountComponentAtNode(k)})}i.prototype.$VideoSphericalHeadingIndicator5=function(){this.$VideoSphericalHeadingIndicator1.addListener("toggleFullscreen",this.$VideoSphericalHeadingIndicator6.bind(this));c("ReactDOM").render(c("React").createElement(c("SphericalVideoHeadingIndicator.react"),{initialYaw:this.$VideoSphericalHeadingIndicator3,onClick:this.$VideoSphericalHeadingIndicator7,controller:this.$VideoSphericalHeadingIndicator1,isComposer:this.$VideoSphericalHeadingIndicator4}),this.$VideoSphericalHeadingIndicator2)};i.prototype.$VideoSphericalHeadingIndicator6=function(){if(this.$VideoSphericalHeadingIndicator1.isFullscreen())c("CSS").addClass(this.$VideoSphericalHeadingIndicator2,"_4ubd");else c("CSS").removeClass(this.$VideoSphericalHeadingIndicator2,"_4ubd")};f.exports=i}),null);
__d("ComposerVideoUploadSphericalVideo.react",["cx","fbt","ix","ComposerVideoUploadSphericalVideoBottomControlBar.react","ComposerVideoUploadSphericalVideoLoader","ComposerVideoUploadSphericalVideoTopControlBar.react","ComposerVideoUploadSphericalEvents","DOM","ComposerVideoUploadSphericalVideoPreviewEmbeddedControls","ComposerVideoUploadSphericalFOVSlider.react","ComposerVideoUploadSphericalVideoPreviewGuide","Image.react","ComposerVideoUploadSphericalVideoIntroTextSection.react","ComposerVideoUploadSphericalMediaToolkit.react","ComposerVideoUploadSphericalVideoPreviewOverlayButtons","ComposerVideoUploadSphericalVideoPreviewPOIIndicator","React","SphericalVideoPlayerEvents","SphericalVideoRecenterControl","ComposerVideoUploadSphericalVideoPreviewSpinner","VideoPlayerStates","VideoSphericalHeadingIndicator","ComposerVideoUploadSphericalVideoPreviewViewportControl","emptyFunction"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=40,n=90;k=babelHelpers.inherits(o,c("React").PureComponent);l=k&&k.prototype;function o(p){"use strict";__p&&__p();l.constructor.call(this,p);this.state={controller:null,isMobilePreview:true};this.$ComposerVideoUploadSphericalVideo11=function(q){__p&&__p();var r=this.props.yaw,s=this.props.pitch,t=this.props.fov,u=this.props.guideEnabled,v=this.props.keyframes.map(function(x){return x.getLegacyParams()}).toJS();if(!this.props.enableComposerRedesign)this.$ComposerVideoUploadSphericalVideo12(function(x){this.$ComposerVideoUploadSphericalVideo3=new(c("ComposerVideoUploadSphericalVideoPreviewEmbeddedControls"))(x,q,this.props.enableComposerRedesign)}.bind(this),function(x){this.$ComposerVideoUploadSphericalVideo5=new(c("ComposerVideoUploadSphericalVideoPreviewPOIIndicator"))(q,x,true,this.props.isEditingKeyframe,this.props.guideVisible)}.bind(this));this.$ComposerVideoUploadSphericalVideo12(function(x){this.$ComposerVideoUploadSphericalVideo2=new(c("VideoSphericalHeadingIndicator"))(q,x,0,0,t,true)}.bind(this),function(x){this.$ComposerVideoUploadSphericalVideo4=new(c("ComposerVideoUploadSphericalVideoPreviewSpinner"))(q,x)}.bind(this),function(x){this.$ComposerVideoUploadSphericalVideo6=new(c("ComposerVideoUploadSphericalVideoPreviewOverlayButtons"))(q,x,u,v,this.props.isEditingKeyframe,this.state.isMobilePreview,true,this.props.enableComposerRedesign)}.bind(this));this.$ComposerVideoUploadSphericalVideo7=new(c("SphericalVideoRecenterControl"))(q,r,s);this.$ComposerVideoUploadSphericalVideo8=new(c("ComposerVideoUploadSphericalVideoPreviewViewportControl"))(q,r,s,t,this.props.onViewportUpdate,this.props.onFOVUpdate);this.$ComposerVideoUploadSphericalVideo9=new(c("ComposerVideoUploadSphericalVideoPreviewGuide"))(q,r,s,u,this.props.enableComposerRedesign,v,this.props.onPointOfInterestAdded,this.props.onPointOfInterestRemoved,this.props.onPointOfInterestsCleared,this.props.togglePointOfInterestEdit,this.props.onPointOfInterestSaved,this.props.updateActiveGuideKeyframe,this.props.onCreateThumbnail,true);this.props.onLoadVideoSuccess(q);this.setState({controller:q});var w=q.addListener("stateChange",function(){if(q.isState(c("VideoPlayerStates").DESTROYED)){w.remove();this.componentWillUnmount();this.setState({controller:null})}}.bind(this))}.bind(this);this.$ComposerVideoUploadSphericalVideo14=function(q){this.setState({isMobilePreview:q});if(this.state.controller)this.state.controller.emit(c("ComposerVideoUploadSphericalEvents").PREVIEW.MOBILE_PREVIEW_UPDATE,q)}.bind(this);this.$ComposerVideoUploadSphericalVideo10=function(){if(this.props.shouldLoadVideo){c("ComposerVideoUploadSphericalVideoLoader").load(this.props.videoFile,this.props.videoID,{initialHeading:this.props.yaw,initialPitch:this.props.pitch,fieldOfView:this.props.fov,stereoFormat:this.props.stereoMode,projection:this.props.projection,root:this.refs.container,video:this.refs.video,onSuccess:this.$ComposerVideoUploadSphericalVideo11,onError:this.props.onLoadVideoError,autoplay:true},this.props.enableComposerRedesign);this.$ComposerVideoUploadSphericalVideo10=c("emptyFunction")}}.bind(this)}o.prototype.componentWillUnmount=function(){"use strict";this.$ComposerVideoUploadSphericalVideo3&&this.$ComposerVideoUploadSphericalVideo3.destroy();this.$ComposerVideoUploadSphericalVideo7&&this.$ComposerVideoUploadSphericalVideo7.destroy();this.$ComposerVideoUploadSphericalVideo8&&this.$ComposerVideoUploadSphericalVideo8.destroy();this.$ComposerVideoUploadSphericalVideo5&&this.$ComposerVideoUploadSphericalVideo5.destroy();this.$ComposerVideoUploadSphericalVideo9&&this.$ComposerVideoUploadSphericalVideo9.destroy()};o.prototype.componentDidMount=function(){"use strict";this.$ComposerVideoUploadSphericalVideo10()};o.prototype.componentDidUpdate=function(p){"use strict";__p&&__p();var q=this.state.controller;if(!q){this.$ComposerVideoUploadSphericalVideo10();return}if(this.props.guideEnabled!==p.guideEnabled)q.emit(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_STATE_UPDATE,this.props.guideEnabled);if(this.props.guideVisible!==p.guideVisible)q.emit(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_VISIBILITY_UPDATE,this.props.guideVisible);if(this.props.fov!==p.fov)q.emit(c("ComposerVideoUploadSphericalEvents").PREVIEW.FIELD_OF_VIEW_UPDATE,this.props.fov);if(!this.props.keyframes.equals(p.keyframes))q.emit(c("ComposerVideoUploadSphericalEvents").PREVIEW.GUIDE_KEYFRAMES_UPDATE,this.props.keyframes.map(function(r){return r.getLegacyParams()}).toJS());if(this.props.isEditingKeyframe!==p.isEditingKeyframe)q.emit(c("ComposerVideoUploadSphericalEvents").PREVIEW.KEYFRAME_EDITING_STATE_UPDATE,this.props.isEditingKeyframe);if(this.props.projection!==p.projection)q.emit(c("SphericalVideoPlayerEvents").SET_VIDEO_PROJECTION,this.props.projection);if(this.props.stereoMode!==p.stereoMode)q.emit(c("SphericalVideoPlayerEvents").SET_STEREO_MODE,this.props.stereoMode)};o.prototype.$ComposerVideoUploadSphericalVideo12=function(){"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];q.forEach(function(s){var t=c("DOM").create("div",{className:"_4jd4"+(this.props.enableComposerRedesign?" _251a":"")});c("DOM").insertAfter(this.refs.video,t);s(t)}.bind(this))};o.prototype.$ComposerVideoUploadSphericalVideo13=function(p){"use strict";return n-p+m};o.prototype.render=function(){"use strict";__p&&__p();var p=this.props,q=p.enableComposerRedesign,r=p.enableTextHotspots,s=p.enableImageHotspots,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0;if(this.props.videoLoading)t=c("React").createElement("div",{className:"_3u_t"},c("React").createElement("div",{className:"_3u_u"},i._("Loading video preview...")));else if(this.props.videoUnavailable)t=c("React").createElement("div",{className:"_3u_t"},c("React").createElement("div",{className:"_3u_u"},i._("Video preview unavailable")));else{if(q){if(this.state.isMobilePreview)t=[c("React").createElement(c("Image.react"),{key:"phone-image",className:"_4ncu"+(!this.state.isMobilePreview?" _4nfs":""),src:j("415900")}),c("React").createElement("div",{key:"left",className:"_4nft _4nfu"+(!this.state.isMobilePreview?" _4nfs":"")}),c("React").createElement("div",{key:"right",className:"_4nft _4ngc"+(!this.state.isMobilePreview?" _4nfs":"")})]}else t=[c("React").createElement("div",{key:"left",className:"_29zb _29zc"}),c("React").createElement("div",{key:"right",className:"_29zb _29zd"})];if(q&&this.state.controller){u=c("React").createElement(c("ComposerVideoUploadSphericalVideoTopControlBar.react"),{allowOmnistabToggle:this.props.allowOmnistabToggle,omnistabEnabled:this.props.omnistabEnabled,showOmnistabSection:this.props.showOmnistabSection,onToggleEnableOmnistab:this.props.onToggleEnableOmnistab,onToggleIsMobilePreview:this.$ComposerVideoUploadSphericalVideo14,isMobilePreview:this.state.isMobilePreview,fov:this.props.fov,onFOVUpdate:this.props.onFOVUpdate});v=c("React").createElement(c("ComposerVideoUploadSphericalVideoBottomControlBar.react"),{controller:this.state.controller,projection:this.props.projection,stereoMode:this.props.stereoMode,hasSpatialAudio:this.props.hasSpatialAudio,onProjectionSelected:this.props.onProjectionSelected,onStereoModeSelected:this.props.onStereoModeSelected,onToggleSpatialAudio:this.props.onToggleSpatialAudio,isEditing:this.props.isEditing,componentSource:this.props.componentSource});if(r||s)x=c("React").createElement(c("ComposerVideoUploadSphericalMediaToolkit.react"),{controller:this.state.controller,enableImageHotspots:this.props.enableImageHotspots,enableTextHotspots:this.props.enableTextHotspots,fov:this.props.fov,hotspots:this.props.hotspots,nextId:this.props.nextHotspotId,pitch:this.props.pitch,yaw:this.props.yaw,onGuideVisibilityUpdate:this.props.onGuideVisibilityUpdate,onHotspotAdded:this.props.onHotspotAdded,onHotspotDeleted:this.props.onHotspotDeleted,onViewportUpdate:this.props.onViewportUpdate});y=c("React").createElement(c("ComposerVideoUploadSphericalVideoIntroTextSection.react"),{componentSource:this.props.componentSource,enableImageHotspots:this.props.enableImageHotspots,enableTextHotspots:this.props.enableTextHotspots})}else w=c("React").createElement(c("ComposerVideoUploadSphericalFOVSlider.react"),{decimalPlaces:0,min:m,max:n,value:this.props.fov,onChange:function(z){return this.props.onFOVUpdate(z)}.bind(this)})}return c("React").createElement("div",{ref:"root",className:"_4jd5"+(q&&this.state.controller?" _251a":"")},y,u,c("React").createElement("div",{className:"_251b"+(q?" _251a":"")},w,c("React").createElement("div",{ref:"container",className:"_4jd6"+(this.state.isMobilePreview?" _251f":"")},c("React").createElement("video",{ref:"video",crossOrigin:"anonymous",className:"_4jd7"}),t,x)),v)};f.exports=o}),null);
__d("PageActionURLHandlerType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ASYNC_DIALOG:"async-dialog",ASYNC_POST:"async-post",DIALOG:"dialog",DIALOG_POST:"dialog-post",LINK_OUT:"link-out"})}),null);
__d("PageActionBarActionSelector.react",["ix","fbt","ContextualDialogArrow","Image.react","PageActionURLHandlerType","PopoverMenu.react","React","ReactXUIMenu","URI","XUIButton.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("ReactXUIMenu").Item,k=function k(m){return c("React").createElement(c("ReactXUIMenu"),null,m.actions.map(function(n){if(!n.url||!n.label||!n.label.text)return null;var o=c("PageActionURLHandlerType")[n.url_handler_type]||null,p=n.url;if(o==="async-dialog"||o==="async-post"||o==="dialog")p=new(c("URI"))(n.url).getUnqualifiedURI().toString();return c("React").createElement(j,{href:p,key:n.label.text,rel:o},n.label.text)}))},l=function l(m){if(m.actions.length==0)return null;return c("React").createElement(c("PopoverMenu.react"),{alignh:"right",layerBehaviors:[c("ContextualDialogArrow")],menu:k(m)},c("React").createElement(c("XUIButton.react"),{haschevron:false,image:c("React").createElement(c("Image.react"),{src:h("127000")}),label:i._("More"),labelIsHidden:true,size:"large"}))};f.exports=l}),null);
__d("PageActionContainer.react",["invariant","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){var k=j.action.ReactComponent;if(!k)return null;return c("React").createElement(k,j)};f.exports=i}),null);
__d("XLoggedOutInlineLoginDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/logged_out_inline_modal/content/",{redirect_uri:{type:"String"}})}),null);
__d("PageActionInlineLoginWrapper.react",["AsyncRequest","React","XLoggedOutInlineLoginDialogController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.state={loginPromptCreated:false},this.$PageActionInlineLoginWrapper2=function(p){if(this.props.loggedOutSEOEnabled){p.stopPropagation();this.$PageActionInlineLoginWrapper3()}}.bind(this),l}j.prototype.$PageActionInlineLoginWrapper3=function(){if(this.$PageActionInlineLoginWrapper1)this.$PageActionInlineLoginWrapper4(this.$PageActionInlineLoginWrapper1)};j.prototype.$PageActionInlineLoginWrapper4=function(k){if(!this.state.loginPromptCreated){this.$PageActionInlineLoginWrapper5(k);this.setState({loginPromptCreated:true})}};j.prototype.$PageActionInlineLoginWrapper5=function(k){var l=c("XLoggedOutInlineLoginDialogController").getURIBuilder().setString("redirect_uri",this.props.next).getURI();new(c("AsyncRequest"))().setURI(l).setMethod("POST").setRelativeTo(k).send()};j.prototype.render=function(){return c("React").createElement("div",{onClickCapture:this.$PageActionInlineLoginWrapper2,ref:function(k){return this.$PageActionInlineLoginWrapper1=k}.bind(this)},this.props.children)};f.exports=j}),null);
__d("PageActionOpenURLAsyncDialog.react",["cx","AsyncDialog","AsyncRequest","React","URI","XUIButton.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){var k=j.action,l=k.label,m=k.url;if(l===null||m===null)return null;return c("React").createElement(c("XUIButton.react"),{className:"_rfh",image:j.image,label:l.text,onClick:function n(){return c("AsyncDialog").send(new(c("AsyncRequest"))(new(c("URI"))(m).getUnqualifiedURI()))},size:j.size})};f.exports=i}),null);
__d("PageActionOpenURLAsyncPost.react",["cx","AsyncRequest","React","URI","XUIButton.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){var k=j.action,l=k.label,m=k.url;if(l===null||m===null)return null;return c("React").createElement(c("XUIButton.react"),{className:"_rfh",image:j.image,label:l.text,onClick:function n(){return new(c("AsyncRequest"))(new(c("URI"))(m).getUnqualifiedURI()).send()},size:j.size})};f.exports=i}),null);
__d("PageActionOpenURLLinkOut.react",["cx","React","Tooltip","XUIButton.react","goURI"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=14,j=function j(k){var l=k.action,m=l.label,n=l.url;if(m===null||n===null)return null;var o=c("React").createElement(c("XUIButton.react"),{className:"_rfh",image:k.image,label:m.text,onClick:function p(){return c("goURI")(n)},size:k.size});if(m.text.length>=i)o=c("React").cloneElement(o,c("Tooltip").propsFor(m.text));return o};f.exports=j}),null);
__d("PageCTAAction.react",["React"],(function a(b,c,d,e,f,g){"use strict";var h=function h(i){var j=i.ReactComponent,k=i.call_to_action,l=i.cta_config,m=i.should_auto_open,n=i.surface;return c("React").createElement(j,babelHelpers["extends"]({},i,{cta:{id:k?k.id:null,label:l&&l.label||k&&k.label||null,type:l&&l.cta_type||k&&k.cta_type||null},page:{id:i.page.id},surface:n,extraProps:{shouldAutoOpen:Boolean(m)}}))};f.exports=h}),null);
__d("PageCreatePageAction.react",["ix","Image.react","PageActionOpenURLLinkOut.react","React","fbglyph"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){return c("React").createElement(c("PageActionOpenURLLinkOut.react"),babelHelpers["extends"]({},j,{image:c("React").createElement(c("Image.react"),{src:h("127070")})}))};f.exports=i}),null);
__d("PagesMessengerLinkConfirmationDialog.react",["ix","cx","fbt","Image.react","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIGrayText.react","XUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=494;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{shown:this.props.shown,onToggle:function(o){return!o&&this.props.onDismiss}.bind(this),width:m},c("React").createElement(c("XUIDialogBody.react"),{className:"_3-95 _3pa-"},c("React").createElement(c("Image.react"),{className:"_3-97 _3-8x",src:"/images/pages/linkshare/checkmark.png"}),c("React").createElement(c("XUIText.react"),{size:"header3",display:"block"},j._("The Messenger link has been copied.")),c("React").createElement(c("XUIText.react"),{className:"_3-8y",display:"block",size:"body2"},j._("The Messenger link has been copied to your clipboard. Any person who clicks this link will be able to initiate a conversation with your Page."))),c("React").createElement(c("XUIDialogFooter.react"),{className:"_3pa_",fullbleedborder:"true",leftContent:c("React").createElement("div",null,c("React").createElement(c("Image.react"),{className:"_1-vn _3-8_",src:h("126379")}),c("React").createElement(c("XUIGrayText.react"),null,this.props.url))},c("React").createElement(c("XUIDialogButton.react"),{use:"confirm",label:j._("Done"),onClick:this.props.onDismiss})))};function n(){k.apply(this,arguments)}f.exports=n}),null);
__d("XPagesOnlineIndicatorAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/messaging/show_online_indicator/",{page_id:{type:"FBID",required:true}})}),null);
__d("PagesMessageButton.react",["cx","fbt","ix","AsyncRequest","ChatOpenTabEventLogger","Clipboard","ContextualDialogArrow","ContextualLayerUpdateOnScroll","FantaTabActions","Image.react","InlineBlock.react","MenuSeparator.react","MercuryIDs","MessagingSourceEnum","PagesBlueMessageButtonQE","PagesEventObserver","PagesEventType","PagesMessengerLinkConfirmationDialog.react","PopoverMenu.react","PopoverMenuShowOnHover","React","ReactXUIMenu","XBasicFBNuxDismissController","XPagesOnlineIndicatorAsyncController","XUIAmbientNUX.react","XUIButton.react","XUIPopoverButton.react","fbglyph","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ReactXUIMenu").Item,n=3997,o=j("114247"),p=j("127062");k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;function q(r){__p&&__p();l.constructor.call(this,r);this.$PagesMessageButton1=function(event){var s=this.props.pageID,t=c("MercuryIDs").getThreadIDFromUserID(s);c("FantaTabActions").openTab(t,[this.props.settings.ref]);c("ChatOpenTabEventLogger").logUserClickOpen(this.props.settings.ref,s)}.bind(this);this.$PagesMessageButton6=function(event){var s=this.props.settings.adminSettings&&this.props.settings.adminSettings.messengerLinkURI;if(!s)return;c("Clipboard").copy(s);this.setState({linkDialogShown:true});c("PagesEventObserver").notify(c("PagesEventType").SHARED_MESSAGE_LINK_COPY,this.props.pageID,{source:c("MessagingSourceEnum").PAGES_MESSAGE_SHORTLINK})}.bind(this);this.$PagesMessageButton7=function(){this.setState({linkDialogShown:false})}.bind(this);this.$PagesMessageButton9=function(){this.setState({nuxDismissed:true})}.bind(this);this.$PagesMessageButton10=function(){this.setState({messengerLinkNUXDismissed:true});var s=c("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",n).getURI();new(c("AsyncRequest"))().setURI(s).send()}.bind(this);this.state={isOnline:false,linkDialogShown:false,messengerLinkNUXDismissed:false,nuxDismissed:false}}q.prototype.componentWillMount=function(){var r=c("XPagesOnlineIndicatorAsyncController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI();new(c("AsyncRequest"))().setURI(r).setHandler(function(s){var t=s.payload;this.setState({isOnline:t.showOnlneIndicator})}.bind(this)).send()};q.getButtonSize=function(r){return c("XUIButton.react").getButtonSize(r)};q.prototype.componentDidMount=function(){c("PagesEventObserver").notify(c("PagesEventType").MESSAGES_BUTTON_RENDER,this.props.pageID,{source:"refresh",logged_out:!this.props.settings.isLoggedIn,ref:this.props.settings.ref})};q.prototype.render=function(){__p&&__p();if(!this.props.settings.isLoggedIn)return null;var r=false;if(c("PagesBlueMessageButtonQE").showBlueSecondaryButton)r=true;var s=i._("Message");if(!this.props.settings.adminSettings)if(this.props.className)s=i._("Send Message");else if(this.props.settings.label)s=i._("{settings_label}",[i.param("settings_label",this.props.settings.label)]);var t=this.props.settings.adminSettings?c("React").createElement(c("XUIPopoverButton.react"),{className:c("joinClasses")(this.props.className,"_p8f"),image:c("React").createElement(c("Image.react"),{src:p}),label:s,onClick:this.$PagesMessageButton1,ref:"messageButton",size:this.props.size,"data-testid":"page-message-button"}):c("React").createElement(c("XUIButton.react"),{className:c("joinClasses")(this.props.className,"_p8f"),image:r?c("React").createElement(c("Image.react"),{src:this.props.className?null:o}):c("React").createElement(c("Image.react"),{src:this.props.className?null:p}),imageRight:this.$PagesMessageButton2(),label:s,onClick:this.$PagesMessageButton1,ref:"messageButton",size:this.props.size,use:r?"confirm":"default","data-testid":"page-message-button"});if(this.props.settings.adminSettings)t=c("React").createElement(c("PopoverMenu.react"),{className:c("joinClasses")(this.props.className,"_3u42"),alignh:"right",menu:this.$PagesMessageButton3(),behaviors:[c("PopoverMenuShowOnHover")],layerBehaviors:[c("ContextualDialogArrow")]},t,this.$PagesMessageButton4());return c("React").createElement(c("InlineBlock.react"),{alignv:"middle",className:"_3u43 _p8r"},t,this.$PagesMessageButton5())};q.prototype.$PagesMessageButton2=function(){if(!this.state.isOnline)return null;return c("React").createElement("span",{className:"_ljx"},c("React").createElement(c("Image.react"),{src:j("311942")}))};q.prototype.$PagesMessageButton3=function(){if(!this.props.settings.adminSettings)return null;var r=null;if(this.props.settings.adminSettings.messengerLinkURI)r=c("React").createElement(m,{onclick:this.$PagesMessageButton6},i._("Copy Messenger Link"));return c("React").createElement(c("ReactXUIMenu"),null,c("React").createElement(m,{href:this.props.settings.adminSettings.inboxURI},i._("View Messages")),this.props.settings.adminSettings.messengerLinkURI?c("React").createElement(c("MenuSeparator.react"),null):null,r)};q.prototype.$PagesMessageButton4=function(){var r=this.props.settings.adminSettings&&this.props.settings.adminSettings.messengerLinkURI;if(!r)return null;return c("React").createElement(c("PagesMessengerLinkConfirmationDialog.react"),{onDismiss:this.$PagesMessageButton7,shown:this.state.linkDialogShown,url:r})};q.prototype.$PagesMessageButton5=function(){if(this.props.settings.adminSettings&&this.props.settings.adminSettings.showMessengerLinkNUX)return this.$PagesMessageButton8();if(!this.props.settings.showNUX)return null;var r=this.props.pageCategory==="WORKPLACE_BOT"?i._("Send a message to this Bot."):i._("Send a message to this Page.");return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"center",behaviors:{ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll")},contextRef:function(){return this.refs.messageButton}.bind(this),onCloseButtonClick:this.$PagesMessageButton9,position:"below",shown:!this.state.nuxDismissed,width:"auto"},r)};q.prototype.$PagesMessageButton8=function(){if(!this.props.settings.adminSettings||!this.props.settings.adminSettings.showMessengerLinkNUX)return null;return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"right",autofocus:false,behaviors:{ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll")},contextRef:function(){return this.refs.messageButton}.bind(this),onCloseButtonClick:this.$PagesMessageButton10,position:"below",shown:!this.state.messengerLinkNUXDismissed,width:"wide"},i._("You can now share a direct link that makes it easy for people to message your Page."))};f.exports=q}),null);
__d("PageMessageAction.react",["PagesMessageButton.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){var k=this.props.action;return c("React").createElement(c("PagesMessageButton.react"),{className:this.props.className,icon:this.props.icon,pageID:k.page.id,pageCategory:k.page.category_type,settings:{adminSettings:k.admin_inbox_url?{inboxURI:k.admin_inbox_url,messengerLinkURI:k.admin_messenger_link_url,showMessengerLinkNUX:k.admin_show_messenger_link_nux}:null,isLoggedIn:true,ref:"page_header",showNUX:k.show_nux,label:k.label.text},size:this.props.size})};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("PageReportAction.react",["ix","Image.react","PageActionOpenURLAsyncDialog.react","React","fbglyph"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){return c("React").createElement(c("PageActionOpenURLAsyncDialog.react"),babelHelpers["extends"]({},j,{image:c("React").createElement(c("Image.react"),{src:h("128308")})}))};f.exports=i}),null);
__d("PageReviewAction.react",["ix","Image.react","PageActionOpenURLAsyncDialog.react","React","fbglyph"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){return c("React").createElement(c("PageActionOpenURLAsyncDialog.react"),babelHelpers["extends"]({},j,{image:c("React").createElement(c("Image.react"),{src:h("128414")})}))};f.exports=i}),null);
__d("XSavedForLaterDashboardController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/saved/",{collection_token:{type:"String"},tag_filter:{type:"String"},cref:{type:"Int"},suggestion_dialog:{type:"Int"},cursor:{type:"String"},notif_id:{type:"Int"},dashboard_section:{type:"Enum",enumType:1},cref_name:{type:"String"},a_type:{type:"String"},search_token:{type:"String"},list_id:{type:"Int"},tab:{type:"Enum",enumType:1}})}),null);
__d("PageSaveAction.react",["ix","fbt","ContextualDialogArrow","Image.react","PageActionOpenURLAsyncPost.react","PageActionURLHandlerType","PopoverMenu.react","PopoverMenuShowOnHover","React","ReactXUIMenu","URI","XSavedForLaterDashboardController","XUIPopoverButton.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("ReactXUIMenu").Item,k=function k(l){var m=l.action,n=m.url,o=m.url_handler_type,p=m.page;if(!p.has_viewer_saved)return c("React").createElement(c("PageActionOpenURLAsyncPost.react"),babelHelpers["extends"]({},l,{image:c("React").createElement(c("Image.react"),{src:h("127260")})}));var q=c("React").createElement(c("ReactXUIMenu"),null,c("React").createElement(j,{href:new(c("URI"))(n).getUnqualifiedURI(),key:"unsave",rel:c("PageActionURLHandlerType")[o]||null},i._("Unsave")),c("React").createElement(j,{href:c("XSavedForLaterDashboardController").getURIBuilder().getURI(),key:"view_saved"},i._("View saved items")));return c("React").createElement(c("PopoverMenu.react"),{behaviors:[c("PopoverMenuShowOnHover")],layerBehaviors:[c("ContextualDialogArrow")],menu:q},c("React").createElement(c("XUIPopoverButton.react"),{image:c("React").createElement(c("Image.react"),{src:h("116046")}),label:i._("Saved"),size:"large"}))};f.exports=k}),null);
__d("PageSharePageAction.react",["ix","Image.react","PageActionOpenURLAsyncDialog.react","React","fbglyph"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){return c("React").createElement(c("PageActionOpenURLAsyncDialog.react"),babelHelpers["extends"]({},j,{image:c("React").createElement(c("Image.react"),{src:h("128367")})}))};f.exports=i}),null);
__d("PageSimpleActionWithURL.react",["Image.react","PageActionOpenURLAsyncDialog.react","PageActionOpenURLAsyncPost.react","PageActionOpenURLLinkOut.react","React","idx"],(function a(b,c,d,e,f,g){"use strict";var h=function h(i){var j,k,l=(j=i)!=null?(j=j.action)!=null?j.url_handler_type:j:j,m=(k=i)!=null?(k=k.action)!=null?(k=k.icon)!=null?(k=k.icon_image)!=null?k.uri:k:k:k:k,n=m?c("React").createElement(c("Image.react"),{height:16,width:16,src:m}):null;switch(l){case"ASYNC_DIALOG":return c("React").createElement(c("PageActionOpenURLAsyncDialog.react"),babelHelpers["extends"]({},i,{image:n}));case"ASYNC_POST":return c("React").createElement(c("PageActionOpenURLAsyncPost.react"),babelHelpers["extends"]({},i,{image:n}));default:return c("React").createElement(c("PageActionOpenURLLinkOut.react"),babelHelpers["extends"]({},i,{image:n}))}};f.exports=h}),null);
__d("PageSuggestEditsAction.react",["ix","Image.react","PageActionOpenURLAsyncDialog.react","React","fbglyph"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){return c("React").createElement(c("PageActionOpenURLAsyncDialog.react"),babelHelpers["extends"]({},j,{image:c("React").createElement(c("Image.react"),{src:h("128156")})}))};f.exports=i}),null);
__d("PageSwitchRegionAction.react",["ix","Image.react","PageActionOpenURLAsyncDialog.react","React","fbglyph"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){return c("React").createElement(c("PageActionOpenURLAsyncDialog.react"),babelHelpers["extends"]({},j,{image:c("React").createElement(c("Image.react"),{src:h("128018")})}))};f.exports=i}),null);
__d("PagesHeaderFollowButton.react",["ix","cx","fbt","BasicFBNux","ContextualDialogArrow","Image.react","Link.react","PageGetNotificationUtil","PagesButton.react","PagesLikeFollowHelper","PagesProfileTestID","PopoverMenu.react","PopoverMenuOverlappingBorder","PopoverMenuShowOnHover","ProfileSubFollowStatus","React","ReactXUIMenu","SnoozedProfileTypedLogger","XUIAmbientNUX.react","XUIButton.react","XUIMenuSeparator.react","XUIPopoverButton.react","XUIText.react","asset","fbglyph","gkx","uuid"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ReactXUIMenu").SelectableMenu,n=c("ReactXUIMenu").Item,o=4225,p=5571;k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;function q(){__p&&__p();var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.$PagesHeaderFollowButton8=function(){if(this.props.snoozeStatus)new(c("SnoozedProfileTypedLogger"))().setEvent("cancel_end_snooze").setItemObjID(this.props.pageID).setSessionID(this.$PagesHeaderFollowButton1).log()}.bind(this),this.$PagesHeaderFollowButton9=function(event){if(c("gkx")("AT6MZ5ZRlgEf2bedgEASGvEyincZq_XgZfJwcwy3igqhf5fj66SPxd6pMonVxdKGDaP3Od_7h5-NJvaBAZG_FXVSf_YksT8mBoQ9IjuJhoInkw"))c("PagesLikeFollowHelper").onFollowChangeWithTrackingData(event.target,this.props.pageID,true,this.props.followLocation);else c("PagesLikeFollowHelper").onFollowChange(this.props.pageID,true,this.props.followLocation);if(this.props.shouldShowFollowPrivacyNux){this.setState({privacyNuxShown:true});c("BasicFBNux").onView(o)}}.bind(this),this.$PagesHeaderFollowButton11=function(event){if(c("gkx")("AT6MZ5ZRlgEf2bedgEASGvEyincZq_XgZfJwcwy3igqhf5fj66SPxd6pMonVxdKGDaP3Od_7h5-NJvaBAZG_FXVSf_YksT8mBoQ9IjuJhoInkw"))c("PagesLikeFollowHelper").onFollowChangeWithTrackingData(event.target,this.props.pageID,false,this.props.followLocation);else c("PagesLikeFollowHelper").onFollowChange(this.props.pageID,false,this.props.followLocation)}.bind(this),s}q.getButtonSize=function(r){return c("XUIButton.react").getButtonSize(r)};q.prototype.componentWillMount=function(){this.$PagesHeaderFollowButton1=c("uuid")();if(this.props.shouldShowFollowButtonNux===true)c("BasicFBNux").onView(p);this.setState({privacyNuxShown:false,followButtonNuxShown:this.props.shouldShowFollowButtonNux})};q.prototype.componentWillUnmount=function(){this.$PagesHeaderFollowButton1=null};q.prototype.render=function(){__p&&__p();if(!this.props.followAllowed)return null;var r=void 0,s=void 0;if(this.props.snoozeStatus){r=this.$PagesHeaderFollowButton2();s=this.$PagesHeaderFollowButton3();new(c("SnoozedProfileTypedLogger"))().setEvent("profile_visit").setItemObjID(this.props.pageID).setSessionID(this.$PagesHeaderFollowButton1).log()}else{if(!this.props.followStatus)return this.$PagesHeaderFollowButton4();else if(this.props.disableDropdown)return this.$PagesHeaderFollowButton5();r=this.$PagesHeaderFollowButton6();s=this.$PagesHeaderFollowButton7()}var t=c("React").createElement(c("PopoverMenu.react"),{alignh:"right",behaviors:[c("PopoverMenuOverlappingBorder"),c("PopoverMenuShowOnHover")],layerBehaviors:[c("ContextualDialogArrow")],menu:c("React").createElement(m,{className:"_4bje"+(this.props.snoozeStatus?" _3qn5":""),multiple:true},s),onHide:this.$PagesHeaderFollowButton8},r);if(this.props.asPrimaryButton==="true")return c("React").createElement("div",{className:"_6534"},t);return t};q.prototype.$PagesHeaderFollowButton4=function(){if(this.props.blueFollowButton)return c("React").createElement(c("PagesButton.react"),{color:"fbblue",image:c("React").createElement(c("Image.react"),{className:"ctaButtonIcon",src:h("114929")}),label:c("React").createElement("span",{className:"blueButtonLabel"},j._("Follow")),onClick:this.$PagesHeaderFollowButton9});if(this.props.asPrimaryButton==="true")return c("React").createElement("span",{className:"_6534 uiContextualLayerParent"},c("React").createElement(c("XUIButton.react"),{"data-testid":this.props.origin+c("PagesProfileTestID").FOLLOW_BUTTON_ID,image:c("React").createElement(c("Image.react"),{src:h("114929")}),label:j._("Follow"),onClick:this.$PagesHeaderFollowButton9,ref:"followButton",size:"large",use:"confirm"}),this.$PagesHeaderFollowButton10());return c("React").createElement(c("XUIButton.react"),{"data-testid":this.props.origin+c("PagesProfileTestID").FOLLOW_BUTTON_ID,image:c("React").createElement(c("Image.react"),{src:h("127712")}),label:j._("Follow"),onClick:this.$PagesHeaderFollowButton9,size:this.props.size})};q.prototype.$PagesHeaderFollowButton5=function(){if(this.props.blueFollowButton)return c("React").createElement(c("PagesButton.react"),{color:"fbblue",image:c("React").createElement(c("Image.react"),{className:"ctaButtonIcon",src:h("114932")}),label:c("React").createElement("span",{className:"blueButtonLabel"},j._("Following")),onClick:this.$PagesHeaderFollowButton11});return c("React").createElement(c("XUIButton.react"),{image:c("React").createElement(c("Image.react"),{src:h("116498")}),label:j._("Following"),onClick:this.$PagesHeaderFollowButton11,size:this.props.size})};q.prototype.$PagesHeaderFollowButton6=function(){if(this.props.asPrimaryButton==="true")return c("React").createElement("div",null,c("React").createElement(c("XUIPopoverButton.react"),{"data-testid":this.props.origin+c("PagesProfileTestID").FOLLOWED_BUTTON_ID,image:c("React").createElement(c("Image.react"),{src:h("116533")}),label:j._("Following"),ref:"followedButton",size:"large"}),this.renderLayers());return c("React").createElement("div",null,c("React").createElement(c("XUIPopoverButton.react"),{"data-testid":this.props.origin+c("PagesProfileTestID").FOLLOWED_BUTTON_ID,image:c("React").createElement(c("Image.react"),{src:h("116498")}),label:j._("Following"),ref:"followedButton",size:this.props.size}),this.renderLayers())};q.prototype.$PagesHeaderFollowButton2=function(){return c("React").createElement("div",null,c("React").createElement(c("XUIPopoverButton.react"),{className:this.props.origin==="hovercard"?"_29kr":"",image:c("React").createElement(c("Image.react"),{src:h("396312")}),label:(this.props.snoozeData||{}).stateText,ref:"snoozedButton",size:this.props.size}))};q.prototype.renderLayers=function(){return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.followedButton}.bind(this),shown:this.state.privacyNuxShown,position:"right",onCloseButtonClick:function(){return this.$PagesHeaderFollowButton12()}.bind(this),key:"ambientNUX"},j._("You can control who can see the people, Pages and lists you follow {hyperlink for help center}.",[j.param("hyperlink for help center",c("React").createElement(c("Link.react"),{href:"/ajax/timeline/friends/edit_dialog.php",rel:"dialog"},j._("here")))]))};q.prototype.$PagesHeaderFollowButton12=function(){this.setState({privacyNuxShown:false});c("BasicFBNux").onDismiss(o)};q.prototype.$PagesHeaderFollowButton10=function(){return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.followButton}.bind(this),onCloseButtonClick:function(){return this.$PagesHeaderFollowButton13()}.bind(this),position:"below",shown:this.state.followButtonNuxShown,key:"ambientNUX"},c("React").createElement(c("Image.react"),{className:"_2tv4",src:h("418478")}),c("React").createElement("div",{className:"_2tv5"},j._("Follow this show to get new episodes in your watchlist on Facebook Watch.")))};q.prototype.$PagesHeaderFollowButton13=function(){this.setState({followButtonNuxShown:false});c("BasicFBNux").onDismiss(p)};q.prototype.$PagesHeaderFollowButton3=function(){return[c("React").createElement(n,{className:"_10it",key:"Unsnooze."+this.props.pageID,onclick:function(){c("PagesLikeFollowHelper").onSnoozeChange(this.props.pageID,false);new(c("SnoozedProfileTypedLogger"))().setEvent("end_snooze").setItemObjID(this.props.pageID).setSessionID(this.$PagesHeaderFollowButton1).log()}.bind(this)},c("React").createElement(c("XUIText.react"),{size:"meta1",display:"block"},(this.props.snoozeData||{}).actionText),c("React").createElement(c("XUIText.react"),{size:"meta1",className:"_34kz"},(this.props.snoozeData||{}).timeLeftText))]};q.prototype.$PagesHeaderFollowButton7=function(){var r=c("PageGetNotificationUtil").isNotifStatusOn(this.props.notifStatus);return[c("React").createElement(n,{"data-testid":c("PagesProfileTestID").UNFOLLOW_PAGE_ITEM,key:"Unfollow."+this.props.pageID,onclick:this.$PagesHeaderFollowButton11},j._("Unfollow this Page")),c("React").createElement(c("XUIMenuSeparator.react"),{key:"follow_seperator"}),c("PagesLikeFollowHelper").newsfeedTitleMenuItem(this.props.pageID),c("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,c("ProfileSubFollowStatus").SEE_FIRST,this.props.newsFeedStatus),c("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,c("ProfileSubFollowStatus").REGULAR_FOLLOW,this.props.newsFeedStatus),c("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,c("ProfileSubFollowStatus").UNFOLLOW,this.props.newsFeedStatus),c("PagesLikeFollowHelper").notificationTitleMenuItem(this.props.pageID),c("PagesLikeFollowHelper").notificationMenuItem(this.props.pageID,true,r,this.props.notifStatus),c("PagesLikeFollowHelper").notificationMenuItem(this.props.pageID,false,!r,this.props.notifStatus)]};f.exports=q}),null);
__d("PagesHeaderFollowButtonContainer.react",["FluxContainer","PageNewsFeedStore","PagesFollowStore","PagesGetNotificationStore","PagesHeaderFollowButton.react","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher","PagesLikeStore","PagesSnoozeStore","React","XUIButton.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getButtonSize=function(k){return c("XUIButton.react").getButtonSize(k)};j.getStores=function(){return[c("PagesLikeStore"),c("PagesFollowStore"),c("PagesSnoozeStore"),c("PageNewsFeedStore"),c("PagesGetNotificationStore")]};j.calculateState=function(k,l){var m=c("PagesLikeStore").getState(),n=c("PagesFollowStore").getState(),o=c("PagesSnoozeStore").getState()[l.pageID]||{},p=c("PagesGetNotificationStore").getState(),q=c("PageNewsFeedStore").getState(),r={pageID:l.pageID,pageName:l.pageName,actorID:l.actorID,followAllowed:l.followAllowed,followLocation:l.followLocation,newsFeedStatus:q[l.pageID],disableDropdown:l.disableDropdown,shouldShowFollowPrivacyNux:l.shouldShowFollowPrivacyNux,likeStatus:m[l.pageID],followStatus:n[l.pageID],snoozeStatus:o.status,snoozeData:o.data,notifStatus:babelHelpers["extends"]({},p[l.pageID]),origin:l.origin,size:l.size,showUnpublishPageDialog:l.showUnpublishPageDialog,blueFollowButton:l.blueFollowButton,asPrimaryButton:l.asPrimaryButton,shouldShowFollowButtonNux:l.shouldShowFollowButtonNux};return r};j.prototype.componentWillMount=function(){c("PagesLikeFollowNotifDispatcher").explicitlyRegisterStores([c("PagesLikeStore"),c("PagesFollowStore"),c("PagesSnoozeStore"),c("PageNewsFeedStore"),c("PagesGetNotificationStore")]);c("PagesLikeFollowNotifDispatcher").dispatch({data:this.props,type:c("PagesLikeFollowNotifActions").INIT_DATA})};j.prototype.render=function(){return c("React").createElement(c("PagesHeaderFollowButton.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("PagesActionBarChannel.react",["cx","PageActionBarActionSelector.react","PageActionContainer.react","PageActionInlineLoginWrapper.react","PageCallToActionRef","PageCTAAction.react","PagesHeaderFollowButtonContainer.react","PagesHeaderLikeButtonContainer.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function i(j){return c("React").createElement("div",{className:"_51xa _5hgz"},j.customActionsData.slice(0,j.numberOfActionBarButtons).map(function(k,l){switch(k.__typename){case"PageLikeAction":return c("React").createElement(c("PagesHeaderLikeButtonContainer.react"),babelHelpers["extends"]({},j.likeFollowData,{key:k.__typename+l,size:"large"}));case"PageFollowAction":return c("React").createElement(c("PagesHeaderFollowButtonContainer.react"),babelHelpers["extends"]({},j.likeFollowData,{key:k.__typename+l,size:"large",asPrimaryButton:"false"}));case"PageCTAAction":return c("React").createElement(c("PageCTAAction.react"),babelHelpers["extends"]({},k,{className:"_rfh",key:k.__typename+l,surface:c("PageCallToActionRef").PAGES_ACTION_BAR_CHANNEL}));default:return c("React").createElement(c("PageActionContainer.react"),{action:k,className:"_rfh",key:k.__typename+l,size:"large"})}}).map(function(k,l){return j.next&&j.loggedOutSEOEnabled?c("React").createElement(c("PageActionInlineLoginWrapper.react"),{key:l,loggedOutSEOEnabled:j.loggedOutSEOEnabled,next:j.next},k):k}),c("React").createElement(c("PageActionBarActionSelector.react"),{actions:j.customActionsData.slice(j.numberOfActionBarButtons)}))};f.exports=i}),null);
__d("PagesHeaderDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("ExplicitRegistrationReactDispatcher"))({strict:true})}),null);
__d("PagesHeaderPayloadType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ACTIONS_UNIT_DATA:"actions_unit_data",COVER_PHOTO_CANCEL:"cover_photo_cancel",COVER_PHOTO_DATA:"cover_photo_data",COVER_VIDEO_DATA:"cover_video_data",COVER_VIDEO_UPLOAD_START:"cover_video_upload_start",COVER_VIDEO_UPLOAD_PROGRESSING:"cover_video_upload_progressing",COVER_VIDEO_UPLOAD_DONE:"cover_video_upload_done",COVER_VIDEO_ENCODE_PROGRESSING:"cover_video_encode_progressing",COVER_VIDEO_ENCODE_DONE:"cover_video_encode_done",COVER_VIDEO_PREVIEW:"cover_video_preview",COVER_VIDEO_PUBLISHING:"cover_video_publishing",COVER_VIDEO_PUBLISHED:"cover_video_published",COVER_VIDEO_CANCELLED:"cover_video_cancelled",PROFILE_PICTURE_DATA:"profile_picture_data"})}),null);
__d("PagesActionsUnitStore",["FluxReduceStore","PagesHeaderDispatcher","PagesHeaderPayloadType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return{callToAction:null,likeFollowData:null,messageData:null,moreMenuItemConfigs:[],pageID:"0",customActionsData:[],numberOfActionBarButtons:3,primaryFollowButtonInBar:false}};j.prototype.reduce=function(k,l){switch(l.type){case c("PagesHeaderPayloadType").ACTIONS_UNIT_DATA:return babelHelpers["extends"]({},k,l.data)}return k};function j(){h.apply(this,arguments)}f.exports=new j(c("PagesHeaderDispatcher"))}),null);
__d("PagesActionBarChannelContainer.react",["FluxContainer","PagesActionBarChannel.react","PagesActionsUnitStore","PagesHeaderDispatcher","PagesHeaderFollowButtonContainer.react","PagesHeaderPayloadType","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getStores=function(){return[c("PagesActionsUnitStore")]};j.calculateState=function(){return c("PagesActionsUnitStore").getState()};j.prototype.componentWillMount=function(){c("PagesHeaderDispatcher").explicitlyRegisterStore(c("PagesActionsUnitStore"));c("PagesHeaderDispatcher").dispatch({data:this.props,type:c("PagesHeaderPayloadType").ACTIONS_UNIT_DATA})};j.prototype.render=function(){return c("React").createElement("div",null,this.state.primaryFollowButtonInBar?c("React").createElement(c("PagesHeaderFollowButtonContainer.react"),babelHelpers["extends"]({},this.state.likeFollowData,{asPrimaryButton:"true"})):null,c("React").createElement(c("PagesActionBarChannel.react"),this.state))};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("PagesPrimaryButtonsActionChannel.react",["cx","Layout.react","PageActionContainer.react","PageActionInlineLoginWrapper.react","PageCallToActionRef","PageCTAAction.react","React"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("Layout.react").Column,j=c("Layout.react").FillColumn,k=function k(l){var m=l.primaryButtons,n=m[0],o=m[1];if(!n)return null;return c("React").createElement(c("Layout.react"),{className:"_2iar"},c("React").createElement(j,null,n.__typename==="PageCTAAction"?c("React").createElement(c("PageActionInlineLoginWrapper.react"),{loggedOutSEOEnabled:l.loggedOutSEOEnabled,next:l.next},c("React").createElement(c("PageCTAAction.react"),babelHelpers["extends"]({},n,{className:(o?"_147q":"")+" _604m",surface:c("PageCallToActionRef").PAGES_ACTIONS_UNIT_SURFACE}))):c("React").createElement(c("PageActionInlineLoginWrapper.react"),{loggedOutSEOEnabled:l.loggedOutSEOEnabled,next:l.next},c("React").createElement(c("PageActionContainer.react"),{action:n,className:(!o?"_xah":"")+(!o?" _2ias":"")+(!o?" _2-sm":"")+(!o?" _1olk":""),size:"large"}))),o?c("React").createElement(i,{className:"_3-9b"},c("React").createElement(c("PageActionInlineLoginWrapper.react"),{loggedOutSEOEnabled:l.loggedOutSEOEnabled,next:l.next},c("React").createElement(c("PageActionContainer.react"),{action:o,size:"large"}))):null)};f.exports=k}),null);
__d("XPagesMessagePageOwnerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/send_page_message/",{message:{type:"String",required:true},page_id:{type:"String",required:true}})}),null);
__d("PageContentTabMessageOwnerDialog",["fbt","cx","AbstractTextArea.react","AsyncRequest","LayerFadeOnHide","PageContentTabSuccessDialog.react","PageContentTabSuccessDialogTimer","React","ReactDOM","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XPagesMessagePageOwnerController","nullthrows"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes,m=5,n=c("PageContentTabSuccessDialogTimer").TIME_IN_MS;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){__p&&__p();var q,r;"use strict";for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.state={messageText:null,isSendingMessage:false},this.$PageContentTabMessageOwnerDialogComponent1=null,this.$PageContentTabMessageOwnerDialogComponent2=null,this.$PageContentTabMessageOwnerDialogComponent3=function(){if(this.$PageContentTabMessageOwnerDialogComponent2)this.setState({messageText:this.$PageContentTabMessageOwnerDialogComponent2.getValue()})}.bind(this),this.$PageContentTabMessageOwnerDialogComponent4=function(){this.setState({isSendingMessage:true});var v=c("XPagesMessagePageOwnerController").getURIBuilder().setString("message",c("nullthrows")(this.$PageContentTabMessageOwnerDialogComponent2).getValue()).setString("page_id",c("nullthrows")(this.props.pageID)).getURI();new(c("AsyncRequest"))().setURI(v).setHandler(function(w){var x=w.getPayload().threadID;this.setState({isSendingMessage:false,messageText:null});if(this.props.onMessageThreadInitiated)this.props.onMessageThreadInitiated(x)}.bind(this)).setErrorHandler(function(){this.setState({isSendingMessage:false})}.bind(this)).setFinallyHandler(function(w){this.props.callbackParent(true)}.bind(this)).send()}.bind(this),r}o.prototype.render=function(){"use strict";return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},shown:true,width:500},c("React").createElement(c("XUIDialogTitle.react"),null,c("React").createElement("div",null,h._("Message to"),"\xa0",this.props.username)),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("AbstractTextArea.react"),{autoFocus:true,className:"_3k3a",disabled:this.state.isSendingMessage,ref:function(q){return this.$PageContentTabMessageOwnerDialogComponent2=q}.bind(this),onChange:this.$PageContentTabMessageOwnerDialogComponent3,placeholder:h._("Send a message to {Account Name}",[h.param("Account Name",this.props.username)]),rows:m})),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"confirm",disabled:this.state.isSendingMessage||this.state.messageText==null||this.state.messageText.trim().length===0,label:h._("Send Message"),onClick:this.$PageContentTabMessageOwnerDialogComponent4,use:"confirm"})))};o.propTypes={existingThreadID:l.string,username:l.string,callbackParent:l.func,onChatThreadOpen:l.func,onMessageThreadInitiated:l.func};var p={onChildChanged:function q(r){if(r===true)this.hideWithSuccessMessage("Message Sent!")},show:function q(r,s){if(!this._container)this._container=document.createElement("div");c("ReactDOM").render(c("React").createElement(o,{username:r,pageID:s,callbackParent:function(t){return this.onChildChanged(t)}.bind(this)}),this._container)},hide:function q(){if(!this._container)return;this.destroy()},hideWithSuccessMessage:function q(r){if(!this._container)return;c("ReactDOM").render(c("React").createElement(c("PageContentTabSuccessDialog.react"),{successLabel:r}),this._container);setTimeout(this.destroy.bind(this),n)},destroy:function q(){c("ReactDOM").unmountComponentAtNode(this._container);this._container=null}};f.exports=p}),null);
__d("XPageCreationAsyncDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/create/dialog/",{ref_page_id:{type:"FBID"},ref_type:{type:"String"},draft_page_name:{type:"String"}})}),null);
__d("PageCreatePageButton.react",["fbt","AsyncRequest","PageActionInlineLoginWrapper.react","React","XPageCreationAsyncDialogController","XUIButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$PageCreatePageButton1=function(){var q=c("XPageCreationAsyncDialogController").getURIBuilder().setFBID("ref_page_id",this.props.fbid).setString("ref_type","page_profile_button").getURI();new(c("AsyncRequest"))().setURI(q).send()}.bind(this),m}k.prototype.render=function(){return c("React").createElement(c("PageActionInlineLoginWrapper.react"),{loggedOutSEOEnabled:this.props.loggedOutSEOEnabled,next:this.props.next},c("React").createElement(c("XUIButton.react"),{label:h._("Create a Page"),onClick:this.$PageCreatePageButton1,use:"special"}))};f.exports=k}),null);
__d("PagesCoverCameraButton.react",["cx","fbt","PageNuxIDEnum","PageNuxSurfaceEnum","PagesNuxFrameworkHelper","PagesProfileTestID","React","XUIAmbientNUX.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={showCoverSlideshowMenuOptionNux:false,cameraButtonRef:null},this.$PagesCoverCameraButton2=function(s){if(s===null)return;this.setState({cameraButtonRef:s})}.bind(this),this.$PagesCoverCameraButton3=function(){return this.state.cameraButtonRef}.bind(this),this.$PagesCoverCameraButton1=function(){this.setState({showCoverSlideshowMenuOptionNux:true})}.bind(this),this.$PagesCoverCameraButton4=function(){this.setState({showCoverSlideshowMenuOptionNux:false});c("PagesNuxFrameworkHelper").closeNux(c("PageNuxIDEnum").WWW_COVER_SLIDESHOW_MENU_OPTION_NUX,c("PageNuxSurfaceEnum").PAGE_TIMELINE)}.bind(this),o}m.prototype.componentDidMount=function(){if(this.props.shouldShowCoverSlideshowMenuOptionNux)c("PagesNuxFrameworkHelper").registerNux(c("PageNuxIDEnum").WWW_COVER_SLIDESHOW_MENU_OPTION_NUX,c("PageNuxSurfaceEnum").PAGE_TIMELINE,this.$PagesCoverCameraButton1)};m.prototype.render=function(){return c("React").createElement("div",{className:"_3oj-","data-testid":c("PagesProfileTestID").COVER_PHOTO_EDIT_MENU,ref:this.$PagesCoverCameraButton2},c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"center",contextRef:this.$PagesCoverCameraButton3,onCloseButtonClick:this.$PagesCoverCameraButton4,position:"right",shown:this.props.shouldShowCoverSlideshowMenuOptionNux&&this.state.showCoverSlideshowMenuOptionNux&&!!this.state.cameraButtonRef,width:"normal"},c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{display:"block",weight:"bold"},i._("New! Cover Slideshow")),i._("Show people who visit your Page even more of what's important to you with a cover slideshow. Select Create Slideshow in the cover photo area to get started."))),c("React").createElement("div",{className:"_3oj_"+(this.props.expanded?" _3ok0":"")},c("React").createElement("div",{className:"_3ok1"},c("React").createElement("div",{className:"_4eqf _4eqi"})),c("React").createElement("div",{className:"_3ok2"},c("React").createElement("span",{className:"_3ok3"},this.props.label))))};m.propTypes={expanded:l.bool.isRequired,label:l.node.isRequired,shouldShowCoverSlideshowMenuOptionNux:l.bool.isRequired};f.exports=m}),null);
__d("PagesCoverAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NEW_COVER_DATA:"new_cover_data",COVER_REMOVING:"cover_removing",PHOTO_UPLOADING:"photo_uploading",PHOTO_PREVIEWING:"photo_previewing",PHOTO_SAVING:"photo_saving",PHOTO_SAVED:"photo_saved",PHOTO_CANCEL:"photo_cancel",PHOTO_REMOVED:"photo_removed",VIDEO_START_UPLOAD:"video_start_upload",VIDEO_UPLOADING:"video_uploading",VIDEO_ENCODING:"video_encoding",VIDEO_PREVIEWING:"video_previewing",VIDEO_CHOOSING_THUMBNAIL:"video_choosing_thumbnail",VIDEO_PUBLISHING:"video_publishing",VIDEO_PUBLISHED:"video_published",VIDEO_CANCELLING:"video_cancelling",SLIDESHOW_EDIT:"slideshow_edit",SLIDESHOW_DISPLAY:"slideshow_display",SLIDESHOW_PHOTO_PREVIEWING:"slideshow_photo_previewing",SLIDESHOW_CHANGE_CAROUSEL_INDEX:"slideshow_change_carousel_index",SLIDESHOW_PHOTO_UPLOADING:"slideshow_photo_uploading",SLIDESHOW_ITEM_REPOSITIONED:"slideshow_item_repositioned",SLIDESHOW_PHOTO_REMOVED:"slideshow_photo_removed",SLIDESHOW_EDITING_CANCELLED:"slideshow_editing_cancelled",SLIDESHOW_SAVING:"slideshow_saving",SLIDESHOW_CHANGE_ORDER:"slideshow_change_order",SLIDESHOW_NUX_TOUR_ELEMENT_LOADED:"slideshow_nux_tour_element_loaded",SLIDESHOW_NUX_TOUR_FINISHED:"slideshow_nux_tour_finished",SLIDESHOW_TOGGLE_CONTENT_SWITCHER:"slideshow_toggle_content_switcher",SLIDESHOW_PREFILLED_PHOTO_LOADED:"slideshow_prefilled_photo_loaded",SLIDESHOW_CLICK_CANCEL_BUTTON:"slideshow_click_cancel_button",LIVE_VIDEO_ENABLE:"live_video_enable",LIVE_VIDEO_DISABLE:"live_video_disable"})}),null);
__d("EventTourBadgeEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NO_TOUR:"no_tour",TOUR_BADGE_HIDDEN:"tour_badge_hidden",TOUR_BADGE_SHOWN:"tour_badge_shown"})}),null);
__d("PagesCoverDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("ExplicitRegistrationReactDispatcher"))({strict:true})}),null);
__d("PagesCoverType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COVER_PHOTO:"cover_photo",COVER_SLIDESHOW:"cover_slideshow",COVER_TRAILER:"cover_trailer",COVER_VIDEO:"cover_video",COVER_LIVE_VIDEO:"cover_live_video",NO_COVER:"no_cover",LOADING:"loading"})}),null);
__d("PagesCoverCoreStore",["EventTourBadgeEnum","FluxReduceStore","PagesCoverAction","PagesCoverDispatcher","PagesCoverType","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return{canViewerEditProfile:false,currentCoverType:c("PagesCoverType").COVER_PHOTO,hasCoverSet:false,futureCoverType:null,shouldShowEditMenuForAdmins:true,shouldShowLoadingOverlay:false,eventTourBadgeInfo:{tourID:null,title:null,subtitle:null,eventTourBadgeStatus:c("EventTourBadgeEnum").NO_TOUR}}};j.prototype.getEventTourBadgeInfo=function(){return this.getState().eventTourBadgeInfo};j.prototype.reduce=function(k,l){__p&&__p();var m,n=null;switch(l.type){case c("PagesCoverAction").NEW_COVER_DATA:var o=(m=l.data)!=null?m.coreData:m;n=babelHelpers["extends"]({},o);break;case c("PagesCoverAction").PHOTO_SAVED:case c("PagesCoverAction").PHOTO_REMOVED:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:true});break;case c("PagesCoverAction").PHOTO_UPLOADING:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:false,shouldShowLoadingOverlay:k.currentCoverType!==c("PagesCoverType").COVER_PHOTO});break;case c("PagesCoverAction").PHOTO_PREVIEWING:n=babelHelpers["extends"]({},k,{futureCoverType:k.currentCoverType!==c("PagesCoverType").COVER_PHOTO?c("PagesCoverType").COVER_PHOTO:null,shouldShowEditMenuForAdmins:false,shouldShowLoadingOverlay:false});break;case c("PagesCoverAction").PHOTO_SAVING:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:false,currentCoverType:c("PagesCoverType").LOADING});break;case c("PagesCoverAction").VIDEO_START_UPLOAD:n=babelHelpers["extends"]({},k,{futureCoverType:c("PagesCoverType").COVER_VIDEO,shouldShowEditMenuForAdmins:false});break;case c("PagesCoverAction").VIDEO_UPLOADING:case c("PagesCoverAction").VIDEO_ENCODING:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:false});break;case c("PagesCoverAction").VIDEO_CHOOSING_THUMBNAIL:n=babelHelpers["extends"]({},k);break;case c("PagesCoverAction").VIDEO_PUBLISHING:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:false,currentCoverType:c("PagesCoverType").LOADING});break;case c("PagesCoverAction").VIDEO_PREVIEWING:n=babelHelpers["extends"]({},k,{futureCoverType:c("PagesCoverType").COVER_VIDEO,shouldShowEditMenuForAdmins:false});break;case c("PagesCoverAction").PHOTO_CANCEL:case c("PagesCoverAction").VIDEO_CANCELLING:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:false,shouldShowLoadingOverlay:true});break;case c("PagesCoverAction").VIDEO_PUBLISHED:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:true});break;case c("PagesCoverAction").SLIDESHOW_EDIT:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:false,futureCoverType:k.currentCoverType!==c("PagesCoverType").COVER_SLIDESHOW?c("PagesCoverType").COVER_SLIDESHOW:null});break;case c("PagesCoverAction").SLIDESHOW_DISPLAY:case c("PagesCoverAction").SLIDESHOW_EDITING_CANCELLED:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:true,futureCoverType:null});break;case c("PagesCoverAction").COVER_REMOVING:n=babelHelpers["extends"]({},k,{shouldShowEditMenuForAdmins:false,shouldShowLoadingOverlay:true});break}return n||k};function j(){h.apply(this,arguments)}f.exports=new j(c("PagesCoverDispatcher"))}),null);
__d("XPagesCoverRemoveAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_remove/",{page_id:{type:"FBID",required:true}})}),null);
__d("PagesCoverRemoveCoverConfirmationDialog.react",["fbt","AsyncRequest","PagesCoverAction","PagesCoverDispatcher","PagesProfileTestID","React","XPagesCoverRemoveAsyncController","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogConfirmButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=445;i=babelHelpers.inherits(m,c("React").PureComponent);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$PagesCoverRemoveCoverConfirmationDialog1=function(){new(c("AsyncRequest"))().setURI(c("XPagesCoverRemoveAsyncController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI()).send();this.props.onToggle(false);c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").COVER_REMOVING})}.bind(this),o}m.prototype.render=function(){if(!this.props.shown)return null;return c("React").createElement(c("XUIDialog.react"),{onToggle:this.props.onToggle,shown:true,width:l},c("React").createElement(c("XUIDialogTitle.react"),null,h._("Remove cover?")),c("React").createElement(c("XUIDialogBody.react"),null,h._("Are you sure that you want to remove this cover?")),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogCancelButton.react"),null),c("React").createElement(c("XUIDialogConfirmButton.react"),{"data-testid":c("PagesProfileTestID").COVER_PHOTO_REMOVE_CONFIRM_BUTTON,onClick:this.$PagesCoverRemoveCoverConfirmationDialog1,use:"confirm"})))};m.propTypes={coreData:k.object.isRequired,onToggle:k.func.isRequired,pageID:k.string.isRequired,shown:k.bool.isRequired};f.exports=m}),null);
__d("PagesCoverSlideshowActionCreator",["fbt","PagesCoverAction","PagesCoverDispatcher","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React","SimpleXUIDialog","XUIDialogButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=-1,j={enterEditMode:function k(l){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_EDIT});c("PagesLogger").log(l,c("PagesLoggerEventEnum").CLICK,c("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"click_edit"})},changeCurrentIndex:function k(l,m){if(i===m)return;c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_CHANGE_CAROUSEL_INDEX,data:{currentIndex:m}});c("PagesLogger").log(l,c("PagesLoggerEventEnum").SCROLL,c("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW);i=m},reorderSlideshowItems:function k(l,m,n){if(l!==m)c("PagesLogger").log(n,c("PagesLoggerEventEnum").DRAG,c("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"reorder_slideshow_items"});c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_CHANGE_ORDER,data:{fromIndex:l,toIndex:m}})},onPhotoUploading:function k(l){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_PHOTO_UPLOADING,data:{uploadingIndex:l}})},onItemRepositioned:function k(l,m,n){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_ITEM_REPOSITIONED,data:{itemRepositionedIndex:n}})},onPhotoRemoved:function k(l){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_PHOTO_REMOVED,data:{removedIndex:l}})},confirmCancel:function k(){c("SimpleXUIDialog").showEx(h._("If you go back, your changes won't be saved."),h._("Leave Slideshow?"),c("React").createElement("div",null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:h._("Leave Slideshow"),onClick:j.onEditingCancelled,use:"default"}),c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:h._("Cancel"),use:"confirm"})))},onEditingCancelled:function k(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_EDITING_CANCELLED})},onSlideshowSaving:function k(l){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_SAVING});c("PagesLogger").log(l,c("PagesLoggerEventEnum").CLICK,c("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"click_save"})},onNUXTourElementLoaded:function k(l,m,n,o){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_NUX_TOUR_ELEMENT_LOADED,data:{context:l,step:m,description:n,position:o}})},onNUXTourFinished:function k(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_NUX_TOUR_FINISHED})},toggleContentOptimizer:function k(l,m){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_TOGGLE_CONTENT_SWITCHER,data:m});c("PagesLogger").log(l,c("PagesLoggerEventEnum").CLICK,c("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"click_content_optimizer"})},loadPrefilledItems:function k(l){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").SLIDESHOW_PREFILLED_PHOTO_LOADED,data:{prefilledItems:l}})}};f.exports=j}),null);
__d("XPagesCoverVideoDataController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_video_data/",{video_id:{type:"FBID",required:true},supports_html5_video:{type:"Bool",defaultValue:true},include_thumbnails:{type:"Bool",defaultValue:false}})}),null);
__d("CoverVideoUtil",["Promise","AsyncRequest","CoverVideoOffsetType","VideoData","XPagesCoverVideoDataController","isHTML5VideoImplementationUnavailable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={fetchCoverVideoData:function i(j){__p&&__p();var k=arguments.length<=1||arguments[1]===undefined?false:arguments[1];return new(c("Promise"))(function(l,m){var n=c("XPagesCoverVideoDataController").getURIBuilder().setFBID("video_id",j).setBool("supports_html5_video",!c("isHTML5VideoImplementationUnavailable")(true)).setBool("include_thumbnails",k).getURI();new(c("AsyncRequest"))(n).setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(o){var p=o.payload,q=p.offset_type,r=p.offset_value,s=p.playable_duration_in_sec,t=p.video_data,u=p.thumbnails;if(q===c("CoverVideoOffsetType").VERTICAL||q===c("CoverVideoOffsetType").HORIZONTAL){var v=q===c("CoverVideoOffsetType").HORIZONTAL?"horizontal":"vertical";l({offsetType:v,offsetValue:r,playableDurationInSec:s,videoData:new(c("VideoData"))(t),thumbnails:u})}else m(new Error("Cover video data are unavailable."))}).setErrorHandler(m).send()})}};f.exports=h}),null);
__d("PagesCoverVideoConstant",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";var i={PREVIEW_TIP_FOR_CREATION:c("React").createElement("div",null,c("React").createElement("div",null,h._("Your video was added but won't be public until you publish it.")),c("React").createElement("div",null,h._("You can drag the video that is currently being displayed to reposition it."))),PREVIEW_TIP_FOR_EDITING:c("React").createElement("div",null,c("React").createElement("div",null,h._("Your video won't be public until you publish it.")),c("React").createElement("div",null,h._("You can drag the video that is currently being displayed to reposition it."))),TRY_UPLOAD_AGAIN_TITLE:h._("Try uploading again"),TRY_UPLOAD_AGAIN_BODY:h._("The video couldn't be uploaded. Please try again."),CANCEL_DIALOG_TITLE:h._("Cancel video upload?"),CANCEL_DIALOG_BODY:h._("If you cancel, this video will be deleted and your Page will revert to the previous cover photo or video."),CANCEL_DIALOG_CANCEL_UPLOAD_BUTTON_LABEL:h._("Cancel Upload"),CANCEL_DIALOG_NOT_NOW_BUTTON_LABEL:h._("Not Now"),EDUCATIONAL_ERROR_DIALOG_TITLE:h._("Video not uploaded")};f.exports=i}),null);
__d("XPagesCoverReloadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_reload/",{page_id:{type:"FBID",required:true}})}),null);
__d("XPagesCoverVideoPublishController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_video_publish/",{})}),null);
__d("XPagesCoverVideoRollbackAndDeleteController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_video_rollback_and_delete/",{page_id:{type:"FBID",required:true},video_id:{type:"FBID",required:true}})}),null);
__d("PagesCoverVideoActionCreator",["ix","cx","fbt","AsyncRequest","CoverVideoUtil","ErrorDialog","Image.react","PagesCoverAction","PagesCoverDispatcher","PagesCoverVideoConstant","React","ReactDOM","Set","SimpleXUIDialog","XPagesCoverReloadController","XPagesCoverVideoPublishController","XPagesCoverVideoRollbackAndDeleteController","XUIDialogButton.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=Object.freeze({INVALID_DURATION:"invalid_duration",INVALID_DIMENSION:"invalid_dimension"}),l={validateCoverVideoMetadata:function m(n,o,p,q,r,s,t){__p&&__p();if(!o){p();l.showGeneralErrorDialog();return false}var u=c("ReactDOM").findDOMNode(o);if(!u||!(u instanceof HTMLVideoElement)){p();l.showGeneralErrorDialog();return false}var v=u.videoWidth,w=u.videoHeight;if(v===0&&w===0)return true;var x=l.validateCoverVideoWithErrorDialog(n,u.duration,q,r,u.videoWidth,u.videoHeight,s,t);if(!x)p();return x},showCoverVideoUploadUI:function m(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_START_UPLOAD})},uploadStarted:function m(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_UPLOADING,data:{progress:0}})},uploadProgressed:function m(n,o){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_UPLOADING,data:{progress:Math.round(n)}})},encodeStarted:function m(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_ENCODING,data:{progress:0}})},encodeProgressed:function m(n){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_ENCODING,data:{progress:Math.round(n)}})},encodeFinished:function m(n,o,p,q,r,s){__p&&__p();c("CoverVideoUtil").fetchCoverVideoData(o).then(function(t){__p&&__p();var u=t.playableDurationInSec,v=t.videoData;if(!u||!v){l.rollbackAndDeleteVideoWithGeneralErrorDialog(n,o);return}var w=v.getOriginalWidth(),x=v.getOriginalHeight(),y=l.validateCoverVideoWithErrorDialog(n,u,p,q,w,x,r,s);if(!y){l.rollbackAndDeleteVideo(n,o);return}c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_PREVIEWING,data:{futureVideoID:o,pageID:n,isFromRepositon:false}})}).done()},validateCoverVideoWithErrorDialog:function m(n,o,p,q,r,s,t,u){__p&&__p();var v=new(c("Set"))(),w=1;if(r<t-w||s<u-w)v.add(k.INVALID_DIMENSION);if(o<p-w||o>q+w)v.add(k.INVALID_DURATION);if(v.size>0){l.showValidationErrorDialog(n,v,p,q,t,u);return false}return true},chooseThumbnail:function m(n,o,p,q,r,s){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_CHOOSING_THUMBNAIL,data:{futureVideoID:n,pageID:o,offsetType:p,offsetValue:q,containerHeight:r,containerWidth:s}})},editCoverVideo:function m(n,o){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_PREVIEWING,data:{futureVideoID:o,pageID:n,isFromReposition:true}})},showGeneralErrorDialog:function m(){c("SimpleXUIDialog").show(c("React").createElement("div",null,j._("The video couldn't be uploaded. Please try again.")),c("PagesCoverVideoConstant").EDUCATIONAL_ERROR_DIALOG_TITLE)},showValidationErrorDialog:function m(n,o,p,q,r,s){var t=j._("Please edit the video and try again."),u=!o.has(k.INVALID_DURATION)?c("React").createElement(c("Image.react"),{src:h("119371")}):c("React").createElement(c("Image.react"),{src:h("117758")}),v=j._("Cover videos should be {minimal duration of cover video required}-{duration of current video} seconds.",[j.param("minimal duration of cover video required",p),j.param("duration of current video",q)]),w=!o.has(k.INVALID_DIMENSION)?c("React").createElement(c("Image.react"),{src:h("119371")}):c("React").createElement(c("Image.react"),{src:h("117758")}),x=j._("Cover videos should be at least {minimal requirement of width} x {minimal requirement of height} pixels. The recommended size is 820 x 462 pixels.",[j.param("minimal requirement of width",r),j.param("minimal requirement of height",s)]),y=c("React").createElement("div",null,c("React").createElement("div",null,t),c("React").createElement("div",{className:"_31ms"},c("React").createElement("div",{className:"_wsz"},u),c("React").createElement("div",{className:"_wsz"+(o.has(k.INVALID_DURATION)?" _wt3":"")},v)),c("React").createElement("div",{className:"_31ms"},c("React").createElement("div",{className:"_wsz"},w),c("React").createElement("div",{className:"_wsz"+(o.has(k.INVALID_DIMENSION)?" _wt3":"")},x)));c("SimpleXUIDialog").show(y,c("PagesCoverVideoConstant").EDUCATIONAL_ERROR_DIALOG_TITLE)},confirmPublishingVideo:function m(n,o,p,q,r,s){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_PUBLISHING});var t=c("XPagesCoverVideoPublishController").getURIBuilder().getURI(),u={page_id:n,video_id:o,preferred_thumbnail_id:s,offset_type:p,offset_value:q,should_cover_video_loop:r};new(c("AsyncRequest"))().setURI(t).setMethod("POST").setData(u).setErrorHandler(function(){l.rollbackAndDeleteVideoWithGeneralErrorDialog(n,o)}).send()},cancelNewUploadingWithConfirmationDialog:function m(n,o){c("SimpleXUIDialog").showEx(c("PagesCoverVideoConstant").CANCEL_DIALOG_BODY,c("PagesCoverVideoConstant").CANCEL_DIALOG_TITLE,c("React").createElement("div",null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:c("PagesCoverVideoConstant").CANCEL_DIALOG_CANCEL_UPLOAD_BUTTON_LABEL,onClick:function p(){return l.rollbackAndDeleteVideo(n,o)}}),c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:c("PagesCoverVideoConstant").CANCEL_DIALOG_NOT_NOW_BUTTON_LABEL,use:"confirm"})))},rollbackAndDeleteVideoWithGeneralErrorDialog:function m(n,o){c("SimpleXUIDialog").show(c("PagesCoverVideoConstant").TRY_UPLOAD_AGAIN_BODY,c("PagesCoverVideoConstant").TRY_UPLOAD_AGAIN_TITLE,function(){l.rollbackAndDeleteVideo(n,o)})},reloadCoverWithErrorDialog:function m(n,o){var p=o.error_description,q=o.error_summary,r=!q?c("PagesCoverVideoConstant").TRY_UPLOAD_AGAIN_TITLE:q,s=!p?c("PagesCoverVideoConstant").TRY_UPLOAD_AGAIN_BODY:p;c("ErrorDialog").show(r,s,function(){l.reloadCover(n)})},reloadCover:function m(n){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_CANCELLING});var o=c("XPagesCoverReloadController").getURIBuilder().setFBID("page_id",n).getURI();new(c("AsyncRequest"))(o).send()},rollbackAndDeleteVideo:function m(n,o){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").VIDEO_CANCELLING});var p=c("XPagesCoverVideoRollbackAndDeleteController").getURIBuilder().setFBID("page_id",n).setFBID("video_id",o).getURI();new(c("AsyncRequest"))(p).send()}};f.exports=l}),null);
__d("PagesCoverVideoHoverableVideoComponent.react",["cx","React","VideoComponentPlayButton.react","VideoDataContainer.react","VideoPlayer.react","VideoPlayerLoggerSource","VideoPlayerOrigins"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$PagesCoverVideoHoverableVideoComponent1=function(){this.props.onMouseEnter&&this.props.onMouseEnter(this.props.videoID)}.bind(this),this.$PagesCoverVideoHoverableVideoComponent2=function(){this.props.onMouseLeave&&this.props.onMouseLeave(this.props.videoID)}.bind(this),this.$PagesCoverVideoHoverableVideoComponent3=function(){this.props.onVideoClick&&this.props.onVideoClick(this.props.videoID)}.bind(this),this.$PagesCoverVideoHoverableVideoComponent5=function(){return c("VideoDataContainer.react").renderSpinner(this.props.width,this.props.height)}.bind(this),n}l.prototype.$PagesCoverVideoHoverableVideoComponent4=function(m){this.props.onRefLoaded&&this.props.onRefLoaded(this.props.videoID,m)};l.prototype.render=function(){return c("React").createElement("span",{className:"_bt-"+(this.props.isSelected?" _bu0":""),key:this.props.videoID,onMouseEnter:this.$PagesCoverVideoHoverableVideoComponent1,onMouseLeave:this.$PagesCoverVideoHoverableVideoComponent2,role:"link",tabIndex:0},c("React").createElement(c("VideoDataContainer.react"),{renderLoading:this.$PagesCoverVideoHoverableVideoComponent5,videoID:this.props.videoID},c("React").createElement(c("VideoPlayer.react"),{disableClickPlayPause:true,height:this.props.height,onVideoClick:this.$PagesCoverVideoHoverableVideoComponent3,playerOrigin:c("VideoPlayerOrigins").PAGE_TIMELINE,subOrigin:c("VideoPlayerLoggerSource").PAGES_COVER_HOVER,ref:this.props.onRefLoaded,videoData:c("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,width:this.props.width},c("React").createElement(c("VideoComponentPlayButton.react"),null))))};l.propTypes={videoID:k.string.isRequired,onMouseEnter:k.func.isRequired,onMouseLeave:k.func.isRequired,onVideoClick:k.func.isRequired,onRefLoaded:k.func.isRequired,isSelected:k.bool.isRequired,width:k.number.isRequired,height:k.number.isRequired};f.exports=l}),null);
__d("PagesCoverVideoSelectionComponent.react",["cx","Map","PagesCoverVideoHoverableVideoComponent.react","React","VideoPlayer.react","VideoPlayerReason"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=176,l=Math.round(k*9/16);i=babelHelpers.inherits(m,c("React").PureComponent);j=i&&i.prototype;function m(n){__p&&__p();j.constructor.call(this,n);this.$PagesCoverVideoSelectionComponent2=function(o){if(o===this.state.selectedVideoID)return;var p=this.state.selectedVideoID;if(p){var q=this.$PagesCoverVideoSelectionComponent1.get(p);q&&q.pause(c("VideoPlayerReason").USER)}this.setState({selectedVideoID:o});this.props&&this.props.onVideoSelected(o)}.bind(this);this.$PagesCoverVideoSelectionComponent3=function(o){var p=this.$PagesCoverVideoSelectionComponent1.get(o);p&&p.play(c("VideoPlayerReason").HOVER)}.bind(this);this.$PagesCoverVideoSelectionComponent4=function(o){var p=this.$PagesCoverVideoSelectionComponent1.get(o);p&&p.pause(c("VideoPlayerReason").HOVER)}.bind(this);this.$PagesCoverVideoSelectionComponent5=function(o,p){if(p&&p.vpc)this.$PagesCoverVideoSelectionComponent1.set(o,p.vpc)}.bind(this);this.state={selectedVideoID:null};this.$PagesCoverVideoSelectionComponent1=new(c("Map"))()}m.prototype.render=function(){var n=this.props.videoIDs;if(!n||n.length===0)return null;var o=n.map(function(p){return c("React").createElement(c("PagesCoverVideoHoverableVideoComponent.react"),{height:l,isSelected:p===this.state.selectedVideoID,key:p,onMouseEnter:this.$PagesCoverVideoSelectionComponent3,onMouseLeave:this.$PagesCoverVideoSelectionComponent4,onRefLoaded:this.$PagesCoverVideoSelectionComponent5,onVideoClick:this.$PagesCoverVideoSelectionComponent2,videoID:p,width:k})}.bind(this));return c("React").createElement("div",{className:"_4yfa"},o)};f.exports=m}),null);
__d("XPagesCoverVideoFetchController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_video_fetch/",{page_id:{type:"FBID",required:true},count:{type:"Int",required:true},cursor:{type:"String"}})}),null);
__d("PagesCoverVideoBrowserDialog.react",["cx","fbt","AsyncRequest","LayerFadeOnHide","LoadingDialog.react","PagesCoverVideoSelectionComponent.react","React","ScrollableArea.react","XPagesCoverVideoFetchController","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogConfirmButton.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","XUISpinner.react","nullthrows"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=3,m=176,n=8,o=Math.round(m*9/16),p=(m+2*n)*l+3*n,q=9,r=o*3;j=babelHelpers.inherits(s,c("React").PureComponent);k=j&&j.prototype;function s(t){__p&&__p();k.constructor.call(this,t);this.$PagesCoverVideoBrowserDialog1=function(){if(!this.state.hasMore||!this.state.hasEligibleVideos||this.state.isLoading)return;var u=c("XPagesCoverVideoFetchController").getURIBuilder().setFBID("page_id",this.props.pageID).setInt("count",q).setString("cursor",this.state.cursor).getURI();new(c("AsyncRequest"))(u).setHandler(this.$PagesCoverVideoBrowserDialog2).send();this.setState({isLoading:true})}.bind(this);this.$PagesCoverVideoBrowserDialog2=function(u){var v=u.payload;if(!v)return;this.setState({videoIDs:this.state.videoIDs.concat(v.videoIDs),cursor:v.cursor,hasMore:v.hasMore,hasEligibleVideos:v.hasEligibleVideos,isLoading:false})}.bind(this);this.$PagesCoverVideoBrowserDialog3=function(u){this.setState({selectedVideoID:u})}.bind(this);this.$PagesCoverVideoBrowserDialog4=function(){var u=this.props.onConfirm;u&&u(c("nullthrows")(this.state.selectedVideoID))}.bind(this);this.state={videoIDs:[],selectedVideoID:null,cursor:"",hasMore:true,hasEligibleVideos:true,isLoading:false}}s.prototype.componentDidMount=function(){this.$PagesCoverVideoBrowserDialog1()};s.prototype.render=function(){if(!this.props.dialogShown)return null;if(this.state.videoIDs.length===0&&this.state.hasMore&&this.state.hasEligibleVideos)return c("React").createElement(c("LoadingDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},onToggle:this.props.onToggle});if(!this.state.hasEligibleVideos)return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},onToggle:this.props.onToggle,shown:this.props.dialogShown,titleID:"pages-cover-video-browser-dialog",width:p},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Choose from my videos")),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement("div",null,i._("None of the videos in your library qualify as cover videos. Videos must be between 20 and 90 seconds and at least 820 x 312 pixels. The recommended size is 820 x 462 pixels. Please upload a different video and try again."))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogOkayButton.react"),{action:"cancel",use:"confirm"})));var t=!this.state.hasMore?null:c("React").createElement("div",{className:"_4yfc"},c("React").createElement(c("XUISpinner.react"),{size:"large"}));return c("React").createElement(c("XUIDialog.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},onToggle:this.props.onToggle,shown:this.props.dialogShown,titleID:"pages-cover-video-browser-dialog",width:p},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Choose from my videos")),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("ScrollableArea.react"),{fade:false,height:r,onEndReached:this.$PagesCoverVideoBrowserDialog1,width:p},c("React").createElement(c("PagesCoverVideoSelectionComponent.react"),{onVideoSelected:this.$PagesCoverVideoBrowserDialog3,videoIDs:this.state.videoIDs}),t)),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogCancelButton.react"),null),c("React").createElement(c("XUIDialogConfirmButton.react"),{action:"confirm",disabled:!this.state.selectedVideoID,onClick:this.$PagesCoverVideoBrowserDialog4,use:"confirm"})))};f.exports=s}),null);
__d("PagesLiveCoverVideoActionCreator",["PagesCoverAction","PagesCoverDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h={onLiveCoverVideoEnabled:function i(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").LIVE_VIDEO_ENABLE})},onLiveCoverVideoDisable:function i(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").LIVE_VIDEO_DISABLE})}};f.exports=h}),null);
__d("PagesVideoUploader.react",["cx","invariant","Arbiter","ChannelConstants","EventListener","FileInput.react","React","SubscriptionsHandler","VideoUploadConfig","VideoUploader","VideoUploadFile","VideoUploadProgressBar"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=b.URL||b.webkitURL||{};j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(n){__p&&__p();k.constructor.call(this,n);this.reset=function(){this.$PagesVideoUploader1.reset();this.$PagesVideoUploader3=0;this.$PagesVideoUploader4.release();this.$PagesVideoUploader4=new(c("SubscriptionsHandler"))();this.$PagesVideoUploader5=false;this.props.videoUploaderRef&&this.props.videoUploaderRef(null)}.bind(this);this.$PagesVideoUploader6=function(event){__p&&__p();var o=event.target,p=c("VideoUploadFile").getExtensionFromFileInput(o);if(!c("VideoUploadConfig").videoExtensions[p]||p==="gif"||!(o instanceof HTMLInputElement)){this.props.onChange&&this.props.onChange(event,false);return}var q=o.files[0];q||i(0);this.reset();var r=this.$PagesVideoUploader1,s=this.$PagesVideoUploader2;this.$PagesVideoUploader4.addSubscriptions(r.subscribe("upload-started",this.$PagesVideoUploader7),r.subscribe("upload-progressed",this.$PagesVideoUploader8),r.subscribe("upload-finished",this.$PagesVideoUploader9),r.subscribe("post-finished",this.$PagesVideoUploader10),r.subscribe("upload-failed",this.$PagesVideoUploader11),r.subscribe("post-failed",this.$PagesVideoUploader12),c("EventListener").listen(s,"loadedmetadata",this.$PagesVideoUploader13),c("Arbiter").subscribe(c("ChannelConstants").getArbiterType("video_encode"),this.$PagesVideoUploader14));var t=l.createObjectURL(q);this.setState({selectedFileURL:t});this.$PagesVideoUploader1.upload(c("VideoUploadFile").fromFileInput(o));this.props.onChange&&this.props.onChange(event,true)}.bind(this);this.$PagesVideoUploader7=function(){this.props.onUploadStarted&&this.props.onUploadStarted()}.bind(this);this.$PagesVideoUploader13=function(o){var p=o.target,q=this.props.onVideoMetadataLoaded;q&&q(p,this.reset)}.bind(this);this.$PagesVideoUploader8=function(event,o){var p=c("VideoUploadProgressBar").computeProgress(o.start_offset,o.sent_bytes,o.file_size,0,0),q=this.props.onUploadProgressed;q&&q(Math.round(p),o)}.bind(this);this.$PagesVideoUploader9=function(event,o){__p&&__p();var p=this.props.onUploadFinished;p&&p(o);var q=this.$PagesVideoUploader1;if(!q)return;if(this.props.autoEncode){var r=this.props.getCustomPostData;if(r){var s=r();q.post(s)}else q.post({})}else{var t=this.props.onManualPost;t||i(0);t(q)}}.bind(this);this.$PagesVideoUploader10=function(event,o){this.props.onPostFinished&&this.props.onPostFinished(o);this.$PagesVideoUploader1.reset()}.bind(this);this.$PagesVideoUploader11=function(event,o){this.props.onUploadFailed&&this.props.onUploadFailed(o);this.reset()}.bind(this);this.$PagesVideoUploader12=function(event,o){this.props.onPostFailed&&this.props.onPostFailed(o);this.reset()}.bind(this);this.$PagesVideoUploader14=function(o,p){__p&&__p();if(p.obj.stage==="finish"){var q=p.obj.videoID.toString();this.props.onEncodeFinished&&this.props.onEncodeFinished(q);this.reset()}else{this.$PagesVideoUploader3=Math.max(this.$PagesVideoUploader3,p.obj.progress);if(!this.$PagesVideoUploader5){var r=this.props.onEncodeStarted;r&&r(this.$PagesVideoUploader3);this.$PagesVideoUploader5=true}else this.props.onEncodeProgressed&&this.props.onEncodeProgressed(this.$PagesVideoUploader3)}}.bind(this);this.state={selectedFileURL:null};this.$PagesVideoUploader1=new(c("VideoUploader"))(n.videoUploaderInitParams);this.$PagesVideoUploader3=0;this.$PagesVideoUploader4=new(c("SubscriptionsHandler"))();this.$PagesVideoUploader5=false}m.prototype.render=function(){var n=["video/*","video/mp4"],o=this.props.extraAccept;if(Array.isArray(o))n.concat(o);else if(o)n.push(o);return c("React").createElement("div",null,c("React").createElement(c("FileInput.react"),{accept:n,display:"inline-block",name:"simple_video_uploader",onChange:this.$PagesVideoUploader6,ref:function(p){this.props.fileInputRef&&this.props.fileInputRef(p)}.bind(this)},c("React").createElement("a",{className:this.props.labelClassName,href:"#"},this.props.label)),c("React").createElement("video",{className:"hidden_elem",ref:function(p){this.$PagesVideoUploader2=p;this.props.videoPlayerRef&&this.props.videoPlayerRef(p)}.bind(this),src:this.state.selectedFileURL}))};m.defaultProps={autoEncode:true};f.exports=m}),null);
__d("PhotoBrowserDialogEndpointType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EVENT_COVER:0,GROUP_COVER:1,TIMELINE_COVER:2,PROFILE_PICTURE:3,PAGE_PICTURE:4,LINK_ALBUM:5,LIFE_EVENT:6,ATTACHMENT_EDITOR:7,EDITOR_IMPORT:8,EDITOR_SAVE:9,PAGE_COVER:10,MAP_COMPOSER:12,YEAR_IN_REVIEW:13,FAMILY_TAG_PROFILE:14,FAMILY_TAG_COVER:15,FUNDRAISER_COVER:17,FEATURED_PHOTO:18,ORIGIN_STORY:19,PAGES_COVER_JS:20,FRAME_COMPOSER:21,ALBUM_COVER:22,PAGES_COVER_SLIDESHOW_JS:23})}),null);
__d("PhotoBrowserDialogPhotoGeneratorType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PROFILE:0,PAGE:1,FRIENDSHIP:2,EVENT:3,GROUP:4,TAGGED:5,SYNCED:6,LINKABLE_ALBUMS:8,RECENT:9,LAST_ONE_YEAR:10,SCRAPBOOK:11,FUNDRAISER_PAGE:12,ORIGIN_STORY:13,ALBUM:14,PROFILE_CHANNEL:15,COLLAGE:16,COVER_ARTWORK:17})}),null);
__d("XPagesCoverLiveVideoToggleAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_live_video_toggle/",{})}),null);
__d("XPagesCoverVideoUploaderController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_video_upload/",{page_id:{type:"FBID",required:true}})}),null);
__d("XPhotoBrowserDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/photo_browser_dialog/",{album_id:{type:"Int"},cursor:{type:"String"},data:{type:"String",defaultValue:""},display:{type:"Enum",defaultValue:2,enumType:0},endpoint:{type:"Enum",required:true,enumType:0},generator:{type:"Enum",required:true,enumType:0},id:{type:"Int",required:true},member_id:{type:"Int"},ajaxify_links:{type:"Bool",defaultValue:true},__asyncDialog:{type:"Int"}})}),null);
__d("PagesCoverEditMenu.react",["ix","cx","fbt","invariant","ActorURI","AsyncRequest","ContextualDialogArrow","FileInput.react","FileInputUploader","Image.react","PagesCoverAction","PagesCoverCameraButton.react","PagesCoverDispatcher","PagesCoverSlideshowActionCreator","PagesCoverType","PagesCoverVideoActionCreator","PagesCoverVideoBrowserDialog.react","PagesLiveCoverVideoActionCreator","PagesProfileTestID","PhotoBrowserDialogEndpointType","PhotoBrowserDialogPhotoGeneratorType","PopoverMenu.react","React","ReactDOM","ReactXUIMenu","PagesVideoUploader.react","SimpleXUIDialog","XPagesCoverPhotoUploadAsyncController","XPhotoBrowserDialogController","XPagesCoverLiveVideoToggleAsyncController","XPagesCoverVideoUploaderController","PagesCoverRemoveCoverConfirmationDialog.react","fbglyph","idx"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("ReactXUIMenu").Item;l=babelHelpers.inherits(o,c("React").PureComponent);m=l&&l.prototype;function o(p){__p&&__p();m.constructor.call(this,p);this.$PagesCoverEditMenu8=function(){this.setState({showCoverVideoBrowserDialog:true})}.bind(this);this.$PagesCoverEditMenu9=function(){this.setState({showCoverVideoBrowserDialog:false})}.bind(this);this.$PagesCoverEditMenu10=function(q){this.setState({showRemoveCoverConfirmationDialog:q})}.bind(this);this.$PagesCoverEditMenu11=function(q){c("PagesCoverVideoActionCreator").editCoverVideo(this.props.pageID,q);this.setState({showCoverVideoBrowserDialog:false})}.bind(this);this.$PagesCoverEditMenu12=function(q){this.$PagesCoverEditMenu2=q}.bind(this);this.$PagesCoverEditMenu13=function(q,r){var s,t,u,v,w=(s=this.props)!=null?(s=s.coverData)!=null?(s=s.cover_video)!=null?s.minPlayableDurationInSec:s:s:s,x=(t=this.props)!=null?(t=t.coverData)!=null?(t=t.cover_video)!=null?t.maxPlayableDurationInSec:t:t:t,y=(u=this.props)!=null?(u=u.coverData)!=null?(u=u.cover_video)!=null?u.containerWidth:u:u:u,z=(v=this.props)!=null?(v=v.coverData)!=null?(v=v.cover_video)!=null?v.containerHeight:v:v:v;!!w&&!!x&&!!y&&!!z||k(0);var A=c("PagesCoverVideoActionCreator").validateCoverVideoMetadata(this.props.pageID,q,r,w,x,y,z);if(A)c("PagesCoverVideoActionCreator").showCoverVideoUploadUI()}.bind(this);this.$PagesCoverEditMenu14=function(q){var r,s,t,u,v=(r=this.props)!=null?(r=r.coverData)!=null?(r=r.cover_video)!=null?r.minPlayableDurationInSec:r:r:r,w=(s=this.props)!=null?(s=s.coverData)!=null?(s=s.cover_video)!=null?s.maxPlayableDurationInSec:s:s:s,x=(t=this.props)!=null?(t=t.coverData)!=null?(t=t.cover_video)!=null?t.containerWidth:t:t:t,y=(u=this.props)!=null?(u=u.coverData)!=null?(u=u.cover_video)!=null?u.containerHeight:u:u:u;!!v&&!!w&&!!x&&!!y||k(0);c("PagesCoverVideoActionCreator").encodeFinished(this.props.pageID,q,v,w,x,y)}.bind(this);this.$PagesCoverEditMenu17=function(q){c("PagesCoverVideoActionCreator").reloadCoverWithErrorDialog(this.props.pageID,q)}.bind(this);this.$PagesCoverEditMenu18=function(){__p&&__p();var q=this.props.coverData.cover_live_video;!!q||k(0);var r=!q.isEnabled?j._("Show Your Live Video as Your Cover Photo"):j._("Don't Show Your Live Video as Your Cover Photo"),s=!q.isEnabled?j._("The next time you go live, your broadcast will appear at the top of your Page. It will automatically be replaced by your most recent live video."):j._("The next time you go live, your broadcast will no longer appear at the top of your Page.");c("SimpleXUIDialog").showConfirm(s,r,function(t){if(!t)return;var u=c("XPagesCoverLiveVideoToggleAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))(u).setMethod("POST").setData({page_id:this.props.pageID,is_enabled:!q.isEnabled}).setHandler(function(v){var w=v.payload;if(w)c("PagesLiveCoverVideoActionCreator").onLiveCoverVideoEnabled();else c("PagesLiveCoverVideoActionCreator").onLiveCoverVideoDisable()}).send()}.bind(this))}.bind(this);this.$PagesCoverEditMenu20=function(){c("PagesCoverSlideshowActionCreator").enterEditMode(this.props.pageID)}.bind(this);this.$PagesCoverEditMenu24=function(){this.setState({showRemoveCoverConfirmationDialog:true})}.bind(this);this.$PagesCoverEditMenu23=function(){var q=this.props.coreData.currentCoverType;if(q===c("PagesCoverType").COVER_PHOTO)c("PagesCoverDispatcher").dispatch({data:{isPreviewMode:true},type:c("PagesCoverAction").PHOTO_PREVIEWING});else if(q===c("PagesCoverType").COVER_VIDEO){var r,s=(r=this.props)!=null?(r=r.coverData)!=null?(r=r.cover_video)!=null?r.videoID:r:r:r;if(s)c("PagesCoverVideoActionCreator").editCoverVideo(this.props.pageID,s)}}.bind(this);this.$PagesCoverEditMenu16=function(event,q){if(q)return;var r=c("ActorURI").create(c("XPagesCoverPhotoUploadAsyncController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI(),this.props.pageID);new(c("FileInputUploader"))(c("ReactDOM").findDOMNode(this.$PagesCoverEditMenu2)).setURI(r).setAllowCrossOrigin(true).send();c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").PHOTO_UPLOADING})}.bind(this);this.$PagesCoverEditMenu1=null;this.$PagesCoverEditMenu2=null;this.state={showRemoveCoverConfirmationDialog:false,showCoverVideoBrowserDialog:false,videoUploaderInitParams:null}}o.prototype.componentDidMount=function(){if(this.props.coreData.canViewerEditProfile)this.$PagesCoverEditMenu3()};o.prototype.componentWillReceiveProps=function(p){if(p.coreData.hasCoverSet!==this.props.coreData.hasCoverSet)this.$PagesCoverEditMenu1=null;if(p.coreData.canViewerEditProfile!==this.props.coreData.canViewerEditProfile)this.$PagesCoverEditMenu3()};o.prototype.$PagesCoverEditMenu3=function(){var p=c("ActorURI").create(c("XPagesCoverVideoUploaderController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI(),this.props.pageID);new(c("AsyncRequest"))(p).setHandler(function(q){this.setState({videoUploaderInitParams:q.payload.video_uploader_params})}.bind(this)).send()};o.prototype.$PagesCoverEditMenu4=function(){return!!this.props.coreData.hasCoverSet};o.prototype.$PagesCoverEditMenu5=function(){if(!this.$PagesCoverEditMenu4())return j._("Add a Cover");return j._("Change Cover")};o.prototype.$PagesCoverEditMenu6=function(){if(!this.props.coverData.cover_photo.pageHasPhotos)return null;var p=c("XPhotoBrowserDialogController").getURIBuilder().setEnum("endpoint",c("PhotoBrowserDialogEndpointType").PAGES_COVER_JS).setEnum("generator",c("PhotoBrowserDialogPhotoGeneratorType").PAGE).setString("data","pages_cover_photo").setInt("id",this.props.pageID).getURI();return c("React").createElement(n,{href:p,rel:"dialog"},j._("Choose from photos"))};o.prototype.$PagesCoverEditMenu7=function(){var p,q=!!((p=this.props)!=null?(p=p.coverData)!=null?(p=p.cover_video)!=null?p.shouldShowChooseFromCoverVideoMenu:p:p:p);if(!q)return null;return c("React").createElement(n,{onclick:this.$PagesCoverEditMenu8},j._("Choose from videos"))};o.prototype.$PagesCoverEditMenu15=function(){var p,q,r,s,t=this.state.videoUploaderInitParams;if(!t)return null;var u=j._("Upload photo\/video"),v=(p=this.props)!=null?(p=p.coverData)!=null?(p=p.cover_video)!=null?p.minPlayableDurationInSec:p:p:p,w=(q=this.props)!=null?(q=q.coverData)!=null?(q=q.cover_video)!=null?q.maxPlayableDurationInSec:q:q:q,x=(r=this.props)!=null?(r=r.coverData)!=null?(r=r.cover_video)!=null?r.containerWidth:r:r:r,y=(s=this.props)!=null?(s=s.coverData)!=null?(s=s.cover_video)!=null?s.containerHeight:s:s:s;if(!v||!w||!x||!y)return null;return c("React").createElement(n,{renderas:"label"},c("React").createElement(c("PagesVideoUploader.react"),{"data-testid":c("PagesProfileTestID").COVER_PHOTO_UPLOAD_MENU_ITEM,extraAccept:"image/*",fileInputRef:this.$PagesCoverEditMenu12,label:u,labelClassName:"_3ihw",onChange:this.$PagesCoverEditMenu16,onEncodeFinished:this.$PagesCoverEditMenu14,onEncodeProgressed:c("PagesCoverVideoActionCreator").encodeProgressed,onEncodeStarted:c("PagesCoverVideoActionCreator").encodeStarted,onPostFailed:this.$PagesCoverEditMenu17,onUploadFailed:this.$PagesCoverEditMenu17,onUploadProgressed:c("PagesCoverVideoActionCreator").uploadProgressed,onUploadStarted:c("PagesCoverVideoActionCreator").uploadStarted,onVideoMetadataLoaded:this.$PagesCoverEditMenu13,videoUploaderInitParams:t}))};o.prototype.$PagesCoverEditMenu19=function(){var p=this.props.coverData.cover_live_video;if(!p.canEnable)return null;var q=!p.isEnabled?j._("Show Live Video"):j._("Don't Show Live Video");return c("React").createElement(n,{onClick:this.$PagesCoverEditMenu18},q)};o.prototype.$PagesCoverEditMenu21=function(){var p,q=(p=this.props)!=null?(p=p.coverData)!=null?p.cover_slideshow:p:p;if(!q||!q.isCoverSlideshowEnabled)return null;var r=q.shouldShowMenuNux?c("React").createElement(c("Image.react"),{src:h("115777"),style:{verticalAlign:"middle"}}):null,s=this.props.coreData.currentCoverType===c("PagesCoverType").COVER_SLIDESHOW?j._("Edit Slideshow"):j._("Create slideshow");return c("React").createElement(n,{onclick:this.$PagesCoverEditMenu20},s,r)};o.prototype.$PagesCoverEditMenu22=function(){var p,q=(p=this.props.coverData)!=null?(p=p.cover_video)!=null?p.isFromParentPage:p:p;if(!this.$PagesCoverEditMenu4()||this.props.coreData.currentCoverType===c("PagesCoverType").COVER_VIDEO&&q||this.props.coreData.currentCoverType===c("PagesCoverType").COVER_SLIDESHOW)return null;return c("React").createElement(n,{onclick:this.$PagesCoverEditMenu23},j._("Reposition"))};o.prototype.$PagesCoverEditMenu25=function(){var p,q=(p=this.props.coverData)!=null?(p=p.cover_video)!=null?p.isFromParentPage:p:p;if(!this.$PagesCoverEditMenu4()||this.props.coreData.currentCoverType===c("PagesCoverType").COVER_VIDEO&&q)return null;return c("React").createElement(n,{"data-testid":c("PagesProfileTestID").COVER_PHOTO_REMOVE_MENU_ITEM,onclick:this.$PagesCoverEditMenu24},j._("Remove"))};o.prototype.render=function(){if(!this.props.coreData.canViewerEditProfile||!this.state.videoUploaderInitParams)return null;var p=c("React").createElement(c("ReactXUIMenu"),null,this.$PagesCoverEditMenu6(),this.$PagesCoverEditMenu7(),this.$PagesCoverEditMenu15(),this.$PagesCoverEditMenu19(),this.$PagesCoverEditMenu21(),this.$PagesCoverEditMenu22(),this.$PagesCoverEditMenu25());return c("React").createElement(c("PopoverMenu.react"),{className:"_3ihv"+(!this.props.coreData.shouldShowEditMenuForAdmins?" hidden_elem":""),layerBehaviors:[c("ContextualDialogArrow")],menu:p,position:"below"},c("React").createElement(c("PagesCoverCameraButton.react"),{expanded:!this.$PagesCoverEditMenu4(),label:this.$PagesCoverEditMenu5(),shouldShowCoverSlideshowMenuOptionNux:this.props.coverData.cover_slideshow.isCoverSlideshowEnabled&&this.props.coverData.cover_slideshow.shouldShowMenuNux&&this.props.coreData.currentCoverType!==c("PagesCoverType").COVER_SLIDESHOW}),c("React").createElement(c("PagesCoverRemoveCoverConfirmationDialog.react"),{coreData:this.props.coreData,onToggle:this.$PagesCoverEditMenu10,pageID:this.props.pageID,shown:this.state.showRemoveCoverConfirmationDialog}),c("React").createElement(c("PagesCoverVideoBrowserDialog.react"),{dialogShown:this.state.showCoverVideoBrowserDialog,onConfirm:this.$PagesCoverEditMenu11,onToggle:this.$PagesCoverEditMenu9,pageID:this.props.pageID}))};f.exports=o}),null);
__d("PagesCoverPhotoStore",["FluxReduceStore","PagesCoverAction","PagesCoverDispatcher","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return{coverPhotoData:{focus:{height:0,width:0},id:"0",original:{height:0,width:0},uri:null},isEditable:false,isLoading:true,isPreviewMode:false,isOverlayEnabled:false,pageDescription:null,pageHasPhotos:false,pageID:"0",pagePrimaryButton:null,renderedHeight:0,renderedWidth:0}};j.prototype.reduce=function(k,l){__p&&__p();var m,n=null;switch(l.type){case c("PagesCoverAction").NEW_COVER_DATA:var o=(m=l.data)!=null?(m=m.coverData)!=null?m.cover_photo:m:m;if(o!==null)n=babelHelpers["extends"]({},o,{isLoading:false,isPreviewMode:false});break;case c("PagesCoverAction").PHOTO_SAVED:case c("PagesCoverAction").PHOTO_REMOVED:n=babelHelpers["extends"]({},k,l.data,{isLoading:false,isPreviewMode:false});break;case c("PagesCoverAction").PHOTO_UPLOADING:case c("PagesCoverAction").COVER_REMOVING:n=babelHelpers["extends"]({},k,{isPreviewMode:false});break;case c("PagesCoverAction").PHOTO_PREVIEWING:n=babelHelpers["extends"]({},k,l.data,{isLoading:false,isPreviewMode:true});break;case c("PagesCoverAction").PHOTO_SAVING:n=babelHelpers["extends"]({},k,l.data,{isLoading:true,isPreviewMode:false});break}return n||k};function j(){h.apply(this,arguments)}f.exports=new j(c("PagesCoverDispatcher"))}),null);
__d("XPagesCoverSlideshowFetchPrefilledPhotosAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_slideshow/prefilled_photos/",{page_id:{type:"FBID",required:true}})}),null);
__d("PagesCoverSlideshowStore",["fbt","AsyncRequest","FluxReduceStore","immutable","PagesCoverAction","PagesCoverDispatcher","PagesCoverSlideshowActionCreator","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React","SimpleXUIDialog","XPagesCoverSlideshowFetchPrefilledPhotosAsyncController","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l,m={pageID:0,isCoverSlideshowEnabled:false,items:[],isEditMode:false,maxNumberOfPhotosInSlideshow:0,currentIndex:0,thumbnailHeight:0,thumbnailWidth:0,showLoadingScreen:false,hasPendingChanges:false,nuxTourSteps:[],shouldShowNUXTour:false,isContentOptimizerOn:false,shouldShowLoadingScreenOnPickerPlaceholder:false,shouldShowMenuNux:false};i=babelHelpers.inherits(n,c("immutable").Record(m));j=i&&i.prototype;function n(){i.apply(this,arguments)}k=babelHelpers.inherits(o,c("FluxReduceStore"));l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$PagesCoverSlideshowStore6=new Set(),q}o.prototype.getInitialState=function(){return new n()};o.prototype.getCurrentState=function(){return{pageID:this.getState().get("pageID"),isCoverSlideshowEnabled:this.getState().get("isCoverSlideshowEnabled"),items:this.getState().get("items"),isEditMode:this.getState().get("isEditMode"),maxNumberOfPhotosInSlideshow:this.getState().get("maxNumberOfPhotosInSlideshow"),currentIndex:this.getState().get("currentIndex"),thumbnailHeight:this.getState().get("thumbnailHeight"),thumbnailWidth:this.getState().get("thumbnailWidth"),showLoadingScreen:this.getState().get("showLoadingScreen"),hasPendingChanges:this.getState().get("hasPendingChanges"),nuxTourSteps:this.getState().get("nuxTourSteps"),shouldShowNUXTour:this.getState().get("shouldShowNUXTour"),isContentOptimizerOn:this.getState().get("isContentOptimizerOn"),shouldShowLoadingScreenOnPickerPlaceholder:this.getState().get("shouldShowLoadingScreenOnPickerPlaceholder"),shouldShowMenuNux:this.getState().get("shouldShowMenuNux")}};o.prototype.$PagesCoverSlideshowStore7=function(){if(this.$PagesCoverSlideshowStore3===undefined||this.$PagesCoverSlideshowStore3===null){var p=c("XPagesCoverSlideshowFetchPrefilledPhotosAsyncController").getURIBuilder().setFBID("page_id",this.getState().get("pageID")).getURI();new(c("AsyncRequest"))().setURI(p).setHandler(function(q){c("PagesCoverSlideshowActionCreator").loadPrefilledItems(q.payload)}).send();return null}else return this.$PagesCoverSlideshowStore3};o.prototype.$PagesCoverSlideshowStore8=function(p,q,r){__p&&__p();var s=null;if(r<p.length)s=p.map(function(u,v){return r===v?q:u});else{s=Array.from(p);s.push(q);s}var t=s.map(function(u){return u.carouselData.coverPhotoData.id});if(s.length===new Set(t).size)return s;c("SimpleXUIDialog").show(h._("This photo has already been selected. Please try picking a different photo."),h._("Duplicated Photo"));return p};o.prototype.$PagesCoverSlideshowStore9=function(p,q,r){var s=Array.from(p);if(q===r)return p;var t=s.splice(q,1);s.splice(r,0,t[0]);return s};o.prototype.$PagesCoverSlideshowStore10=function(p,q){if(p<0)return 0;if(p>=q)return Math.max(q-1,0);return p};o.prototype.reduce=function(p,q){__p&&__p();var r,s=null,t=null,u=p.get("items"),v=p.get("currentIndex");switch(q.type){case c("PagesCoverAction").NEW_COVER_DATA:var w=(r=q.data)!=null?(r=r.coverData)!=null?r.cover_slideshow:r:r;if(w){p=p.set("items",w.items);p=p.set("isCoverSlideshowEnabled",w.isCoverSlideshowEnabled);p=p.set("maxNumberOfPhotosInSlideshow",w.maxNumberOfPhotosInSlideshow);p=p.set("thumbnailHeight",w.thumbnailHeight);p=p.set("thumbnailWidth",w.thumbnailWidth);this.$PagesCoverSlideshowStore1=Array.from(w.items);this.$PagesCoverSlideshowStore6.clear();p=p.set("isEditMode",false);p=p.set("showLoadingScreen",false);p=p.set("hasPendingChanges",false);p=p.set("shouldShowNUXTour",w.shouldShowNUXTour);p=p.set("isContentOptimizerOn",w.isContentOptimizerOn);p=p.set("shouldShowMenuNux",w.shouldShowMenuNux)}var x=q.data.pageID;if(x)p=p.set("pageID",x);break;case c("PagesCoverAction").SLIDESHOW_EDIT:p=p.set("isEditMode",true);break;case c("PagesCoverAction").SLIDESHOW_DISPLAY:p=p.set("isEditMode",false);break;case c("PagesCoverAction").SLIDESHOW_PHOTO_PREVIEWING:if(q.data){var y=q.data,z=y.itemData,A=y.slideshowPreviewItemIndex;s=this.$PagesCoverSlideshowStore8(u,z,A);p=p.set("items",s);p=p.set("hasPendingChanges",true);p=p.set("isContentOptimizerOn",false)}p=p.set("shouldShowLoadingScreenOnPickerPlaceholder",false);break;case c("PagesCoverAction").SLIDESHOW_PHOTO_UPLOADING:var B=q.data.uploadingIndex;if(B<u.length){t=babelHelpers["extends"]({},u[B],{shouldShowLoadingIndicator:true});s=this.$PagesCoverSlideshowStore8(u,t,B);p=p.set("items",s)}else p=p.set("shouldShowLoadingScreenOnPickerPlaceholder",true);p=p.set("hasPendingChanges",true);break;case c("PagesCoverAction").SLIDESHOW_CHANGE_CAROUSEL_INDEX:p=p.set("currentIndex",this.$PagesCoverSlideshowStore10(q.data.currentIndex,p.get("items").length));break;case c("PagesCoverAction").SLIDESHOW_ITEM_REPOSITIONED:var C=q.data.itemRepositionedIndex;if(!this.$PagesCoverSlideshowStore6.has(C)){this.$PagesCoverSlideshowStore6.add(C);c("PagesLogger").log(p.get("pageID"),c("PagesLoggerEventEnum").DRAG,c("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW,null,[],{event_name:"reposition_slideshow_item"});p=p.set("hasPendingChanges",true)}break;case c("PagesCoverAction").SLIDESHOW_PHOTO_REMOVED:var D=q.data.removedIndex;s=Array.from(u);s.splice(D,1);p=p.set("items",s);p=p.set("hasPendingChanges",true);p=p.set("isContentOptimizerOn",false);if(v>D||v>=s.length)p=p.set("currentIndex",this.$PagesCoverSlideshowStore10(v-1,s.length));break;case c("PagesCoverAction").SLIDESHOW_EDITING_CANCELLED:s=Array.from(this.$PagesCoverSlideshowStore1);p=p.set("items",s);p=p.set("isEditMode",false);p=p.set("hasPendingChanges",false);p=p.set("currentIndex",this.$PagesCoverSlideshowStore10(Math.min(s.length-1,v),s.length));this.$PagesCoverSlideshowStore6.clear();break;case c("PagesCoverAction").SLIDESHOW_SAVING:p=p.set("isEditMode",false);p=p.set("showLoadingScreen",true);p=p.set("hasPendingChanges",false);break;case c("PagesCoverAction").SLIDESHOW_CHANGE_ORDER:var E=q.data,F=E.fromIndex,G=E.toIndex;s=this.$PagesCoverSlideshowStore9(u,F,G);p=p.set("items",s);p=p.set("hasPendingChanges",true);p=p.set("currentIndex",this.$PagesCoverSlideshowStore10(G,s.length));p=p.set("isContentOptimizerOn",false);break;case c("PagesCoverAction").SLIDESHOW_NUX_TOUR_ELEMENT_LOADED:if(p.get("shouldShowNUXTour")){var H=q.data,I=H.context,J=H.step,K=H.description,L=H.position;if(this.$PagesCoverSlideshowStore4===undefined||this.$PagesCoverSlideshowStore4===null)this.$PagesCoverSlideshowStore4=[];if(this.$PagesCoverSlideshowStore5===undefined||this.$PagesCoverSlideshowStore5===null)this.$PagesCoverSlideshowStore5=new Set();if(!this.$PagesCoverSlideshowStore5.has(J)){this.$PagesCoverSlideshowStore4.splice(J,0,{context:I,description:K,position:L});this.$PagesCoverSlideshowStore5.add(J);p=p.set("nuxTourSteps",this.$PagesCoverSlideshowStore4)}}break;case c("PagesCoverAction").SLIDESHOW_NUX_TOUR_FINISHED:p=p.set("shouldShowNUXTour",false);break;case c("PagesCoverAction").SLIDESHOW_TOGGLE_CONTENT_SWITCHER:var M=!!q.data;if(M){this.$PagesCoverSlideshowStore2=p.get("items");s=this.$PagesCoverSlideshowStore7();if(s!==null)p=p.set("items",s)}else if(this.$PagesCoverSlideshowStore2===undefined||this.$PagesCoverSlideshowStore2===null)this.$PagesCoverSlideshowStore2=p.get("items");else p=p.set("items",this.$PagesCoverSlideshowStore2);p=p.set("isContentOptimizerOn",M);p=p.set("hasPendingChanges",true);break;case c("PagesCoverAction").SLIDESHOW_PREFILLED_PHOTO_LOADED:var N=q.data.prefilledItems;this.$PagesCoverSlideshowStore3=N;p=p.set("items",N);break;default:return p}return p};f.exports=new o(c("PagesCoverDispatcher"))}),null);
__d("PagesCoverTrailerState",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({WATCH_TRAILER:"watch_trailer",RESUME_EPISODE:"resume_episode",LATEST_EPISODE:"latest_episode",LIVE_VIDEO:"live_video"})}),null);
__d("PagesCoverTrailerStore",["FluxReduceStore","PagesCoverAction","PagesCoverDispatcher","PagesCoverTrailerState","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return{showsData:{title:""},viewerCoverTrailerState:c("PagesCoverTrailerState").WATCH_TRAILER,isAdmin:false}};j.prototype.reduce=function(k,l){var m,n=null;switch(l.type){case c("PagesCoverAction").NEW_COVER_DATA:var o=(m=l.data)!=null?(m=m.coverData)!=null?m.cover_trailer:m:m;if(o!==null){n=babelHelpers["extends"]({},o);this.$PagesCoverTrailerStore1=n}break}return n||k};function j(){h.apply(this,arguments)}f.exports=new j(c("PagesCoverDispatcher"))}),null);
__d("PagesCoverVideoStore",["CoverVideoStatus","FluxReduceStore","PagesCoverAction","PagesCoverDispatcher","VideoPlayerOrigins","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return{status:c("CoverVideoStatus").PUBLISHED,isViewerAdmin:false,shouldShowChooseFromCoverVideoMenu:false,isFromParentPage:false,isParentLocationPage:false,shouldCoverVideoLoop:false}};j.prototype.reduce=function(k,l){__p&&__p();var m,n=null;switch(l.type){case c("PagesCoverAction").NEW_COVER_DATA:this.$PagesCoverVideoStore1=l.data.pageID;var o=(m=l.data)!=null?(m=m.coverData)!=null?m.cover_video:m:m;if(o)n=babelHelpers["extends"]({},k,o,{playerOrigin:c("VideoPlayerOrigins").PAGE_TIMELINE});break;case c("PagesCoverAction").VIDEO_START_UPLOAD:n=babelHelpers["extends"]({},k,{status:c("CoverVideoStatus").UPLOADING,progress:0});break;case c("PagesCoverAction").VIDEO_UPLOADING:n=babelHelpers["extends"]({},k,{status:c("CoverVideoStatus").UPLOADING,progress:l.data.progress});break;case c("PagesCoverAction").VIDEO_ENCODING:n=babelHelpers["extends"]({},k,{status:c("CoverVideoStatus").ENCODING,progress:l.data.progress});break;case c("PagesCoverAction").VIDEO_PREVIEWING:n=babelHelpers["extends"]({},k,l.data,{status:c("CoverVideoStatus").PREVIEWING});break;case c("PagesCoverAction").VIDEO_CHOOSING_THUMBNAIL:n=babelHelpers["extends"]({},k,l.data,{status:c("CoverVideoStatus").CHOOSING_THUMBNAIL});break;case c("PagesCoverAction").VIDEO_PUBLISHING:n=babelHelpers["extends"]({},k,{status:c("CoverVideoStatus").PUBLISHING});break;case c("PagesCoverAction").VIDEO_PUBLISHED:n=babelHelpers["extends"]({},k,{status:c("CoverVideoStatus").PUBLISHED},l.data);break;case c("PagesCoverAction").VIDEO_CANCELLING:default:n=k}return n||k};function j(){h.apply(this,arguments)}f.exports=new j(c("PagesCoverDispatcher"))}),null);
__d("PagesCoverLoadingScreen.react",["cx","CenteredContainer.react","React","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){var k=c("React").createElement(c("CenteredContainer.react"),{fullHeight:true,horizontal:true,vertical:true},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"})),l=j.height,m=j.width;if(l&&m)return c("React").createElement("div",{style:{height:l,width:m}},k);return c("React").createElement("div",{className:"_2rc-"},k)};f.exports=i}),null);
__d("PageOnTourOverlay.react",["cx","EventTourBadgeEnum","Link.react","PagesCoverCoreStore","React","XEventsTourPermalinkController","XUIText.react"],(function a(b,c,d,e,f,g,h){"use strict";function i(j){var k=c("PagesCoverCoreStore").getEventTourBadgeInfo(),l=k.tourID,m=k.title,n=k.subtitle,o=k.eventTourBadgeStatus;if(o!==c("EventTourBadgeEnum").TOUR_BADGE_SHOWN||l===null||m===null)return null;var p=c("XEventsTourPermalinkController").getURIBuilder().setFBID("tour_id",l).getURI();return c("React").createElement("div",{className:"_ncd"},c("React").createElement(c("Link.react"),{href:p},c("React").createElement(c("XUIText.react"),{color:"white",display:"block",size:"header1"},m)),c("React").createElement(c("Link.react"),{href:p},c("React").createElement(c("XUIText.react"),{className:"_nce",display:"block",size:"header3"},n)))}f.exports=i}),null);
__d("XPagesCoverOverlayEditAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_overlay_edit/",{})}),null);
__d("XPagesCoverOverlayRemoveAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_overlay_remove/",{})}),null);
__d("PagesCoverOverlay.react",["ix","cx","fbt","AsyncRequest","Image.react","LayerFadeOnHide","PageCallToActionRef","PageCTAAction.react","PagesEventObserver","PagesEventType","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React","ShimButton.react","SimpleNUXMessage","SimpleNUXMessageTypes","XPagesCoverOverlayEditAsyncController","XPagesCoverOverlayRemoveAsyncController","XUIAmbientNUX.react","XUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=100;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o){__p&&__p();l.constructor.call(this,o);this.$PagesCoverOverlay7=function(p){var q=p.target;if(q instanceof HTMLTextAreaElement&&q.value.length<=m)this.setState({newDescription:q.value})}.bind(this);this.$PagesCoverOverlay11=function(){this.setState({isEditing:true,shouldShowNUX:false});return}.bind(this);this.$PagesCoverOverlay9=function(){this.setState({isEditing:false,newDescription:this.state.currentDescription||""})}.bind(this);this.$PagesCoverOverlay10=function(){__p&&__p();var p=null,q=null;if(!this.state.newDescription){p=c("XPagesCoverOverlayRemoveAsyncController").getURIBuilder().getURI();q=true}else{p=c("XPagesCoverOverlayEditAsyncController").getURIBuilder().getURI();q=this.state.newDescription}new(c("AsyncRequest"))().setURI(p).setData({page_id:this.props.pageID,description:q}).setHandler(function(r){if(r.payload.description!==null)this.setState({isEditing:false,newDescription:r.payload.description||"",currentDescription:r.payload.description})}.bind(this)).send()}.bind(this);this.$PagesCoverOverlay13=function(){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").PAGES_COVER_DESCRIPTION_CREATION_NUX);this.setState({shouldShowNUX:false})}.bind(this);this.state={isEditing:false,newDescription:this.props.description||"",currentDescription:this.props.description,shouldShowNUX:false}}n.prototype.componentDidMount=function(){if(this.$PagesCoverOverlay1())this.setState({shouldShowNUX:true})};n.prototype.componentWillReceiveProps=function(o){if(this.props.description===o.description)return;this.setState({newDescription:o.description||"",currentDescription:o.description})};n.prototype.render=function(){var o=this.props.description,p=!!o||this.$PagesCoverOverlay2();if(!p&&!this.props.isEditable)return null;return c("React").createElement("div",null,c("React").createElement("div",{className:"_4i3o"}),c("React").createElement("div",{className:"_4i3n"},this.$PagesCoverOverlay3(),this.$PagesCoverOverlay4(),this.$PagesCoverOverlay5(),this.$PagesCoverOverlay6()))};n.prototype.$PagesCoverOverlay3=function(){if(this.state.isEditing||!this.state.currentDescription)return null;c("PagesLogger").log(this.props.pageID,c("PagesLoggerEventEnum").IMPRESSION,c("PagesLoggerEventTargetEnum").PAGE_COVER_DESCRIPTION,c("PageCallToActionRef").PAGES_COVER_AREA_SURFACE);c("PagesEventObserver").notify(c("PagesEventType").COVER_AREA_DESCRIPTION_IMPRESSION,this.props.pageID);var o=this.$PagesCoverOverlay2();return c("React").createElement("div",{className:"_4i46"+(o?" _4i47":"")+(!o?" _4i4d":"")},c("React").createElement(c("XUIText.react"),null,this.state.currentDescription))};n.prototype.$PagesCoverOverlay4=function(){if(this.$PagesCoverOverlay2()){c("PagesLogger").log(this.props.pageID,c("PagesLoggerEventEnum").IMPRESSION,c("PagesLoggerEventTargetEnum").PAGE_COVER_CTA_BUTTON,c("PageCallToActionRef").PAGES_COVER_AREA_SURFACE);c("PagesEventObserver").notify(c("PagesEventType").COVER_AREA_CTA_IMPRESSION,this.props.pageID);return c("React").createElement(c("PageCTAAction.react"),babelHelpers["extends"]({},this.props.primaryButton,{className:"_1kp2 _4i44 _291t",surface:c("PageCallToActionRef").PAGES_COVER_AREA_SURFACE}))}return null};n.prototype.$PagesCoverOverlay5=function(){if(!this.props.isEditable||!this.state.isEditing)return null;var o=this.$PagesCoverOverlay2();return c("React").createElement("div",null,c("React").createElement("textarea",{ref:function p(q){q&&q.focus()},className:"_4i4e"+(o?" _4i47":"")+(!o?" _4i4d":""),maxLines:"3",value:this.state.newDescription,onChange:this.$PagesCoverOverlay7,onKeyDown:this.$PagesCoverOverlay8}))};n.prototype.$PagesCoverOverlay6=function(){if(!this.props.isEditable||this.props.isPreviewMode||this.props.isLoading)return null;if(this.state.isEditing)return c("React").createElement("div",null,c("React").createElement("div",{className:"_4i4f"},c("React").createElement("div",{className:"_4i4g"},c("React").createElement(c("XUIText.react"),null,j._("{current_char_num}\/{max_char_num}",[j.param("current_char_num",this.state.newDescription.length),j.param("max_char_num",m)])))),c("React").createElement("div",{className:"_4i4p"},c("React").createElement(c("ShimButton.react"),{className:"_4i4r",onClick:this.$PagesCoverOverlay9},c("React").createElement(c("Image.react"),{src:h("127524")})),c("React").createElement(c("ShimButton.react"),{className:"_4i4r",onClick:this.$PagesCoverOverlay10},c("React").createElement(c("Image.react"),{src:h("114570")}))));return c("React").createElement(c("ShimButton.react"),{className:"_4i4p",onClick:this.$PagesCoverOverlay11},c("React").createElement("div",{className:"_4i4r"},c("React").createElement(c("Image.react"),{src:h("115342")})),c("React").createElement("div",{className:"_4i4s",ref:"coverEditButton"},c("React").createElement(c("XUIText.react"),null,j._("Edit"))),this.$PagesCoverOverlay12())};n.prototype.$PagesCoverOverlay8=function(o){if(o.keyCode==13)o.preventDefault()};n.prototype.$PagesCoverOverlay2=function(){return!!this.props.primaryButton&&this.props.primaryButton.__typename==="PageCTAAction"};n.prototype.$PagesCoverOverlay12=function(){var o=c("React").createElement("div",{className:"_308b"},j._("Make it easy for people to see what's important and take action on your Page. You can edit or remove this new description anytime, and it won't affect other descriptions on your Page."));return c("React").createElement(c("XUIAmbientNUX.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},contextRef:function(){return this.refs.coverEditButton}.bind(this),onCloseButtonClick:this.$PagesCoverOverlay13,position:"above",alignment:"right",shown:this.state.shouldShowNUX},o)};n.prototype.$PagesCoverOverlay1=function(){if(this.props.isEditable)return!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").PAGES_COVER_DESCRIPTION_CREATION_NUX);return false};f.exports=n}),null);
__d("XPhotoPermalinkController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/{vanity}/photos/{?set_token}/{photo_id}/",{photo_id:{type:"Int"},set_token:{type:"String"},type:{type:"Enum",defaultValue:3,enumType:0},link_share:{type:"String"},subject:{type:"Int"},object_id:{type:"Int"},opaque_cursor:{type:"String"},legacy_user_id:{type:"Int"},legacy_photo_id:{type:"Int"},video_id:{type:"Int"},comment_id:{type:"Int"},notif_t:{type:"String"},is_notification_preview:{type:"Bool",defaultValue:false},force_theater:{type:"Bool",defaultValue:false},vanity:{type:"String"},reply_comment_id:{type:"Int"}})}),null);
__d("PagesCoverPhotoLink.react",["cx","Link.react","React","XPhotoPermalinkController"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){if(j.coverPhotoData.uri===null||j.isLoading||j.isPreviewMode)return c("React").Children.only(j.children);return c("React").createElement(c("Link.react"),{className:"_5q-4",href:c("XPhotoPermalinkController").getURIBuilder().setInt("photo_id",j.coverPhotoData.id).setString("vanity",j.pageID).getURI(),rel:"theater"},j.children)};f.exports=i}),null);
__d("XPagesCoverPhotoSaveAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_photo_save/",{focus_x:{type:"Float",required:true},focus_y:{type:"Float",required:true},page_id:{type:"FBID",required:true},photo_id:{type:"FBID",required:true}})}),null);
__d("PagesCoverPhoto.react",["cx","ActorURI","AsyncRequest","PageOnTourOverlay.react","PagesCoverAction","PagesCoverDispatcher","PagesCoverOverlay.react","PagesCoverPhotoLink.react","ProfileHeaderCoverPhoto.react","React","XPagesCoverPhotoSaveAsyncController","XPagesCoverReloadController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){if(!this.$PagesCoverPhoto1()&&!this.props.isEditable)return null;return c("React").createElement("div",{className:"_2g7o"},c("React").createElement(c("PagesCoverPhotoLink.react"),this.props,c("React").createElement("div",null,c("React").createElement(c("ProfileHeaderCoverPhoto.react"),{coverPhotoData:this.props.coverPhotoData,emptyCover:this.$PagesCoverPhoto2(),height:this.props.renderedHeight,isLoading:this.props.isLoading,previewCancelHandler:this.$PagesCoverPhoto3.bind(this),previewMode:this.props.isPreviewMode,previewSaveHandler:this.$PagesCoverPhoto4.bind(this),ref:"coverPhoto",width:this.props.renderedWidth}))),c("React").createElement(c("PageOnTourOverlay.react"),null),this.props.isOverlayEnabled?c("React").createElement(c("PagesCoverOverlay.react"),{pageID:this.props.pageID,primaryButton:this.props.pagePrimaryButton,description:this.props.pageDescription,isEditable:this.props.isEditable,isPreviewMode:this.props.isPreviewMode,isLoading:this.props.isLoading}):null)};k.prototype.$PagesCoverPhoto1=function(){return this.props.coverPhotoData.uri!==null};k.prototype.$PagesCoverPhoto2=function(){return c("React").createElement("div",{className:"_5_yy _44oa"})};k.prototype.$PagesCoverPhoto3=function(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").PHOTO_CANCEL});new(c("AsyncRequest"))().setURI(c("XPagesCoverReloadController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI()).send()};k.prototype.$PagesCoverPhoto4=function(){var l=this.refs.coverPhoto.getDimensions().getRect().center;c("PagesCoverDispatcher").dispatch({data:{coverPhotoData:babelHelpers["extends"]({},this.props.coverPhotoData,{focus:{height:l.y,width:l.x}})},type:c("PagesCoverAction").PHOTO_SAVING});new(c("AsyncRequest"))().setURI(c("ActorURI").create(c("XPagesCoverPhotoSaveAsyncController").getURIBuilder().setFloat("focus_x",l.x).setFloat("focus_y",l.y).setFBID("page_id",this.props.pageID).setFBID("photo_id",this.props.coverPhotoData.id).getURI(),this.props.pageID)).send()};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("PagesCoverSlideshowButtonGroup.react",["cx","fbt","PagesCoverSlideshowActionCreator","React","SimpleXUIDialog","XUIButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$PagesCoverSlideshowButtonGroup1=function(){if(this.props.items.length===0)c("SimpleXUIDialog").show(i._("To save your slideshow, first add photos. To delete your cover photo, return to your Page and select Remove in the cover area."),i._("Slideshow Not Saved"));else if(this.$PagesCoverSlideshowButtonGroup2())c("SimpleXUIDialog").show(i._("You can't save duplicated photos in your slideshow."),i._("Duplicated Photo"));else{this.props.onSave();c("PagesCoverSlideshowActionCreator").onSlideshowSaving(this.props.pageID)}}.bind(this),o}m.prototype.$PagesCoverSlideshowButtonGroup2=function(){var n=this.props.items.map(function(o){return o.carouselData.coverPhotoData.id});return new Set(n).size!==n.length};m.prototype.render=function(){if(!this.props.isEditMode)return null;return c("React").createElement("span",{className:"_34p_"},c("React").createElement(c("XUIButton.react"),{disabled:!this.props.hasPendingChanges,label:i._("Cancel"),onClick:c("PagesCoverSlideshowActionCreator").confirmCancel,use:"default"}),c("React").createElement(c("XUIButton.react"),{disabled:!this.props.hasPendingChanges,label:i._("Save"),onClick:this.$PagesCoverSlideshowButtonGroup1,use:"confirm"}))};m.propTypes={pageID:l.string.isRequired,isEditMode:l.bool.isRequired,items:l.array.isRequired,onSave:l.func.isRequired,hasPendingChanges:l.bool.isRequired};f.exports=m}),null);
__d("PagesCoverSlideshowItemLoadingScreen.react",["cx","CenteredContainer.react","React","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";function i(j){if(!j.shown)return null;return c("React").createElement(c("CenteredContainer.react"),{className:"_4g6t",fullHeight:true,horizontal:true,vertical:true},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"}))}f.exports=i}),null);
__d("XPagesCoverSlideshowSaveAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_slideshow/save/",{page_id:{type:"FBID",required:true},photo_id_vector:{type:"FBIDVector",required:true},focus_x_vector:{type:"FloatVector",required:true},focus_y_vector:{type:"FloatVector",required:true},is_content_optimizer_on:{type:"Bool",defaultValue:false}})}),null);
__d("PagesCoverSlideshowCarousel.react",["ix","cx","invariant","AsyncRequest","Image.react","Link.react","PagesCoverSlideshowActionCreator","PagesCoverSlideshowButtonGroup.react","PagesCoverSlideshowItemLoadingScreen.react","ProfileHeaderCoverPhoto.react","React","XPagesCoverSlideshowSaveAsyncController","XPhotoPermalinkController","XUICarousel.react","XUICarouselArrow.react","XUICarouselItem.react","XUICarouselLinks.react","emptyFunction","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes,n={focus:{height:0,width:0},id:"0",original:{height:0,width:0},uri:null},o=820,p=312;k=babelHelpers.inherits(q,c("React").PureComponent);l=k&&k.prototype;function q(r){__p&&__p();l.constructor.call(this,r);this.state={showCarouselDotsIndicator:false};this.$PagesCoverSlideshowCarousel4=function(s){this.$PagesCoverSlideshowCarousel1=s;if(this.$PagesCoverSlideshowCarousel1){this.$PagesCoverSlideshowCarousel2=this.$PagesCoverSlideshowCarousel1.subscribe(["animation_start"],function(t,u){if(t==="animation_start")c("PagesCoverSlideshowActionCreator").changeCurrentIndex(this.props.pageID,u)}.bind(this));this.setState({showCarouselDotsIndicator:true})}}.bind(this);this.$PagesCoverSlideshowCarousel7=function(){__p&&__p();var s=[],t=[],u=[];for(var v=0;v<this.props.items.length;v++){var w=this.props.items[v],x=w.carouselData.coverPhotoData.id,y=this.$PagesCoverSlideshowCarousel3.get(x);!!y||j(0);var z=y.getDimensions().getRect().center;s.push(x);t.push(z.x);u.push(z.y)}var A=c("XPagesCoverSlideshowSaveAsyncController").getURIBuilder().setFBID("page_id",this.props.pageID).setFBIDVector("photo_id_vector",s).setFloatVector("focus_x_vector",t).setFloatVector("focus_y_vector",u).setBool("is_content_optimizer_on",this.props.isContentOptimizerOn).getURI();new(c("AsyncRequest"))(A).send()}.bind(this);this.$PagesCoverSlideshowCarousel3=new Map()}q.prototype.componentWillReceiveProps=function(r){if(this.$PagesCoverSlideshowCarousel1&&r.currentIndex!==this.props.currentIndex)this.$PagesCoverSlideshowCarousel1.setIndex(r.currentIndex)};q.prototype.componentWillUnmount=function(){if(this.$PagesCoverSlideshowCarousel1&&this.$PagesCoverSlideshowCarousel2)this.$PagesCoverSlideshowCarousel1.unsubscribe(this.$PagesCoverSlideshowCarousel2)};q.prototype.$PagesCoverSlideshowCarousel5=function(){if(!this.$PagesCoverSlideshowCarousel1||!this.state.showCarouselDotsIndicator)return null;return c("React").createElement(c("XUICarouselLinks.react"),{carousel:this.$PagesCoverSlideshowCarousel1,className:"_2yih"})};q.prototype.$PagesCoverSlideshowCarousel6=function(r,s){if(!s)return;this.$PagesCoverSlideshowCarousel3.set(r,s)};q.prototype.render=function(){var r=c("React").createElement(c("XUICarouselArrow.react"),{className:"_3-9a"},c("React").createElement(c("Image.react"),{src:h("114591")})),s=c("React").createElement(c("XUICarouselArrow.react"),{className:"_3-90"},c("React").createElement(c("Image.react"),{src:h("114601")})),t=this.props.items.map(function(u,v){var w=u.carouselData,x=c("React").createElement(c("ProfileHeaderCoverPhoto.react"),{coverPhotoData:w.coverPhotoData,height:w.renderedHeight,hideDefaultButtons:true,isLoading:w.isLoading,onMove:c("PagesCoverSlideshowActionCreator").onItemRepositioned,previewCancelHandler:c("emptyFunction"),previewMode:this.props.isEditMode,previewSaveHandler:c("emptyFunction"),ref:function(y){return this.$PagesCoverSlideshowCarousel6(w.coverPhotoData.id,y)}.bind(this),width:w.renderedWidth});if(!this.props.isEditMode)x=c("React").createElement(c("Link.react"),{className:"_5q-4",href:c("XPhotoPermalinkController").getURIBuilder().setInt("photo_id",w.coverPhotoData.id).setString("vanity",this.props.pageID).setString("set_token","p."+w.coverPhotoData.id).getURI(),rel:"theater"},x);return c("React").createElement(c("XUICarouselItem.react"),{className:"_626d",key:w.coverPhotoData.id},x,c("React").createElement(c("PagesCoverSlideshowItemLoadingScreen.react"),{shown:!!u.shouldShowLoadingIndicator}))}.bind(this));if(t.length===0)t.push(c("React").createElement(c("XUICarouselItem.react"),{className:"_626d",key:"empty_cover_photo_placeholder"},c("React").createElement(c("ProfileHeaderCoverPhoto.react"),{coverPhotoData:n,emptyCover:c("React").createElement("div",{className:"_5_yy _44oa"}),height:p,hideDefaultButtons:true,isLoading:false,previewCancelHandler:c("emptyFunction"),previewMode:false,previewSaveHandler:c("emptyFunction"),width:o})));return c("React").createElement("div",null,c("React").createElement(c("XUICarousel.react"),{arrows:[r,s],initialAutoplay:false,initialIndex:this.props.currentIndex,ref:this.$PagesCoverSlideshowCarousel4,resizeViewport:"fixed",viewportHeight:p,wrapAround:true},t),this.$PagesCoverSlideshowCarousel5(),c("React").createElement(c("PagesCoverSlideshowButtonGroup.react"),babelHelpers["extends"]({},this.props,{onSave:this.$PagesCoverSlideshowCarousel7})))};q.propTypes={items:m.array.isRequired,maxNumberOfPhotosInSlideshow:m.number.isRequired,photoPreviewData:m.object,currentIndex:m.number.isRequired,isEditMode:m.bool.isRequired,hasPendingChanges:m.bool.isRequired,isContentOptimizerOn:m.bool.isRequired};f.exports=q}),null);
__d("PagesCoverSlideshowItemEditMenu.react",["cx","fbt","ActorURI","ContextualDialogArrow","FileInput.react","FileInputUploader","PagesCoverSlideshowActionCreator","ReactXUIMenu","PhotoBrowserDialogEndpointType","PhotoBrowserDialogPhotoGeneratorType","PopoverMenu.react","React","XPhotoBrowserDialogController","ReactDOM","XPagesCoverPhotoUploadAsyncController"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("ReactXUIMenu").Item,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$PagesCoverSlideshowItemEditMenu2=function(t){this.$PagesCoverSlideshowItemEditMenu1=t}.bind(this),this.$PagesCoverSlideshowItemEditMenu3=function(){var t=c("ActorURI").create(c("XPagesCoverPhotoUploadAsyncController").getURIBuilder().setFBID("page_id",this.props.pageID).setString("ref","pages_cover_slideshow_ref").setInt("index",this.props.index).getURI(),this.props.pageID),u=c("ReactDOM").findDOMNode(this.$PagesCoverSlideshowItemEditMenu1);new(c("FileInputUploader"))(u).setURI(t).setAllowCrossOrigin(true).send();c("PagesCoverSlideshowActionCreator").onPhotoUploading(this.props.index)}.bind(this),this.$PagesCoverSlideshowItemEditMenu4=function(){c("PagesCoverSlideshowActionCreator").onPhotoRemoved(this.props.index)}.bind(this),p}n.prototype.componentDidMount=function(){if(this.props.index!==0)return;var o=c("ReactDOM").findDOMNode(this);if(!(o instanceof Element)||!this.props.hasItem)return;c("PagesCoverSlideshowActionCreator").onNUXTourElementLoaded(o,2,i._("To choose your slideshow manually, add a new photo or choose an existing one. Slideshow images must be at least 820 pixels wide and 312 pixels tall."),"below")};n.prototype.$PagesCoverSlideshowItemEditMenu5=function(){var o=c("XPhotoBrowserDialogController").getURIBuilder().setEnum("endpoint",c("PhotoBrowserDialogEndpointType").PAGES_COVER_SLIDESHOW_JS).setEnum("generator",c("PhotoBrowserDialogPhotoGeneratorType").PAGE).setString("data","pages_cover_photo").setInt("id",this.props.pageID).setString("data",""+this.props.index).getURI();return c("React").createElement(l,{href:o,rel:"dialog"},i._("Choose from photos"))};n.prototype.$PagesCoverSlideshowItemEditMenu6=function(){return c("React").createElement(l,{renderas:"label"},c("React").createElement(c("FileInput.react"),{accept:"image/*",display:"inline-block",name:"pages_cover_slideshow_photo_uploader",onChange:this.$PagesCoverSlideshowItemEditMenu3,ref:this.$PagesCoverSlideshowItemEditMenu2},c("React").createElement("a",{className:"_2ojv",href:"#"},i._("Upload Photo"))))};n.prototype.$PagesCoverSlideshowItemEditMenu7=function(){if(!this.props.hasItem)return null;return c("React").createElement(l,{onClick:this.$PagesCoverSlideshowItemEditMenu4},i._("Remove"))};n.prototype.$PagesCoverSlideshowItemEditMenu8=function(){return c("React").createElement(c("ReactXUIMenu"),null,this.$PagesCoverSlideshowItemEditMenu5(),this.$PagesCoverSlideshowItemEditMenu6(),this.$PagesCoverSlideshowItemEditMenu7())};n.prototype.render=function(){return c("React").createElement(c("PopoverMenu.react"),{layerBehaviors:[c("ContextualDialogArrow")],menu:this.$PagesCoverSlideshowItemEditMenu8(),position:"below"},this.props.icon)};n.propTypes={index:m.number.isRequired,pageID:m.string.isRequired,icon:m.object.isRequired,hasItem:m.bool.isRequired};f.exports=n}),null);
__d("PagesCoverSlideshowPlaceholder.react",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";function i(j){return c("React").createElement("div",{className:"_2aou",key:"placeholder"},c("React").createElement("div",{className:"_2ap1",style:{height:j.thumbnailHeight,width:j.thumbnailWidth}}))}f.exports=i}),null);
__d("PagesCoverSlideshowPlaceholderWithPicker.react",["ix","cx","fbt","CenteredContainer.react","Image.react","Link.react","PagesCoverSlideshowActionCreator","PagesCoverSlideshowItemEditMenu.react","React","ReactDOM","XUISpinner.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").PureComponent);l=k&&k.prototype;n.prototype.$PagesCoverSlideshowPlaceholderWithPicker1=function(){if(this.props.shouldShowLoadingScreenOnPickerPlaceholder)return null;var o=c("React").createElement(c("CenteredContainer.react"),{className:"_30i-",style:{height:this.props.thumbnailHeight,width:this.props.thumbnailWidth},vertical:true},c("React").createElement(c("Image.react"),{src:h("123419")}));return c("React").createElement(c("PagesCoverSlideshowItemEditMenu.react"),{hasItem:false,icon:o,index:this.props.index,pageID:this.props.pageID})};n.prototype.$PagesCoverSlideshowPlaceholderWithPicker2=function(){if(!this.props.shouldShowLoadingScreenOnPickerPlaceholder)return null;return c("React").createElement(c("CenteredContainer.react"),{className:"_30i-",style:{height:this.props.thumbnailHeight,width:this.props.thumbnailWidth},vertical:true},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"}))};n.prototype.render=function(){return c("React").createElement("div",{className:"_2aou",key:"picker"},c("React").createElement(c("Link.react"),null,this.$PagesCoverSlideshowPlaceholderWithPicker1(),this.$PagesCoverSlideshowPlaceholderWithPicker2()))};function n(){k.apply(this,arguments)}n.propTypes={index:m.number.isRequired,pageID:m.string.isRequired,thumbnailHeight:m.number.isRequired,thumbnailWidth:m.number.isRequired,shouldShowLoadingScreenOnPickerPlaceholder:m.bool.isRequired};f.exports=n}),null);
__d("PagesCoverSlideshowThumbnailItem.react",["cx","BackgroundImage.react","Link.react","PagesCoverSlideshowActionCreator","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$PagesCoverSlideshowThumbnailItem1=function(){c("PagesCoverSlideshowActionCreator").changeCurrentIndex(this.props.pageID,this.props.index)}.bind(this),n}l.prototype.render=function(){return c("React").createElement("div",{className:"_2aou",key:this.props.thumbnailURI},c("React").createElement(c("Link.react"),{onClick:this.$PagesCoverSlideshowThumbnailItem1},c("React").createElement(c("BackgroundImage.react"),{alt:"pages_cover_photo_thumbnail",backgroundSize:"cover",className:this.props.isCurrent?"_4bou":"",height:this.props.thumbnailHeight,src:this.props.thumbnailURI,width:this.props.thumbnailWidth})))};l.propTypes={index:k.number.isRequired,isCurrent:k.bool.isRequired,pageID:k.string.isRequired,thumbnailWidth:k.number.isRequired,thumbnailHeight:k.number.isRequired,thumbnailURI:k.string.isRequired};f.exports=l}),null);
__d("PagesCoverSlideshowEditBar.react",["ix","cx","fbt","invariant","FBCircularGlyph.react","FBDraggableBar.react","FBDraggableItem.react","FBToggleSwitch.react","PagesCoverSlideshowActionCreator","PagesCoverSlideshowItemEditMenu.react","PagesCoverSlideshowPlaceholder.react","PagesCoverSlideshowPlaceholderWithPicker.react","PagesCoverSlideshowThumbnailItem.react","React","fbglyph"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("React").PropTypes;l=babelHelpers.inherits(o,c("React").PureComponent);m=l&&l.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=m.constructor).call.apply(p,[this].concat(s)),this.$PagesCoverSlideshowEditBar3=function(u){u||u===0||k(0);c("PagesCoverSlideshowActionCreator").changeCurrentIndex(this.props.pageID,u)}.bind(this),this.$PagesCoverSlideshowEditBar4=function(u){c("PagesCoverSlideshowActionCreator").toggleContentOptimizer(this.props.pageID,u)}.bind(this),this.$PagesCoverSlideshowEditBar5=function(u,v){c("PagesCoverSlideshowActionCreator").reorderSlideshowItems(u,v,this.props.pageID)}.bind(this),q}o.prototype.$PagesCoverSlideshowEditBar1=function(p){if(!p)return;c("PagesCoverSlideshowActionCreator").onNUXTourElementLoaded(p,1,j._("You can rearrange the order of your slideshow by dragging the photos to the position where you want them."),"below")};o.prototype.$PagesCoverSlideshowEditBar2=function(p){if(!p)return;c("PagesCoverSlideshowActionCreator").onNUXTourElementLoaded(p,4,j._("To help get you started, we've chosen photos based on what performs well. If you let Facebook choose your slideshow, the photos may update based on your Page activity."),"left")};o.prototype.render=function(){__p&&__p();if(!this.props.isEditMode)return null;var p=this.props.items.map(function(t,s){var u=t.thumbnailData;return c("React").createElement(c("FBDraggableItem.react"),{index:s,key:u.thumbnailURI,onGrab:this.$PagesCoverSlideshowEditBar3},c("React").createElement(c("PagesCoverSlideshowThumbnailItem.react"),babelHelpers["extends"]({index:s,isCurrent:s===this.props.currentIndex,pageID:this.props.pageID},u)),c("React").createElement("div",{className:"_37bb"},c("React").createElement(c("PagesCoverSlideshowItemEditMenu.react"),babelHelpers["extends"]({},u,{hasItem:true,icon:c("React").createElement(c("FBCircularGlyph.react"),{circleSize:18,className:"_4boy",glyph:h("113738")}),index:s,pageID:this.props.pageID}))))}.bind(this)),q=[],r=this.props.maxNumberOfPhotosInSlideshow-p.length;if(r>0)q.push(c("React").createElement(c("PagesCoverSlideshowPlaceholderWithPicker.react"),{index:p.length,key:"pages_cover_slideshow_picker",pageID:this.props.pageID,shouldShowLoadingScreenOnPickerPlaceholder:this.props.shouldShowLoadingScreenOnPickerPlaceholder,thumbnailHeight:this.props.thumbnailHeight,thumbnailWidth:this.props.thumbnailWidth}));var s=p.length+q.length;while(q.length<r){q.push(c("React").createElement(c("PagesCoverSlideshowPlaceholder.react"),{key:"pages_cover_slideshow_placeholder"+s,thumbnailHeight:this.props.thumbnailHeight,thumbnailWidth:this.props.thumbnailWidth}));s++}return c("React").createElement("div",{ref:this.$PagesCoverSlideshowEditBar1},c("React").createElement("div",{className:"_3rgb"},j._("Choose photos that you'd like to feature in your cover slideshow"),c("React").createElement("span",{className:"_3rgc",ref:this.$PagesCoverSlideshowEditBar2},c("React").createElement("span",{className:"_3-8s"},j._("Let Facebook Choose Photos")),c("React").createElement(c("FBToggleSwitch.react"),{animate:true,checked:this.props.isContentOptimizerOn,onToggle:this.$PagesCoverSlideshowEditBar4,tooltip:j._("Facebook can select photos for you based on what performs well. These photos may update based on your Page activity. To create your own slideshow, add or edit photos.")}))),c("React").createElement("div",{className:"_3rgd"},c("React").createElement(c("FBDraggableBar.react"),{onReorder:this.$PagesCoverSlideshowEditBar5},p),q))};o.propTypes={pageID:n.string.isRequired,items:n.array.isRequired,isEditMode:n.bool.isRequired,maxNumberOfPhotosInSlideshow:n.number.isRequired,currentIndex:n.number.isRequired,thumbnailHeight:n.number.isRequired,thumbnailWidth:n.number.isRequired,isContentOptimizerOn:n.bool.isRequired,shouldShowLoadingScreenOnPickerPlaceholder:n.bool.isRequired};f.exports=o}),null);
__d("PagesCoverSlideshowNUXTour.react",["AdsBlueTipTour.react","BasicFBNux","LayerFadeOnShow","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;k.prototype.$PagesCoverSlideshowNUXTour1=function(){c("BasicFBNux").onDismiss(5385)};k.prototype.$PagesCoverSlideshowNUXTour2=function(l){if(!l)return;c("BasicFBNux").onView(5385)};k.prototype.render=function(){if(this.props.steps.length===0||!this.props.shown)return null;var l=this.props.steps.map(function(m){return{content:m.description,context:m.context,position:m.position}});return c("React").createElement(c("AdsBlueTipTour.react"),{behaviors:{LayerFadeOnShow:c("LayerFadeOnShow")},highlightContext:false,onComplete:this.$PagesCoverSlideshowNUXTour1,onXOut:this.$PagesCoverSlideshowNUXTour1,ref:this.$PagesCoverSlideshowNUXTour2,steps:l})};function k(){h.apply(this,arguments)}k.propTypes={shown:j.bool.isRequired,steps:j.array.isRequired};f.exports=k}),null);
__d("PagesCoverSlideshow.react",["cx","PagesCoverSlideshowActionCreator","PagesCoverSlideshowCarousel.react","PagesCoverSlideshowEditBar.react","PagesCoverSlideshowItemLoadingScreen.react","PagesCoverSlideshowNUXTour.react","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$PagesCoverSlideshow1=function(){if(this.props.hasPendingChanges)c("PagesCoverSlideshowActionCreator").confirmCancel();else c("PagesCoverSlideshowActionCreator").onEditingCancelled()}.bind(this),n}l.prototype.componentDidMount=function(){if(!this.props.isEditMode)c("PagesLogger").log(this.props.pageID,c("PagesLoggerEventEnum").IMPRESSION,c("PagesLoggerEventTargetEnum").PAGE_COVER_SLIDESHOW)};l.prototype.render=function(){if(!this.props.isCoverSlideshowEnabled)return null;return c("React").createElement("div",null,c("React").createElement("div",{className:"_626c"},c("React").createElement(c("PagesCoverSlideshowEditBar.react"),this.props),c("React").createElement(c("PagesCoverSlideshowCarousel.react"),this.props),c("React").createElement(c("PagesCoverSlideshowNUXTour.react"),{shown:this.props.shouldShowNUXTour&&this.props.isEditMode,steps:this.props.nuxTourSteps}),c("React").createElement(c("PagesCoverSlideshowItemLoadingScreen.react"),{shown:this.props.showLoadingScreen})),c("React").createElement("div",{className:this.props.isEditMode?"_i5t":"",onClick:this.$PagesCoverSlideshow1,role:"link",tabIndex:0}))};l.propTypes={pageID:k.string.isRequired,isCoverSlideshowEnabled:k.bool.isRequired,hasPendingChanges:k.bool.isRequired,shouldShowNUXTour:k.bool.isRequired,nuxTourSteps:k.array.isRequired,showLoadingScreen:k.bool.isRequired,isEditMode:k.bool.isRequired};f.exports=l}),null);
__d("PagesCoverVideoPlayer.react",["cx","Bootloader","CoverVideoUtil","OnVisible.react","PagesEventObserver","PagesEventType","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","React","ReactDOM","SubscriptionsHandler","TahoeVariables","URI","VideoComponentEmbeddedControls.react","VideoComponentPlayButton.react","VideoComponentWithLoopingPlayback.react","VideoPlayer.react","VideoPlayerLoggerSource","VideoPlayerReason"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=-100;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){__p&&__p();j.constructor.call(this,m);this.$PagesCoverVideoPlayer5=function(){var n=this.$PagesCoverVideoPlayer2;if(!n.vpc.isState("playing")&&!n.vpc.isState("finished"))n.vpc.play(c("VideoPlayerReason").PAGE_VISIBILITY)}.bind(this);this.$PagesCoverVideoPlayer6=function(){var n=this.$PagesCoverVideoPlayer2;if(n.vpc.isState("playing"))n.vpc.pause(c("VideoPlayerReason").PAGE_VISIBILITY)}.bind(this);this.state={offsetType:null,offsetValue:null,videoData:null};this.$PagesCoverVideoPlayer1=new(c("SubscriptionsHandler"))()}l.prototype.componentDidMount=function(){if(this.props.videoID)c("CoverVideoUtil").fetchCoverVideoData(this.props.videoID).then(function(m){return this.setState(babelHelpers["extends"]({},m))}.bind(this)).done()};l.prototype.shouldComponentUpdate=function(m,n){var o=n.videoData;return!!o&&o.getVideoID()===m.videoID};l.prototype.componentWillReceiveProps=function(m){if(m.videoID&&this.props.videoID!==m.videoID)c("CoverVideoUtil").fetchCoverVideoData(m.videoID).then(function(n){return this.setState(babelHelpers["extends"]({},n))}.bind(this)).done()};l.prototype.componentWillUnmount=function(){this.$PagesCoverVideoPlayer1.release()};l.prototype.$PagesCoverVideoPlayer3=function(){c("PagesEventObserver").notify(c("PagesEventType").COVER_VIDEO_CLICK,this.props.pageID,{video_id:this.props.videoID});c("PagesLogger").log(this.props.pageID,c("PagesLoggerEventEnum").CLICK,c("PagesLoggerEventTargetEnum").PAGES_COVER_VIDEO,"page_header",["Pages","Pages: Engagement","pages web + m-site","pages surface"],{video_id:this.props.videoID})};l.prototype.$PagesCoverVideoPlayer4=function(){c("PagesEventObserver").notify(c("PagesEventType").COVER_VIDEO_IMPRESSION,this.props.pageID,{video_id:this.props.videoID});c("PagesLogger").log(this.props.pageID,c("PagesLoggerEventEnum").IMPRESSION,c("PagesLoggerEventTargetEnum").PAGES_COVER_VIDEO,"page_header",["Pages","Pages: Engagement","pages web + m-site","pages surface"],{video_id:this.props.videoID})};l.prototype.render=function(){__p&&__p();var m=this.state,n=m.offsetType,o=m.offsetValue,p=m.videoData;if(n===null||o===null||!p)return null;var q=this.props.shouldHideSoundControl?null:c("React").createElement(c("VideoComponentEmbeddedControls.react"),{hidePlaybackControl:false,hidePlaybackScrubber:true,hideRemainingTime:true,showFullscreenButton:false,showSettingsButton:false}),r=this.props.shouldCoverVideoLoop?c("React").createElement(c("VideoComponentWithLoopingPlayback.react"),{infiniteLooping:true}):null;this.$PagesCoverVideoPlayer4();return c("React").createElement(c("OnVisible.react"),{buffer:k,onHidden:this.$PagesCoverVideoPlayer6,onVisible:this.$PagesCoverVideoPlayer5},c("React").createElement(c("VideoPlayer.react"),{allowCrossPageTransition:true,autoplay:true,forceHD:true,height:this.props.containerHeight,offsetType:n,offsetValue:o,onVideoClick:function(){__p&&__p();var s=this.props,t=s.videoLinkData,u=s.playerOrigin;if(!t)return;if(this.$PagesCoverVideoPlayer2&&this.$PagesCoverVideoPlayer2.vpc&&!this.$PagesCoverVideoPlayer2.vpc.isState("playing"))return;var v=t.channelCaller;if(c("TahoeVariables").useTahoe)c("Bootloader").loadModules(["TahoeController"],function(w){w.openFromVideoLink(new(c("URI"))(t.href),{channelID:t.channelID,caller:v,origin:u})},"PagesCoverVideoPlayer.react");else c("Bootloader").loadModules(["VideoChannelHandleLink"],function(w){w.openChannel(t.channelID,v,p.getVideoID())},"PagesCoverVideoPlayer.react");this.$PagesCoverVideoPlayer3()}.bind(this),playerOrigin:this.props.playerOrigin,subOrigin:c("VideoPlayerLoggerSource").PAGES_COVER,ref:function(s){var t=c("ReactDOM").findDOMNode(s);if(!(t&&t instanceof Element))return;this.$PagesCoverVideoPlayer2=s;s.vpc&&s.vpc.setAllowCrossPageTransition(true)}.bind(this),startMuted:true,videoData:p,width:this.props.containerWidth},q,r,c("React").createElement(c("VideoComponentPlayButton.react"),{alsoVisibleWhen:"finished"})))};f.exports=l}),null);
__d("PagesLiveCoverVideo.react",["React","VideoComponentContextMenu.react","VideoComponentCover.react","VideoComponentDebugOverlay.react","VideoComponentEmbeddedControls.react","VideoComponentErrorOverlay.react","VideoComponentLiveEndScreen.react","VideoComponentLiveInterruptedScreen.react","VideoComponentLiveVideoIndicator.react","VideoComponentPlayButton.react","VideoComponentStreamingReactionTray.react","VideoComponentVolumeStorage.react","VideoComponentWithFallbackMode.react","VideoComponentWithLiveBroadcast.react","VideoDataContainer.react","VideoPlayer.react","VideoPlayerOrigins"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.prototype.render=function(){return c("React").createElement(c("VideoDataContainer.react"),{videoID:this.props.videoID},c("React").createElement(c("VideoPlayer.react"),{autoplay:true,height:this.props.renderedHeight,playerOrigin:c("VideoPlayerOrigins").INTERN,startMuted:true,videoData:c("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER},c("React").createElement(c("VideoComponentEmbeddedControls.react"),{showSettingsButton:true}),c("React").createElement(c("VideoComponentWithLiveBroadcast.react"),null),c("React").createElement(c("VideoComponentPlayButton.react"),null),c("React").createElement(c("VideoComponentCover.react"),null),c("React").createElement(c("VideoComponentLiveVideoIndicator.react"),null),c("React").createElement(c("VideoComponentDebugOverlay.react"),null),c("React").createElement(c("VideoComponentContextMenu.react"),null),c("React").createElement(c("VideoComponentLiveInterruptedScreen.react"),null),c("React").createElement(c("VideoComponentLiveEndScreen.react"),null),c("React").createElement(c("VideoComponentStreamingReactionTray.react"),null),c("React").createElement(c("VideoComponentVolumeStorage.react"),null),c("React").createElement(c("VideoComponentWithFallbackMode.react"),null),c("React").createElement(c("VideoComponentErrorOverlay.react"),null)))};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("ShowmarkErrorDialog.react",["cx","ix","fbt","Image.react","Layout.react","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("Layout.react").Column,n=500;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(p){l.constructor.call(this,p);this.hide=function(){this.setState({shown:false})}.bind(this);this.state={shown:false}}o.prototype.$ShowmarkErrorDialog1=function(){if(this.props.validationFailure==="transparent_and_white")return j._("A showmark must be an all-white graphic on a transparent background.");return null};o.prototype.$ShowmarkErrorDialog2=function(){if(this.props.validationFailure==="transparent_and_white")return j._("Your showmark can't be added in this format");return null};o.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{shown:this.state.shown,hideOnEscape:false,layerHideOnBlur:false,width:n},c("React").createElement(c("XUIDialogTitle.react"),null,c("React").createElement(c("Layout.react"),null,c("React").createElement(m,null,c("React").createElement(c("Image.react"),{className:"_3-90",src:i("26339")})),c("React").createElement(m,null,this.$ShowmarkErrorDialog2()))),c("React").createElement(c("XUIDialogBody.react"),null,this.$ShowmarkErrorDialog1(),c("React").createElement("div",{display:"block",className:"_3-8x"},j._("Make sure that your showmark meets these requirements and try again."))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{label:j._("OK"),onClick:this.hide})))};o.prototype.show=function(){this.setState({shown:true})};f.exports=o}),null);
__d("ShowmarkTemplate",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({RALEWAY:"RALEWAY",ASAPCONDENSED:"ASAPCONDENSED",MONTSERRAT:"MONTSERRAT",NOTOSERIF:"NOTOSERIF",ROBOTOSLAB:"ROBOTOSLAB",FREDOKAONE:"FREDOKAONE"})}),null);
__d("ShowmarkTemplateFontConfig",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({ASAPCONDENSED:"Asap Condensed Medium",FREDOKAONE:"Fredoka One Regular",MONTSERRAT:"Montserrat Regular",NOTOSERIF:"Noto Serif Bold",RALEWAY:"Raleway ExtraBold",ROBOTOSLAB:"Roboto Slab Bold"});f.exports=h}),null);
__d("VideoShowsLogoFileInput.react",["FileInput.react","React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){return c("React").createElement(c("FileInput.react"),{accept:"image/png",multiple:false,onChange:this.props.onFileChange,containerClassName:this.props.className},this.props.children)};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("XShowsLogoUploadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/showpages/logo/upload/",{page_id:{type:"FBID"},crop_window:{type:"IntVector"},file_data_url:{type:"String"}})}),null);
__d("VideoShowsLogoUploadDialog.react",["ix","cx","fbt","cssVar","ActorURI","AdsXUIProgressBar.react","DOM","FileInputUploader","Image.react","Layout.react","LeftRight.react","Map","React","ReactDOM","ShowCreationFlowStep","ShowCreationFlowTypedLogger","ShowsConfig","ShowmarkErrorDialog.react","Text","VideoShowsLogoFileInput.react","XShowsLogoUploadController","XUICard.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUIGrayText.react","XUIText.react","XUINotice.react","XUISpinner.react","PhotoZoomCropImagePreview.react","XUIButton.react","PhotoZoomCropDimensions","BasicVector","Link.react","ShowmarkTemplate","ShowmarkTemplateFontConfig","Grid.react","XUITextInput.react","canvasToBlob","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("Grid.react").GridItem,o=c("Layout.react").Column,p=c("Layout.react").FillColumn,q=900,r=270,s=84,t=144,u=45,v=24,w=3,x=720,y=225,z=215,A=110;l=babelHelpers.inherits(B,c("React").Component);m=l&&l.prototype;function B(C){__p&&__p();m.constructor.call(this,C);this.$VideoShowsLogoUploadDialog2=function(event){this.setState({uploadState:"loading"})}.bind(this);this.$VideoShowsLogoUploadDialog3=function(event){__p&&__p();var D=event.currentTarget.result,E=new Image();E.src=D;E.onload=function(){__p&&__p();var F=document.createElement("canvas");F.width=E.width;F.height=E.height;var G=F.getContext("2d");if(G==undefined)return;G.drawImage(E,0,0);var H=G.getImageData(0,0,E.width,E.height),I=H.data,J=0,K=0,L=c("ShowsConfig").countThreshold,M=E.width,N=0,O=E.height,P=0;for(var Q=0;Q<E.height;Q++)for(var R=0;R<E.width;R++){var S=E.width*Q+R,T=4*S;if(I[T+3]!=0){J++;if(R<M)M=R;if(R>N)N=R;if(Q<O)O=Q;if(Q>P)P=Q;var U=I[T],V=I[T+1],W=I[T+2],X=.2126*U+.7152*V+.0722*W;if(X>=250)K++}}if(J===E.width*E.height||J*L>=K*100){if(J===E.width*E.height)this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_INVALID,new(c("Map"))([["reason","Not transparent"]]));else this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_INVALID,new(c("Map"))([["reason","Not white"],["non transparent pixels",J],["whitePixels",K]]));var Y=c("React").createElement(c("ShowmarkErrorDialog.react"),{validationFailure:"transparent_and_white"});Y=c("ReactDOM").render(Y,c("DOM").create("div"));Y.show();this.setState({uploadState:null,url:null});return}var Z=null,$=null;if(M!==0||N!==E.width-1||O!==0||P!==E.height-1){$=[M,O,N,P];Z=new(c("PhotoZoomCropDimensions"))(new(c("BasicVector"))(E.width,E.height));Z.setCenter((M+N)/E.width/2,(O+P)/E.height/2);Z=this.$VideoShowsLogoUploadDialog5(Z,$,r,s);this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_UPLOAD_CROPPED,{cropWindow:JSON.stringify($)})}this.setState({uploadState:"success",url:D,cropDims:Z,cropWindow:$})}.bind(this)}.bind(this);this.$VideoShowsLogoUploadDialog6=function(event){this.setState({uploadState:"failed"})}.bind(this);this.$VideoShowsLogoUploadDialog22=function(){this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_CREATION_TOGGLE,new(c("Map"))([["is_creation",!this.state.useCreationTool]]));var D=!this.state.useCreationTool;if(D)this.$VideoShowsLogoUploadDialog23();this.setState({useCreationTool:D,templateSelected:D?c("ShowmarkTemplate").RALEWAY:null})}.bind(this);this.$VideoShowsLogoUploadDialog27=function(event){var D=event.currentTarget.value;if(D.length<=v)this.setState({templateText:D},this.$VideoShowsLogoUploadDialog26)}.bind(this);this.$VideoShowsLogoUploadDialog26=function(){__p&&__p();var D=this.state,E=D.templateSelected,F=D.templateText;if(!E||F.length<w||F.length>v)return;var G=c("DOM").create("canvas");G.width=x;G.height=y;var H=G.getContext("2d");H.fillStyle="#ffffff";H.textAlign="left";H.textBaseline="bottom";var I=z;H=this.$VideoShowsLogoUploadDialog28(H,I,E);while(H.measureText(F).width>x&&I>A){I--;H=this.$VideoShowsLogoUploadDialog28(H,I,E)}if(H.measureText(F).width<=x)H.fillText(F,0,y);else{var J=F.split(" "),K="";for(var L=J,M=Array.isArray(L),N=0,L=M?L:L[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var O;if(M){if(N>=L.length)break;O=L[N++]}else{N=L.next();if(N.done)break;O=N.value}var P=O;if(H.measureText(K+P).width<=x)K+=P+" ";else break}K=K.trim();var Q=F.slice(K.length).trim();if(H.measureText(Q).width>x){while(H.measureText(K+F[K.length]).width<=x)K+=F[K.length];Q=F.slice(K.length).trim();while(H.measureText(Q).width>x)Q=Q.slice(0,-1)}H.fillText(K,0,y-I);H.fillText(Q,0,y)}c("canvasToBlob")(G,"image/png").then(function(R){var S=new FileReader();S.onload=function(T){this.$VideoShowsLogoUploadDialog3(T);this.setState({file:new File([R],"temp-showmark.png"),fileInput:c("ReactDOM").findDOMNode(this.refs.showmarkCreationFileInput),fileDataURL:G.toDataURL()})}.bind(this);S.onprogress=this.$VideoShowsLogoUploadDialog2;S.onerror=this.$VideoShowsLogoUploadDialog6;S.readAsDataURL(R)}.bind(this)).done()}.bind(this);this.$VideoShowsLogoUploadDialog23=function(){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").SHOWMARK_CREATION_TOOL_NUX);this.setState({creationToolNuxShown:false})}.bind(this);this.$VideoShowsLogoUploadDialog35=function(){__p&&__p();this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_UPLOAD_CLICKED,{cropWindow:JSON.stringify(this.state.cropWindow)});if(this.state.useCreationTool)this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_CREATION_UPLOAD,new(c("Map"))([["template",this.state.templateSelected],["template_text",this.state.templateText]]));if(this.state.fileInput){this.setState({uploadToServerState:"loading"});var D=c("XShowsLogoUploadController").getURIBuilder().setFBID("page_id",this.props.pageID);if(this.state.cropWindow)D.setIntVector("crop_window",this.state.cropWindow);D=c("ActorURI").create(D.getURI(),this.props.pageID);var E=new(c("FileInputUploader"))(this.state.fileInput).setURI(D).setFiles({file:this.state.file}).setData({file_data_url:this.state.fileDataURL});E.subscribe("success",function(F,G){this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_UPLOAD_SUCCESS,new(c("Map"))([["photo_id",G.photoID]]));this.setState({uploadToServerState:"success"});this.props.onSuccess()}.bind(this));E.subscribe("failure",function(F,G){this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_UPLOAD_FAILED);this.setState({uploadToServerState:"failed"})}.bind(this));E.send()}}.bind(this);this.$VideoShowsLogoUploadDialog36=function(){this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_DIALOG_CLOSED);this.props.hideDialog()}.bind(this);this.state={file:null,fileInput:null,fileDataURL:null,uploadToServerState:null,uploadState:null,url:C.existingLogoUrl,cropDims:null,cropWindow:null,useCreationTool:false,templateSelected:null,templateText:C.pageName.substr(0,v),creationToolNuxShown:!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").SHOWMARK_CREATION_TOOL_NUX)}}B.prototype.$VideoShowsLogoUploadDialog1=function(C){var D=C.files;if(!D||!D[0])return null;return D[0]};B.prototype.$VideoShowsLogoUploadDialog7=function(event,C){__p&&__p();event.preventDefault();var D=event.target,E=this.$VideoShowsLogoUploadDialog1(D);this.setState({fileInput:D,file:E});if(!E)return;var F=new FileReader();F.onload=this.$VideoShowsLogoUploadDialog3;F.onprogress=this.$VideoShowsLogoUploadDialog2;F.onerror=this.$VideoShowsLogoUploadDialog6;F.readAsDataURL(E);if(C)this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_FILE_SELECTED);else this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_FILE_CHANGED)};B.prototype.$VideoShowsLogoUploadDialog8=function(){return j._("Add Your Showmark")};B.prototype.$VideoShowsLogoUploadDialog9=function(){return j._("Showmarks highlight your show's brand. Your showmark appears as an overlay on top of your videos and thumbnails in the bottom-left corner. Your showmark should be unique to your show.")};B.prototype.$VideoShowsLogoUploadDialog4=function(C,D){var E=new(c("ShowCreationFlowTypedLogger"))().setStep(C).setPageID(this.props.pageID);if(D)E=E.updateExtraData(D);E.log()};B.prototype.$VideoShowsLogoUploadDialog10=function(){return c("React").createElement("div",{className:"_45l_"},c("React").createElement(c("Layout.react"),null,c("React").createElement(o,null,c("React").createElement("div",{className:"_2gsu"},c("React").createElement(c("Image.react"),{className:"_45m2",src:h("134353")}))),c("React").createElement(p,null,c("React").createElement("div",{className:"_45m4"},this.$VideoShowsLogoUploadDialog9()))))};B.prototype.$VideoShowsLogoUploadDialog11=function(){return c("React").createElement("div",{className:"_2gzs"},c("React").createElement(c("XUIText.react"),{display:"block",headingLevel:1,weight:"bold",className:"_2gzt"},this.$VideoShowsLogoUploadDialog8()),c("React").createElement(c("XUIText.react"),{display:"block",className:"_2gzu"},this.$VideoShowsLogoUploadDialog9()))};B.prototype.$VideoShowsLogoUploadDialog5=function(C,D,E,F){var G=Math.min(Math.min(E/(D[2]-D[0]+1),F/(D[3]-D[1]+1)),1),H=C.clone();H.setSize((D[2]-D[0]+1)*G,(D[3]-D[1]+1)*G);H.setZoom(G);return H};B.prototype.$VideoShowsLogoUploadDialog12=function(){var C=this.state,D=C.cropWindow,E=C.cropDims,F=C.url;if(E&&D)E=this.$VideoShowsLogoUploadDialog5(E,D,t,u);var G=c("React").createElement("div",{className:"_16wy"},E?c("React").createElement(c("PhotoZoomCropImagePreview.react"),{dimensions:E,size:E.getSize(),src:String(F),className:"_16wz"}):c("React").createElement(c("Image.react"),{src:F,className:"_16wz"}));return c("React").createElement("div",{className:"_2gzw"},c("React").createElement(c("XUIText.react"),{display:"block",weight:"bold",className:"_2gzz"},j._("Preview of your showmark placement")),c("React").createElement(c("XUICard.react"),{background:"base-wash",className:"_2gz-"},c("React").createElement("div",{className:"_16w_"},c("React").createElement(c("Layout.react"),{className:"_16x1"},c("React").createElement(o,null,this.props.pageProfilePic?c("React").createElement(c("Image.react"),{src:this.props.pageProfilePic,className:"_4kh1"}):c("React").createElement("div",{className:"_4kh1"})),c("React").createElement(p,null,c("React").createElement(c("XUIText.react"),{weight:"bold"},this.props.pageName),c("React").createElement(c("Layout.react"),null,c("React").createElement(o,null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1"},j._("2 hours ago"))),c("React").createElement(o,{className:"_3-8r"},c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1"},"\xb7")),c("React").createElement(o,null,c("React").createElement(c("Image.react"),{className:"_4kh3",src:h("124639")})))),c("React").createElement(o,null,c("React").createElement(c("Image.react"),{src:h("125398")}))),c("React").createElement("div",{className:"_16x2"+(!!this.state.url?" _3d6w":"")},this.state.url?G:c("React").createElement(c("XUIText.react"),{className:"_16wy"},j._("Showmark").toString())),c("React").createElement("div",{className:"_16x5"},c("React").createElement(c("Layout.react"),null,c("React").createElement(p,null,c("React").createElement(c("XUIGrayText.react"),{className:"_16x6",display:"block",shade:"light",size:"meta1"},j._("LATEST EPISODE")),c("React").createElement(c("XUIText.react"),{display:"block",weight:"bold",className:"_16x8"},j._("Episode title"))),c("React").createElement(o,null,c("React").createElement(c("XUIButton.react"),{className:"_16x9",image:c("React").createElement(c("Image.react"),{src:h("121816")}),label:j._("Watchlist"),use:"default",href:"#"})))))),c("React").createElement("div",{className:"_2gz_"},this.$VideoShowsLogoUploadDialog13()))};B.prototype.$VideoShowsLogoUploadDialog14=function(){return c("React").createElement("div",{className:"_2g-0"},this.state.uploadToServerState==="loading"?c("React").createElement("div",{className:"_26of"},c("React").createElement(c("XUISpinner.react"),{className:"_26oj",background:"dark",size:"large"})):null,c("React").createElement(c("LeftRight.react"),null,this.$VideoShowsLogoUploadDialog15(),this.$VideoShowsLogoUploadDialog12()))};B.prototype.$VideoShowsLogoUploadDialog16=function(){return c("React").createElement(c("VideoShowsLogoFileInput.react"),{onFileChange:function(event){return this.$VideoShowsLogoUploadDialog7(event,true)}.bind(this),ref:"blankLogofileInput"},c("React").createElement("a",{href:"#"},c("React").createElement("div",{className:"_45m5"},c("React").createElement(c("Image.react"),{className:"_3-94",src:h("124971")}),c("React").createElement(c("XUIGrayText.react"),{shade:"medium",size:"header3",className:"_37a1"},j._("Click to upload or drag image")))))};B.prototype.$VideoShowsLogoUploadDialog17=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_45m6"},c("React").createElement(c("Image.react"),{className:"_45m9",src:this.state.url})),c("React").createElement(c("VideoShowsLogoFileInput.react"),{onFileChange:function(event){return this.$VideoShowsLogoUploadDialog7(event,false)}.bind(this),ref:"changeLogofileInput"},c("React").createElement("a",{href:"#"},c("React").createElement(c("Layout.react"),{style:{marginTop:"12px"}},c("React").createElement(o,null,c("React").createElement(c("Image.react"),{src:h("126555")})),c("React").createElement(o,null,c("React").createElement(c("XUIGrayText.react"),{style:{paddingLeft:"4px"},shade:"light"},j._("Change Image")))))))};B.prototype.$VideoShowsLogoUploadDialog18=function(){var C=c("React").createElement(c("VideoShowsLogoFileInput.react"),{onFileChange:function(event){return this.$VideoShowsLogoUploadDialog7(event,false)}.bind(this),ref:"changeLogofileInput"},c("React").createElement(c("XUIButton.react"),{className:"_3-8y",image:c("React").createElement(c("Image.react"),{src:h("121748")}),label:j._("Change Showmark"),use:"default",href:"#"}));if(this.state.cropDims)C=c("React").createElement(c("Layout.react"),{className:"_3-8o"},c("React").createElement(o,null,c("React").createElement(c("Image.react"),{src:h("116731")})),c("React").createElement(p,{className:"_18p2"},c("React").createElement(c("XUIText.react"),{weight:"bold",display:"block"},j._("Showmark Cropped")),c("React").createElement(c("XUIText.react"),{display:"block"},j._("To make sure your showmark displays properly, your graphic was automatically cropped to remove any extra padding around the sides.")),c("React").createElement("div",null,c("React").createElement(c("XUIButton.react"),{className:"_3-8y _3-90",image:c("React").createElement(c("Image.react"),{src:h("120765")}),label:j._("Revert"),use:"default",href:"#",onClick:function(){this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_UPLOAD_CROP_REVERTED);this.setState({cropDims:null,cropWindow:null})}.bind(this)}),C)));var D=this.state,E=D.cropDims,F=D.url;return c("React").createElement("div",null,c("React").createElement("div",{className:"_45m6"},E?c("React").createElement(c("PhotoZoomCropImagePreview.react"),{className:"_18p3",dimensions:E,size:E.getSize(),src:String(F)}):c("React").createElement(c("Image.react"),{className:"_45m9",src:F})),C)};B.prototype.$VideoShowsLogoUploadDialog19=function(){return c("React").createElement(c("AdsXUIProgressBar.react"),{className:"_45mb",striped:true,value:100})};B.prototype.$VideoShowsLogoUploadDialog20=function(){return c("React").createElement(c("XUINotice.react"),{style:{marginTop:"12px",marginRight:"12px"},use:"warn"},j._("There was an error while adding your showmark. Please try again."))};B.prototype.$VideoShowsLogoUploadDialog21=function(){return c("React").createElement("ul",{className:"_2g-3"},c("React").createElement("li",{className:"_2g-4"},j._("At least 300 pixels high (recommended size: 900 x 300 pixels).")),c("React").createElement("li",{className:"_2g-4"},j._("An all-white graphic on a transparent background.")),c("React").createElement("li",{className:"_2g-4"},j._("PNG files only.")),c("React").createElement("li",{className:"_2g-4"},j._("Tightly cropped around the edges of your graphic so there's no extra padding on any side (see the white lines around the showmark below)."),c("React").createElement("div",{className:"_2g-5"},c("React").createElement("div",{className:"_2g-6"},j._("Showmark").toString()))))};B.prototype.$VideoShowsLogoUploadDialog24=function(){return c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{className:"_2g-8"},j._("ADD A SHOWMARK")),this.state.url?this.$VideoShowsLogoUploadDialog18():this.$VideoShowsLogoUploadDialog16(),this.state.uploadState==="loading"?this.$VideoShowsLogoUploadDialog19():null)};B.prototype.$VideoShowsLogoUploadDialog25=function(C){this.$VideoShowsLogoUploadDialog4(c("ShowCreationFlowStep").SHOWMARK_CREATION_TEMPLATE_SELECTED,new(c("Map"))([["template",C]]));this.setState({templateSelected:C},this.$VideoShowsLogoUploadDialog26)};B.prototype.$VideoShowsLogoUploadDialog28=function(C,D,E){C.font=D+"px "+c("ShowmarkTemplateFontConfig")[E];return C};B.prototype.componentDidUpdate=function(C,D){if(this.state.useCreationTool&&!D.useCreationTool)this.$VideoShowsLogoUploadDialog25(c("ShowmarkTemplate").RALEWAY)};B.prototype.$VideoShowsLogoUploadDialog29=function(C){return c("React").createElement("div",{className:"_3h-p"+(C===this.state.templateSelected?" _3h-q":""),onClick:function(){return this.$VideoShowsLogoUploadDialog25(C)}.bind(this),role:"radio","aria-checked":C===this.state.templateSelected,tabIndex:Object.values(c("ShowmarkTemplate")).indexOf(C)},c("React").createElement("span",{style:{fontFamily:c("ShowmarkTemplateFontConfig")[C]},className:"_3h-r"},"Abc"))};B.prototype.$VideoShowsLogoUploadDialog30=function(){var C=v-this.state.templateText.length;return c("React").createElement("div",{className:"_2put"},c("React").createElement(c("XUIText.react"),{className:"_2g-8"},j._("SELECT A SHOWMARK TEMPLATE")),c("React").createElement(c("Grid.react"),{cols:3,spacing:"pas",className:"_3-8o"},Object.keys(c("ShowmarkTemplate")).map(function(D){return c("React").createElement(n,{key:D},this.$VideoShowsLogoUploadDialog29(D))}.bind(this))),c("React").createElement(c("XUITextInput.react"),{className:"_2puu",value:this.state.templateText,onChange:this.$VideoShowsLogoUploadDialog27}),c("React").createElement(c("XUIText.react"),{size:"meta1",display:"block",className:"_3-8x"+(C<=0||this.state.templateText.length<w?" _2puw":"")},this.state.templateText.length>=w?j._({"*":"({number} characters remaining)","_1":"(1 character remaining)"},[j.plural(C,"number")]):j._("Showmark must be more than 3 characters")),c("React").createElement(c("VideoShowsLogoFileInput.react"),{ref:"showmarkCreationFileInput",onFileChange:function D(){},className:"hidden_elem"},c("React").createElement("a",{href:"#"})))};B.prototype.$VideoShowsLogoUploadDialog15=function(){var C=c("React").createElement(c("Link.react"),{href:"#",onClick:this.$VideoShowsLogoUploadDialog22,className:"_33xa",ref:"creationToolToggleLink"},this.state.useCreationTool?j._("Do you want to add your own showmark?"):j._("Don't have a showmark? Add a default showmark.")),D=c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.creationToolToggleLink}.bind(this),position:"below",shown:this.state.creationToolNuxShown,onCloseButtonClick:this.$VideoShowsLogoUploadDialog23},j._("New! If you don't have a showmark, Facebook can make one for you to get started."));return c("React").createElement("div",{className:"_2g-7"},c("React").createElement(c("XUIText.react"),{className:"_2g-8"},j._("SHOWMARK REQUIREMENTS")),this.$VideoShowsLogoUploadDialog21(),this.state.useCreationTool?this.$VideoShowsLogoUploadDialog30():this.$VideoShowsLogoUploadDialog24(),C,this.state.creationToolNuxShown?D:null)};B.prototype.$VideoShowsLogoUploadDialog31=function(){return c("React").createElement("div",{className:"_ixe"},c("React").createElement(c("Text"),{style:{fontWeight:"bold",marginBottom:"12px"}},j._("Your showmark should be:")),c("React").createElement("ul",{className:"_2hz8"},c("React").createElement("li",{className:"_2hza"},j._("At least 300 pixels tall (recommended size: 900 x 300 pixels).")),c("React").createElement("li",{className:"_2hza"},j._("An all-white graphic on a transparent background.")),c("React").createElement("li",{className:"_2hza"},j._("PNG files only")),c("React").createElement("li",{className:"_2hza"},j._("Tightly crop around the edges of your graphic so that there's no extra padding or pixels on the sides."))),this.state.url?this.$VideoShowsLogoUploadDialog17():this.$VideoShowsLogoUploadDialog16(),this.state.uploadState=="loading"?this.$VideoShowsLogoUploadDialog19():null)};B.prototype.$VideoShowsLogoUploadDialog32=function(){return c("React").createElement("div",{className:"_1qx9"},c("React").createElement(c("Layout.react"),null,c("React").createElement(o,null,c("React").createElement("div",{className:"_4kh1"})),c("React").createElement(p,null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"header4"},j._("Show name added a new episode")),c("React").createElement(c("Layout.react"),null,c("React").createElement(o,null,c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1",className:"_3-90"},j._("2 hours ago"))),c("React").createElement(o,null,c("React").createElement(c("Image.react"),{className:"_4kh3",src:h("126241")})))),c("React").createElement(o,null,c("React").createElement(c("Image.react"),{src:h("125398")}))),c("React").createElement("div",{className:(this.state.url!=null?"_1qxa":"")+(this.state.url==null?" _1qxo":"")+" _1qxp"},this.state.url?c("React").createElement(c("Image.react"),{className:"_1qxq",src:this.state.url}):c("React").createElement("div",{className:"_4kh6"})))};B.prototype.$VideoShowsLogoUploadDialog33=function(){return c("React").createElement("div",{className:"_1qx7"},c("React").createElement(c("Text"),{className:"_3-94",style:{fontWeight:"bold"}},j._("Example of showmark placement")),c("React").createElement(c("Text"),{style:{display:"block"}},j._("This is how your showmark will appear on your videos in News Feed.")),c("React").createElement("div",{className:"_1qx8"},this.$VideoShowsLogoUploadDialog32(),this.$VideoShowsLogoUploadDialog32()))};B.prototype.$VideoShowsLogoUploadDialog34=function(){return c("React").createElement("div",{style:{padding:"18px"}},this.state.uploadToServerState==="loading"?c("React").createElement("div",{className:"_26of"},c("React").createElement(c("XUISpinner.react"),{className:"_26oj",background:"dark",size:"large"})):null,c("React").createElement(c("LeftRight.react"),null,this.$VideoShowsLogoUploadDialog31(),this.$VideoShowsLogoUploadDialog33()),this.state.uploadState==="failed"||this.state.uploadToServerState==="failed"?this.$VideoShowsLogoUploadDialog20():null)};B.prototype.$VideoShowsLogoUploadDialog13=function(){var C=this.state.uploadToServerState==="loading",D=this.state.useCreationTool&&(!this.state.templateSelected||this.state.templateText.length<w);return c("React").createElement(c("LeftRight.react"),null,c("React").createElement("span",null),c("React").createElement("span",null,c("React").createElement(c("XUIDialogButton.react"),{label:j._("Cancel"),action:"cancel",size:"large",use:"default",onClick:this.$VideoShowsLogoUploadDialog36,disabled:C}),c("React").createElement(c("XUIDialogButton.react"),{label:j._("Add Showmark"),action:"confirm",size:"large",use:"confirm",disabled:this.state.uploadState!=="success"||C||D,onClick:this.$VideoShowsLogoUploadDialog35})))};B.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement(c("XUIDialog.react"),{width:q,shown:true,hideOnEscape:false,label:this.$VideoShowsLogoUploadDialog8(),layerHideOnBlur:false},c("React").createElement(c("XUIDialogBody.react"),{className:"_45me"},this.$VideoShowsLogoUploadDialog11(),this.$VideoShowsLogoUploadDialog14())))};f.exports=B}),null);
__d("VideoComponentShowmarkOverlay.react",["ix","cx","fbt","AbstractButton.react","AsyncRequest","Image.react","Layout.react","PopoverMenu.react","React","ReactXUIMenu","ShowCreationFlowStep","ShowsCreationLoggerUtils","VideoShowsLogoUploadDialog.react","XPagesCoverReloadController","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("Layout.react").Column,n=c("Layout.react").FillColumn,o=c("ReactXUIMenu").Item;k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(q){__p&&__p();l.constructor.call(this,q);this.$VideoComponentShowmarkOverlay1=function(){c("ShowsCreationLoggerUtils").log(c("ShowCreationFlowStep").SHOWMARK_CHANGE_CLICK,this.props.pageID);this.setState({showEditShowMarkDialog:true})}.bind(this);this.$VideoComponentShowmarkOverlay2=function(){this.setState({showEditShowMarkDialog:false})}.bind(this);this.$VideoComponentShowmarkOverlay3=function(){new(c("AsyncRequest"))().setURI(c("XPagesCoverReloadController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI()).send();this.$VideoComponentShowmarkOverlay2()}.bind(this);this.state={showEditShowMarkDialog:false}}p.prototype.$VideoComponentShowmarkOverlay4=function(){return c("React").createElement(c("Image.react"),{className:"_1o-v",src:this.props.showmarkURL})};p.prototype.$VideoComponentShowmarkOverlay5=function(){if(!this.props.isAdmin)return null;var q=c("React").createElement(c("ReactXUIMenu"),null,c("React").createElement(o,{onClick:this.$VideoComponentShowmarkOverlay1},j._("Change showmark"))),r=c("React").createElement(c("Image.react"),{src:h("115342")}),s=j._("Edit Showmark");return c("React").createElement("div",null,this.state.showEditShowMarkDialog?c("React").createElement(c("VideoShowsLogoUploadDialog.react"),{existingLogoUrl:this.props.showmarkUploadPreviewURL,pageID:this.props.pageID,pageName:this.props.pageName,pageProfilePic:this.props.pageProfilePic,hideDialog:this.$VideoComponentShowmarkOverlay2,onSuccess:this.$VideoComponentShowmarkOverlay3}):null,c("React").createElement("div",{className:"_2210"},c("React").createElement(c("PopoverMenu.react"),{menu:q,position:"below"},c("React").createElement(c("AbstractButton.react"),{className:"_2212",image:r,label:s,labelIsHidden:true,ref:"button",type:"button"}))))};p.prototype.render=function(){return c("React").createElement(c("Layout.react"),{className:"_2213"},c("React").createElement(m,null,this.$VideoComponentShowmarkOverlay4()),c("React").createElement(n,null,this.$VideoComponentShowmarkOverlay5()))};f.exports=p}),null);
__d("VideoComponentShowsTrailerOverlay.react",["ix","cx","fbt","ComposerEntryPointRef","ComposerXVideoUploadDialogController","ContextualDialogArrow","formatDurationSeconds","FileInput.react","Image.react","LeftRight.react","LineClamp.react","OptimisticVideoProgressBar.react","PagesCoverTrailerState","ProgressBar.react","PopoverMenu.react","ShowCreationFlowStep","ShowsCreationLoggerUtils","React","ReactXUIMenu","VideoComponent","VideoComponentShowmarkOverlay.react","VideoPlayerStates","XUIOverlayButton.react","fbglyph","joinClasses","DateConsts"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ReactXUIMenu").Item,n=c("DateConsts").MS_PER_SEC;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(p){__p&&__p();l.constructor.call(this,p);this.$VideoComponentShowsTrailerOverlay4=function(){c("ShowsCreationLoggerUtils").log(c("ShowCreationFlowStep").SHOW_TRAILER_UPLOAD_NEW_CLICKED,this.props.pageID)}.bind(this);this.$VideoComponentShowsTrailerOverlay5=function(){c("ShowsCreationLoggerUtils").log(c("ShowCreationFlowStep").SHOW_TRAILER_UPLOAD_NEW_FILE_SELECTED,this.props.pageID);var q=this.refs.fileInput;if(!q)return;var r=q.getFileInput();c("ComposerXVideoUploadDialogController").showDialog({targetID:this.props.pageID,fileInput:r,composerEntryPointRef:c("ComposerEntryPointRef").PAGE_TRAILER})}.bind(this);this.state={vpc:null}}o.prototype.enable=function(p){this.setState({vpc:p})};o.prototype.disable=function(){};o.prototype.$VideoComponentShowsTrailerOverlay1=function(){var p=this.props.data.showsData,q=p.showmarkURL,r=p.showmarkUploadPreviewURL,s=p.title,t=p.profilePic;if(!q||!r)return null;return c("React").createElement(c("VideoComponentShowmarkOverlay.react"),{showmarkURL:q.toString(),showmarkUploadPreviewURL:r.toString(),pageID:this.props.pageID,pageName:s,pageProfilePic:t,isAdmin:this.props.isAdmin})};o.prototype.$VideoComponentShowsTrailerOverlay2=function(){var p=this.props.data.viewerCoverTrailerState;switch(p){case c("PagesCoverTrailerState").RESUME_EPISODE:return j._("Continue watching");case c("PagesCoverTrailerState").LATEST_EPISODE:return j._("Latest episode");case c("PagesCoverTrailerState").WATCH_TRAILER:return j._("Trailer")}return null};o.prototype.$VideoComponentShowsTrailerOverlay3=function(){var p=this.props.data,q=p.showsVideoData,r=p.viewerCoverTrailerState,s=r===c("PagesCoverTrailerState").WATCH_TRAILER,t=q?q.title:null;return c("React").createElement("div",{className:"_39rm"},this.$VideoComponentShowsTrailerOverlay1(),s?null:[c("React").createElement("div",{className:"_39ro",key:"title"},c("React").createElement(c("LineClamp.react"),{lines:2},t)),c("React").createElement("div",{className:"_39rn",key:"header"},this.$VideoComponentShowsTrailerOverlay2())])};o.prototype.$VideoComponentShowsTrailerOverlay6=function(){if(!this.props.isAdmin)return null;var p=c("React").createElement(c("ReactXUIMenu"),null,c("React").createElement(m,{renderas:"label"},c("React").createElement(c("FileInput.react"),{accept:"video/mp4, video/quicktime, video/*",ref:"fileInput",onClick:this.$VideoComponentShowsTrailerOverlay4,onChange:this.$VideoComponentShowsTrailerOverlay5},c("React").createElement("a",{style:{color:"inherit",textDecoration:"none"}},j._("Upload new video")))));return c("React").createElement("div",{className:"_20kk"},c("React").createElement(c("PopoverMenu.react"),{layerBehaviors:[c("ContextualDialogArrow")],menu:p,position:"below"},c("React").createElement(c("XUIOverlayButton.react"),{className:"_20kl",image:c("React").createElement(c("Image.react"),{src:h("125727")}),label:j._("Change Trailer"),href:"#"})))};o.prototype.$VideoComponentShowsTrailerOverlay7=function(p){var q=c("React").createElement(c("Image.react"),{className:"_39rl",src:h("125848")});return c("React").createElement("div",{className:"_39rs"},q,c("React").createElement("span",{className:"_39rt"},c("formatDurationSeconds")(p/n)))};o.prototype.$VideoComponentShowsTrailerOverlay8=function(){var p=this.props.data,q=p.showsVideoData,r=p.viewerCoverTrailerState,s=q?q.duration:100,t=q?q.startTimestamp:40;return r===c("PagesCoverTrailerState").RESUME_EPISODE&&s&&t?c("React").createElement("div",{className:"_tn4"},c("React").createElement(c("ProgressBar.react"),{className:"_df_",max:s,min:0,value:t})):null};o.prototype.render=function(){var p=this.state.vpc&&this.state.vpc.getState()===c("VideoPlayerStates").PLAYING,q=this.props.isTrailer&&(!this.state.vpc||this.state.vpc.getState()===c("VideoPlayerStates").READY);return c("React").createElement("div",{className:c("joinClasses")("_39s3"+(!this.props.isTrailer&&p?" _s0s":"")+(q?" _31ye":""),this.props.className)},c("React").createElement("div",{className:"_39s4"}),c("React").createElement("div",{className:"_1fth"}),this.props.uploadedVideoData?c("React").createElement("div",{className:"_20km"},c("React").createElement(c("OptimisticVideoProgressBar.react"),{videoID:this.props.uploadedVideoData.videoID,videoAssetID:this.props.uploadedVideoData.videoAssetID,width:this.props.width,onReadyEvent:"pageTrailerVideoEncode/complete"})):null,c("React").createElement("div",{className:this.props.uploadedVideoData!=null?"hidden_elem":""},c("React").createElement(c("LeftRight.react"),{className:"_20kn _1fti"},c("React").createElement("div",{className:"_39s5"},this.$VideoComponentShowsTrailerOverlay3()),this.$VideoComponentShowsTrailerOverlay6())),this.$VideoComponentShowsTrailerOverlay8())};f.exports=c("VideoComponent").createContainer(o,{observedVpcEvents:["stateChange"]})}),null);
__d("VideoComponentShowsVideoLink.react",["cx","fbt","React","VideoComponent","VideoLink.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.enable=function(m){};l.prototype.disable=function(){};l.prototype.render=function(){var m=i._("Play Episode");return c("React").createElement(c("VideoLink.react"),babelHelpers["extends"]({onClick:this.props.onClick,useTahoe:true},this.props.data),c("React").createElement("div",{className:"_1hvs"},c("React").createElement("i",{className:"_3htz _1jto"+(!this.props.hideButton?" _bsl":""),role:"presentation"},c("React").createElement("input",{"aria-label":m,type:"button",className:"_yak"}))))};function l(){j.apply(this,arguments)}f.exports=c("VideoComponent").createContainer(l)}),null);
__d("VideoComponentShowsViewers.react",["cx","fbt","FacepileRounded.react","intlSummarizeNumber","React","VideoComponent","VideoPlayerStates"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=30;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.state={vpc:null}}m.prototype.enable=function(n){this.setState({vpc:n})};m.prototype.disable=function(){};m.prototype.$VideoComponentShowsViewers1=function(n){var o=n.map(function(p){return{image_src:"https://graph.facebook.com/"+p+"/picture?height="+l*2+"&width="+l*2,name:""}});return c("React").createElement(c("FacepileRounded.react"),{direction:"descending",className:"_1kox",imageSize:l,profiles:o})};m.prototype.render=function(){if(!this.props.data)return null;var n=this.props.data,o=n.friendList,p=n.friendCount,q=n.followerCount,r=this.state.vpc&&this.state.vpc.getState()===c("VideoPlayerStates").PLAYING,s=o==null||o.length===0?null:this.$VideoComponentShowsViewers1(o),t=p===0?c("React").createElement("span",{className:"_1koz"},i._({"*":"{fan_count} followers","_1":"1 follower"},[i.plural(q,"fan_count",c("intlSummarizeNumber")(q))])):c("React").createElement("span",{className:"_1koz"},i._({"*":{"*":"{fan_count} followers including {friend_count} friends","_1":"{fan_count} followers including 1 friend"},"_1":{"*":"1 follower including {friend_count} friends","_1":"1 follower including 1 friend"}},[i.plural(q,"fan_count",c("intlSummarizeNumber")(q)),i.plural(p,"friend_count",c("intlSummarizeNumber")(p))]));return c("React").createElement("div",{className:"_1ko-"+(this.props.hideOnPlay?" _s0r":"")+(this.props.hideOnPlay&&r?" _s0s":"")},s,t)};f.exports=c("VideoComponent").createContainer(m,{observedVpcEvents:["stateChange"]})}),null);
__d("VideoShowsAdminAddTrailer.react",["ix","cx","fbt","ComposerEntryPointRef","ComposerXVideoUploadDialogController","FileInput.react","Image.react","OptimisticVideoProgressBar.react","React","AbstractButton.react","Text.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n){l.constructor.call(this,n);this.$VideoShowsAdminAddTrailer1=function(){var o=this.refs.fileInput;if(!o)return;var p=o.getFileInput();c("ComposerXVideoUploadDialogController").showDialog({targetID:this.props.pageID,fileInput:p,composerEntryPointRef:c("ComposerEntryPointRef").PAGE_TRAILER})}.bind(this)}m.prototype.render=function(){if(!this.props.isAdmin)return null;return c("React").createElement("div",{style:{width:this.props.width,height:this.props.height},className:"_1ew_ _5-9f"},c("React").createElement("div",{className:"_5-9g"},c("React").createElement("div",{className:"_4xv5"},c("React").createElement(c("Image.react"),{className:"_4xv6",src:h("122642")})),c("React").createElement(c("Text.react"),{className:"_5-9h",style:{fontSize:16,fontWeight:"600",color:"white"}},j._("Introduce your show with a trailer")),c("React").createElement(c("Text.react"),{className:"_40em"},j._("Your trailer is a 16:9 video that is used to promote your show across Facebook. It should be less than 2 minutes 30 seconds long.")),c("React").createElement(c("Text.react"),{className:"_40em _3-8w"},j._("Your trailer and most recent episodes will play in this space.")),this.props.uploadedVideoData?null:c("React").createElement(c("FileInput.react"),{accept:"video/mp4, video/quicktime, video/*",ref:"fileInput",onChange:this.$VideoShowsAdminAddTrailer1},c("React").createElement(c("AbstractButton.react"),{className:"_5-9j",label:j._("Add Trailer"),href:"#"})),this.props.uploadedVideoData?c("React").createElement(c("OptimisticVideoProgressBar.react"),{videoID:this.props.uploadedVideoData.videoID,videoAssetID:this.props.uploadedVideoData.videoAssetID,width:this.props.width,onReadyEvent:"pageTrailerVideoEncode/complete"}):null))};f.exports=m}),null);
__d("VideoShowsTrailer.react",["cx","Arbiter","AsyncRequest","ComposerEntryPointRef","Map","OnVisible.react","PagesCoverTrailerState","PagesEventObserver","PagesEventType","React","ShowCreationFlowStep","ShowsCreationLoggerUtils","VideoComponentEmbeddedControls.react","VideoComponentShowsVideoLink.react","VideoComponentShowsViewers.react","VideoComponentShowsTrailerOverlay.react","VideoComponentWithLoopingPlayback.react","VideoComponentCover.react","VideoDataContainer.react","VideoPlayer.react","VideoPlayerOrigins","VideoPlayerReason","VideoShowsAdminAddTrailer.react","XPagesCoverReloadController","DateConsts","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("DateConsts").MS_PER_SEC,l=-100;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(n){__p&&__p();j.constructor.call(this,n);this.$VideoShowsTrailer1=null;this.$VideoShowsTrailer2=null;this.$VideoShowsTrailer3=null;this.$VideoShowsTrailer4=false;this.$VideoShowsTrailer6=function(){var o=this.refs.player;if(o&&o.vpc.isState("playing")){this.$VideoShowsTrailer4=true;o.vpc.pause(c("VideoPlayerReason").PAGE_VISIBILITY)}}.bind(this);this.$VideoShowsTrailer7=function(){if(!this.$VideoShowsTrailer4)return;this.$VideoShowsTrailer4=false;var o=this.refs.player;o.vpc.play(c("VideoPlayerReason").PAGE_VISIBILITY)}.bind(this);this.$VideoShowsTrailer8=function(){this.$VideoShowsTrailer5("COVER_TRAILER_CLICK")}.bind(this);this.$VideoShowsTrailer9=function(){return c("VideoDataContainer.react").renderSpinner(this.props.renderedWidth,this.props.renderedHeight)}.bind(this);this.state={uploadedVideoData:null}}m.prototype.componentDidMount=function(){__p&&__p();this.$VideoShowsTrailer5("COVER_TRAILER_IMPRESSION");this.$VideoShowsTrailer1=c("Arbiter").subscribe("videoUpload/complete",function(n,o){var p=c("ComposerEntryPointRef").PAGE_TRAILER+"_"+this.props.pageID;if(o.originalComposerID==p){c("ShowsCreationLoggerUtils").log(c("ShowCreationFlowStep").SHOW_TRAILER_UPLOADED,this.props.pageID,new(c("Map"))([["video_id",o.videoID]]));this.setState({uploadedVideoData:o})}}.bind(this));this.$VideoShowsTrailer2=c("Arbiter").subscribe("pageTrailerVideoEncode/complete",function(n,o){c("ShowsCreationLoggerUtils").log(c("ShowCreationFlowStep").SHOW_TRAILER_ENCODE_SUCCESS,this.props.pageID,new(c("Map"))([["video_id",o.videoID]]));new(c("AsyncRequest"))().setURI(c("XPagesCoverReloadController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI()).setHandler(function(p){this.setState({uploadedVideoData:null})}.bind(this)).send()}.bind(this));this.$VideoShowsTrailer3=c("Arbiter").subscribe("videoUpload/cancel",function(n,o){var p=c("ComposerEntryPointRef").PAGE_TRAILER+"_"+this.props.pageID;if(o.composerID==p)c("ShowsCreationLoggerUtils").log(c("ShowCreationFlowStep").SHOW_TRAILER_UPLOAD_CANCELLED,this.props.pageID)}.bind(this))};m.prototype.componentWillUnmount=function(){if(this.$VideoShowsTrailer1)c("Arbiter").unsubscribe(this.$VideoShowsTrailer1);if(this.$VideoShowsTrailer2)c("Arbiter").unsubscribe(this.$VideoShowsTrailer2);if(this.$VideoShowsTrailer3)c("Arbiter").unsubscribe(this.$VideoShowsTrailer3)};m.prototype.$VideoShowsTrailer5=function(n){var o,p,q=this.props.data;if(!q)return;var r=(o=q)!=null?(o=o.showsVideoData)!=null?o.videoID:o:o,s=(p=q)!=null?(p=p.showsVideoData)!=null?p.startTimestamp:p:p;c("PagesEventObserver").notify(c("PagesEventType")[n],this.props.pageID,{videoID:r,startTimestamp:s,viewerCoverTrailerState:q.viewerCoverTrailerState})};m.prototype.$VideoShowsTrailer10=function(){return this.props.data!=null&&this.props.data.viewerCoverTrailerState===c("PagesCoverTrailerState").WATCH_TRAILER};m.prototype.$VideoShowsTrailer11=function(){return this.$VideoShowsTrailer10()?c("React").createElement(c("VideoComponentEmbeddedControls.react"),{hidePlaybackControl:true,hideRemainingTime:true,showFullscreenButton:false,showSettingsButton:false}):null};m.prototype.render=function(){var n=this.props.data;if(!n)return null;var o=n.showsVideoData,p=n.videoLinkData,q=n.isAdmin;if(!o||!p)return c("React").createElement(c("VideoShowsAdminAddTrailer.react"),{isAdmin:q,uploadedVideoData:this.state.uploadedVideoData,width:this.props.renderedWidth,height:this.props.renderedHeight,pageID:this.props.pageID});var r=o.startTimestamp?o.startTimestamp/k:0;return c("React").createElement(c("OnVisible.react"),{className:"_28pj",buffer:l,onHidden:this.$VideoShowsTrailer6,onVisible:this.$VideoShowsTrailer7},c("React").createElement(c("VideoDataContainer.react"),{key:o.videoID,videoID:o.videoID,renderLoading:this.$VideoShowsTrailer9},c("React").createElement(c("VideoPlayer.react"),{allowCrossPageTransition:true,autoplay:this.$VideoShowsTrailer10(),forceHD:true,height:this.props.renderedHeight,offsetType:"vertical",playerOrigin:c("VideoPlayerOrigins").PAGE_TIMELINE,playerSuborigin:"page_header",ref:"player",startMuted:true,startTimestamp:r,videoData:c("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,width:this.props.renderedWidth},c("React").createElement(c("VideoComponentCover.react"),{hiddenAfterFinish:true,showWhileBuffering:true}),c("React").createElement(c("VideoComponentShowsTrailerOverlay.react"),{data:n,isAdmin:q,isTrailer:this.$VideoShowsTrailer10(),pageID:this.props.pageID,uploadedVideoData:this.state.uploadedVideoData,width:this.props.renderedWidth}),c("React").createElement(c("VideoComponentShowsViewers.react"),{data:n.showsFollowerData,hideOnPlay:!this.$VideoShowsTrailer10()}),c("React").createElement(c("VideoComponentWithLoopingPlayback.react"),{forceLooping:true}),c("React").createElement(c("VideoComponentShowsVideoLink.react"),{data:n.videoLinkData,hideButton:this.$VideoShowsTrailer10(),onClick:this.$VideoShowsTrailer8}),this.$VideoShowsTrailer11())))};m.defaultProps={renderedHeight:461.25,renderedWidth:820};f.exports=m}),null);
__d("PagesCurrentCoverComponent.react",["PagesCoverLoadingScreen.react","PagesCoverPhoto.react","PagesCoverSlideshow.react","PagesCoverType","PagesCoverVideoPlayer.react","PagesLiveCoverVideo.react","React","VideoShowsTrailer.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();var j=null;switch(i.currentCoverType){case c("PagesCoverType").LOADING:j=c("React").createElement(c("PagesCoverLoadingScreen.react"),null);break;case c("PagesCoverType").COVER_LIVE_VIDEO:var k=i.coverData.cover_live_video,l=k.videoID,m=k.renderedHeight;if(l)j=c("React").createElement(c("PagesLiveCoverVideo.react"),{renderedHeight:m,videoID:l});break;case c("PagesCoverType").COVER_TRAILER:j=c("React").createElement(c("VideoShowsTrailer.react"),{data:i.coverData.cover_trailer,pageID:i.pageID});break;case c("PagesCoverType").COVER_VIDEO:j=c("React").createElement(c("PagesCoverVideoPlayer.react"),i.coverData.cover_video);break;case c("PagesCoverType").COVER_SLIDESHOW:j=c("React").createElement(c("PagesCoverSlideshow.react"),babelHelpers["extends"]({pageID:i.pageID},i.coverData.cover_slideshow));break;case c("PagesCoverType").COVER_PHOTO:default:j=c("React").createElement(c("PagesCoverPhoto.react"),i.coverData.cover_photo)}return j}f.exports=h}),null);
__d("PagesCoverVideoPreviewActionBar.react",["cx","React","XUIButton.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){return c("React").createElement("div",{className:"_2roy"},!j.leftElement?null:c("React").createElement("div",{className:"_1iaz"},j.leftElement),c("React").createElement("div",{className:"_1ia-"},c("React").createElement("span",{className:"_1ia_"},c("React").createElement(c("XUIButton.react"),{className:"_3-90",label:j.cancelButtonLabel,onClick:j.onCancelClick}),c("React").createElement(c("XUIButton.react"),{label:j.confirmButtonLabel,onClick:j.onConfirmClick,use:"confirm"}))))};f.exports=i}),null);
__d("PagesCoverVideoRepositionIndicator.react",["ix","cx","fbt","Image.react","React","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k=function k(l){if(!l.shown)return null;return c("React").createElement("div",{className:"_1ge3"},c("React").createElement("div",{className:"_1geb"},c("React").createElement(c("Image.react"),{className:"_4l6j",src:h("114322")}),c("React").createElement("span",{className:"_4l6j"},j._("Drag to Reposition"))))};f.exports=k}),null);
__d("PagesCoverVideoPreview.react",["ix","cx","fbt","invariant","CenteredContainer.react","CoverVideoOffsetType","CoverVideoStatus","CoverVideoUtil","Image.react","PagesCoverVideoActionCreator","PagesCoverVideoPreviewActionBar.react","PagesCoverVideoRepositionIndicator.react","PagesCoverVideoConstant","React","XUISpinner.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=-1;l=babelHelpers.inherits(o,c("React").Component);m=l&&l.prototype;function o(p){__p&&__p();m.constructor.call(this,p);this.$PagesCoverVideoPreview7=function(q){if(this.state.offsetType===c("CoverVideoOffsetType").HORIZONTAL)this.$PagesCoverVideoPreview4=q.screenX;else if(this.state.offsetType===c("CoverVideoOffsetType").VERTICAL)this.$PagesCoverVideoPreview4=q.screenY;else k(0);this.$PagesCoverVideoPreview2=true}.bind(this);this.$PagesCoverVideoPreview8=function(q){__p&&__p();if(!this.$PagesCoverVideoPreview2)return;this.$PagesCoverVideoPreview4!==n||k(0);var r=0;if(this.state.offsetType===c("CoverVideoOffsetType").HORIZONTAL)r=q.screenX-this.$PagesCoverVideoPreview4;else if(this.state.offsetType===c("CoverVideoOffsetType").VERTICAL)r=q.screenY-this.$PagesCoverVideoPreview4;else k(0);var s=this.$PagesCoverVideoPreview1+r;if(s>0||s<this.state.minOffsetValue)return;this.$PagesCoverVideoPreview5=true;this.setState({offsetValue:s})}.bind(this);this.$PagesCoverVideoPreview9=function(q){this.$PagesCoverVideoPreview2=false;this.$PagesCoverVideoPreview4=n;this.$PagesCoverVideoPreview1=this.state.offsetValue}.bind(this);this.$PagesCoverVideoPreview10=function(q){this.$PagesCoverVideoPreview2=false;this.$PagesCoverVideoPreview4=-1;this.$PagesCoverVideoPreview1=this.state.offsetValue}.bind(this);this.$PagesCoverVideoPreview11=function(){var q=this.props,r=q.futureVideoID,s=q.pageID,t=q.isFromReposition;if(t&&s)c("PagesCoverVideoActionCreator").reloadCover(s);else if(r&&s)c("PagesCoverVideoActionCreator").cancelNewUploadingWithConfirmationDialog(s,r)}.bind(this);this.$PagesCoverVideoPreview12=function(){var q=this.props,r=q.futureVideoID,s=q.pageID;if(r&&s){var t=this.props,u=t.containerWidth,v=t.containerHeight;u&&v||k(0);c("PagesCoverVideoActionCreator").chooseThumbnail(r,s,this.state.offsetType,this.state.offsetValue,v,u)}else if(r&&s)c("PagesCoverVideoActionCreator").confirmPublishingVideo(s,r,this.state.offsetType,this.state.offsetValue,this.props.shouldCoverVideoLoop)}.bind(this);this.state={minOffsetValue:0,offsetType:c("CoverVideoOffsetType").VERTICAL,offsetValue:0,videoData:null,videoNewSize:0};this.$PagesCoverVideoPreview1=0;this.$PagesCoverVideoPreview2=false;this.$PagesCoverVideoPreview4=n;this.$PagesCoverVideoPreview5=false}o.prototype.componentDidMount=function(){__p&&__p();if(!this.props.futureVideoID)return;this.$PagesCoverVideoPreview3=true;c("CoverVideoUtil").fetchCoverVideoData(this.props.futureVideoID).then(function(p){if(!this.$PagesCoverVideoPreview3)return;var q=p.offsetValue,r=p.videoData;r||k(0);var s=this.$PagesCoverVideoPreview6(r),t=s.minOffsetValue,u=s.offsetType,v=s.videoNewSize;this.setState({minOffsetValue:t,offsetType:u,offsetValue:q||0,videoData:r,videoNewSize:v})}.bind(this)).done()};o.prototype.componentWillUnmount=function(){this.$PagesCoverVideoPreview3=false};o.prototype.$PagesCoverVideoPreview6=function(p){__p&&__p();var q=this.props,r=q.containerWidth,s=q.containerHeight;r&&s||k(0);var t=r/s,u=p.getAspectRatio(),v=null,w=null,x=null;if(u>t){v=c("CoverVideoOffsetType").HORIZONTAL;w=s;x=r-Math.floor(p.getOriginalWidth()*(s/p.getOriginalHeight()))}else{v=c("CoverVideoOffsetType").VERTICAL;w=r;x=s-Math.floor(p.getOriginalHeight()*(r/p.getOriginalWidth()))}return{minOffsetValue:x,offsetType:v,videoNewSize:w}};o.prototype.$PagesCoverVideoPreview13=function(){if(this.props.status!==c("CoverVideoStatus").PREVIEWING)return null;var p=j._("Cancel"),q=j._("Next"),r=!this.props.isParentLocationPage?null:j._("Your video will appear as the cover on this Page and in any other locations associated with this Page."),s=!this.props.isFromReposition?c("React").createElement("div",null,c("React").createElement("span",{className:"_2roz"},c("React").createElement(c("Image.react"),{src:h("115129")})),c("React").createElement("span",{className:"_2ro-"},c("PagesCoverVideoConstant").PREVIEW_TIP_FOR_CREATION,r)):c("React").createElement("div",null,c("React").createElement("span",{className:"_2roz"},c("React").createElement(c("Image.react"),{src:h("115129")})),c("React").createElement("span",{className:"_2ro-"},c("PagesCoverVideoConstant").PREVIEW_TIP_FOR_EDITING,r));return c("React").createElement(c("PagesCoverVideoPreviewActionBar.react"),{cancelButtonLabel:p,confirmButtonLabel:q,onCancelClick:this.$PagesCoverVideoPreview11,onConfirmClick:this.$PagesCoverVideoPreview12,leftElement:s})};o.prototype.$PagesCoverVideoPreview14=function(){return c("React").createElement(c("CenteredContainer.react"),{className:"_4fkc",fullHeight:true,horizontal:true,vertical:true},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"}))};o.prototype.render=function(){__p&&__p();if(!this.state.videoData)return this.$PagesCoverVideoPreview14();var p=this.props,q=p.containerWidth,r=p.containerHeight;q&&r||k(0);this.props.status===c("CoverVideoStatus").PREVIEWING||this.props.status===c("CoverVideoStatus").PUBLISHING||k(0);var s=this.state.videoData.getRawData().hd_src;if(!s)return null;var t=this.state.offsetType===c("CoverVideoOffsetType").HORIZONTAL?this.state.videoNewSize:null,u=this.state.offsetType===c("CoverVideoOffsetType").VERTICAL?this.state.videoNewSize:null,v=this.state.offsetType===c("CoverVideoOffsetType").VERTICAL?this.state.offsetValue:0,w=this.state.offsetType===c("CoverVideoOffsetType").HORIZONTAL?this.state.offsetValue:0;return c("React").createElement("div",{style:{cursor:"move",height:r,overflow:"hidden",position:"relative",width:q}},c("React").createElement("video",{autoPlay:true,height:t,loop:this.props.shouldCoverVideoLoop,onMouseDown:this.$PagesCoverVideoPreview7,onMouseLeave:this.$PagesCoverVideoPreview10,onMouseMove:this.$PagesCoverVideoPreview8,onMouseUp:this.$PagesCoverVideoPreview9,src:s,style:{position:"absolute",top:v,left:w},width:u}),c("React").createElement(c("PagesCoverVideoRepositionIndicator.react"),{shown:!this.$PagesCoverVideoPreview5}),this.$PagesCoverVideoPreview13())};f.exports=o}),null);
__d("PagesCoverVideoProgressOverlay.react",["cx","fbt","invariant","CoverVideoStatus","ProgressBar.react","React"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k=function k(l){if(l.status!==c("CoverVideoStatus").UPLOADING&&l.status!==c("CoverVideoStatus").ENCODING)return null;l.progress===0||l.progress||j(0);var m=null;if(l.status===c("CoverVideoStatus").UPLOADING)m=i._("VIDEO UPLOADING {percentage (0-100) of uploading progress}\u0025",[i.param("percentage (0-100) of uploading progress",l.progress)]);else if(l.status===c("CoverVideoStatus").ENCODING)m=i._("VIDEO ENCODING {percentage (0-100) of encoding progress}\u0025",[i.param("percentage (0-100) of encoding progress",l.progress)]);return c("React").createElement("div",{className:"_2grf"},c("React").createElement("div",{className:"_2grg"},c("React").createElement(c("ProgressBar.react"),{isRounded:true,size:"small",value:l.progress}),c("React").createElement("div",{className:"_2grh"},m)))};f.exports=k}),null);
__d("PagesCoverVideoThumbnailPicker.react",["cx","fbt","ix","CenteredContainer.react","CoverVideoOffsetType","CoverVideoUtil","FBToggleSwitch.react","Image.react","PagesCoverVideoActionCreator","PagesCoverVideoPreviewActionBar.react","React","XUICarouselAnimator","XUICarousel.react","XUICarouselArrow.react","XUICarouselItem.react","XUISpinner.react","emptyFunction","nullthrows"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n){__p&&__p();l.constructor.call(this,n);this.$PagesCoverVideoThumbnailPicker4=function(){var o=this.state.thumbnails.length;if(o===0)return;var p=(this.state.currentThumbnailIndex-1+o)%o;this.setState({currentThumbnailIndex:p});this.$PagesCoverVideoThumbnailPicker1&&this.$PagesCoverVideoThumbnailPicker1.prev()}.bind(this);this.$PagesCoverVideoThumbnailPicker5=function(){var o=this.state.thumbnails.length;if(o===0)return;var p=(this.state.currentThumbnailIndex+1+o)%o;this.setState({currentThumbnailIndex:p});this.$PagesCoverVideoThumbnailPicker1&&this.$PagesCoverVideoThumbnailPicker1.next()}.bind(this);this.$PagesCoverVideoThumbnailPicker8=function(){var o=this.props,p=o.futureVideoID,q=o.pageID;c("PagesCoverVideoActionCreator").editCoverVideo(c("nullthrows")(q),c("nullthrows")(p))}.bind(this);this.$PagesCoverVideoThumbnailPicker9=function(){var o=this.props,p=o.futureVideoID,q=o.pageID,r=o.offsetType,s=o.offsetValue,t=this.state,u=t.thumbnails,v=t.currentThumbnailIndex,w=t.shouldCoverVideoLoop,x=u[v].id;c("PagesCoverVideoActionCreator").confirmPublishingVideo(c("nullthrows")(q),c("nullthrows")(p),c("nullthrows")(r),c("nullthrows")(s),c("nullthrows")(w),x)}.bind(this);this.$PagesCoverVideoThumbnailPicker10=function(){var o=this.state.shouldCoverVideoLoop;this.setState({shouldCoverVideoLoop:!o})}.bind(this);this.$PagesCoverVideoThumbnailPicker2()}m.prototype.$PagesCoverVideoThumbnailPicker2=function(){this.state={thumbnails:[],currentThumbnailIndex:0,animator:new(c("XUICarouselAnimator"))({type:"horizontal"}),shouldCoverVideoLoop:this.props.shouldCoverVideoLoop}};m.prototype.componentWillMount=function(){c("CoverVideoUtil").fetchCoverVideoData(c("nullthrows")(this.props.futureVideoID),true).then(function(n){return this.setState({thumbnails:n.thumbnails})}.bind(this)).done()};m.prototype.$PagesCoverVideoThumbnailPicker3=function(){return c("React").createElement(c("CenteredContainer.react"),{className:"_yd2",fullHeight:true,horizontal:true,vertical:true},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"}))};m.prototype.$PagesCoverVideoThumbnailPicker6=function(){if(this.state.thumbnails.length===0)return null;return c("React").createElement("div",{className:"_4hmf"},i._({"*":"{the index of the current thumbnail}\/{the total number of thumbnails} thumbnails","_1":"{the index of the current thumbnail}\/{the total number of thumbnails} thumbnail"},[i.param("the index of the current thumbnail",this.state.currentThumbnailIndex+1),i.param("the total number of thumbnails",this.state.thumbnails.length),i.plural(this.state.thumbnails.length)]))};m.prototype.$PagesCoverVideoThumbnailPicker7=function(){__p&&__p();if(this.state.thumbnails.length===0)return null;var n=null,o=null,p=0,q=0;if(this.props.offsetType===c("CoverVideoOffsetType").VERTICAL){o=this.props.containerWidth;p=this.props.offsetValue}else{n=this.props.containerHeight;q=this.props.offsetValue}var r=this.state.thumbnails.map(function(u){return c("React").createElement(c("XUICarouselItem.react"),{key:u.id},c("React").createElement("div",{style:{height:this.props.containerHeight,position:"relative",textAlign:"center",width:this.props.containerWidth}},c("React").createElement(c("Image.react"),{style:{left:q,position:"absolute",top:p},height:n,src:u.url,width:o})))}.bind(this)),s=c("React").createElement(c("XUICarouselArrow.react"),{onClick:this.$PagesCoverVideoThumbnailPicker4},c("React").createElement(c("Image.react"),{alt:i._("Previous"),src:j("101565")})),t=c("React").createElement(c("XUICarouselArrow.react"),{onClick:this.$PagesCoverVideoThumbnailPicker5},c("React").createElement(c("Image.react"),{alt:i._("Next"),src:j("101566")}));return c("React").createElement(c("XUICarousel.react"),{animator:this.state.animator,arrows:[s,t],initialAutoplay:false,initialIndex:0,onItemClick:c("emptyFunction"),ref:function(u){return this.$PagesCoverVideoThumbnailPicker1=u}.bind(this),resizeViewport:"fixed",style:{height:this.props.containerHeight,width:this.props.containerWidth,position:"absolute"},wrapAround:true},r)};m.prototype.$PagesCoverVideoThumbnailPicker11=function(){var n=i._("Back"),o=i._("Publish"),p=c("React").createElement("div",{className:"_d-g"},c("React").createElement("span",{className:"_d-h"},c("React").createElement(c("FBToggleSwitch.react"),{checked:this.state.shouldCoverVideoLoop,onToggle:this.$PagesCoverVideoThumbnailPicker10})),c("React").createElement("span",{className:"_d-i"},i._("Automatically replay video in a loop")));return c("React").createElement(c("PagesCoverVideoPreviewActionBar.react"),{cancelButtonLabel:n,confirmButtonLabel:o,onCancelClick:this.$PagesCoverVideoThumbnailPicker8,onConfirmClick:this.$PagesCoverVideoThumbnailPicker9,leftElement:p})};m.prototype.render=function(){if(this.state.thumbnails.length===0)return this.$PagesCoverVideoThumbnailPicker3();return c("React").createElement("div",{className:"_5_lp",style:{height:this.props.containerHeight,width:this.props.containerWidth}},this.$PagesCoverVideoThumbnailPicker6(),this.$PagesCoverVideoThumbnailPicker7(),this.$PagesCoverVideoThumbnailPicker11())};f.exports=m}),null);
__d("PagesCoverVideoCreator.react",["cx","PagesCoverVideoProgressOverlay.react","PagesCoverVideoPreview.react","PagesCoverVideoThumbnailPicker.react","CoverVideoStatus","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function i(j){__p&&__p();var k=null;switch(j.status){case c("CoverVideoStatus").UPLOADING:case c("CoverVideoStatus").ENCODING:k=c("React").createElement(c("PagesCoverVideoProgressOverlay.react"),j);break;case c("CoverVideoStatus").PREVIEWING:k=c("React").createElement(c("PagesCoverVideoPreview.react"),j);break;case c("CoverVideoStatus").CHOOSING_THUMBNAIL:k=c("React").createElement(c("PagesCoverVideoThumbnailPicker.react"),j);break;default:return null}var l=j.containerWidth,m=j.containerHeight;if(l!=null&&m!=null)return c("React").createElement("div",{style:{height:m,position:"relative",width:l}},k);return c("React").createElement("div",{className:"_5-qd"},k)};f.exports=i}),null);
__d("PagesFutureCoverComponent.react",["cx","PagesCoverPhoto.react","PagesCoverSlideshow.react","PagesCoverType","PagesCoverVideoCreator.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j){__p&&__p();if(j.coreData.currentCoverType===c("PagesCoverType").LOADING||!j.coreData.futureCoverType)return null;var k=null;switch(j.coreData.futureCoverType){case c("PagesCoverType").COVER_PHOTO:k=c("React").createElement(c("PagesCoverPhoto.react"),j.coverData.cover_photo);break;case c("PagesCoverType").COVER_VIDEO:k=c("React").createElement(c("PagesCoverVideoCreator.react"),j.coverData.cover_video);break;case c("PagesCoverType").COVER_SLIDESHOW:var l=j.coverData.cover_slideshow,m=l.currentIndex,n=l.isContentOptimizerOn,o=l.isCoverSlideshowEnabled,p=l.isEditMode,q=l.items,r=l.maxNumberOfPhotosInSlideshow,s=l.nuxTourSteps,t=l.pageID,u=l.shouldShowLoadingScreenOnPickerPlaceholder,v=l.shouldShowNUXTour,w=l.showLoadingScreen,x=l.thumbnailHeight,y=l.thumbnailWidth,z=l.shouldShowMenuNux;k=c("React").createElement(c("PagesCoverSlideshow.react"),{currentIndex:m,hasPendingChanges:true,isContentOptimizerOn:n,isCoverSlideshowEnabled:o,isEditMode:p,items:q,maxNumberOfPhotosInSlideshow:r,nuxTourSteps:s,pageID:t,shouldShowLoadingScreenOnPickerPlaceholder:u,shouldShowMenuNux:z,shouldShowNUXTour:v,showLoadingScreen:w,thumbnailHeight:x,thumbnailWidth:y});break}if(!k)return null;return c("React").createElement("div",{className:"_32bq"},k)}f.exports=i}),null);
__d("PagesLiveCoverVideoStore",["FluxReduceStore","immutable","PagesCoverAction","PagesCoverDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l={videoID:null,canEnable:false,isEnabled:false,renderedWidth:812};h=babelHelpers.inherits(m,c("immutable").Record(l));i=h&&h.prototype;function m(){h.apply(this,arguments)}j=babelHelpers.inherits(n,c("FluxReduceStore"));k=j&&j.prototype;n.prototype.getInitialState=function(){return new m()};n.prototype.reduce=function(o,p){switch(p.type){case c("PagesCoverAction").NEW_COVER_DATA:var q=p.data.coverData.cover_live_video;o=new m(q);return o;case c("PagesCoverAction").LIVE_VIDEO_ENABLE:o=o.set("isEnabled",true);return o;case c("PagesCoverAction").LIVE_VIDEO_DISABLE:o=o.set("isEnabled",false);return o;default:return o}};function n(){j.apply(this,arguments)}f.exports=new n(c("PagesCoverDispatcher"))}),null);
__d("PagesCoverContainer.react",["cx","CenteredContainer.react","FluxContainer","PagesCoverAction","PagesCoverCoreStore","PagesCoverDispatcher","PagesCoverEditMenu.react","PagesCoverPhotoStore","PagesCoverSlideshowStore","PagesCoverTrailerStore","PagesCoverVideoStore","PagesCurrentCoverComponent.react","PagesFutureCoverComponent.react","PagesLiveCoverVideoStore","React","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;l.getStores=function(){return[c("PagesCoverCoreStore"),c("PagesLiveCoverVideoStore"),c("PagesCoverPhotoStore"),c("PagesCoverSlideshowStore"),c("PagesCoverTrailerStore"),c("PagesCoverVideoStore")]};l.calculateState=function(){return{coreData:c("PagesCoverCoreStore").getState(),coverData:{cover_live_video:c("PagesLiveCoverVideoStore").getState(),cover_photo:c("PagesCoverPhotoStore").getState(),cover_slideshow:c("PagesCoverSlideshowStore").getCurrentState(),cover_trailer:c("PagesCoverTrailerStore").getState(),cover_video:c("PagesCoverVideoStore").getState()}}};l.prototype.componentWillMount=function(){c("PagesCoverDispatcher").explicitlyRegisterStores([c("PagesCoverCoreStore"),c("PagesLiveCoverVideoStore"),c("PagesCoverPhotoStore"),c("PagesCoverVideoStore"),c("PagesCoverTrailerStore"),c("PagesCoverSlideshowStore")])};l.prototype.componentDidMount=function(){c("PagesCoverDispatcher").dispatch({type:c("PagesCoverAction").NEW_COVER_DATA,data:this.props})};l.prototype.render=function(){if(!this.state.coreData.hasCoverSet&&!this.state.coreData.canViewerEditProfile)return null;var m=!this.state.coreData.shouldShowLoadingOverlay?null:c("React").createElement("div",{className:"_b1w"},c("React").createElement(c("CenteredContainer.react"),{fullHeight:true,horizontal:true,vertical:true},c("React").createElement(c("XUISpinner.react"),{background:"light",size:"large"})));return c("React").createElement("div",{className:"_5_yy"},c("React").createElement(c("PagesCurrentCoverComponent.react"),{coverData:this.state.coverData,currentCoverType:this.state.coreData.currentCoverType,pageID:this.props.pageID}),c("React").createElement(c("PagesFutureCoverComponent.react"),{coreData:this.state.coreData,coverData:this.state.coverData,pageID:this.props.pageID}),c("React").createElement(c("PagesCoverEditMenu.react"),babelHelpers["extends"]({pageID:this.props.pageID},this.state)),m)};function l(){i.apply(this,arguments)}l.propTypes={pageID:k.string.isRequired};f.exports=c("FluxContainer").create(l)}),null);
__d("PagesProfilePictureLink.react",["cx","fbt","Link.react","React","VideoData","XPhotoPermalinkController","XVideoPermalinkController"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=function j(k){var l=k.children,m=k.loading,n=k.pageID,o=k.photoID,p=k.videoData,q=p!==null?new(c("VideoData"))(p).getVideoID():null;if(o===null&&q===null||m)return c("React").Children.only(l);var r=null;if(q!==null)r=c("XVideoPermalinkController").getURIBuilder().setString("vanity",n).setInt("video_id",q).getURI();else r=c("XPhotoPermalinkController").getURIBuilder().setInt("photo_id",o).setString("vanity",n).getURI();return c("React").createElement(c("Link.react"),{"aria-label":i._("Profile picture"),className:"_2dgj",href:r,rel:"theater"},k.children)};f.exports=j}),null);
__d("PagesProfilePicture.react",["cx","invariant","Image.react","PagesCoverType","PagesProfilePictureLink.react","ProfileHeaderSpinner.react","React","VideoData"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:"_qa1"},c("React").createElement(c("PagesProfilePictureLink.react"),this.props,this.$PagesProfilePicture1()),c("React").createElement(c("ProfileHeaderSpinner.react"),{shown:this.props.loading}),this.$PagesProfilePicture2())};l.prototype.$PagesProfilePicture1=function(){if(this.props.videoData&&this.props.currentCoverType!==c("PagesCoverType").COVER_VIDEO){var m=new(c("VideoData"))(this.props.videoData);return c("React").createElement("video",{autoPlay:true,className:"_4jhq"+(this.props.loading?" _179t":""),height:this.props.size,loop:true,muted:true,poster:this.props.uri,src:m.getPlayableSrcSD(),width:this.props.size})}return c("React").createElement(c("Image.react"),{className:"_4jhq"+(this.props.loading?" _179t":""),height:this.props.size,src:this.props.uri,width:this.props.size})};l.prototype.$PagesProfilePicture2=function(){if(!this.props.editable||this.props.loading)return null;var m=this.props.modules.PagesProfilePictureEditMenu;m!=null||i(0);return c("React").createElement(m,this.props)};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("PagesProfilePictureStore",["FluxReduceStore","PagesCoverType","PagesHeaderDispatcher","PagesHeaderPayloadType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return{currentCoverType:c("PagesCoverType").COVER_PHOTO,editable:false,loading:false,modules:{PagesProfilePictureEditMenu:null},pageHasPhotos:false,pageID:"0",photoID:null,photoIsSquare:true,size:0,uri:null,videoData:null}};j.prototype.reduce=function(k,l){switch(l.type){case c("PagesHeaderPayloadType").PROFILE_PICTURE_DATA:return babelHelpers["extends"]({},k,l.data)}return k};function j(){h.apply(this,arguments)}f.exports=new j(c("PagesHeaderDispatcher"))}),null);
__d("PagesProfilePictureContainer.react",["FluxContainer","PagesHeaderDispatcher","PagesHeaderPayloadType","PagesProfilePicture.react","PagesProfilePictureStore","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getStores=function(){return[c("PagesProfilePictureStore")]};j.calculateState=function(){return c("PagesProfilePictureStore").getState()};j.prototype.componentWillMount=function(){c("PagesHeaderDispatcher").explicitlyRegisterStore(c("PagesProfilePictureStore"));c("PagesHeaderDispatcher").dispatch({data:this.props,type:c("PagesHeaderPayloadType").PROFILE_PICTURE_DATA})};j.prototype.render=function(){return c("React").createElement(c("PagesProfilePicture.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j)}),null);
__d("PagesUsername.react",["ix","cx","fbt","BootloadedComponent.react","ChatOpenTabEventLogger","FantaTabActions","Image.react","JSResource","Link.react","LoadingDialog.react","MercuryIDs","PageContentTabMessageOwnerDialog","React","TooltipLink.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;function m(n){l.constructor.call(this,n);this.state={showDialog:false}}m.prototype.render=function(){__p&&__p();var n=this.props.username;if(n!=null)return this.props.isMessagingEnabled?c("React").createElement(c("TooltipLink.react"),{className:"_2wmb",href:"#",onClick:this.$PagesUsername1(),position:"below",tooltip:this.$PagesUsername2(n)},c("React").createElement("span",null,c("React").createElement(c("Image.react"),{className:"_3mj1",src:h("123858")}),"@"+n)):c("React").createElement(c("TooltipLink.react"),{className:"_2wmb",href:"#",position:"below",tooltip:this.$PagesUsername2(n)},"@"+n);if(!this.props.editable)return null;var o=null;if(this.state.showDialog)o=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("PageUsernameEditDialog.react").__setRef("PagesUsername.react"),bootloadPlaceholder:c("React").createElement(c("LoadingDialog.react"),null),existingUsername:n,pageID:this.props.pageID,pageName:this.props.name,profilePictureSrc:this.props.usernameEditDialogProfilePictureURI,onDialogToggle:function(p){this.setState({showDialog:p})}.bind(this)});return c("React").createElement("div",null,c("React").createElement(c("Link.react"),{className:"_2wmb",onClick:function(){this.setState({showDialog:true})}.bind(this)},j._("Create Page \u0040username")),o)};m.prototype.$PagesUsername2=function(n){if(this.props.editable&&!this.props.isMessagingEnabled)return j._("People can search for {username of a Page} to find your Page easily. You can change your \u0040username in the Page Info section.",[j.param("username of a Page","@"+n)]);return this.props.isMessagingEnabled&&this.props.editable?j._("Send {username of a Page} a message.",[j.param("username of a Page","@"+n)]):j._("Search for {username of a Page} on Facebook or in Messenger to find this Page easily.",[j.param("username of a Page","@"+n)])};m.prototype.$PagesUsername1=function(){__p&&__p();var n=this.props.isMessagingEnabled&&!this.props.showModal,o=this.props.isMessagingEnabled&&this.props.showModal;if(o)return function(event){c("PageContentTabMessageOwnerDialog").show(this.props.name,this.props.pageID)}.bind(this);else if(n)return function(event){var p=c("MercuryIDs").getThreadIDFromUserID(this.props.pageID);c("FantaTabActions").openTab(p);c("ChatOpenTabEventLogger").logUserClickOpen("page_username",this.props.pageID)}.bind(this);return null};f.exports=m}),null);
__d("XControllerWithPageTokenURIUpdater",[],(function a(b,c,d,e,f,g){var h={updateURI:function i(j){window.history&&window.history.replaceState(window.history.state,null,j)}};f.exports=h}),null);
__d("EntityPageLayoutDockingElement",["DockingElement","EntityPageDockingElementController"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("DockingElement"));i=h&&h.prototype;j.prototype.register=function(){c("EntityPageDockingElementController").register(this.__queryDOM.bind(this),this.__updateWithCache.bind(this))};function j(){h.apply(this,arguments)}f.exports=j}),null);